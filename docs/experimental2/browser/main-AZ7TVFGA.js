var VF=Object.defineProperty,jF=Object.defineProperties;var HF=Object.getOwnPropertyDescriptors;var mh=Object.getOwnPropertySymbols;var GC=Object.prototype.hasOwnProperty,WC=Object.prototype.propertyIsEnumerable;var $C=(t,n,e)=>n in t?VF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,W=(t,n)=>{for(var e in n||={})GC.call(n,e)&&$C(t,e,n[e]);if(mh)for(var e of mh(n))WC.call(n,e)&&$C(t,e,n[e]);return t},Ie=(t,n)=>jF(t,HF(n));var pv=(t,n)=>{var e={};for(var i in t)GC.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&mh)for(var i of mh(t))n.indexOf(i)<0&&WC.call(t,i)&&(e[i]=t[i]);return e};var qF=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var ii=(t,n,e)=>new Promise((i,r)=>{var o=l=>{try{s(e.next(l))}catch(c){r(c)}},a=l=>{try{s(e.throw(l))}catch(c){r(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(t,n)).next())});var ET=qF((ice,IV)=>{IV.exports={name:"immortalityidle",version:"2.0.0",scripts:{ng:"ng",start:"ng serve",prebuild:"npm --no-git-tag-version version patch",build:"ng build","build-experimental":"ng build --output-path='docs/experimental' --base-href='/experimental/'","build-experimental2":"ng build --output-path='docs/experimental2' --base-href='/experimental2/browser/'",watch:"ng build --watch --configuration development",test:"ng test",lint:"ng lint --fix"},private:!0,dependencies:{"@angular/animations":"^21.0.0","@angular/cdk":"^21.0.0","@angular/common":"^21.0.0","@angular/compiler":"^21.0.0","@angular/core":"^21.0.0","@angular/forms":"^21.0.0","@angular/material":"^21.0.0","@angular/platform-browser":"^21.0.0","@angular/platform-browser-dynamic":"^21.0.0","@angular/router":"^21.0.0","@katoid/angular-grid-layout":"^3.1.0","embla-carousel":"^8.6.0","eslint-config-prettier":"^8.6.0","eslint-plugin-prettier":"^4.2.1",prettier:"^2.8.4","prettier-eslint":"^15.0.1",rxjs:"~7.5.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular-eslint/builder":"18.0.0-alpha.16","@angular-eslint/eslint-plugin":"18.0.0-alpha.16","@angular-eslint/eslint-plugin-template":"18.0.0-alpha.16","@angular-eslint/schematics":"18.0.0-alpha.16","@angular-eslint/template-parser":"18.0.0-alpha.16","@angular/build":"^21.0.0","@angular/cli":"^21.0.0","@angular/compiler-cli":"^21.0.0","@types/jasmine":"~3.10.0","@types/node":"^12.20.55","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0",eslint:"^8.57.0","jasmine-core":"~4.0.0",less:"^4.2.0",memfs:"~3.4.13",typescript:"~5.9.3"}}});var en=null,ph=!1,yv=1,UF=null,Hi=Symbol("SIGNAL");function ze(t){let n=en;return en=t,n}function gh(){return en}var Ys={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ks(t){if(ph)throw new Error("");if(en===null)return;en.consumerOnSignalRead(t);let n=en.producersTail;if(n!==void 0&&n.producer===t)return;let e,i=en.recomputing;if(i&&(e=n!==void 0?n.nextProducer:en.producers,e!==void 0&&e.producer===t)){en.producersTail=e,e.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===en&&(!i||$F(r,en)))return;let o=Xs(en),a={producer:t,consumer:en,nextProducer:e,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};en.producersTail=a,n!==void 0?n.nextProducer=a:en.producers=a,o&&ZC(t,a)}function YC(){yv++}function bv(t){if(!(Xs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yv)){if(!t.producerMustRecompute(t)&&!Zs(t)){vv(t);return}t.producerRecomputeValue(t),vv(t)}}function _v(t){if(t.consumers===void 0)return;let n=ph;ph=!0;try{for(let e=t.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||zF(i)}}finally{ph=n}}function Sv(){return en?.consumerAllowSignalWrites!==!1}function zF(t){t.dirty=!0,_v(t),t.consumerMarkedDirty?.(t)}function vv(t){t.dirty=!1,t.lastCleanEpoch=yv}function Oa(t){return t&&KC(t),ze(t)}function KC(t){t.producersTail=void 0,t.recomputing=!0}function Qs(t,n){ze(n),t&&QC(t)}function QC(t){t.recomputing=!1;let n=t.producersTail,e=n!==void 0?n.nextProducer:t.producers;if(e!==void 0){if(Xs(t))do e=wv(e);while(e!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function Zs(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let e=n.producer,i=n.lastReadVersion;if(i!==e.version||(bv(e),i!==e.version))return!0}return!1}function Wo(t){if(Xs(t)){let n=t.producers;for(;n!==void 0;)n=wv(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function ZC(t,n){let e=t.consumersTail,i=Xs(t);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!i)for(let r=t.producers;r!==void 0;r=r.nextProducer)ZC(r.producer,r)}function wv(t){let n=t.producer,e=t.nextProducer,i=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:n.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(n.consumers=i,!Xs(n)){let o=n.producers;for(;o!==void 0;)o=wv(o)}return e}function Xs(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Cv(t){UF?.(t)}function $F(t,n){let e=n.producersTail;if(e!==void 0){let i=n.producers;do{if(i===t)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function kv(t,n){return Object.is(t,n)}function Hc(t,n){let e=Object.create(GF);e.computation=t,n!==void 0&&(e.equal=n);let i=()=>{if(bv(e),Ks(e),e.value===fh)throw e.error;return e.value};return i[Hi]=e,Cv(e),i}var fv=Symbol("UNSET"),gv=Symbol("COMPUTING"),fh=Symbol("ERRORED"),GF=Ie(W({},Ys),{value:fv,dirty:!0,error:null,equal:kv,kind:"computed",producerMustRecompute(t){return t.value===fv||t.value===gv},producerRecomputeValue(t){if(t.value===gv)throw new Error("");let n=t.value;t.value=gv;let e=Oa(t),i,r=!1;try{i=t.computation(),ze(null),r=n!==fv&&n!==fh&&i!==fh&&t.equal(n,i)}catch(o){i=fh,t.error=o}finally{Qs(t,e)}if(r){t.value=n;return}t.value=i,t.version++}});function WF(){throw new Error}var XC=WF;function JC(t){XC(t)}function Ev(t){XC=t}var YF=null;function xv(t,n){let e=Object.create(Uc);e.value=t,n!==void 0&&(e.equal=n);let i=()=>ek(e);return i[Hi]=e,Cv(e),[i,a=>qc(e,a),a=>tk(e,a)]}function ek(t){return Ks(t),t.value}function qc(t,n){Sv()||JC(t),t.equal(t.value,n)||(t.value=n,KF(t))}function tk(t,n){Sv()||JC(t),qc(t,n(t.value))}var Uc=Ie(W({},Ys),{equal:kv,value:void 0,kind:"signal"});function KF(t){t.version++,YC(),_v(t),YF?.(t)}function Tv(t){let n=ze(null);try{return t()}finally{ze(n)}}var Dv=Ie(W({},Ys),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Mv(t){if(t.dirty=!1,t.version>0&&!Zs(t))return;t.version++;let n=Oa(t);try{t.cleanup(),t.fn()}finally{Qs(t,n)}}function $e(t){return typeof t=="function"}function Js(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var vh=Js(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function yo(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var qe=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if($e(i))try{i()}catch(o){n=o instanceof vh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ik(o)}catch(a){n=n??[],a instanceof vh?n=[...n,...a.errors]:n.push(a)}}if(n)throw new vh(n)}}add(n){var e;if(n&&n!==this)if(this.closed)ik(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&yo(e,n)}remove(n){let{_finalizers:e}=this;e&&yo(e,n),n instanceof t&&n._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var Iv=qe.EMPTY;function yh(t){return t instanceof qe||t&&"closed"in t&&$e(t.remove)&&$e(t.add)&&$e(t.unsubscribe)}function ik(t){$e(t)?t():t.unsubscribe()}var hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var el={setTimeout(t,n,...e){let{delegate:i}=el;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=el;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bh(t){el.setTimeout(()=>{let{onUnhandledError:n}=hr;if(n)n(t);else throw t})}function La(){}var nk=Av("C",void 0,void 0);function rk(t){return Av("E",void 0,t)}function ok(t){return Av("N",t,void 0)}function Av(t,n,e){return{kind:t,value:n,error:e}}var Na=null;function tl(t){if(hr.useDeprecatedSynchronousErrorHandling){let n=!Na;if(n&&(Na={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Na;if(Na=null,e)throw i}}else t()}function ak(t){hr.useDeprecatedSynchronousErrorHandling&&Na&&(Na.errorThrown=!0,Na.error=t)}var Ba=class extends qe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,yh(n)&&n.add(this)):this.destination=XF}static create(n,e,i){return new Yo(n,e,i)}next(n){this.isStopped?Rv(ok(n),this):this._next(n)}error(n){this.isStopped?Rv(rk(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Rv(nk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QF=Function.prototype.bind;function Pv(t,n){return QF.call(t,n)}var Fv=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){_h(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){_h(i)}else _h(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){_h(e)}}},Yo=class extends Ba{constructor(n,e,i){super();let r;if($e(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&hr.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Pv(n.next,o),error:n.error&&Pv(n.error,o),complete:n.complete&&Pv(n.complete,o)}):r=n}this.destination=new Fv(r)}};function _h(t){hr.useDeprecatedSynchronousErrorHandling?ak(t):bh(t)}function ZF(t){throw t}function Rv(t,n){let{onStoppedNotification:e}=hr;e&&el.setTimeout(()=>e(t,n))}var XF={closed:!0,next:La,error:ZF,complete:La};var il=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bn(t){return t}function Ov(...t){return Lv(t)}function Lv(t){return t.length===0?Bn:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var Oe=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=eO(e)?e:new Yo(e,i,r);return tl(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=sk(i),new i((r,o)=>{let a=new Yo({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[il](){return this}pipe(...e){return Lv(e)(this)}toPromise(e){return e=sk(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=n=>new t(n),t})();function sk(t){var n;return(n=t??hr.Promise)!==null&&n!==void 0?n:Promise}function JF(t){return t&&$e(t.next)&&$e(t.error)&&$e(t.complete)}function eO(t){return t&&t instanceof Ba||JF(t)&&yh(t)}function tO(t){return $e(t?.lift)}function Ye(t){return n=>{if(tO(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(t,n,e,i,r){return new Nv(t,n,e,i,r)}var Nv=class extends Ba{constructor(n,e,i,r,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){n.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var nl={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=nl;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=n(o=>{e=void 0,t(o)});return new qe(()=>e?.(r))},requestAnimationFrame(...t){let{delegate:n}=nl;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=nl;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var lk=Js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Sh(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new lk}next(e){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Iv:(this.currentObservers=null,o.push(e),new qe(()=>{this.currentObservers=null,yo(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new Oe;return e.source=this,e}}return t.create=(n,e)=>new Sh(n,e),t})(),Sh=class extends Z{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Iv}};var Zt=class extends Z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var zc={now(){return(zc.delegate||Date).now()},delegate:void 0};var Ko=class extends Z{constructor(n=1/0,e=1/0,i=zc){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(n),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!n.closed;a+=i?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}};var wh=class extends qe{constructor(n,e){super()}schedule(n,e=0){return this}};var $c={setInterval(t,n,...e){let{delegate:i}=$c;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=$c;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var rl=class extends wh{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;let i=this.id,r=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,i=0){return $c.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;$c.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,yo(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var ol=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};ol.now=zc.now;var al=class extends ol{constructor(n,e=ol.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var mr=new al(rl),ck=mr;var Ch=class extends rl{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=nl.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(i!=null&&i>0||i==null&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(r=>r.id===e)||(nl.cancelAnimationFrame(e),n._scheduled=void 0)}};var kh=class extends al{flush(n){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var sl=new kh(Ch);var qi=new Oe(t=>t.complete());function Eh(t){return t&&$e(t.schedule)}function Bv(t){return t[t.length-1]}function xh(t){return $e(Bv(t))?t.pop():void 0}function Yn(t){return Eh(Bv(t))?t.pop():void 0}function dk(t,n){return typeof Bv(t)=="number"?t.pop():n}function hk(t,n,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(d){try{c(i.next(d))}catch(u){a(u)}}function l(d){try{c(i.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((i=i.apply(t,n||[])).next())})}function uk(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Va(t){return this instanceof Va?(this.v=t,this):new Va(t)}function mk(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(y){return function(g){return Promise.resolve(g).then(y,u)}}function s(y,g){i[y]&&(r[y]=function(S){return new Promise(function(P,M){o.push([y,S,P,M])>1||l(y,S)})},g&&(r[y]=g(r[y])))}function l(y,g){try{c(i[y](g))}catch(S){v(o[0][3],S)}}function c(y){y.value instanceof Va?Promise.resolve(y.value.v).then(d,u):v(o[0][2],y)}function d(y){l("next",y)}function u(y){l("throw",y)}function v(y,g){y(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function pk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof uk=="function"?uk(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var ll=t=>t&&typeof t.length=="number"&&typeof t!="function";function Th(t){return $e(t?.then)}function Dh(t){return $e(t[il])}function Mh(t){return Symbol.asyncIterator&&$e(t?.[Symbol.asyncIterator])}function Ih(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ah=iO();function Ph(t){return $e(t?.[Ah])}function Rh(t){return mk(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Va(e.read());if(r)return yield Va(void 0);yield yield Va(i)}}finally{e.releaseLock()}})}function Fh(t){return $e(t?.getReader)}function Ft(t){if(t instanceof Oe)return t;if(t!=null){if(Dh(t))return nO(t);if(ll(t))return rO(t);if(Th(t))return oO(t);if(Mh(t))return fk(t);if(Ph(t))return aO(t);if(Fh(t))return sO(t)}throw Ih(t)}function nO(t){return new Oe(n=>{let e=t[il]();if($e(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rO(t){return new Oe(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function oO(t){return new Oe(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,bh)})}function aO(t){return new Oe(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function fk(t){return new Oe(n=>{lO(t,n).catch(e=>n.error(e))})}function sO(t){return fk(Rh(t))}function lO(t,n){var e,i,r,o;return hk(this,void 0,void 0,function*(){try{for(e=pk(t);i=yield e.next(),!i.done;){let a=i.value;if(n.next(a),n.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Qi(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Oh(t,n=0){return Ye((e,i)=>{e.subscribe(Ke(i,r=>Qi(i,t,()=>i.next(r),n),()=>Qi(i,t,()=>i.complete(),n),r=>Qi(i,t,()=>i.error(r),n)))})}function Lh(t,n=0){return Ye((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function gk(t,n){return Ft(t).pipe(Lh(n),Oh(n))}function vk(t,n){return Ft(t).pipe(Lh(n),Oh(n))}function yk(t,n){return new Oe(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function bk(t,n){return new Oe(e=>{let i;return Qi(e,n,()=>{i=t[Ah](),Qi(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>$e(i?.return)&&i.return()})}function Nh(t,n){if(!t)throw new Error("Iterable cannot be null");return new Oe(e=>{Qi(e,n,()=>{let i=t[Symbol.asyncIterator]();Qi(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function _k(t,n){return Nh(Rh(t),n)}function Sk(t,n){if(t!=null){if(Dh(t))return gk(t,n);if(ll(t))return yk(t,n);if(Th(t))return vk(t,n);if(Mh(t))return Nh(t,n);if(Ph(t))return bk(t,n);if(Fh(t))return _k(t,n)}throw Ih(t)}function Ht(t,n){return n?Sk(t,n):Ft(t)}function Le(...t){let n=Yn(t);return Ht(t,n)}function Gc(t,n){let e=$e(t)?t:()=>t,i=r=>r.error(e());return new Oe(n?r=>n.schedule(i,0,r):i)}function Wc(t){return!!t&&(t instanceof Oe||$e(t.lift)&&$e(t.subscribe))}var ja=Js(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wk(t){return t instanceof Date&&!isNaN(t)}function Se(t,n){return Ye((e,i)=>{let r=0;e.subscribe(Ke(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:cO}=Array;function dO(t,n){return cO(n)?t(...n):t(n)}function cl(t){return Se(n=>dO(t,n))}var{isArray:uO}=Array,{getPrototypeOf:hO,prototype:mO,keys:pO}=Object;function Bh(t){if(t.length===1){let n=t[0];if(uO(n))return{args:n,keys:null};if(fO(n)){let e=pO(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function fO(t){return t&&typeof t=="object"&&hO(t)===mO}function Vh(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Qo(...t){let n=Yn(t),e=xh(t),{args:i,keys:r}=Bh(t);if(i.length===0)return Ht([],n);let o=new Oe(gO(i,n,r?a=>Vh(r,a):Bn));return e?o.pipe(cl(e)):o}function gO(t,n,e=Bn){return i=>{Ck(n,()=>{let{length:r}=t,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)Ck(n,()=>{let c=Ht(t[l],n),d=!1;c.subscribe(Ke(i,u=>{o[l]=u,d||(d=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function Ck(t,n,e){t?Qi(e,t,n):n()}function kk(t,n,e,i,r,o,a,s){let l=[],c=0,d=0,u=!1,v=()=>{u&&!l.length&&!c&&n.complete()},y=S=>c<i?g(S):l.push(S),g=S=>{o&&n.next(S),c++;let P=!1;Ft(e(S,d++)).subscribe(Ke(n,M=>{r?.(M),o?y(M):n.next(M)},()=>{P=!0},void 0,()=>{if(P)try{for(c--;l.length&&c<i;){let M=l.shift();a?Qi(n,a,()=>g(M)):g(M)}v()}catch(M){n.error(M)}}))};return t.subscribe(Ke(n,y,()=>{u=!0,v()})),()=>{s?.()}}function Li(t,n,e=1/0){return $e(n)?Li((i,r)=>Se((o,a)=>n(i,o,r,a))(Ft(t(i,r))),e):(typeof n=="number"&&(e=n),Ye((i,r)=>kk(i,r,t,e)))}function Zo(t=1/0){return Li(Bn,t)}function Ek(){return Zo(1)}function Xo(...t){return Ek()(Ht(t,Yn(t)))}function Vn(t){return new Oe(n=>{Ft(t()).subscribe(n)})}function Yc(...t){let n=xh(t),{args:e,keys:i}=Bh(t),r=new Oe(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let d=0;d<a;d++){let u=!1;Ft(e[d]).subscribe(Ke(o,v=>{u||(u=!0,c--),s[d]=v},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(i?Vh(i,s):s),o.complete())}))}});return n?r.pipe(cl(n)):r}var vO=["addListener","removeListener"],yO=["addEventListener","removeEventListener"],bO=["on","off"];function Di(t,n,e,i){if($e(e)&&(i=e,e=void 0),i)return Di(t,n,e).pipe(cl(i));let[r,o]=wO(t)?yO.map(a=>s=>t[a](n,s,e)):_O(t)?vO.map(xk(t,n)):SO(t)?bO.map(xk(t,n)):[];if(!r&&ll(t))return Li(a=>Di(a,n,e))(Ft(t));if(!r)throw new TypeError("Invalid event target");return new Oe(a=>{let s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function xk(t,n){return e=>i=>t[e](n,i)}function _O(t){return $e(t.addListener)&&$e(t.removeListener)}function SO(t){return $e(t.on)&&$e(t.off)}function wO(t){return $e(t.addEventListener)&&$e(t.removeEventListener)}function dl(t,n,e){return Vn(()=>t()?n:e)}function Ha(t=0,n,e=ck){let i=-1;return n!=null&&(Eh(n)?e=n:i=n),new Oe(r=>{let o=wk(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Kc(t=0,n=mr){return t<0&&(t=0),Ha(t,t,n)}function Nt(...t){let n=Yn(t),e=dk(t,1/0),i=t;return i.length?i.length===1?Ft(i[0]):Zo(e)(Ht(i,n)):qi}var ul=new Oe(La);function je(t,n){return Ye((e,i)=>{let r=0;e.subscribe(Ke(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Tk(t){return Ye((n,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};n.subscribe(Ke(e,c=>{i=!0,r=c,o||Ft(t(c)).subscribe(o=Ke(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function jh(t,n=mr){return Tk(()=>Ha(t,n))}function Vv(t,...n){var e,i;let r=(e=Yn(n))!==null&&e!==void 0?e:mr,o=(i=n[0])!==null&&i!==void 0?i:null,a=n[1]||1/0;return Ye((s,l)=>{let c=[],d=!1,u=g=>{let{buffer:S,subs:P}=g;P.unsubscribe(),yo(c,g),l.next(S),d&&v()},v=()=>{if(c){let g=new qe;l.add(g);let P={buffer:[],subs:g};c.push(P),Qi(g,r,()=>u(P),t)}};o!==null&&o>=0?Qi(l,r,v,o,!0):d=!0,v();let y=Ke(l,g=>{let S=c.slice();for(let P of S){let{buffer:M}=P;M.push(g),a<=M.length&&u(P)}},()=>{for(;c?.length;)l.next(c.shift().buffer);y?.unsubscribe(),l.complete(),l.unsubscribe()},void 0,()=>c=null);s.subscribe(y)})}function Jo(t){return Ye((n,e)=>{let i=null,r=!1,o;i=n.subscribe(Ke(e,void 0,void 0,a=>{o=Ft(t(a,Jo(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ea(t,n){return $e(n)?Li(t,n,1):Li(t,1)}function jn(t,n=mr){return Ye((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=a+t,d=n.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}s()}e.subscribe(Ke(i,c=>{o=c,a=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function jv(t){return Ye((n,e)=>{let i=!1;n.subscribe(Ke(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Ot(t){return t<=0?()=>qi:Ye((n,e)=>{let i=0;n.subscribe(Ke(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Hh(t){return Se(()=>t)}function hl(t,n=Bn){return t=t??CO,Ye((e,i)=>{let r,o=!0;e.subscribe(Ke(i,a=>{let s=n(a);(o||!t(r,s))&&(o=!1,r=s,i.next(a))}))})}function CO(t,n){return t===n}function Dk(t=kO){return Ye((n,e)=>{let i=!1;n.subscribe(Ke(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function kO(){return new ja}function Qc(t,n){return n?e=>e.pipe(Qc((i,r)=>Ft(t(i,r)).pipe(Se((o,a)=>n(i,o,r,a))))):Ye((e,i)=>{let r=0,o=null,a=!1;e.subscribe(Ke(i,s=>{o||(o=Ke(i,void 0,()=>{o=null,a&&i.complete()}),Ft(t(s,r++)).subscribe(o))},()=>{a=!0,!o&&i.complete()}))})}function qa(t){return Ye((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function bo(t,n){let e=arguments.length>=2;return i=>i.pipe(t?je((r,o)=>t(r,o,i)):Bn,Ot(1),e?jv(n):Dk(()=>new ja))}function qh(t){return t<=0?()=>qi:Ye((n,e)=>{let i=[];n.subscribe(Ke(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Uh(){return Ye((t,n)=>{let e,i=!1;t.subscribe(Ke(n,r=>{let o=e;e=r,i&&n.next([o,r]),i=!0}))})}function Zc(t={}){let{connector:n=()=>new Z,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let a=null,s=null,l=null,c=0,d=!1,u=!1,v=()=>{s?.unsubscribe(),s=null},y=()=>{v(),a=l=null,d=u=!1},g=()=>{let S=a;y(),S?.unsubscribe()};return Ye((S,P)=>{c++,!u&&!d&&v();let M=l=l??n();P.add(()=>{c--,c===0&&!u&&!d&&(s=Hv(g,r))}),M.subscribe(P),a||(a=new Yo({next:z=>M.next(z),error:z=>{u=!0,v(),s=Hv(y,e,z),M.error(z)},complete:()=>{d=!0,v(),s=Hv(y,i),M.complete()}}),Ht(S).subscribe(a))})(o)}}function Hv(t,n,...e){return n===!0?(t(),null):n===!1?null:n(...e).pipe(Ot(1)).subscribe(()=>t())}function zh(t,n,e){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t:i=t??1/0,Zc({connector:()=>new Ko(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ua(t){return je((n,e)=>t<=e)}function Tt(...t){let n=Yn(t);return Ye((e,i)=>{(n?Xo(t,e,n):Xo(t,e)).subscribe(i)})}function Bt(t,n){return Ye((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(Ke(i,l=>{r?.unsubscribe();let c=0,d=o++;Ft(t(l,d)).subscribe(r=Ke(i,u=>i.next(n?n(l,u,d,c++):u),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Ze(t){return Ye((n,e)=>{Ft(t).subscribe(Ke(e,()=>e.complete(),La)),!e.closed&&n.subscribe(e)})}function qv(t,n=!1){return Ye((e,i)=>{let r=0;e.subscribe(Ke(i,o=>{let a=t(o,r++);(a||n)&&i.next(o),!a&&i.complete()}))})}function Wt(t,n,e){let i=$e(t)||n||e?{next:t,error:n,complete:e}:t;return i?Ye((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(Ke(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Bn}function zv(t=mr){return Ye((n,e)=>{let i=t.now();n.subscribe(Ke(e,r=>{let o=t.now(),a=o-i;i=o,e.next(new Uv(r,a))}))})}var Uv=class{constructor(n,e){this.value=n,this.interval=e}};var $v;function $h(){return $v}function qr(t){let n=$v;return $v=t,n}var Mk=Symbol("NotFound");function ml(t){return t===Mk||t?.name==="\u0275NotFound"}var Zh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(n,e){super(Ur(n,e)),this.code=n}};function EO(t){return`NG0${Math.abs(t)}`}function Ur(t,n){return`${EO(t)}${n?": "+n:""}`}var Bi=globalThis;function Dt(t){for(let n in t)if(t[n]===Dt)return n;throw Error("")}function Fk(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function So(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(So).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Xh(t,n){return t?n?`${t} ${n}`:t:n||""}var xO=Dt({__forward_ref__:Dt});function zr(t){return t.__forward_ref__=zr,t.toString=function(){return So(this())},t}function Zi(t){return ry(t)?t():t}function ry(t){return typeof t=="function"&&t.hasOwnProperty(xO)&&t.__forward_ref__===zr}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ae(t){return{providers:t.providers||[],imports:t.imports||[]}}function od(t){return TO(t,Jh)}function oy(t){return od(t)!==null}function TO(t,n){return t.hasOwnProperty(n)&&t[n]||null}function DO(t){let n=t?.[Jh]??null;return n||null}function Wv(t){return t&&t.hasOwnProperty(Wh)?t[Wh]:null}var Jh=Dt({\u0275prov:Dt}),Wh=Dt({\u0275inj:Dt}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ay(t){return t&&!!t.\u0275providers}var sy=Dt({\u0275cmp:Dt}),ly=Dt({\u0275dir:Dt}),cy=Dt({\u0275pipe:Dt}),dy=Dt({\u0275mod:Dt}),Jc=Dt({\u0275fac:Dt}),Ya=Dt({__NG_ELEMENT_ID__:Dt}),Ik=Dt({__NG_ENV_ID__:Dt});function Mi(t){return typeof t=="string"?t:t==null?"":String(t)}function Ok(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Mi(t)}var Lk=Dt({ngErrorCode:Dt}),MO=Dt({ngErrorMessage:Dt}),IO=Dt({ngTokenPath:Dt});function uy(t,n){return Nk("",-200,n)}function em(t,n){throw new ee(-201,!1)}function Nk(t,n,e){let i=new ee(n,t);return i[Lk]=n,i[MO]=t,e&&(i[IO]=e),i}function AO(t){return t[Lk]}var Yv;function Bk(){return Yv}function yn(t){let n=Yv;return Yv=t,n}function hy(t,n,e){let i=od(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(n!==void 0)return n;em(t,"Injector")}var PO={},za=PO,RO="__NG_DI_FLAG__",Kv=class{injector;constructor(n){this.injector=n}retrieve(n,e){let i=$a(e)||0;try{return this.injector.get(n,i&8?null:za,i)}catch(r){if(ml(r))return r;throw r}}};function FO(t,n=0){let e=$h();if(e===void 0)throw new ee(-203,!1);if(e===null)return hy(t,void 0,n);{let i=OO(n),r=e.retrieve(t,i);if(ml(r)){if(i.optional)return null;throw r}return r}}function L(t,n=0){return(Bk()||FO)(Zi(t),n)}function _(t,n){return L(t,$a(n))}function $a(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function OO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Qv(t){let n=[];for(let e=0;e<t.length;e++){let i=Zi(t[e]);if(Array.isArray(i)){if(i.length===0)throw new ee(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let s=i[a],l=LO(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}n.push(L(r,o))}else n.push(L(i))}return n}function LO(t){return t[RO]}function ta(t,n){let e=t.hasOwnProperty(Jc);return e?t[Jc]:null}function Vk(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function jk(t){return t.flat(Number.POSITIVE_INFINITY)}function tm(t,n){t.forEach(e=>Array.isArray(e)?tm(e,n):n(e))}function my(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function ad(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Hk(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function qk(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function im(t,n,e){let i=fl(t,n);return i>=0?t[i|1]=e:(i=~i,qk(t,i,n,e)),i}function nm(t,n){let e=fl(t,n);if(e>=0)return t[e|1]}function fl(t,n){return NO(t,n,1)}function NO(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<e];if(n===a)return o<<e;a>n?r=o:i=o+1}return~(r<<e)}var ra={},tn=[],wo=new K(""),py=new K("",-1),fy=new K(""),ed=class{get(n,e=za){if(e===za){let r=Nk("",-201);throw r.name="\u0275NotFound",r}return e}};function gy(t){return t[dy]||null}function $r(t){return t[sy]||null}function vy(t){return t[ly]||null}function Uk(t){return t[cy]||null}function oa(t){return{\u0275providers:t}}function rm(...t){return{\u0275providers:yy(!0,t),\u0275fromNgModule:!0}}function yy(t,...n){let e=[],i=new Set,r,o=a=>{e.push(a)};return tm(n,a=>{let s=a;Yh(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&zk(r,o),e}function zk(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];by(r,o=>{n(o,i)})}}function Yh(t,n,e,i){if(t=Zi(t),!t)return!1;let r=null,o=Wv(t),a=!o&&$r(t);if(!o&&!a){let l=t.ngModule;if(o=Wv(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=t}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)Yh(c,n,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;try{tm(o.imports,d=>{Yh(d,n,e,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&zk(c,n)}if(!s){let c=ta(r)||(()=>new r);n({provide:r,useFactory:c,deps:tn},r),n({provide:fy,useValue:r,multi:!0},r),n({provide:wo,useValue:()=>L(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=t;by(l,d=>{n(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function by(t,n){for(let e of t)ay(e)&&(e=e.\u0275providers),Array.isArray(e)?by(e,n):n(e)}var BO=Dt({provide:String,useValue:Dt});function $k(t){return t!==null&&typeof t=="object"&&BO in t}function VO(t){return!!(t&&t.useExisting)}function jO(t){return!!(t&&t.useFactory)}function Ga(t){return typeof t=="function"}function Gk(t){return!!t.useClass}var sd=new K(""),Gh={},Ak={},Gv;function gl(){return Gv===void 0&&(Gv=new ed),Gv}var qt=class{},Wa=class extends qt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,Xv(n,a=>this.processProvider(a)),this.records.set(py,pl(void 0,this)),r.has("environment")&&this.records.set(qt,pl(void 0,this));let o=this.records.get(sd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fy,tn,{self:!0}))}retrieve(n,e){let i=$a(e)||0;try{return this.get(n,za,i)}catch(r){if(ml(r))return r;throw r}}destroy(){Xc(this),this._destroyed=!0;let n=ze(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ze(n)}}onDestroy(n){return Xc(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Xc(this);let e=qr(this),i=yn(void 0),r;try{return n()}finally{qr(e),yn(i)}}get(n,e=za,i){if(Xc(this),n.hasOwnProperty(Ik))return n[Ik](this);let r=$a(i),o,a=qr(this),s=yn(void 0);try{if(!(r&4)){let c=this.records.get(n);if(c===void 0){let d=$O(n)&&od(n);d&&this.injectableDefInScope(d)?c=pl(Zv(n),Gh):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let l=r&2?gl():this.parent;return e=r&8&&e===za?null:e,l.get(n,e)}catch(l){let c=AO(l);throw c===-200||c===-201?new ee(c,null):l}finally{yn(s),qr(a)}}resolveInjectorInitializers(){let n=ze(null),e=qr(this),i=yn(void 0),r;try{let o=this.get(wo,tn,{self:!0});for(let a of o)a()}finally{qr(e),yn(i),ze(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(So(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Zi(n);let e=Ga(n)?n:Zi(n&&n.provide),i=qO(n);if(!Ga(n)&&n.multi===!0){let r=this.records.get(e);r||(r=pl(void 0,Gh,!0),r.factory=()=>Qv(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e,i){let r=ze(null);try{if(e.value===Ak)throw uy(So(n));return e.value===Gh&&(e.value=Ak,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&zO(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ze(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Zi(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Zv(t){let n=od(t),e=n!==null?n.factory:ta(t);if(e!==null)return e;if(t instanceof K)throw new ee(204,!1);if(t instanceof Function)return HO(t);throw new ee(204,!1)}function HO(t){if(t.length>0)throw new ee(204,!1);let e=DO(t);return e!==null?()=>e.factory(t):()=>new t}function qO(t){if($k(t))return pl(void 0,t.useValue);{let n=_y(t);return pl(n,Gh)}}function _y(t,n,e){let i;if(Ga(t)){let r=Zi(t);return ta(r)||Zv(r)}else if($k(t))i=()=>Zi(t.useValue);else if(jO(t))i=()=>t.useFactory(...Qv(t.deps||[]));else if(VO(t))i=(r,o)=>L(Zi(t.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Zi(t&&(t.useClass||t.provide));if(UO(t))i=()=>new r(...Qv(t.deps));else return ta(r)||Zv(r)}return i}function Xc(t){if(t.destroyed)throw new ee(205,!1)}function pl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function UO(t){return!!t.deps}function zO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $O(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Xv(t,n){for(let e of t)Array.isArray(e)?Xv(e,n):e&&ay(e)?Xv(e.\u0275providers,n):n(e)}function Ui(t,n){let e;t instanceof Wa?(Xc(t),e=t):e=new Kv(t);let i,r=qr(e),o=yn(void 0);try{return n()}finally{qr(r),yn(o)}}function Sy(){return Bk()!==void 0||$h()!=null}var fr=0,Ge=1,Xe=2,Ni=3,Kn=4,bn=5,Ka=6,vl=7,_i=8,Co=9,Gr=10,Vt=11,yl=12,wy=13,Qa=14,_n=15,aa=16,Za=17,Wr=18,ld=19,Cy=20,_o=21,om=22,ia=23,Hn=24,Xa=25,Ja=26,ni=27,Wk=1,ky=6,sa=7,cd=8,es=9,hi=10;function Yr(t){return Array.isArray(t)&&typeof t[Wk]=="object"}function gr(t){return Array.isArray(t)&&t[Wk]===!0}function Ey(t){return(t.flags&4)!==0}function ko(t){return t.componentOffset>-1}function dd(t){return(t.flags&1)===1}function Kr(t){return!!t.template}function bl(t){return(t[Xe]&512)!==0}function ts(t){return(t[Xe]&256)===256}var xy="svg",Yk="math";function Qn(t){for(;Array.isArray(t);)t=t[fr];return t}function Ty(t,n){return Qn(n[t])}function Zn(t,n){return Qn(n[t.index])}function ud(t,n){return t.data[n]}function am(t,n){return t[n]}function Dy(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function Xn(t,n){let e=n[t];return Yr(e)?e:e[fr]}function Kk(t){return(t[Xe]&4)===4}function sm(t){return(t[Xe]&128)===128}function Qk(t){return gr(t[Ni])}function qn(t,n){return n==null?null:t[n]}function My(t){t[Za]=0}function Iy(t){t[Xe]&1024||(t[Xe]|=1024,sm(t)&&is(t))}function Zk(t,n){for(;t>0;)n=n[Qa],t--;return n}function hd(t){return!!(t[Xe]&9216||t[Hn]?.dirty)}function lm(t){t[Gr].changeDetectionScheduler?.notify(8),t[Xe]&64&&(t[Xe]|=1024),hd(t)&&is(t)}function is(t){t[Gr].changeDetectionScheduler?.notify(0);let n=na(t);for(;n!==null&&!(n[Xe]&8192||(n[Xe]|=8192,!sm(n)));)n=na(n)}function Ay(t,n){if(ts(t))throw new ee(911,!1);t[_o]===null&&(t[_o]=[]),t[_o].push(n)}function Xk(t,n){if(t[_o]===null)return;let e=t[_o].indexOf(n);e!==-1&&t[_o].splice(e,1)}function na(t){let n=t[Ni];return gr(n)?n[Ni]:n}function Py(t){return t[vl]??=[]}function Ry(t){return t.cleanup??=[]}function Jk(t,n,e,i){let r=Py(n);r.push(e),t.firstCreatePass&&Ry(t).push(i,r.length-1)}var dt={lFrame:dE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jv=!1;function eE(){return dt.lFrame.elementDepthCount}function tE(){dt.lFrame.elementDepthCount++}function Fy(){dt.lFrame.elementDepthCount--}function Oy(){return dt.bindingsEnabled}function Ly(){return dt.skipHydrationRootTNode!==null}function Ny(t){return dt.skipHydrationRootTNode===t}function By(){dt.skipHydrationRootTNode=null}function xe(){return dt.lFrame.lView}function Yt(){return dt.lFrame.tView}function k(t){return dt.lFrame.contextLView=t,t[_i]}function E(t){return dt.lFrame.contextLView=null,t}function zi(){let t=Vy();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vy(){return dt.lFrame.currentTNode}function iE(){let t=dt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function _l(t,n){let e=dt.lFrame;e.currentTNode=t,e.isParent=n}function jy(){return dt.lFrame.isParent}function Hy(){dt.lFrame.isParent=!1}function nE(){return dt.lFrame.contextLView}function qy(){return Jv}function td(t){let n=Jv;return Jv=t,n}function ns(){let t=dt.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function cm(){return dt.lFrame.bindingIndex}function rE(t){return dt.lFrame.bindingIndex=t}function Qr(){return dt.lFrame.bindingIndex++}function Sl(t){let n=dt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function oE(){return dt.lFrame.inI18n}function aE(t,n){let e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=t,dm(n)}function sE(){return dt.lFrame.currentDirectiveIndex}function dm(t){dt.lFrame.currentDirectiveIndex=t}function lE(t){let n=dt.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function um(){return dt.lFrame.currentQueryIndex}function md(t){dt.lFrame.currentQueryIndex=t}function GO(t){let n=t[Ge];return n.type===2?n.declTNode:n.type===1?t[bn]:null}function Uy(t,n,e){if(e&4){let r=n,o=t;for(;r=r.parent,r===null&&!(e&1);)if(r=GO(o),r===null||(o=o[Qa],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=dt.lFrame=cE();return i.currentTNode=n,i.lView=t,!0}function hm(t){let n=cE(),e=t[Ge];dt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function cE(){let t=dt.lFrame,n=t===null?null:t.child;return n===null?dE(t):n}function dE(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function uE(){let t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zy=uE;function mm(){let t=uE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hE(t){return(dt.lFrame.contextLView=Zk(t,dt.lFrame.contextLView))[_i]}function vr(){return dt.lFrame.selectedIndex}function la(t){dt.lFrame.selectedIndex=t}function wl(){let t=dt.lFrame;return ud(t.tView,t.selectedIndex)}function Cl(){dt.lFrame.currentNamespace=xy}function mE(){return dt.lFrame.currentNamespace}var pE=!0;function pm(){return pE}function fm(t){pE=t}function ey(t,n=null,e=null,i){let r=$y(t,n,e,i);return r.resolveInjectorInitializers(),r}function $y(t,n=null,e=null,i,r=new Set){let o=[e||tn,rm(t)];return i=i||(typeof t=="object"?void 0:So(t)),new Wa(o,n||gl(),i||null,r)}var le=class t{static THROW_IF_NOT_FOUND=za;static NULL=new ed;static create(n,e){if(Array.isArray(n))return ey({name:""},e,n,"");{let i=n.name??"";return ey({name:i},n.parent,n.providers,i)}}static \u0275prov=q({token:t,providedIn:"any",factory:()=>L(py)});static __NG_ELEMENT_ID__=-1},Ee=new K(""),nn=(()=>{class t{static __NG_ELEMENT_ID__=WO;static __NG_ENV_ID__=e=>e}return t})(),Kh=class extends nn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return ts(this._lView)}onDestroy(n){let e=this._lView;return Ay(e,n),()=>Xk(e,n)}};function WO(){return new Kh(xe())}var Gy=!1,Zr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Zt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Oe(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),ty=class extends Z{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Sy()&&(this.destroyRef=_(nn,{optional:!0})??void 0,this.pendingTasks=_(Zr,{optional:!0})??void 0)}emit(n){let e=ze(null);try{super.next(n)}finally{ze(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),a=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return n instanceof qe&&n.add(s),s}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ue=ty;function id(...t){}function Wy(t){let n,e;function i(){t=id;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Yy(t){return queueMicrotask(()=>t()),()=>{t=id}}var Ky="isAngularZone",nd=Ky+"_ID",YO=0,ce=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ue(!1);onMicrotaskEmpty=new ue(!1);onStable=new ue(!1);onError=new ue(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Gy}=n;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,ZO(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ky)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ee(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,n,KO,id,id);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},KO={};function Qy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Wy(()=>{t.callbackScheduled=!1,iy(t),t.isCheckStableRunning=!0,Qy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),iy(t)}function ZO(t){let n=()=>{QO(t)},e=YO++;t._inner=t._inner.fork({name:"angular",properties:{[Ky]:!0,[nd]:e,[nd+e]:!0},onInvokeTask:(i,r,o,a,s,l)=>{if(XO(l))return i.invokeTask(o,a,s,l);try{return Pk(t),i.invokeTask(o,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Rk(t)}},onInvoke:(i,r,o,a,s,l,c)=>{try{return Pk(t),i.invoke(o,a,s,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!JO(l)&&n(),Rk(t)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,iy(t),Qy(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function iy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Pk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rk(t){t._nesting--,Qy(t)}var rd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ue;onMicrotaskEmpty=new ue;onStable=new ue;onError=new ue;run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function XO(t){return fE(t,"__ignore_ng_zone__")}function JO(t){return fE(t,"__scheduler_tick__")}function fE(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var kn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Jn=new K("",{factory:()=>{let t=_(ce),n=_(qt),e;return i=>{t.runOutsideAngular(()=>{n.destroyed&&!e?setTimeout(()=>{throw i}):(e??=n.get(kn),e.handleError(i))})}}}),gE={provide:wo,useValue:()=>{let t=_(kn,{optional:!0})},multi:!0};function C(t,n){let[e,i,r]=xv(t,n?.equal),o=e,a=o[Hi];return o.set=i,o.update=r,o.asReadonly=vE.bind(o),o}function vE(){let t=this[Hi];if(t.readonlyFn===void 0){let n=()=>this();n[Hi]=t,t.readonlyFn=n}return t.readonlyFn}var kl=(()=>{class t{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=eL}return t})();function eL(){return new kl(xe(),zi())}var pr=class{},El=new K("",{factory:()=>!0});var gm=new K(""),vm=(()=>{class t{internalPendingTasks=_(Zr);scheduler=_(pr);errorHandler=_(Jn);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),ym=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new ny})}return t})(),ny=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,i=this.queues.get(e);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,i]of this.queues)e===null?n||=this.flushQueue(i):n||=e.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},Qh=class{[Hi];constructor(n){this[Hi]=n}destroy(){this[Hi].destroy()}};function xl(t,n){let e=n?.injector??_(le),i=n?.manualCleanup!==!0?e.get(nn):null,r,o=e.get(kl,null,{optional:!0}),a=e.get(pr);return o!==null?(r=nL(o.view,a,t),i instanceof Kh&&i._lView===o.view&&(i=null)):r=rL(t,e.get(ym),a),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Qh(r)}var yE=Ie(W({},Dv),{cleanupFns:void 0,zone:null,onDestroyFn:id,run(){let t=td(!1);try{Mv(this)}finally{td(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=ze(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ze(t)}}}),tL=Ie(W({},yE),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Wo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),iL=Ie(W({},yE),{consumerMarkedDirty(){this.view[Xe]|=8192,is(this.view),this.notifier.notify(13)},destroy(){Wo(this),this.onDestroyFn(),this.cleanup(),this.view[ia]?.delete(this)}});function nL(t,n,e){let i=Object.create(iL);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=bE(i,e),t[ia]??=new Set,t[ia].add(i),i.consumerMarkedDirty(i),i}function rL(t,n,e){let i=Object.create(tL);return i.fn=bE(i,t),i.scheduler=n,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function bE(t,n){return()=>{n(e=>(t.cleanupFns??=[]).push(e))}}function Ii(t){return Tv(t)}function kd(t){return{toString:t}.toString()}function uL(t){return typeof t=="function"}function XE(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}var Dm=class{previousValue;currentValue;firstChange;constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},li=(()=>{let t=()=>JE;return t.ngInherit=!0,t})();function JE(t){return t.type.prototype.ngOnChanges&&(t.setInput=mL),hL}function hL(){let t=tx(this),n=t?.current;if(n){let e=t.previous;if(e===ra)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function mL(t,n,e,i,r){let o=this.declaredInputs[i],a=tx(t)||pL(t,{previous:ra,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Dm(c&&c.currentValue,e,l===ra),XE(t,n,r,e)}var ex="__ngSimpleChanges__";function tx(t){return t[ex]||null}function pL(t,n){return t[ex]=n}var _E=[];var Lt=function(t,n=null,e){for(let i=0;i<_E.length;i++){let r=_E[i];r(t,n,e)}};function fL(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let a=JE(n);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function ix(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;a&&(t.contentHooks??=[]).push(-e,a),s&&((t.contentHooks??=[]).push(e,s),(t.contentCheckHooks??=[]).push(e,s)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),d!=null&&(t.destroyHooks??=[]).push(e,d)}}function Cm(t,n,e){nx(t,n,3,e)}function km(t,n,e,i){(t[Xe]&3)===e&&nx(t,n,e,i)}function Zy(t,n){let e=t[Xe];(e&3)===n&&(e&=16383,e+=1,t[Xe]=e)}function nx(t,n,e,i){let r=i!==void 0?t[Za]&65535:0,o=i??-1,a=n.length-1,s=0;for(let l=r;l<a;l++)if(typeof n[l+1]=="number"){if(s=n[l],i!=null&&s>=i)break}else n[l]<0&&(t[Za]+=65536),(s<o||o==-1)&&(gL(t,e,n,l),t[Za]=(t[Za]&4294901760)+l+2),l++}function SE(t,n){Lt(4,t,n);let e=ze(null);try{n.call(t)}finally{ze(e),Lt(5,t,n)}}function gL(t,n,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=t[a];r?t[Xe]>>14<t[Za]>>16&&(t[Xe]&3)===n&&(t[Xe]+=16384,SE(s,o)):SE(s,o)}var Dl=-1,os=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,i,r){this.factory=n,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function vL(t){return(t.flags&8)!==0}function yL(t){return(t.flags&16)!==0}function bL(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];t.setAttribute(n,a,s,o)}else{let o=r,a=e[++i];_L(o)?t.setProperty(n,o,a):t.setAttribute(n,o,a),i++}}return i}function rx(t){return t===3||t===4||t===6}function _L(t){return t.charCodeAt(0)===64}function Ml(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?wE(t,e,r,null,n[++i]):wE(t,e,r,null,null))}}return t}function wE(t,n,e,i,r){let o=0,a=t.length;if(n===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===e){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(t.splice(a,0,n),o=a+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r)}function ox(t){return t!==Dl}function Mm(t){return t&32767}function SL(t){return t>>16}function Im(t,n){let e=SL(t),i=n;for(;e>0;)i=i[Qa],e--;return i}var l0=!0;function Am(t){let n=l0;return l0=t,n}var wL=256,ax=wL-1,sx=5,CL=0,Xr={};function kL(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ya)&&(i=e[Ya]),i==null&&(i=e[Ya]=CL++);let r=i&ax,o=1<<r;n.data[t+(r>>sx)]|=o}function Pm(t,n){let e=lx(t,n);if(e!==-1)return e;let i=n[Ge];i.firstCreatePass&&(t.injectorIndex=n.length,Xy(i.data,t),Xy(n,null),Xy(i.blueprint,null));let r=z0(t,n),o=t.injectorIndex;if(ox(r)){let a=Mm(r),s=Im(r,n),l=s[Ge].data;for(let c=0;c<8;c++)n[o+c]=s[a+c]|l[a+c]}return n[o+8]=r,o}function Xy(t,n){t.push(0,0,0,0,0,0,0,0,n)}function lx(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function z0(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=mx(r),i===null)return Dl;if(e++,r=r[Qa],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Dl}function c0(t,n,e){kL(t,n,e)}function EL(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(rx(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function cx(t,n,e){if(e&8||t!==void 0)return t;em(n,"NodeInjector")}function dx(t,n,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=t[Co],o=yn(void 0);try{return r?r.get(n,i,e&8):hy(n,i,e&8)}finally{yn(o)}}return cx(i,n,e)}function ux(t,n,e,i=0,r){if(t!==null){if(n[Xe]&2048&&!(i&2)){let a=ML(t,n,e,i,Xr);if(a!==Xr)return a}let o=hx(t,n,e,i,Xr);if(o!==Xr)return o}return dx(n,e,i,r)}function hx(t,n,e,i,r){let o=TL(e);if(typeof o=="function"){if(!Uy(n,t,i))return i&1?cx(r,e,i):dx(n,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))em(e);else return a}finally{zy()}}else if(typeof o=="number"){let a=null,s=lx(t,n),l=Dl,c=i&1?n[_n][bn]:null;for((s===-1||i&4)&&(l=s===-1?z0(t,n):n[s+8],l===Dl||!kE(i,!1)?s=-1:(a=n[Ge],s=Mm(l),n=Im(l,n)));s!==-1;){let d=n[Ge];if(CE(o,s,d.data)){let u=xL(s,n,e,a,i,c);if(u!==Xr)return u}l=n[s+8],l!==Dl&&kE(i,n[Ge].data[s+8]===c)&&CE(o,s,n)?(a=d,s=Mm(l),n=Im(l,n)):s=-1}}return r}function xL(t,n,e,i,r,o){let a=n[Ge],s=a.data[t+8],l=i==null?ko(s)&&l0:i!=a&&(s.type&3)!==0,c=r&1&&o===s,d=Em(s,a,e,l,c);return d!==null?vd(n,a,d,s,r):Xr}function Em(t,n,e,i,r){let o=t.providerIndexes,a=n.data,s=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,u=i?s:s+d,v=r?s+d:c;for(let y=u;y<v;y++){let g=a[y];if(y<l&&e===g||y>=l&&g.type===e)return y}if(r){let y=a[l];if(y&&Kr(y)&&y.type===e)return l}return null}function vd(t,n,e,i,r){let o=t[e],a=n.data;if(o instanceof os){let s=o;if(s.resolving){let y=Ok(a[e]);throw uy(y)}let l=Am(s.canSeeViewProviders);s.resolving=!0;let c=a[e].type||a[e],d,u=s.injectImpl?yn(s.injectImpl):null,v=Uy(t,i,0);try{o=t[e]=s.factory(void 0,r,a,t,i),n.firstCreatePass&&e>=i.directiveStart&&fL(e,a[e],n)}finally{u!==null&&yn(u),Am(l),s.resolving=!1,zy()}}return o}function TL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Ya)?t[Ya]:void 0;return typeof n=="number"?n>=0?n&ax:DL:n}function CE(t,n,e){let i=1<<t;return!!(e[n+(t>>sx)]&i)}function kE(t,n){return!(t&2)&&!(t&1&&n)}var rs=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return ux(this._tNode,this._lView,n,$a(i),e)}};function DL(){return new rs(zi(),xe())}function Ai(t){return kd(()=>{let n=t.prototype.constructor,e=n[Jc]||d0(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Jc]||d0(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function d0(t){return ry(t)?()=>{let n=d0(Zi(t));return n&&n()}:ta(t)}function ML(t,n,e,i,r){let o=t,a=n;for(;o!==null&&a!==null&&a[Xe]&2048&&!bl(a);){let s=hx(o,a,e,i|2,Xr);if(s!==Xr)return s;let l=o.parent;if(!l){let c=a[Cy];if(c){let d=c.get(e,Xr,i);if(d!==Xr)return d}l=mx(a),a=a[Qa]}o=l}return r}function mx(t){let n=t[Ge],e=n.type;return e===2?n.declTNode:e===1?t[bn]:null}function $m(t){return EL(zi(),t)}function IL(){return Fl(zi(),xe())}function Fl(t,n){return new ve(Zn(t,n))}var ve=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=IL}return t})();function px(t){return t instanceof ve?t.nativeElement:t}function AL(){return this._results[Symbol.iterator]()}var _r=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Z}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=jk(n);(this._changesDetected=!Vk(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=AL};function fx(t){return(t.flags&128)===128}var $0=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})($0||{}),gx=new Map,PL=0;function RL(){return PL++}function FL(t){gx.set(t[ld],t)}function u0(t){gx.delete(t[ld])}var EE="__ngContext__";function Il(t,n){Yr(n)?(t[EE]=n[ld],FL(n)):t[EE]=n}function vx(t){return bx(t[yl])}function yx(t){return bx(t[Kn])}function bx(t){for(;t!==null&&!gr(t);)t=t[Kn];return t}var h0;function G0(t){h0=t}function W0(){if(h0!==void 0)return h0;if(typeof document<"u")return document;throw new ee(210,!1)}var Ol=new K("",{factory:()=>OL}),OL="ng";var Gm=new K(""),ls=new K("",{providedIn:"platform",factory:()=>"unknown"}),ua=new K(""),Ll=new K("",{factory:()=>W0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Wm={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Ym=new K("",{factory:()=>Wm});var _x="r";var Sx="di";var wx=!1,Cx=new K("",{factory:()=>wx});var Km=new K("");var LL=(t,n,e,i)=>{};function NL(t,n,e,i){LL(t,n,e,i)}function Qm(t){return(t.flags&32)===32}var BL=()=>null;function kx(t,n,e=!1){return BL(t,n,e)}function Ex(t,n){let e=t.contentQueries;if(e!==null){let i=ze(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=t.data[a];md(o),s.contentQueries(2,n[a],a)}}}finally{ze(i)}}}function m0(t,n,e){md(0);let i=ze(null);try{n(t,e)}finally{ze(i)}}function xx(t,n,e){if(Ey(n)){let i=ze(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let a=r;a<o;a++){let s=t.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{ze(i)}}}var Sr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Sr||{}),bm;function VL(){if(bm===void 0&&(bm=null,Bi.trustedTypes))try{bm=Bi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bm}function Zm(t){return VL()?.createHTML(t)||t}var _m;function jL(){if(_m===void 0&&(_m=null,Bi.trustedTypes))try{_m=Bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _m}function xE(t){return jL()?.createHTML(t)||t}var Eo=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zh})`}},p0=class extends Eo{getTypeName(){return"HTML"}},f0=class extends Eo{getTypeName(){return"Style"}},g0=class extends Eo{getTypeName(){return"Script"}},v0=class extends Eo{getTypeName(){return"URL"}},y0=class extends Eo{getTypeName(){return"ResourceURL"}};function Un(t){return t instanceof Eo?t.changingThisBreaksApplicationSecurity:t}function xo(t,n){let e=Tx(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Zh})`)}return e===n}function Tx(t){return t instanceof Eo&&t.getTypeName()||null}function Y0(t){return new p0(t)}function K0(t){return new f0(t)}function Q0(t){return new g0(t)}function Z0(t){return new v0(t)}function X0(t){return new y0(t)}function HL(t){let n=new _0(t);return qL()?new b0(n):n}var b0=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(Zm(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},_0=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=Zm(n),e}};function qL(){try{return!!new window.DOMParser().parseFromString(Zm(""),"text/html")}catch{return!1}}var UL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ed(t){return t=String(t),t.match(UL)?t:"unsafe:"+t}function To(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function xd(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var Dx=To("area,br,col,hr,img,wbr"),Mx=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ix=To("rp,rt"),zL=xd(Ix,Mx),$L=xd(Mx,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),GL=xd(Ix,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),TE=xd(Dx,$L,GL,zL),Ax=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WL=To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),YL=To("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),KL=xd(Ax,WL,YL),QL=To("script,style,template"),S0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=JL(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=XL(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=DE(n).toLowerCase();if(!TE.hasOwnProperty(e))return this.sanitizedSomething=!0,!QL.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!KL.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;Ax[s]&&(l=Ed(l)),this.buf.push(" ",a,'="',ME(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=DE(n).toLowerCase();TE.hasOwnProperty(e)&&!Dx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(ME(n))}};function ZL(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function XL(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw Px(n);return n}function JL(t){let n=t.firstChild;if(n&&ZL(t,n))throw Px(n);return n}function DE(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function Px(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var eN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tN=/([^\#-~ |!])/g;function ME(t){return t.replace(/&/g,"&amp;").replace(eN,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(tN,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Sm;function Xm(t,n){let e=null;try{Sm=Sm||HL(t);let i=n?String(n):"";e=Sm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Sm.getInertBodyElement(i)}while(i!==o);let s=new S0().sanitizeChildren(IE(e)||e);return Zm(s)}finally{if(e){let i=IE(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function IE(t){return"content"in t&&iN(t)?t.content:null}function iN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Xi=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Xi||{});function Do(t){let n=Rx();return n?xE(n.sanitize(Xi.HTML,t)||""):xo(t,"HTML")?xE(Un(t)):Xm(W0(),Mi(t))}function J0(t){let n=Rx();return n?n.sanitize(Xi.URL,t)||"":xo(t,"URL")?Un(t):Ed(Mi(t))}function Rx(){let t=xe();return t&&t[Gr].sanitizer}function eb(t){return t.ownerDocument}function Fx(t){return t instanceof Function?t():t}function nN(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}var Ox="ng-template";function rN(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&nN(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(tb(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function tb(t){return t.type===4&&t.value!==Ox}function oN(t,n,e){let i=t.type===4&&!e?Ox:t.value;return n===i}function aN(t,n,e){let i=4,r=t.attrs,o=r!==null?cN(r):0,a=!1;for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number"){if(!a&&!yr(i)&&!yr(l))return!1;if(a&&yr(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!oN(t,l,e)||l===""&&n.length===1){if(yr(i))return!1;a=!0}}else if(i&8){if(r===null||!rN(t,r,l,e)){if(yr(i))return!1;a=!0}}else{let c=n[++s],d=sN(l,r,tb(t),e);if(d===-1){if(yr(i))return!1;a=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&c!==u){if(yr(i))return!1;a=!0}}}}return yr(i)||a}function yr(t){return(t&1)===0}function sN(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let a=n[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++r];for(;typeof s=="string";)s=n[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return dN(n,t)}function Lx(t,n,e=!1){for(let i=0;i<n.length;i++)if(aN(t,n[i],e))return!0;return!1}function lN(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function cN(t){for(let n=0;n<t.length;n++){let e=t[n];if(rx(e))return n}return t.length}function dN(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function uN(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function AE(t,n){return t?":not("+n.trim()+")":n}function hN(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let a=t[e];if(typeof a=="string")if(i&2){let s=t[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!yr(a)&&(n+=AE(o,r),r=""),i=a,o=o||!yr(i);e++}return r!==""&&(n+=AE(o,r)),n}function mN(t){return t.map(hN).join(",")}function pN(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!yr(r))break;r=o}i++}return e.length&&n.push(1,...e),n}var Vi={};function fN(t,n){return t.createText(n)}function gN(t,n,e){t.setValue(n,e)}function Nx(t,n,e){return t.createElement(n,e)}function Rm(t,n,e,i,r){t.insertBefore(n,e,i,r)}function Bx(t,n,e){t.appendChild(n,e)}function PE(t,n,e,i,r){i!==null?Rm(t,n,e,i,r):Bx(t,n,e)}function Vx(t,n,e,i){t.removeChild(null,n,e,i)}function vN(t,n,e){t.setAttribute(n,"style",e)}function yN(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function jx(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&bL(t,n,i),r!==null&&yN(t,n,r),o!==null&&vN(t,n,o)}function ib(t,n,e,i,r,o,a,s,l,c,d){let u=ni+i,v=u+r,y=bN(u,v),g=typeof c=="function"?c():c;return y[Ge]={type:t,blueprint:y,template:e,queries:null,viewQuery:s,declTNode:n,data:y.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}function bN(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Vi);return e}function _N(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=ib(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function nb(t,n,e,i,r,o,a,s,l,c,d){let u=n.blueprint.slice();return u[fr]=r,u[Xe]=i|4|128|8|64|1024,(c!==null||t&&t[Xe]&2048)&&(u[Xe]|=2048),My(u),u[Ni]=u[Qa]=t,u[_i]=e,u[Gr]=a||t&&t[Gr],u[Vt]=s||t&&t[Vt],u[Co]=l||t&&t[Co]||null,u[bn]=o,u[ld]=RL(),u[Ka]=d,u[Cy]=c,u[_n]=n.type==2?t[_n]:u,u}function SN(t,n,e){let i=Zn(n,t),r=_N(e),o=t[Gr].rendererFactory,a=rb(t,nb(t,r,null,Hx(e),i,n,null,o.createRenderer(i,e),null,null,null));return t[n.index]=a}function Hx(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function qx(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function rb(t,n){return t[yl]?t[wy][Kn]=n:t[yl]=n,t[wy]=n,n}function h(t=1){Ux(Yt(),xe(),vr()+t,!1)}function Ux(t,n,e,i){if(!i)if((n[Xe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cm(n,o,e)}else{let o=t.preOrderHooks;o!==null&&km(n,o,0,e)}la(e)}var Jm=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Jm||{});function w0(t,n,e,i){let r=ze(null);try{let[o,a,s]=t.inputs[e],l=null;(a&Jm.SignalBased)!==0&&(l=n[o][Hi]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):s!==null&&(i=s.call(n,i)),t.setInput!==null?t.setInput(n,l,i,e,o):XE(n,l,o,i)}finally{ze(r)}}var Jr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Jr||{}),wN;function ob(t,n){return wN(t,n)}var as=new Set,ep=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ep||{}),to=new K(""),RE=new Set;function En(t){RE.has(t)||(RE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var tp=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),ab=[0,1,2,3],sb=(()=>{class t{ngZone=_(ce);scheduler=_(pr);errorHandler=_(kn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(to,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Lt(16),this.executing=!0;for(let i of ab)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Lt(17)}register(e){let{view:i}=e;i!==void 0?((i[Xa]??=[]).push(e),is(i),i[Xe]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(ep.AFTER_NEXT_RENDER,e):e()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),yd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,i,r,o,a=null){this.impl=n,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Xa];n&&(this.view[Xa]=n.filter(e=>e!==this))}};function Xt(t,n){let e=n?.injector??_(le);return En("NgAfterNextRender"),kN(t,e,n,!0)}function CN(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function kN(t,n,e,i){let r=n.get(tp);r.impl??=n.get(sb);let o=n.get(to,null,{optional:!0}),a=e?.manualCleanup!==!0?n.get(nn):null,s=n.get(kl,null,{optional:!0}),l=new yd(r.impl,CN(t),s?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var zx=new K("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function $x(t,n,e){let i=t.get(zx);if(Array.isArray(n))for(let r of n)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(n),e?.detachedLeaveAnimationFns?.push(n);i.scheduler&&i.scheduler(t)}function EN(t,n){let e=t.get(zx);if(n.detachedLeaveAnimationFns){for(let i of n.detachedLeaveAnimationFns)e.queue.delete(i);n.detachedLeaveAnimationFns=void 0}}function xN(t,n){for(let[e,i]of n)$x(t,i.animateFns)}function FE(t,n,e,i){let r=t?.[Ja]?.enter;n!==null&&r&&r.has(e.index)&&xN(i,r)}function Tl(t,n,e,i,r,o,a,s){if(r!=null){let l,c=!1;gr(r)?l=r:Yr(r)&&(c=!0,r=r[fr]);let d=Qn(r);t===0&&i!==null?(FE(s,i,o,e),a==null?Bx(n,i,d):Rm(n,i,d,a||null,!0)):t===1&&i!==null?(FE(s,i,o,e),Rm(n,i,d,a||null,!0)):t===2?OE(s,o,e,u=>{Vx(n,d,c,u)}):t===3&&OE(s,o,e,()=>{n.destroyNode(d)}),l!=null&&NN(n,t,e,l,o,i,a)}}function TN(t,n){Gx(t,n),n[fr]=null,n[bn]=null}function DN(t,n,e,i,r,o){i[fr]=r,i[bn]=n,np(t,i,e,1,r,o)}function Gx(t,n){n[Gr].changeDetectionScheduler?.notify(9),np(t,n,n[Vt],2,null,null)}function MN(t){let n=t[yl];if(!n)return Jy(t[Ge],t);for(;n;){let e=null;if(Yr(n))e=n[yl];else{let i=n[hi];i&&(e=i)}if(!e){for(;n&&!n[Kn]&&n!==t;)Yr(n)&&Jy(n[Ge],n),n=n[Ni];n===null&&(n=t),Yr(n)&&Jy(n[Ge],n),e=n&&n[Kn]}n=e}}function lb(t,n){let e=t[es],i=e.indexOf(n);e.splice(i,1)}function ip(t,n){if(ts(n))return;let e=n[Vt];e.destroyNode&&np(t,n,e,3,null,null),MN(n)}function Jy(t,n){if(ts(n))return;let e=ze(null);try{n[Xe]&=-129,n[Xe]|=256,n[Hn]&&Wo(n[Hn]),PN(t,n),AN(t,n),n[Ge].type===1&&n[Vt].destroy();let i=n[aa];if(i!==null&&gr(n[Ni])){i!==n[Ni]&&lb(i,n);let r=n[Wr];r!==null&&r.detachView(t)}u0(n)}finally{ze(e)}}function OE(t,n,e,i){let r=t?.[Ja];if(r==null||r.leave==null||!r.leave.has(n.index))return i(!1);t&&as.add(t),$x(e,()=>{if(r.leave&&r.leave.has(n.index)){let a=r.leave.get(n.index),s=[];if(a){for(let l=0;l<a.animateFns.length;l++){let c=a.animateFns[l],{promise:d}=c();s.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),IN(t,i)}else t&&as.delete(t),i(!1)},r)}function IN(t,n){let e=t[Ja]?.running;if(e){e.then(()=>{t[Ja].running=void 0,as.delete(t),n(!0)});return}n(!1)}function AN(t,n){let e=t.cleanup,i=n[vl];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(n[vl]=null);let r=n[_o];if(r!==null){n[_o]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=n[ia];if(o!==null){n[ia]=null;for(let a of o)a.destroy()}}function PN(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof os)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];Lt(4,s,l);try{l.call(s)}finally{Lt(5,s,l)}}else{Lt(4,r,o);try{o.call(r)}finally{Lt(5,r,o)}}}}}function Wx(t,n,e){return RN(t,n.parent,e)}function RN(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[fr];if(ko(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===Sr.None||r===Sr.Emulated)return null}return Zn(i,e)}function Yx(t,n,e){return ON(t,n,e)}function FN(t,n,e){return t.type&40?Zn(t,e):null}var ON=FN,LE;function cb(t,n,e,i){let r=Wx(t,i,n),o=n[Vt],a=i.parent||n[bn],s=Yx(a,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)PE(o,r,e[l],s,!1);else PE(o,r,e,s,!1);LE!==void 0&&LE(o,i,n,e,r)}function fd(t,n){if(n!==null){let e=n.type;if(e&3)return Zn(n,t);if(e&4)return C0(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return fd(t,i);{let r=t[n.index];return gr(r)?C0(-1,r):Qn(r)}}else{if(e&128)return fd(t,n.next);if(e&32)return ob(n,t)()||Qn(t[n.index]);{let i=Kx(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=na(t[_n]);return fd(r,i)}else return fd(t,n.next)}}}return null}function Kx(t,n){if(n!==null){let i=t[_n][bn],r=n.projection;return i.projection[r]}return null}function C0(t,n){let e=hi+t+1;if(e<n.length){let i=n[e],r=i[Ge].firstChild;if(r!==null)return fd(i,r)}return n[sa]}function db(t,n,e,i,r,o,a){for(;e!=null;){let s=i[Co];if(e.type===128){e=e.next;continue}let l=i[e.index],c=e.type;if(a&&n===0&&(l&&Il(Qn(l),i),e.flags|=2),!Qm(e))if(c&8)db(t,n,e.child,i,r,o,!1),Tl(n,t,s,r,l,e,o,i);else if(c&32){let d=ob(e,i),u;for(;u=d();)Tl(n,t,s,r,u,e,o,i);Tl(n,t,s,r,l,e,o,i)}else c&16?Qx(t,n,i,e,r,o):Tl(n,t,s,r,l,e,o,i);e=a?e.projectionNext:e.next}}function np(t,n,e,i,r,o){db(e,i,t.firstChild,n,r,o,!1)}function LN(t,n,e){let i=n[Vt],r=Wx(t,e,n),o=e.parent||n[bn],a=Yx(o,e,n);Qx(i,0,n,e,r,a)}function Qx(t,n,e,i,r,o){let a=e[_n],l=a[bn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Tl(n,t,e[Co],r,d,i,o,e)}else{let c=l,d=a[Ni];fx(i)&&(c.flags|=128),db(t,n,c,d,r,o,!0)}}function NN(t,n,e,i,r,o,a){let s=i[sa],l=Qn(i);s!==l&&Tl(n,t,e,o,s,r,a);for(let c=hi;c<i.length;c++){let d=i[c];np(d[Ge],d,t,n,o,s)}}function BN(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Jr.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Jr.Important),t.setStyle(e,i,r,o))}}function Zx(t,n,e,i,r){let o=vr(),a=i&2;try{la(-1),a&&n.length>ni&&Ux(t,n,ni,!1),Lt(a?2:0,r,e),e(i,r)}finally{la(o),Lt(a?3:1,r,e)}}function ub(t,n,e){UN(t,n,e),(e.flags&64)===64&&zN(t,n,e)}function rp(t,n,e=Zn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(n,t):t[a];t[r++]=s}}}function VN(t,n,e,i){let o=i.get(Cx,wx)||e===Sr.ShadowDom||e===Sr.ExperimentalIsolatedShadowDom,a=t.selectRootElement(n,o);return jN(a),a}function jN(t){HN(t)}var HN=()=>null;function qN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xx(t,n,e,i,r,o){let a=n[Ge];if(op(t,a,n,e,i)){ko(t)&&e1(n,t.index);return}t.type&3&&(e=qN(e)),Jx(t,n,e,i,r,o)}function Jx(t,n,e,i,r,o){if(t.type&3){let a=Zn(t,n);i=o!=null?o(i,t.value||"",e):i,r.setProperty(a,e,i)}else t.type&12}function e1(t,n){let e=Xn(n,t);e[Xe]&16||(e[Xe]|=64)}function UN(t,n,e){let i=e.directiveStart,r=e.directiveEnd;ko(e)&&SN(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Pm(e,n);let o=e.initialInputs;for(let a=i;a<r;a++){let s=t.data[a],l=vd(n,t,a,e);if(Il(l,n),o!==null&&WN(n,a-i,l,s,e,o),Kr(s)){let c=Xn(e.index,n);c[_i]=vd(n,t,a,e)}}}function zN(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=sE();try{la(o);for(let s=i;s<r;s++){let l=t.data[s],c=n[s];dm(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$N(l,c)}}finally{la(-1),dm(a)}}function $N(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function t1(t,n){let e=t.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];Lx(n,o.selectors,!1)&&(i??=[],Kr(o)?i.unshift(o):i.push(o))}return i}function GN(t,n,e,i,r,o){let a=Zn(t,n);i1(n[Vt],a,o,t.value,e,i,r)}function i1(t,n,e,i,r,o,a){if(o==null)t.removeAttribute(n,r,e);else{let s=a==null?Mi(o):a(o,i||"",r);t.setAttribute(n,r,s,e)}}function WN(t,n,e,i,r,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];w0(i,e,l,c)}}function n1(t,n,e,i,r){let o=ni+e,a=n[Ge],s=r(a,n,t,i,e);n[o]=s,_l(t,!0);let l=t.type===2;return l?(jx(n[Vt],s,t),(eE()===0||dd(t))&&Il(s,n),tE()):Il(s,n),pm()&&(!l||!Qm(t))&&cb(a,n,s,t),t}function r1(t){let n=t;return jy()?Hy():(n=n.parent,_l(n,!1)),n}function YN(t,n){let e=t[Co];if(!e)return;let i;try{i=e.get(Jn,null)}catch{i=null}i?.(n)}function op(t,n,e,i,r){let o=t.inputs?.[i],a=t.hostDirectiveInputs?.[i],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],d=a[l+1],u=n.data[c];w0(u,e[c],d,r),s=!0}if(o)for(let l of o){let c=e[l],d=n.data[l];w0(d,c,i,r),s=!0}return s}function KN(t,n){let e=Xn(n,t),i=e[Ge];QN(i,e);let r=e[fr];r!==null&&e[Ka]===null&&(e[Ka]=kx(r,e[Co])),Lt(18),hb(i,e,e[_i]),Lt(19,e[_i])}function QN(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function hb(t,n,e){hm(n);try{let i=t.viewQuery;i!==null&&m0(1,i,e);let r=t.template;r!==null&&Zx(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Wr]?.finishViewCreation(t),t.staticContentQueries&&Ex(t,n),t.staticViewQueries&&m0(2,t.viewQuery,e);let o=t.components;o!==null&&ZN(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[Xe]&=-5,mm()}}function ZN(t,n){for(let e=0;e<n.length;e++)KN(t,n[e])}function Td(t,n,e,i){let r=ze(null);try{let o=n.tView,s=t[Xe]&4096?4096:16,l=nb(t,o,e,s,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[aa]=c;let d=t[Wr];return d!==null&&(l[Wr]=d.createEmbeddedView(o)),hb(o,l,e),l}finally{ze(r)}}function Al(t,n){return!n||n.firstChild===null||fx(t)}function bd(t,n,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&i.push(Qn(o)),gr(o)&&o1(o,i);let a=e.type;if(a&8)bd(t,n,e.child,i);else if(a&32){let s=ob(e,n),l;for(;l=s();)i.push(l)}else if(a&16){let s=Kx(n,e);if(Array.isArray(s))i.push(...s);else{let l=na(n[_n]);bd(l[Ge],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function o1(t,n){for(let e=hi;e<t.length;e++){let i=t[e],r=i[Ge].firstChild;r!==null&&bd(i[Ge],i,r,n)}t[sa]!==t[fr]&&n.push(t[sa])}function a1(t){if(t[Xa]!==null){for(let n of t[Xa])n.impl.addSequence(n);t[Xa].length=0}}var s1=[];function XN(t){return t[Hn]??JN(t)}function JN(t){let n=s1.pop()??Object.create(t2);return n.lView=t,n}function e2(t){t.lView[Hn]!==t&&(t.lView=null,s1.push(t))}var t2=Ie(W({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{is(t.lView)},consumerOnSignalRead(){this.lView[Hn]=this}});function i2(t){let n=t[Hn]??Object.create(n2);return n.lView=t,n}var n2=Ie(W({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=na(t.lView);for(;n&&!l1(n[Ge]);)n=na(n);n&&Iy(n)},consumerOnSignalRead(){this.lView[Hn]=this}});function l1(t){return t.type!==2}function c1(t){if(t[ia]===null)return;let n=!0;for(;n;){let e=!1;for(let i of t[ia])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=e&&!!(t[Xe]&8192)}}var r2=100;function d1(t,n=0){let i=t[Gr].rendererFactory,r=!1;r||i.begin?.();try{o2(t,n)}finally{r||i.end?.()}}function o2(t,n){let e=qy();try{td(!0),k0(t,n);let i=0;for(;hd(t);){if(i===r2)throw new ee(103,!1);i++,k0(t,1)}}finally{td(e)}}function a2(t,n,e,i){if(ts(n))return;let r=n[Xe],o=!1,a=!1;hm(n);let s=!0,l=null,c=null;o||(l1(t)?(c=XN(n),l=Oa(c)):gh()===null?(s=!1,c=i2(n),l=Oa(c)):n[Hn]&&(Wo(n[Hn]),n[Hn]=null));try{My(n),rE(t.bindingStartIndex),e!==null&&Zx(t,n,e,2,i);let d=(r&3)===3;if(!o)if(d){let y=t.preOrderCheckHooks;y!==null&&Cm(n,y,null)}else{let y=t.preOrderHooks;y!==null&&km(n,y,0,null),Zy(n,0)}if(a||s2(n),c1(n),u1(n,0),t.contentQueries!==null&&Ex(t,n),!o)if(d){let y=t.contentCheckHooks;y!==null&&Cm(n,y)}else{let y=t.contentHooks;y!==null&&km(n,y,1),Zy(n,1)}c2(t,n);let u=t.components;u!==null&&m1(n,u,0);let v=t.viewQuery;if(v!==null&&m0(2,v,i),!o)if(d){let y=t.viewCheckHooks;y!==null&&Cm(n,y)}else{let y=t.viewHooks;y!==null&&km(n,y,2),Zy(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[om]){for(let y of n[om])y();n[om]=null}o||(a1(n),n[Xe]&=-73)}catch(d){throw o||is(n),d}finally{c!==null&&(Qs(c,l),s&&e2(c)),mm()}}function u1(t,n){for(let e=vx(t);e!==null;e=yx(e))for(let i=hi;i<e.length;i++){let r=e[i];h1(r,n)}}function s2(t){for(let n=vx(t);n!==null;n=yx(n)){if(!(n[Xe]&2))continue;let e=n[es];for(let i=0;i<e.length;i++){let r=e[i];Iy(r)}}}function l2(t,n,e){Lt(18);let i=Xn(n,t);h1(i,e),Lt(19,i[_i])}function h1(t,n){sm(t)&&k0(t,n)}function k0(t,n){let i=t[Ge],r=t[Xe],o=t[Hn],a=!!(n===0&&r&16);if(a||=!!(r&64&&n===0),a||=!!(r&1024),a||=!!(o?.dirty&&Zs(o)),a||=!1,o&&(o.dirty=!1),t[Xe]&=-9217,a)a2(i,t,i.template,t[_i]);else if(r&8192){let s=ze(null);try{c1(t),u1(t,1);let l=i.components;l!==null&&m1(t,l,1),a1(t)}finally{ze(s)}}}function m1(t,n,e){for(let i=0;i<n.length;i++)l2(t,n[i],e)}function c2(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)la(~r);else{let o=r,a=e[++i],s=e[++i];aE(a,o);let l=n[o];Lt(24,l),s(2,l),Lt(25,l)}}}finally{la(-1)}}function mb(t,n){let e=qy()?64:1088;for(t[Gr].changeDetectionScheduler?.notify(n);t;){t[Xe]|=e;let i=na(t);if(bl(t)&&!i)return t;t=i}return null}function p1(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function f1(t,n){let e=hi+n;if(e<t.length)return t[e]}function Dd(t,n,e,i=!0){let r=n[Ge];if(d2(r,n,t,e),i){let a=C0(e,t),s=n[Vt],l=s.parentNode(t[sa]);l!==null&&DN(r,t[bn],s,n,l,a)}let o=n[Ka];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function g1(t,n){let e=_d(t,n);return e!==void 0&&ip(e[Ge],e),e}function _d(t,n){if(t.length<=hi)return;let e=hi+n,i=t[e];if(i){let r=i[aa];r!==null&&r!==t&&lb(r,i),n>0&&(t[e-1][Kn]=i[Kn]);let o=ad(t,hi+n);TN(i[Ge],i);let a=o[Wr];a!==null&&a.detachView(o[Ge]),i[Ni]=null,i[Kn]=null,i[Xe]&=-129}return i}function d2(t,n,e,i){let r=hi+i,o=e.length;i>0&&(e[r-1][Kn]=n),i<o-hi?(n[Kn]=e[r],my(e,hi+i,n)):(e.push(n),n[Kn]=null),n[Ni]=e;let a=n[aa];a!==null&&e!==a&&v1(a,n);let s=n[Wr];s!==null&&s.insertView(t),lm(n),n[Xe]|=128}function v1(t,n){let e=t[es],i=n[Ni];if(Yr(i))t[Xe]|=2;else{let r=i[Ni][_n];n[_n]!==r&&(t[Xe]|=2)}e===null?t[es]=[n]:e.push(n)}var ca=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[Ge];return bd(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[_i]}set context(n){this._lView[_i]=n}get destroyed(){return ts(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ni];if(gr(n)){let e=n[cd],i=e?e.indexOf(this):-1;i>-1&&(_d(n,i),ad(e,i))}this._attachedToViewContainer=!1}ip(this._lView[Ge],this._lView)}onDestroy(n){Ay(this._lView,n)}markForCheck(){mb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Xe]&=-129}reattach(){lm(this._lView),this._lView[Xe]|=128}detectChanges(){this._lView[Xe]|=1024,d1(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=bl(this._lView),e=this._lView[aa];e!==null&&!n&&lb(e,this._lView),Gx(this._lView[Ge],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=n;let e=bl(this._lView),i=this._lView[aa];i!==null&&!e&&v1(i,this._lView),lm(this._lView)}};var Si=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=u2;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Td(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new ca(o)}}return t})();function u2(){return ap(zi(),xe())}function ap(t,n){return t.type&4?new Si(n,t,Fl(t,n)):null}function Nl(t,n,e,i,r){let o=t.data[n];if(o===null)o=h2(t,n,e,i,r),oE()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=iE();o.injectorIndex=a===null?-1:a.injectorIndex}return _l(o,!0),o}function h2(t,n,e,i,r){let o=Vy(),a=jy(),s=a?o:o&&o.parent,l=t.data[n]=p2(t,s,e,n,i,r);return m2(t,l,o,a),l}function m2(t,n,e,i){t.firstChild===null&&(t.firstChild=n),e!==null&&(i?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function p2(t,n,e,i,r,o){let a=n?n.injectorIndex:-1,s=0;return Ly()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function f2(t){let n=t[ky]??[],i=t[Ni][Vt],r=[];for(let o of n)o.data[Sx]!==void 0?r.push(o):g2(o,i);t[ky]=r}function g2(t,n){let e=0,i=t.firstChild;if(i){let r=t.data[_x];for(;e<r;){let o=i.nextSibling;Vx(n,i,!1),i=o,e++}}}var v2=()=>null,y2=()=>null;function Fm(t,n){return v2(t,n)}function y1(t,n,e){return y2(t,n,e)}var b1=class{},sp=class{},E0=class{resolveComponentFactory(n){throw new ee(917,!1)}},Md=class{static NULL=new E0},si=class{},Mt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>b2()}return t})();function b2(){let t=xe(),n=zi(),e=Xn(n.index,t);return(Yr(e)?e:t)[Vt]}var _1=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();var xm={},x0=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){let r=this.injector.get(n,xm,i);return r!==xm||e===xm?r:this.parentInjector.get(n,e,i)}};function Om(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)r=Xh(r,s);else if(o==2){let l=s,c=n[++a];i=Xh(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function R(t,n=0){let e=xe();if(e===null)return L(t,n);let i=zi();return ux(i,e,Zi(t),n)}function pb(){let t="invalid";throw new Error(t)}function S1(t,n,e,i,r){let o=i===null?null:{"":-1},a=r(t,e);if(a!==null){let s=a,l=null,c=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,l,c]=d.resolveHostDirectives(a);break}w2(t,n,e,s,o,l,c)}o!==null&&i!==null&&_2(e,i,o)}function _2(t,n,e){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new ee(-301,!1);i.push(n[r],o)}}function S2(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function w2(t,n,e,i,r,o,a){let s=i.length,l=!1;for(let v=0;v<s;v++){let y=i[v];!l&&Kr(y)&&(l=!0,S2(t,e,v)),c0(Pm(e,n),t,y.type)}D2(e,t.data.length,s);for(let v=0;v<s;v++){let y=i[v];y.providersResolver&&y.providersResolver(y)}let c=!1,d=!1,u=qx(t,n,s,null);s>0&&(e.directiveToIndex=new Map);for(let v=0;v<s;v++){let y=i[v];if(e.mergedAttrs=Ml(e.mergedAttrs,y.hostAttrs),k2(t,e,n,u,y),T2(u,y,r),a!==null&&a.has(y)){let[S,P]=a.get(y);e.directiveToIndex.set(y.type,[u,S+e.directiveStart,P+e.directiveStart])}else(o===null||!o.has(y))&&e.directiveToIndex.set(y.type,u);y.contentQueries!==null&&(e.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(e.flags|=64);let g=y.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!d&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),d=!0),u++}C2(t,e,o)}function C2(t,n,e){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=t.data[i];if(e===null||!e.has(r))NE(0,n,r,i),NE(1,n,r,i),VE(n,i,!1);else{let o=e.get(r);BE(0,n,o,i),BE(1,n,o,i),VE(n,i,!0)}}}function NE(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;t===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(i),w1(n,o)}}function BE(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;t===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),w1(n,a)}}function w1(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function VE(t,n,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!e&&r===null||e&&o===null||tb(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let l=i[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===n){a??=[],a.push(l,i[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===n){a??=[],a.push(c[d+1],i[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function k2(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=ta(r.type,!0)),a=new os(o,Kr(r),R,null);t.blueprint[i]=a,e[i]=a,E2(t,n,i,qx(t,e,r.hostVars,Vi),r)}function E2(t,n,e,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~n.index;x2(a)!=s&&a.push(s),a.push(e,i,o)}}function x2(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function T2(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Kr(n)&&(e[""]=t)}}function D2(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function C1(t,n,e,i,r,o,a,s){let l=n[Ge],c=l.consts,d=qn(c,a),u=Nl(l,t,e,i,d);return o&&S1(l,n,u,qn(c,s),r),u.mergedAttrs=Ml(u.mergedAttrs,u.attrs),u.attrs!==null&&Om(u,u.attrs,!1),u.mergedAttrs!==null&&Om(u,u.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,u),u}function k1(t,n){ix(t,n),Ey(n)&&t.queries.elementEnd(n)}function M2(t,n,e,i,r,o){let a=n.consts,s=qn(a,r),l=Nl(n,t,e,i,s);if(l.mergedAttrs=Ml(l.mergedAttrs,l.attrs),o!=null){let c=qn(a,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&Om(l,l.attrs,!1),l.mergedAttrs!==null&&Om(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function fb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function lp(t,n,e){return t[n]=e}function I2(t,n){return t[n]}function Sn(t,n,e){if(e===Vi)return!1;let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function Sd(t,n,e,i){let r=Sn(t,n,e);return Sn(t,n+1,i)||r}function E1(t,n,e,i,r){let o=Sd(t,n,e,i);return Sn(t,n+2,r)||o}function jE(t,n,e,i,r,o){let a=Sd(t,n,e,i);return Sd(t,n+2,r,o)||a}function Tm(t,n,e){return function i(r){let o=ko(t)?Xn(t.index,n):n;mb(o,5);let a=n[_i],s=HE(n,a,e,r),l=i.__ngNextListenerFn__;for(;l;)s=HE(n,a,l,r)&&s,l=l.__ngNextListenerFn__;return s}}function HE(t,n,e,i){let r=ze(null);try{return Lt(6,n,e),e(i)!==!1}catch(o){return YN(t,o),!1}finally{Lt(7,n,e),ze(r)}}function x1(t,n,e,i,r,o,a,s){let l=dd(t),c=!1,d=null;if(!i&&l&&(d=P2(n,e,o,t.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,c=!0}else{let u=Zn(t,e),v=i?i(u):u;NL(e,v,o,s);let y=r.listen(v,o,s);if(!A2(o)){let g=i?S=>i(Qn(S[t.index])):t.index;T1(g,n,e,o,s,y,!1)}}return c}function A2(t){return t.startsWith("animation")||t.startsWith("transition")}function P2(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=n[vl],l=r[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function T1(t,n,e,i,r,o,a){let s=n.firstCreatePass?Ry(n):null,l=Py(e),c=l.length;l.push(r,o),s&&s.push(i,t,c,(c+1)*(a?-1:1))}function qE(t,n,e,i,r,o){let a=n[e],s=n[Ge],c=s.data[e].outputs[i],u=a[c].subscribe(o);T1(t.index,s,n,r,o,u,!0)}var T0=Symbol("BINDING");var Lm=class extends Md{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=$r(n);return new da(e,this.ngModule)}};function R2(t){return Object.keys(t).map(n=>{let[e,i,r]=t[n],o={propName:e,templateName:n,isSignal:(i&Jm.SignalBased)!==0};return r&&(o.transform=r),o})}function F2(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function O2(t,n,e){let i=n instanceof qt?n:n?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new x0(e,i):e}function L2(t){let n=t.get(si,null);if(n===null)throw new ee(407,!1);let e=t.get(_1,null),i=t.get(pr,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function N2(t,n){let e=D1(t);return Nx(n,e,e==="svg"?xy:e==="math"?Yk:null)}function D1(t){return(t.selectors[0][0]||"div").toLowerCase()}var da=class extends sp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=R2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=F2(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=mN(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,i,r,o,a){Lt(22);let s=ze(null);try{let l=this.componentDef,c=B2(i,l,a,o),d=O2(l,r||this.ngModule,n),u=L2(d),v=u.rendererFactory.createRenderer(null,l),y=i?VN(v,i,l.encapsulation,d):N2(l,v),g=a?.some(UE)||o?.some(M=>typeof M!="function"&&M.bindings.some(UE)),S=nb(null,c,null,512|Hx(l),null,null,u,v,d,null,kx(y,d,!0));S[ni]=y,hm(S);let P=null;try{let M=C1(ni,S,2,"#host",()=>c.directiveRegistry,!0,0);jx(v,y,M),Il(y,S),ub(c,S,M),xx(c,M,S),k1(c,M),e!==void 0&&j2(M,this.ngContentSelectors,e),P=Xn(M.index,S),S[_i]=P[_i],hb(c,S,null)}catch(M){throw P!==null&&u0(P),u0(S),M}finally{Lt(23),mm()}return new Nm(this.componentType,S,!!g)}finally{ze(s)}}};function B2(t,n,e,i){let r=t?["ng-version","21.0.0"]:pN(n.selectors[0]),o=null,a=null,s=0;if(e)for(let d of e)s+=d[T0].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let u=i[d];if(typeof u!="function")for(let v of u.bindings){s+=v[T0].requiredVars;let y=d+1;v.create&&(v.targetIdx=y,(o??=[]).push(v)),v.update&&(v.targetIdx=y,(a??=[]).push(v))}}let l=[n];if(i)for(let d of i){let u=typeof d=="function"?d:d.type,v=vy(u);l.push(v)}return ib(0,null,V2(o,a),1,s,l,null,null,null,[r],null)}function V2(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let i of t)i.create();if(e&2&&n)for(let i of n)i.update()}}function UE(t){let n=t[T0].kind;return n==="input"||n==="twoWay"}var Nm=class extends b1{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=ud(e[Ge],ni),this.location=Fl(this._tNode,e),this.instance=Xn(this._tNode.index,e)[_i],this.hostView=this.changeDetectorRef=new ca(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView,o=op(i,r[Ge],r,n,e);this.previousInputValues.set(n,e);let a=Xn(i.index,r);mb(a,1)}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function j2(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Pi=(()=>{class t{static __NG_ELEMENT_ID__=H2}return t})();function H2(){let t=zi();return I1(t,xe())}var q2=Pi,M1=class extends q2{_lContainer;_hostTNode;_hostLView;constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){let n=z0(this._hostTNode,this._hostLView);if(ox(n)){let e=Im(n,this._hostLView),i=Mm(n),r=e[Ge].data[i+8];return new rs(r,e)}else return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=zE(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=Fm(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,Al(this._hostTNode,a)),s}createComponent(n,e,i,r,o,a,s){let l=n&&!uL(n),c;if(l)c=e;else{let P=e||{};c=P.index,i=P.injector,r=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,a=P.directives,s=P.bindings}let d=l?n:new da($r(n)),u=i||this.parentInjector;if(!o&&d.ngModule==null){let M=(l?u:this.parentInjector).get(qt,null);M&&(o=M)}let v=$r(d.componentType??{}),y=Fm(this._lContainer,v?.id??null),g=y?.firstChild??null,S=d.create(u,r,g,o,a,s);return this.insertImpl(S.hostView,c,Al(this._hostTNode,y)),S}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(Qk(r)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let l=r[Ni],c=new M1(l,l[bn],l[Ni]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),a=this._lContainer;return Dd(a,r,o,i),n.attachToViewContainerRef(),my(e0(a),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=zE(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=_d(this._lContainer,e);i&&(ad(e0(this._lContainer),e),ip(i[Ge],i))}detach(n){let e=this._adjustIndex(n,-1),i=_d(this._lContainer,e);return i&&ad(e0(this._lContainer),e)!=null?new ca(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function zE(t){return t[cd]}function e0(t){return t[cd]||(t[cd]=[])}function I1(t,n){let e,i=n[t.index];return gr(i)?e=i:(e=p1(i,n,null,t),n[t.index]=e,rb(n,e)),z2(e,n,t,i),new M1(e,t,n)}function U2(t,n){let e=t[Vt],i=e.createComment(""),r=Zn(n,t),o=e.parentNode(r);return Rm(e,o,i,e.nextSibling(r),!1),i}var z2=W2,$2=()=>!1;function G2(t,n,e){return $2(t,n,e)}function W2(t,n,e,i){if(t[sa])return;let r;e.type&8?r=Qn(i):r=U2(n,e),t[sa]=r}var D0=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},M0=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)vb(n,e).matches!==null&&this.queries[e].setDirty()}},Bm=class{flags;read;predicate;constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=X2(n):this.predicate=n}},I0=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},A0=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,Y2(e,o)),this.matchTNodeWithReadOption(n,e,Em(e,n,o,!1,!1))}else i===Si?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Em(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ve||r===Pi||r===Si&&e.type&4)this.addMatch(e.index,-2);else{let o=Em(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function Y2(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function K2(t,n){return t.type&11?Fl(t,n):t.type&4?ap(t,n):null}function Q2(t,n,e,i){return e===-1?K2(n,t):e===-2?Z2(t,n,i):vd(t,t[Ge],e,n)}function Z2(t,n,e){if(e===ve)return Fl(n,t);if(e===Si)return ap(n,t);if(e===Pi)return I1(n,t)}function A1(t,n,e,i){let r=n[Wr].queries[i];if(r.matches===null){let o=t.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let d=o[c];s.push(Q2(n,d,a[l+1],e.metadata.read))}}r.matches=s}return r.matches}function P0(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let a=A1(t,n,r,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],d=n[-l];for(let u=hi;u<d.length;u++){let v=d[u];v[aa]===v[Ni]&&P0(v[Ge],v,c,i)}if(d[es]!==null){let u=d[es];for(let v=0;v<u.length;v++){let y=u[v];P0(y[Ge],y,c,i)}}}}}return i}function gb(t,n){return t[Wr].queries[n].queryList}function P1(t,n,e){let i=new _r((e&4)===4);return Jk(t,n,i,i.destroy),(n[Wr]??=new M0).queries.push(new D0(i))-1}function R1(t,n,e){let i=Yt();return i.firstCreatePass&&(O1(i,new Bm(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),P1(i,xe(),n)}function F1(t,n,e,i){let r=Yt();if(r.firstCreatePass){let o=zi();O1(r,new Bm(n,e,i),o.index),J2(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return P1(r,xe(),e)}function X2(t){return t.split(",").map(n=>n.trim())}function O1(t,n,e){t.queries===null&&(t.queries=new I0),t.queries.track(new A0(n,e))}function J2(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function vb(t,n){return t.queries.getByIndex(n)}function L1(t,n){let e=t[Ge],i=vb(e,n);return i.crossesNgTemplate?P0(e,t,n,[]):A1(e,t,i,n)}function N1(t,n,e){let i,r=Hc(()=>{i._dirtyCounter();let o=eB(i,t);if(n&&o===void 0)throw new ee(-951,!1);return o});return i=r[Hi],i._dirtyCounter=C(0),i._flatValue=void 0,r}function yb(t){return N1(!0,!1,t)}function bb(t){return N1(!0,!0,t)}function B1(t,n){let e=t[Hi];e._lView=xe(),e._queryIndex=n,e._queryList=gb(e._lView,n),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}function eB(t,n){let e=t._lView,i=t._queryIndex;if(e===void 0||i===void 0||e[Xe]&4)return n?void 0:tn;let r=gb(e,i),o=L1(e,i);return r.reset(o,px),n?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}var eo=class{},cp=class{};var Vm=class extends eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Lm(this);constructor(n,e,i,r=!0){super(),this.ngModuleType=n,this._parent=e;let o=gy(n);this._bootstrapComponents=Fx(o.bootstrap),this._r3Injector=$y(n,e,[{provide:eo,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...i],So(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},jm=class extends cp{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Vm(this.moduleType,n,[])}};var wd=class extends eo{injector;componentFactoryResolver=new Lm(this);instance=null;constructor(n){super();let e=new Wa([...n.providers,{provide:eo,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],n.parent||gl(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Bl(t,n,e=null){return new wd({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var tB=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=yy(!1,e.type),r=i.length>0?Bl([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(L(qt))})}return t})();function $(t){return kd(()=>{let n=V1(t),e=Ie(W({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(tB).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Sr.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&En("NgStandalone"),j1(e);let i=t.dependencies;return e.directiveDefs=$E(i,iB),e.pipeDefs=$E(i,Uk),e.id=oB(e),e})}function iB(t){return $r(t)||vy(t)}function Ne(t){return kd(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nB(t,n){if(t==null)return ra;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,s,l;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,l=r[3]||null):(o=r,a=r,s=Jm.None,l=null),e[o]=[i,s,l],n[o]=a}return e}function rB(t){if(t==null)return ra;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function we(t){return kd(()=>{let n=V1(t);return j1(n),n})}function Mo(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function V1(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||ra,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:nB(t.inputs,n),outputs:rB(t.outputs),debugInfo:null}}function j1(t){t.features?.forEach(n=>n(t))}function $E(t,n){return t?()=>{let e=typeof t=="function"?t():t,i=[];for(let r of e){let o=n(r);o!==null&&i.push(o)}return i}:null}function oB(t){let n=0,e=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function aB(t){return Object.getPrototypeOf(t.prototype).constructor}function It(t){let n=aB(t.type),e=!0,i=[t];for(;n;){let r;if(Kr(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ee(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let a=t;a.inputs=t0(t.inputs),a.declaredInputs=t0(t.declaredInputs),a.outputs=t0(t.outputs);let s=r.hostBindings;s&&uB(t,s);let l=r.viewQuery,c=r.contentQueries;if(l&&cB(t,l),c&&dB(t,c),sB(t,r),Fk(t.outputs,r.outputs),Kr(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(t),s===It&&(e=!1)}}n=Object.getPrototypeOf(n)}lB(i)}function sB(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e])}}function lB(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Ml(r.hostAttrs,e=Ml(e,r.hostAttrs))}}function t0(t){return t===ra?{}:t===tn?[]:t}function cB(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function dB(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function uB(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function H1(t,n,e,i,r,o,a,s){if(e.firstCreatePass){t.mergedAttrs=Ml(t.mergedAttrs,t.attrs);let d=t.tView=ib(2,t,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),d.queries=e.queries.embeddedTView(t))}s&&(t.flags|=s),_l(t,!1);let l=mB(e,n,t,i);pm()&&cb(e,n,l,t),Il(l,n);let c=p1(l,n,l,t);n[i+ni]=c,rb(n,c),G2(c,t,n)}function hB(t,n,e,i,r,o,a,s,l,c,d){let u=e+ni,v;return n.firstCreatePass?(v=Nl(n,u,4,a||null,s||null),Oy()&&S1(n,t,v,qn(n.consts,c),t1),ix(n,v)):v=n.data[u],H1(v,t,n,e,i,r,o,l),dd(v)&&ub(n,t,v),c!=null&&rp(t,v,d),v}function Pl(t,n,e,i,r,o,a,s,l,c,d){let u=e+ni,v;if(n.firstCreatePass){if(v=Nl(n,u,4,a||null,s||null),c!=null){let y=qn(n.consts,c);v.localNames=[];for(let g=0;g<y.length;g+=2)v.localNames.push(y[g],-1)}}else v=n.data[u];return H1(v,t,n,e,i,r,o,l),c!=null&&rp(t,v,d),v}function Jt(t,n,e,i,r,o,a,s){let l=xe(),c=Yt(),d=qn(c.consts,o);return hB(l,c,t,n,e,i,r,d,void 0,a,s),Jt}function dp(t,n,e,i,r,o,a,s){let l=xe(),c=Yt(),d=qn(c.consts,o);return Pl(l,c,t,n,e,i,r,d,void 0,a,s),dp}var mB=pB;function pB(t,n,e,i){return fm(!0),n[Vt].createComment("")}var up=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cs(t){return typeof t=="function"&&t[Hi]!==void 0}function _b(t){return cs(t)&&typeof t.set=="function"}var hp=new K(""),mp=new K(""),Id=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,Sy()&&(this._destroyRef=_(nn,{optional:!0})??void 0),Sb||(U1(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||t)(L(ce),L(q1),L(mp))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),q1=(()=>{class t{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Sb?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function U1(t){Sb=t}var Sb;function ha(t){return!!t&&typeof t.then=="function"}function wb(t){return!!t&&typeof t.subscribe=="function"}var Cb=new K("");function pp(t){return oa([{provide:Cb,multi:!0,useValue:t}])}var kb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=_(Cb,{optional:!0})??[];injector=_(le);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=Ui(this.injector,r);if(ha(o))e.push(o);else if(wb(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fp=new K("");function z1(){Ev(()=>{let t="";throw new ee(600,t)})}function $1(t){return t.isBoundToModule}var fB=10;var rn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Jn);afterRenderManager=_(tp);zonelessEnabled=_(El);rootEffectScheduler=_(ym);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Z;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(Zr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Se(e=>!e))}constructor(){_(to,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=_(qt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=le.NULL){return this._injector.get(ce).run(()=>{Lt(10);let a=e instanceof sp;if(!this._injector.get(kb).done){let g="";throw new ee(405,g)}let l;a?l=e:l=this._injector.get(Md).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=$1(l)?void 0:this._injector.get(eo),d=i||l.selector,u=l.create(r,[],d,c),v=u.location.nativeElement,y=u.injector.get(hp,null);return y?.registerApplication(v),u.onDestroy(()=>{this.detachView(u.hostView),gd(this.components,u),y?.unregisterApplication(v)}),this._loadComponent(u),Lt(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Lt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ep.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);let e=ze(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ze(e),this.afterTick.next(),Lt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(si,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<fB;)Lt(14),this.synchronizeOnce(),Lt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!hd(r))continue;let o=i&&!this.zonelessEnabled?0:1;d1(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>hd(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;gd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(fp,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>gd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ee(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gd(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function gp(t,n){let e=xe(),i=Qr();if(Sn(e,i,n)){let r=Yt(),o=wl();if(op(o,r,e,t,n))ko(o)&&e1(e,o.index);else{let s=Zn(o,e);i1(e[Vt],s,null,o.value,t,n,null)}}return gp}function Te(t,n,e,i){let r=xe(),o=Qr();if(Sn(r,o,n)){let a=Yt(),s=wl();GN(s,r,t,n,e,i)}return Te}var kne=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var R0=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}};function i0(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function gB(t,n,e,i){let r,o,a=0,s=t.length-1,l=void 0;if(Array.isArray(n)){ze(i);let c=n.length-1;for(ze(null);a<=s&&a<=c;){let d=t.at(a),u=n[a],v=i0(a,d,a,u,e);if(v!==0){v<0&&t.updateValue(a,u),a++;continue}let y=t.at(s),g=n[c],S=i0(s,y,c,g,e);if(S!==0){S<0&&t.updateValue(s,g),s--,c--;continue}let P=e(a,d),M=e(s,y),z=e(a,u);if(Object.is(z,M)){let G=e(c,g);Object.is(G,P)?(t.swap(a,s),t.updateValue(s,g),c--,s--):t.move(s,a),t.updateValue(a,u),a++;continue}if(r??=new Hm,o??=WE(t,a,s,e),F0(t,r,a,z))t.updateValue(a,u),a++,s++;else if(o.has(z))r.set(P,t.detach(a)),s--;else{let G=t.create(a,n[a]);t.attach(a,G),a++,s++}}for(;a<=c;)GE(t,r,e,a,n[a]),a++}else if(n!=null){ze(i);let c=n[Symbol.iterator]();ze(null);let d=c.next();for(;!d.done&&a<=s;){let u=t.at(a),v=d.value,y=i0(a,u,a,v,e);if(y!==0)y<0&&t.updateValue(a,v),a++,d=c.next();else{r??=new Hm,o??=WE(t,a,s,e);let g=e(a,v);if(F0(t,r,a,g))t.updateValue(a,v),a++,s++,d=c.next();else if(!o.has(g))t.attach(a,t.create(a,v)),a++,s++,d=c.next();else{let S=e(a,u);r.set(S,t.detach(a)),s--}}}for(;!d.done;)GE(t,r,e,t.length,d.value),d=c.next()}for(;a<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function F0(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function GE(t,n,e,i,r){if(F0(t,n,i,e(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function WE(t,n,e,i){let r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}var Hm=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function x(t,n,e,i,r,o,a,s){En("NgControlFlow");let l=xe(),c=Yt(),d=qn(c.consts,o);return Pl(l,c,t,n,e,i,r,d,256,a,s),Eb}function Eb(t,n,e,i,r,o,a,s){En("NgControlFlow");let l=xe(),c=Yt(),d=qn(c.consts,o);return Pl(l,c,t,n,e,i,r,d,512,a,s),Eb}function T(t,n){En("NgControlFlow");let e=xe(),i=Qr(),r=e[i]!==Vi?e[i]:-1,o=r!==-1?qm(e,ni+r):void 0,a=0;if(Sn(e,i,t)){let s=ze(null);try{if(o!==void 0&&g1(o,a),t!==-1){let l=ni+t,c=qm(e,l),d=B0(e[Ge],l),u=y1(c,d,e),v=Td(e,d,n,{dehydratedView:u});Dd(c,v,a,Al(d,u))}}finally{ze(s)}}else if(o!==void 0){let s=f1(o,a);s!==void 0&&(s[_i]=n)}}var O0=class{lContainer;$implicit;$index;constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-hi}};function vt(t,n){return n}var L0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function ne(t,n,e,i,r,o,a,s,l,c,d,u,v){En("NgControlFlow");let y=xe(),g=Yt(),S=l!==void 0,P=xe(),M=s?a.bind(P[_n][_i]):a,z=new L0(S,M);P[ni+t]=z,Pl(y,g,t+1,n,e,i,r,qn(g.consts,o),256),S&&Pl(y,g,t+2,l,c,d,u,qn(g.consts,v),512)}var N0=class extends R0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-hi}at(n){return this.getLView(n)[_i].$implicit}attach(n,e){let i=e[Ka];this.needsIndexUpdate||=n!==this.length,Dd(this.lContainer,e,n,Al(this.templateTNode,i)),vB(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,yB(this.lContainer,n),bB(this.lContainer,n)}create(n,e){let i=Fm(this.lContainer,this.templateTNode.tView.ssrId),r=Td(this.hostLView,this.templateTNode,new O0(this.lContainer,e,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){ip(n[Ge],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[_i].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[_i].$index=n}getLView(n){return _B(this.lContainer,n)}};function re(t){let n=ze(null),e=vr();try{let i=xe(),r=i[Ge],o=i[e],a=e+1,s=qm(i,a);if(o.liveCollection===void 0){let c=B0(r,a);o.liveCollection=new N0(s,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(gB(l,t,o.trackByFn,n),l.updateIndexes(),o.hasEmptyBlock){let c=Qr(),d=l.length===0;if(Sn(i,c,d)){let u=e+2,v=qm(i,u);if(d){let y=B0(r,u),g=y1(v,y,i),S=Td(i,y,void 0,{dehydratedView:g});Dd(v,S,0,Al(y,g))}else r.firstUpdatePass&&f2(v),g1(v,0)}}}finally{ze(n)}}function qm(t,n){return t[n]}function vB(t,n){if(t.length<=hi)return;let e=hi+n,i=t[e],r=i?i[Ja]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Co];EN(o,r),as.delete(i),r.detachedLeaveAnimationFns=void 0}}function yB(t,n){if(t.length<=hi)return;let e=hi+n,i=t[e],r=i?i[Ja]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function bB(t,n){return _d(t,n)}function _B(t,n){return f1(t,n)}function B0(t,n){return ud(t,n)}function A(t,n,e){let i=xe(),r=Qr();if(Sn(i,r,n)){let o=Yt(),a=wl();Xx(a,i,t,n,i[Vt],e)}return A}function V0(t,n,e,i,r){op(n,t,e,r?"class":"style",i)}function m(t,n,e,i){let r=xe(),o=r[Ge],a=t+ni,s=o.firstCreatePass?C1(a,r,2,n,t1,Oy(),e,i):o.data[a];if(n1(s,r,t,n,G1),dd(s)){let l=r[Ge];ub(l,r,s),xx(l,s,r)}return i!=null&&rp(r,s),m}function f(){let t=Yt(),n=zi(),e=r1(n);return t.firstCreatePass&&k1(t,e),Ny(e)&&By(),Fy(),e.classesWithoutHost!=null&&vL(e)&&V0(t,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yL(e)&&V0(t,e,xe(),e.stylesWithoutHost,!1),f}function H(t,n,e,i){return m(t,n,e,i),f(),H}function O(t,n,e,i){let r=xe(),o=r[Ge],a=t+ni,s=o.firstCreatePass?M2(a,o,2,n,e,i):o.data[a];return n1(s,r,t,n,G1),i!=null&&rp(r,s),O}function F(){let t=zi(),n=r1(t);return Ny(n)&&By(),Fy(),F}function Ce(t,n,e,i){return O(t,n,e,i),F(),Ce}var G1=(t,n,e,i,r)=>(fm(!0),Nx(n[Vt],i,mE()));function U(){return xe()}function ht(t,n,e){let i=xe(),r=Qr();if(Sn(i,r,n)){let o=Yt(),a=wl();Jx(a,i,t,n,i[Vt],e)}return ht}var pd=void 0;function SB(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var wB=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",pd,pd,pd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",SB],n0={};function vp(t){let n=CB(t),e=YE(n);if(e)return e;let i=n.split("-")[0];if(e=YE(i),e)return e;if(i==="en")return wB;throw new ee(701,!1)}function YE(t){return t in n0||(n0[t]=Bi.ng&&Bi.ng.common&&Bi.ng.common.locales&&Bi.ng.common.locales[t]),n0[t]}var ds=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ds||{});function CB(t){return t.toLowerCase().replace(/_/g,"-")}var Ad="en-US";var kB=Ad;function W1(t){typeof t=="string"&&(kB=t.toLowerCase().replace(/_/g,"-"))}function D(t,n,e){let i=xe(),r=Yt(),o=zi();return Y1(r,i,i[Vt],o,t,n,e),D}function ct(t,n,e){let i=xe(),r=Yt(),o=zi();return(o.type&3||e)&&x1(o,r,i,e,i[Vt],t,n,Tm(o,i,n)),ct}function Y1(t,n,e,i,r,o,a){let s=!0,l=null;if((i.type&3||a)&&(l??=Tm(i,n,o),x1(i,t,n,a,e,r,o,l)&&(s=!1)),s){let c=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let u=0;u<d.length;u+=2){let v=d[u],y=d[u+1];l??=Tm(i,n,o),qE(i,n,v,y,r,l)}if(c&&c.length)for(let u of c)l??=Tm(i,n,o),qE(i,n,u,r,r,l)}}function b(t=1){return hE(t)}function EB(t,n){let e=null,i=lN(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?Lx(t,o,!0):uN(i,o))return r}return e}function Kt(t){let n=xe()[_n][bn];if(!n.projection){let e=t?t.length:1,i=n.projection=Hk(e,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let a=t?EB(o,t):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function mt(t,n=0,e,i,r,o){let a=xe(),s=Yt(),l=i?t+1:null;l!==null&&Pl(a,s,l,i,r,o,null,e);let c=Nl(s,ni+t,16,null,e||null);c.projection===null&&(c.projection=n),Hy();let u=!a[Ka]||Ly();a[_n][bn].projection[c.projection]===null&&l!==null?xB(a,s,l):u&&!Qm(c)&&LN(s,a,c)}function xB(t,n,e){let i=ni+e,r=n.data[i],o=t[i],a=Fm(o,r.tView.ssrId),s=Td(t,r,void 0,{dehydratedView:a});Dd(o,s,0,Al(r,a))}function ei(t,n,e,i){F1(t,n,e,i)}function pt(t,n,e){R1(t,n,e)}function Pe(t){let n=xe(),e=Yt(),i=um();md(i+1);let r=vb(e,i);if(t.dirty&&Kk(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=L1(n,i);t.reset(o,px),t.notifyOnChanges()}return!0}return!1}function Re(){return gb(xe(),um())}function xb(t,n,e,i,r){B1(n,F1(t,e,i,r))}function wr(t,n,e,i){B1(t,R1(n,e,i))}function ma(t=1){md(um()+t)}function xn(t){let n=nE();return am(n,ni+t)}function wm(t,n){return t<<17|n<<2}function ss(t){return t>>17&32767}function TB(t){return(t&2)==2}function DB(t,n){return t&131071|n<<17}function j0(t){return t|2}function Rl(t){return(t&131068)>>2}function r0(t,n){return t&-131069|n<<2}function MB(t){return(t&1)===1}function H0(t){return t|1}function IB(t,n,e,i,r,o){let a=o?n.classBindings:n.styleBindings,s=ss(a),l=Rl(a);t[i]=e;let c=!1,d;if(Array.isArray(e)){let u=e;d=u[1],(d===null||fl(u,d)>0)&&(c=!0)}else d=e;if(r)if(l!==0){let v=ss(t[s+1]);t[i+1]=wm(v,s),v!==0&&(t[v+1]=r0(t[v+1],i)),t[s+1]=DB(t[s+1],i)}else t[i+1]=wm(s,0),s!==0&&(t[s+1]=r0(t[s+1],i)),s=i;else t[i+1]=wm(l,0),s===0?s=i:t[l+1]=r0(t[l+1],i),l=i;c&&(t[i+1]=j0(t[i+1])),KE(t,d,i,!0),KE(t,d,i,!1),AB(n,d,t,i,o),a=wm(s,l),o?n.classBindings=a:n.styleBindings=a}function AB(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&fl(o,n)>=0&&(e[i+1]=H0(e[i+1]))}function KE(t,n,e,i){let r=t[e+1],o=n===null,a=i?ss(r):Rl(r),s=!1;for(;a!==0&&(s===!1||o);){let l=t[a],c=t[a+1];PB(l,n)&&(s=!0,t[a+1]=i?H0(c):j0(c)),a=i?ss(c):Rl(c)}s&&(t[e+1]=i?j0(r):H0(r))}function PB(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?fl(t,n)>=0:!1}var br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RB(t){return t.substring(br.key,br.keyEnd)}function FB(t){return OB(t),K1(t,Q1(t,0,br.textEnd))}function K1(t,n){let e=br.textEnd;return e===n?-1:(n=br.keyEnd=LB(t,br.key=n,e),Q1(t,n,e))}function OB(t){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=t.length}function Q1(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function LB(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function Je(t,n,e){return Z1(t,n,e,!1),Je}function We(t,n){return Z1(t,n,null,!0),We}function Cr(t){BB(zB,NB,t,!0)}function NB(t,n){for(let e=FB(n);e>=0;e=K1(n,e))im(t,RB(n),!0)}function Z1(t,n,e,i){let r=xe(),o=Yt(),a=Sl(2);if(o.firstUpdatePass&&J1(o,t,a,i),n!==Vi&&Sn(r,a,n)){let s=o.data[vr()];eT(o,s,r,r[Vt],t,r[a+1]=GB(n,e),i,a)}}function BB(t,n,e,i){let r=Yt(),o=Sl(2);r.firstUpdatePass&&J1(r,null,o,i);let a=xe();if(e!==Vi&&Sn(a,o,e)){let s=r.data[vr()];if(tT(s,i)&&!X1(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(e=Xh(l,e||"")),V0(r,s,a,e,i)}else $B(r,s,a,a[Vt],a[o+1],a[o+1]=UB(t,n,e),i,o)}}function X1(t,n){return n>=t.expandoStartIndex}function J1(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[vr()],a=X1(t,e);tT(o,i)&&n===null&&!a&&(n=!1),n=VB(r,o,n,i),IB(r,o,n,e,a,i)}}function VB(t,n,e,i){let r=lE(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=o0(null,t,n,e,i),e=Cd(e,n.attrs,i),o=null);else{let a=n.directiveStylingLast;if(a===-1||t[a]!==r)if(e=o0(r,t,n,e,i),o===null){let l=jB(t,n,i);l!==void 0&&Array.isArray(l)&&(l=o0(null,t,n,l[1],i),l=Cd(l,n.attrs,i),HB(t,n,i,l))}else o=qB(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function jB(t,n,e){let i=e?n.classBindings:n.styleBindings;if(Rl(i)!==0)return t[ss(i)]}function HB(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[ss(r)]=i}function qB(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Cd(i,a,e)}return Cd(i,n.attrs,e)}function o0(t,n,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=n[s],i=Cd(i,o.hostAttrs,r),o!==t);)s++;return t!==null&&(e.directiveStylingLast=s),i}function Cd(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),im(t,a,e?!0:n[++o]))}return t===void 0?null:t}function UB(t,n,e){if(e==null||e==="")return tn;let i=[],r=Un(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function zB(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&im(t,i,e)}function $B(t,n,e,i,r,o,a,s){r===Vi&&(r=tn);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let v=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0,g=null,S;d===u?(l+=2,c+=2,v!==y&&(g=u,S=y)):u===null||d!==null&&d<u?(l+=2,g=d):(c+=2,g=u,S=y),g!==null&&eT(t,n,e,i,g,S,a,s),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}function eT(t,n,e,i,r,o,a,s){if(!(n.type&3))return;let l=t.data,c=l[s+1],d=MB(c)?QE(l,n,e,r,Rl(c),a):void 0;if(!Um(d)){Um(o)||TB(c)&&(o=QE(l,null,e,r,s,a));let u=Ty(vr(),e);BN(i,a,u,r,o)}}function QE(t,n,e,i,r,o){let a=n===null,s;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,v=e[r+1];v===Vi&&(v=u?tn:void 0);let y=u?nm(v,i):d===i?v:void 0;if(c&&!Um(y)&&(y=nm(l,i)),Um(y)&&(s=y,a))return s;let g=t[r+1];r=a?ss(g):Rl(g)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(s=nm(l,i))}return s}function Um(t){return t!==void 0}function GB(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=So(Un(t)))),t}function tT(t,n){return(t.flags&(n?8:16))!==0}function p(t,n=""){let e=xe(),i=Yt(),r=t+ni,o=i.firstCreatePass?Nl(i,r,1,n,null):i.data[r],a=WB(i,e,o,n,t);e[r]=a,pm()&&cb(i,e,a,o),_l(o,!1)}var WB=(t,n,e,i,r)=>(fm(!0),fN(n[Vt],i));function iT(t,n,e,i=""){return Sn(t,Qr(),e)?n+Mi(e)+i:Vi}function nT(t,n,e,i,r,o=""){let a=cm(),s=Sd(t,a,e,r);return Sl(2),s?n+Mi(e)+i+Mi(r)+o:Vi}function rT(t,n,e,i,r,o,a,s=""){let l=cm(),c=E1(t,l,e,r,a);return Sl(3),c?n+Mi(e)+i+Mi(r)+o+Mi(a)+s:Vi}function YB(t,n,e,i,r,o,a,s,l,c,d,u,v,y,g,S,P,M=""){let z=cm(),G=jE(t,z,e,r,a,l);return G=jE(t,z+4,d,v,g,P)||G,Sl(8),G?n+Mi(e)+i+Mi(r)+o+Mi(a)+s+Mi(l)+c+Mi(d)+u+Mi(v)+y+Mi(g)+S+Mi(P)+M:Vi}function he(t){return N("",t),he}function N(t,n,e){let i=xe(),r=iT(i,t,n,e);return r!==Vi&&Tb(i,vr(),r),N}function Qt(t,n,e,i,r){let o=xe(),a=nT(o,t,n,e,i,r);return a!==Vi&&Tb(o,vr(),a),Qt}function kr(t,n,e,i,r,o,a){let s=xe(),l=rT(s,t,n,e,i,r,o,a);return l!==Vi&&Tb(s,vr(),l),kr}function Tb(t,n,e){let i=Ty(n,t);gN(t[Vt],i,e)}function er(t,n,e){_b(n)&&(n=n());let i=xe(),r=Qr();if(Sn(i,r,n)){let o=Yt(),a=wl();Xx(a,i,t,n,i[Vt],e)}return er}function Er(t,n){let e=_b(t);return e&&t.set(n),e}function tr(t,n){let e=xe(),i=Yt(),r=zi();return Y1(i,e,e[Vt],r,t,n),tr}function X(t){return Sn(xe(),Qr(),t)?Mi(t):Vi}function bt(t,n,e=""){return iT(xe(),t,n,e)}function on(t,n,e,i,r=""){return nT(xe(),t,n,e,i,r)}function Pd(t,n,e,i,r,o,a=""){return rT(xe(),t,n,e,i,r,o,a)}function Rd(t,n,e,i,r,o,a,s,l,c,d,u,v,y,g,S,P=""){return YB(xe(),t,n,e,i,r,o,a,s,l,c,d,u,v,y,g,S,P)}function KB(t,n,e){let i=Yt();if(i.firstCreatePass){let r=Kr(t);q0(e,i.data,i.blueprint,r,!0),q0(n,i.data,i.blueprint,r,!1)}}function q0(t,n,e,i,r){if(t=Zi(t),Array.isArray(t))for(let o=0;o<t.length;o++)q0(t[o],n,e,i,r);else{let o=Yt(),a=xe(),s=zi(),l=Ga(t)?t:Zi(t.provide),c=_y(t),d=s.providerIndexes&1048575,u=s.directiveStart,v=s.providerIndexes>>20;if(Ga(t)||!t.multi){let y=new os(c,r,R,null),g=s0(l,n,r?d:d+v,u);g===-1?(c0(Pm(s,a),o,l),a0(o,t,n.length),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(y),a.push(y)):(e[g]=y,a[g]=y)}else{let y=s0(l,n,d+v,u),g=s0(l,n,d,d+v),S=y>=0&&e[y],P=g>=0&&e[g];if(r&&!P||!r&&!S){c0(Pm(s,a),o,l);let M=XB(r?ZB:QB,e.length,r,i,c,t);!r&&P&&(e[g].providerFactory=M),a0(o,t,n.length,0),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(M),a.push(M)}else{let M=oT(e[r?g:y],c,!r&&i);a0(o,t,y>-1?y:g,M)}!r&&i&&P&&e[g].componentProviders++}}}function a0(t,n,e,i){let r=Ga(n),o=Gk(n);if(r||o){let l=(o?Zi(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let d=c.indexOf(e);d===-1?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function oT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function s0(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function QB(t,n,e,i,r){return U0(this.multi,[])}function ZB(t,n,e,i,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=vd(i,i[Ge],this.providerFactory.index,r);a=l.slice(0,s),U0(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],U0(o,a);return a}function U0(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function XB(t,n,e,i,r,o){let a=new os(t,e,R,null);return a.multi=[],a.index=n,a.componentProviders=0,oT(a,r,i&&!e),a}function Ut(t,n=[]){return e=>{e.providersResolver=(i,r)=>KB(i,r?r(t):t,n)}}function yp(t,n,e){let i=ns()+t,r=xe();return r[i]===Vi?lp(r,i,e?n.call(e):n()):I2(r,i)}function ft(t,n,e,i){return aT(xe(),ns(),t,n,e,i)}function mi(t,n,e,i,r){return sT(xe(),ns(),t,n,e,i,r)}function Db(t,n,e,i,r,o){return JB(xe(),ns(),t,n,e,i,r,o)}function Mb(t,n){let e=t[n];return e===Vi?void 0:e}function aT(t,n,e,i,r,o){let a=n+e;return Sn(t,a,r)?lp(t,a+1,o?i.call(o,r):i(r)):Mb(t,a+1)}function sT(t,n,e,i,r,o,a){let s=n+e;return Sd(t,s,r,o)?lp(t,s+2,a?i.call(a,r,o):i(r,o)):Mb(t,s+2)}function JB(t,n,e,i,r,o,a,s){let l=n+e;return E1(t,l,r,o,a)?lp(t,l+3,s?i.call(s,r,o,a):i(r,o,a)):Mb(t,l+3)}function B(t,n){let e=Yt(),i,r=t+ni;e.firstCreatePass?(i=eV(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=ta(i.type,!0)),a,s=yn(R);try{let l=Am(!1),c=o();return Am(l),Dy(e,xe(),r,c),c}finally{yn(s)}}function eV(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function V(t,n,e){let i=t+ni,r=xe(),o=am(r,i);return lT(r,i)?aT(r,ns(),n,o.transform,e,o):o.transform(e)}function zn(t,n,e,i){let r=t+ni,o=xe(),a=am(o,r);return lT(o,r)?sT(o,ns(),n,a.transform,e,i,a):a.transform(e,i)}function lT(t,n){return t[Ge].data[n].pure}function Ib(t,n){return ap(t,n)}var zm=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Ab=(()=>{class t{compileModuleSync(e){return new jm(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=gy(e),o=Fx(r.declarations).reduce((a,s)=>{let l=$r(s);return l&&a.push(new da(l)),a},[]);return new zm(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cT=(()=>{class t{applicationErrorHandler=_(Jn);appRef=_(rn);taskService=_(Zr);ngZone=_(ce);zonelessEnabled=_(El);tracing=_(to,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Yy:Wy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dT(){return[{provide:pr,useExisting:cT},{provide:ce,useClass:rd},{provide:El,useValue:!0}]}function tV(){return typeof $localize<"u"&&$localize.locale||Ad}var Vl=new K("",{factory:()=>_(Vl,{optional:!0,skipSelf:!0})||tV()});function Tn(t,n){return Hc(t,n?.equal)}var fT=Symbol("InputSignalNode#UNSET"),hV=Ie(W({},Uc),{transformFn:void 0,applyValueToInputSignal(t,n){qc(t,n)}});function gT(t,n){let e=Object.create(hV);e.value=t,e.transformFn=n?.transform;function i(){if(Ks(e),e.value===fT){let r=null;throw new ee(-950,r)}return e.value}return i[Hi]=e,i}var pa=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>$m(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function uT(t,n){return gT(t,n)}function mV(t){return gT(fT,t)}var Od=(uT.required=mV,uT);function hT(t,n){return yb(n)}function pV(t,n){return bb(n)}var io=(hT.required=pV,hT);function mT(t,n){return yb(n)}function fV(t,n){return bb(n)}var vT=(mT.required=fV,mT);var gV=(()=>{class t{zone=_(ce);changeDetectionScheduler=_(pr);applicationRef=_(rn);applicationErrorHandler=_(Jn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vV=new K("",{factory:()=>!1});function yV({ngZoneFactory:t,scheduleInRootZone:n}){return t??=()=>new ce(Ie(W({},bT()),{scheduleInRootZone:n})),[{provide:El,useValue:!1},{provide:ce,useFactory:t},{provide:wo,multi:!0,useFactory:()=>{let e=_(gV,{optional:!0});return()=>e.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let e=_(bV);return()=>{e.initialize()}}},{provide:gm,useValue:n??Gy}]}function yT(t){let n=t?.scheduleInRootZone,e=yV({ngZoneFactory:()=>{let i=bT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&En("NgZone_CoalesceEvent"),new ce(i)},scheduleInRootZone:n});return oa([{provide:vV,useValue:!0},e])}function bT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bV=(()=>{class t{subscription=new qe;initialized=!1;zone=_(ce);pendingTasks=_(Zr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Rb=new K(""),_V=new K("");function Fd(t){return!t.moduleRef}function SV(t){let n=Fd(t)?t.r3Injector:t.moduleRef.injector,e=n.get(ce);return e.run(()=>{Fd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(Jn),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Fd(t)){let o=()=>n.destroy(),a=t.platformInjector.get(Rb);a.add(o),n.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Rb);a.add(o),t.moduleRef.onDestroy(()=>{gd(t.allPlatformModules,t.moduleRef),r.unsubscribe(),a.delete(o)})}return CV(i,e,()=>{let o=n.get(Zr),a=o.add(),s=n.get(kb);return s.runInitializers(),s.donePromise.then(()=>{let l=n.get(Vl,Ad);if(W1(l||Ad),!n.get(_V,!0))return Fd(t)?n.get(rn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Fd(t)){let d=n.get(rn);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return wV?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var wV;function CV(t,n,e){try{let i=e();return ha(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t(i)),i}}var bp=null;function kV(t=[],n){return le.create({name:n,providers:[{provide:sd,useValue:"platform"},{provide:Rb,useValue:new Set([()=>bp=null])},...t]})}function EV(t=[]){if(bp)return bp;let n=kV(t);return bp=n,z1(),xV(n),n}function xV(t){let n=t.get(Gm,null);Ui(t,()=>{n?.forEach(e=>e())})}var At=(()=>{class t{static __NG_ELEMENT_ID__=TV}return t})();function TV(t){return DV(zi(),xe(),(t&16)===16)}function DV(t,n,e){if(ko(t)&&!e){let i=Xn(t.index,n);return new ca(i,i)}else if(t.type&175){let i=n[_n];return new ca(i,n)}return null}var Fb=class{constructor(){}supports(n){return n instanceof Map||fb(n)}create(){return new Ob}},Ob=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||fb(n)))throw new ee(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new Lb(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},Lb=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function pT(){return new Vb([new Fb])}var Vb=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:pT});factories;constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:()=>{let i=_(t,{optional:!0,skipSelf:!0});return t.create(e,i||pT())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ee(901,!1)}}return t})();var _T=(()=>{class t{constructor(e){}static \u0275fac=function(i){return new(i||t)(L(rn))};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();function ST(t){let{rootComponent:n,appProviders:e,platformProviders:i,platformRef:r}=t;Lt(8);try{let o=r?.injector??EV(i),a=[dT(),gE,...e||[]],s=new wd({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return SV({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{Lt(9)}}function He(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Dn(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}var Pb=Symbol("NOT_SET"),wT=new Set,MV=Ie(W({},Uc),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Pb,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Pb&&!Zs(this))return this.signal;try{for(let r of this.cleanup??wT)r()}finally{this.cleanup?.clear()}let n=[];t!==void 0&&n.push(t),n.push(this.registerCleanupFn);let e=Oa(this),i;try{i=this.userFn.apply(null,n)}finally{Qs(this,e)}return(this.value===Pb||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),Nb=class extends yd{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(n,e,i,r,o,a=null){super(n,[void 0,void 0,void 0,void 0],i,!1,o.get(nn),a),this.scheduler=r;for(let s of ab){let l=e[s];if(l===void 0)continue;let c=Object.create(MV);c.sequence=this,c.phase=s,c.userFn=l,c.dirty=!0,c.signal=()=>(Ks(c),c.value),c.signal[Hi]=c,c.registerCleanupFn=d=>(c.cleanup??=new Set).add(d),this.nodes[s]=c,this.hooks[s]=d=>c.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let n of this.nodes)if(n)try{for(let e of n.cleanup??wT)e()}finally{Wo(n)}}};function CT(t,n){let e=n?.injector??_(le),i=e.get(pr),r=e.get(tp),o=e.get(to,null,{optional:!0});r.impl??=e.get(sb);let a=t;typeof a=="function"&&(a={mixedReadWrite:t});let s=e.get(kl,null,{optional:!0}),l=new Nb(r.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,i,e,o?.snapshot(null));return r.impl.register(l),l}function _p(t,n){let e=$r(t),i=n.elementInjector||gl();return new da(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function kT(t){let n=$r(t);if(!n)return null;let e=new da(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var us={appVersion:ET().version,production:!0};var DT=null;function no(){return DT}function jb(t){DT??=t}var Ld=class{},Nd=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(MT),providedIn:"platform"})}return t})(),Hb=new K(""),MT=(()=>{class t extends Nd{_location;_history;_doc=_(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return no().getBaseHref(this._doc)}onPopState(e){let i=no().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=no().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Sp(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function xT(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function xr(t){return t&&t[0]!=="?"?`?${t}`:t}var Io=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(Cp),providedIn:"root"})}return t})(),wp=new K(""),Cp=(()=>{class t extends Io{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Sp(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+xr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+xr(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+xr(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(L(Nd),L(wp,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ro=(()=>{class t{_subject=new Z;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=RV(xT(TT(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+xr(i))}normalize(e){return t.stripTrailingSlash(PV(this._basePath,TT(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=xr;static joinWithSlash=Sp;static stripTrailingSlash=xT;static \u0275fac=function(i){return new(i||t)(L(Io))};static \u0275prov=q({token:t,factory:()=>AV(),providedIn:"root"})}return t})();function AV(){return new ro(L(Io))}function PV(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function TT(t){return t.replace(/\/index.html$/,"")}function RV(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var $b=(()=>{class t extends Io{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Sp(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+xr(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+xr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(L(Nd),L(wp,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();var Ep=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Ep||{});var Mn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fa(t,n){let e=vp(t),i=e[ds.NumberSymbols][n];if(typeof i>"u"){if(n===Mn.CurrencyDecimal)return e[ds.NumberSymbols][Mn.Decimal];if(n===Mn.CurrencyGroup)return e[ds.NumberSymbols][Mn.Group]}return i}function Gb(t,n){return vp(t)[ds.NumberFormats][n]}var OV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,IT=22,kp=".",Bd="0",LV=";",NV=",",qb="#";var BV="%";function RT(t,n,e,i,r,o,a=!1){let s="",l=!1;if(!isFinite(t))s=fa(e,Mn.Infinity);else{let c=jV(t);a&&(c=VV(c));let d=n.minInt,u=n.minFrac,v=n.maxFrac;if(o){let z=o.match(OV);if(z===null)throw new ee(2306,!1);let G=z[1],Y=z[3],ge=z[5];G!=null&&(d=Ub(G)),Y!=null&&(u=Ub(Y)),ge!=null?v=Ub(ge):Y!=null&&u>v&&(v=u)}HV(c,u,v);let y=c.digits,g=c.integerLen,S=c.exponent,P=[];for(l=y.every(z=>!z);g<d;g++)y.unshift(0);for(;g<0;g++)y.unshift(0);g>0?P=y.splice(g,y.length):(P=y,y=[0]);let M=[];for(y.length>=n.lgSize&&M.unshift(y.splice(-n.lgSize,y.length).join(""));y.length>n.gSize;)M.unshift(y.splice(-n.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),s=M.join(fa(e,i)),P.length&&(s+=fa(e,r)+P.join("")),S&&(s+=fa(e,Mn.Exponential)+"+"+S)}return t<0&&!l?s=n.negPre+s+n.negSuf:s=n.posPre+s+n.posSuf,s}function FT(t,n,e){let i=Gb(n,Ep.Percent),r=LT(i,fa(n,Mn.MinusSign));return RT(t,r,n,Mn.Group,Mn.Decimal,e,!0).replace(new RegExp(BV,"g"),fa(n,Mn.PercentSign))}function OT(t,n,e){let i=Gb(n,Ep.Decimal),r=LT(i,fa(n,Mn.MinusSign));return RT(t,r,n,Mn.Group,Mn.Decimal,e)}function LT(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(LV),r=i[0],o=i[1],a=r.indexOf(kp)!==-1?r.split(kp):[r.substring(0,r.lastIndexOf(Bd)+1),r.substring(r.lastIndexOf(Bd)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(qb));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Bd?e.minFrac=e.maxFrac=d+1:u===qb?e.maxFrac=d+1:e.posSuf+=u}let c=s.split(NV);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,u=o.indexOf(qb);e.negPre=o.substring(0,u).replace(/'/g,""),e.negSuf=o.slice(u+d).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function VV(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function jV(t){let n=Math.abs(t)+"",e=0,i,r,o,a,s;for((r=n.indexOf(kp))>-1&&(n=n.replace(kp,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Bd;o++);if(o===(s=n.length))i=[0],r=1;else{for(s--;n.charAt(s)===Bd;)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(n.charAt(o))}return r>IT&&(i=i.splice(0,IT-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function HV(t,n,e){if(n>e)throw new ee(2307,!1);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(n,r),e),a=o+t.integerLen,s=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(let u=a;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(let u=0;u>a;u--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=n+t.integerLen,d=i.reduceRight(function(u,v,y,g){return v=v+u,g[y]=v<10?v:v-10,l&&(g[y]===0&&y>=c?g.pop():l=!1),v>=10?1:0},0);d&&(i.unshift(d),t.integerLen++)}function Ub(t){let n=parseInt(t);if(isNaN(n))throw new ee(2305,!1);return n}var zb=/\s+/,AT=[],gt=(()=>{class t{_ngEl;_renderer;initialClasses=AT;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(zb):AT}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(zb):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(zb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(R(ve),R(Mt))};static \u0275dir=we({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Wb=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||t)(R(Pi))};static \u0275dir=we({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[li]})}return t})();function Yb(t,n){return new ee(2100,!1)}var qV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,yt=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw Yb(t,e);return e.replace(qV,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Mo({name:"titlecase",type:t,pure:!0})}return t})();function UV(t,n){return{key:t,value:n}}var hs=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=PT;transform(e,i=PT){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(UV(a.key,a.currentValue))})),(r||o)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||t)(R(Vb,16))};static \u0275pipe=Mo({name:"keyvalue",type:t,pure:!1})}return t})();function PT(t,n){let e=t.key,i=n.key;if(e===i)return 0;if(e==null)return 1;if(i==null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var ms=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!NT(e))return null;r||=this._locale;try{let o=BT(e);return OT(o,r,i)}catch(o){throw Yb(t,o.message)}}static \u0275fac=function(i){return new(i||t)(R(Vl,16))};static \u0275pipe=Mo({name:"number",type:t,pure:!0})}return t})(),Kb=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!NT(e))return null;r||=this._locale;try{let o=BT(e);return FT(o,r,i)}catch(o){throw Yb(t,o.message)}}static \u0275fac=function(i){return new(i||t)(R(Vl,16))};static \u0275pipe=Mo({name:"percent",type:t,pure:!0})}return t})();function NT(t){return!(t==null||t===""||t!==t)}function BT(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new ee(2309,!1);return t}var ji=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();function xp(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var ps=class{};var Zb="browser";function jT(t){return t===Zb}var HT=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new Qb(_(Ee),window)})}return t})(),Qb=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,e){this.window.scrollTo(Ie(W({},e),{left:n[0],top:n[1]}))}scrollToAnchor(n,e){let i=$V(this.document,n);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Ur(2400,!1))}}scrollToElement(n,e){let i=n.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(Ie(W({},e),{left:r-a[0],top:o-a[1]}))}};function $V(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}r=i.nextNode()}}return null}var qT=t=>t.src,GV=new K("",{factory:()=>qT});var VT=/^((\s*\d+w\s*(,|$)){1,})$/;var WV=[1,2],YV=640;var KV=1920,QV=1080;var In=(()=>{class t{imageLoader=_(GV);config=ZV(_(Ym));renderer=_(Mt);imgElement=_(ve).nativeElement;injector=_(le);destroyRef=_(nn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){En("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&VT.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let i=e;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=VT.test(this.ngSrcset);return this.ngSrcset.split(",").filter(r=>r!=="").map(r=>{r=r.trim();let o=e?parseFloat(r):parseFloat(r)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${r}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,i=e;return this.sizes?.trim()==="100vw"&&(i=e.filter(o=>o>=YV)),i.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let r;return this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),r}getFixedSrcset(){return WV.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>KV||this.height>QV),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==qT&&!e}generatePlaceholder(e){let{placeholderResolution:i}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let i=()=>{let a=this.injector.get(At);r(),o(),this.placeholder=!1,a.markForCheck()},r=this.renderer.listen(e,"load",i),o=this.renderer.listen(e,"error",i);this.destroyRef.onDestroy(()=>{r(),o()}),XV(e,i)}setHostAttribute(e,i){this.renderer.setAttribute(this.imgElement,e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,r){i&2&&Je("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0":null)("background-size",r.placeholder?"cover":null)("background-position",r.placeholder?"50% 50%":null)("background-repeat",r.placeholder?"no-repeat":null)("background-image",r.placeholder?r.generatePlaceholder(r.placeholder):null)("filter",r.placeholder&&r.shouldBlurPlaceholder(r.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",JV],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Dn],height:[2,"height","height",Dn],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",He],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",He],fill:[2,"fill","fill",He],placeholder:[2,"placeholder","placeholder",ej],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[li]})}return t})();function ZV(t){let n={};return t.breakpoints&&(n.breakpoints=t.breakpoints.sort((e,i)=>e-i)),Object.assign({},Wm,t,n)}function XV(t,n){t.complete&&t.naturalWidth&&n()}function JV(t){return typeof t=="string"?t:Un(t)}function ej(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:He(t)}var ot=(function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t})(ot||{}),ir="*";function gs(t,n){return{type:ot.Trigger,name:t,definitions:n,options:{}}}function ga(t,n=null){return{type:ot.Animate,styles:n,timings:t}}function UT(t,n=null){return{type:ot.Sequence,steps:t,options:n}}function an(t){return{type:ot.Style,styles:t,offset:null}}function Vd(t,n,e){return{type:ot.State,name:t,styles:n,options:e}}function jd(t){return{type:ot.Keyframes,steps:t}}function va(t,n,e=null){return{type:ot.Transition,expr:t,animation:n,options:e}}var oo=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,e=0){this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},fs=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},jl="!";var tj=new K("cdk-dir-doc",{providedIn:"root",factory:()=>_(Ee)}),ij=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zT(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?ij.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var wi=(()=>{class t{get value(){return this.valueSignal()}valueSignal=C("ltr");change=new ue;constructor(){let e=_(tj,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(zT(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();var ya=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(n,e){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Jb=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},e_=class{encodeKey(n){return $T(n)}encodeValue(n){return $T(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function nj(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var rj=/%(\d[a-f0-9])/gi,oj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $T(t){return encodeURIComponent(t).replace(rj,(n,e)=>oj[e]??n)}function Tp(t){return`${t}`}var Ao=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new e_,n.fromString){if(n.fromObject)throw new ee(2805,!1);this.map=nj(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Tp):[Tp(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Tp(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Tp(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function aj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function GT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function WT(t){return typeof Blob<"u"&&t instanceof Blob}function YT(t){return typeof FormData<"u"&&t instanceof FormData}function sj(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var KT="Content-Type",QT="Accept",ZT="text/plain",XT="application/json",lj=`${XT}, ${ZT}, */*`,Hl=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,i,r){this.url=e,this.method=n.toUpperCase();let o;if(aj(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new ee(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new ya,this.context??=new Jb,!this.params)this.params=new Ao,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GT(this.body)||WT(this.body)||YT(this.body)||sj(this.body)?this.body:this.body instanceof Ao?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||YT(this.body)?null:WT(this.body)?this.body.type||null:GT(this.body)?null:typeof this.body=="string"?ZT:this.body instanceof Ao?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?XT:null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.keepalive??this.keepalive,a=n.priority||this.priority,s=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,d=n.credentials||this.credentials,u=n.referrer||this.referrer,v=n.integrity||this.integrity,y=n.referrerPolicy||this.referrerPolicy,g=n.transferCache??this.transferCache,S=n.timeout??this.timeout,P=n.body!==void 0?n.body:this.body,M=n.withCredentials??this.withCredentials,z=n.reportProgress??this.reportProgress,G=n.headers||this.headers,Y=n.params||this.params,ge=n.context??this.context;return n.setHeaders!==void 0&&(G=Object.keys(n.setHeaders).reduce((me,de)=>me.set(de,n.setHeaders[de]),G)),n.setParams&&(Y=Object.keys(n.setParams).reduce((me,de)=>me.set(de,n.setParams[de]),Y)),new t(e,i,P,{params:Y,headers:G,context:ge,reportProgress:z,responseType:r,withCredentials:M,transferCache:g,keepalive:o,cache:s,priority:a,timeout:S,mode:l,redirect:c,credentials:d,referrer:u,integrity:v,referrerPolicy:y})}},vs=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(vs||{}),Hd=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,e=200,i="OK"){this.headers=n.headers||new ya,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},t_=class t extends Hd{constructor(n={}){super(n)}type=vs.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},qd=class t extends Hd{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=vs.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},ql=class extends Hd{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},cj=200,dj=204;var uj=/^\)\]\}',?\n/;var hj=(()=>{class t{xhrFactory;tracingService=_(to,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new ee(-2800,!1);let i=this.xhrFactory;return Le(null).pipe(Bt(()=>new Oe(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((P,M)=>a.setRequestHeader(P,M.join(","))),e.headers.has(QT)||a.setRequestHeader(QT,lj),!e.headers.has(KT)){let P=e.detectContentTypeHeader();P!==null&&a.setRequestHeader(KT,P)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let P=e.responseType.toLowerCase();a.responseType=P!=="json"?P:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let P=a.statusText||"OK",M=new ya(a.getAllResponseHeaders()),z=a.responseURL||e.url;return l=new t_({headers:M,status:a.status,statusText:P,url:z}),l},d=this.maybePropagateTrace(()=>{let{headers:P,status:M,statusText:z,url:G}=c(),Y=null;M!==dj&&(Y=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=Y?cj:0);let ge=M>=200&&M<300;if(e.responseType==="json"&&typeof Y=="string"){let me=Y;Y=Y.replace(uj,"");try{Y=Y!==""?JSON.parse(Y):null}catch(de){Y=me,ge&&(ge=!1,Y={error:de,text:Y})}}ge?(o.next(new qd({body:Y,headers:P,status:M,statusText:z,url:G||void 0})),o.complete()):o.error(new ql({error:Y,headers:P,status:M,statusText:z,url:G||void 0}))}),u=this.maybePropagateTrace(P=>{let{url:M}=c(),z=new ql({error:P,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});o.error(z)}),v=u;e.timeout&&(v=this.maybePropagateTrace(P=>{let{url:M}=c(),z=new ql({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:M||void 0});o.error(z)}));let y=!1,g=this.maybePropagateTrace(P=>{y||(o.next(c()),y=!0);let M={type:vs.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(M.total=P.total),e.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),o.next(M)}),S=this.maybePropagateTrace(P=>{let M={type:vs.UploadProgress,loaded:P.loaded};P.lengthComputable&&(M.total=P.total),o.next(M)});return a.addEventListener("load",d),a.addEventListener("error",u),a.addEventListener("timeout",v),a.addEventListener("abort",u),e.reportProgress&&(a.addEventListener("progress",g),s!==null&&a.upload&&a.upload.addEventListener("progress",S)),a.send(s),o.next({type:vs.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",d),a.removeEventListener("timeout",v),e.reportProgress&&(a.removeEventListener("progress",g),s!==null&&a.upload&&a.upload.removeEventListener("progress",S)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||t)(L(ps))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mj(t,n){return n(t)}function pj(t,n,e){return(i,r)=>Ui(e,()=>n(i,o=>t(o,r)))}var fj=new K("",{factory:()=>[]}),JT=new K(""),gj=new K("",{providedIn:"root",factory:()=>!0});var vj=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=L(hj),r},providedIn:"root"})}return t})();var yj=(()=>{class t{backend;injector;chain=null;pendingTasks=_(vm);contributeToStability=_(gj);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(fj),...this.injector.get(JT,[])]));this.chain=i.reduceRight((r,o)=>pj(r,o,this.injector),mj)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(qa(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(L(vj),L(qt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bj=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=L(yj),r},providedIn:"root"})}return t})();function Xb(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var i_=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Hl)o=e;else{let l;r.headers instanceof ya?l=r.headers:l=new ya(r.headers);let c;r.params&&(r.params instanceof Ao?c=r.params:c=new Ao({fromObject:r.params})),o=new Hl(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let a=Le(o).pipe(ea(l=>this.handler.handle(l)));if(e instanceof Hl||r.observe==="events")return a;let s=a.pipe(je(l=>l instanceof qd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(Se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ee(2806,!1);return l.body}));case"blob":return s.pipe(Se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ee(2807,!1);return l.body}));case"text":return s.pipe(Se(l=>{if(l.body!==null&&typeof l.body!="string")throw new ee(2808,!1);return l.body}));case"json":default:return s.pipe(Se(l=>l.body))}case"response":return s;default:throw new ee(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Ao().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Xb(r,i))}post(e,i,r={}){return this.request("POST",e,Xb(r,i))}put(e,i,r={}){return this.request("PUT",e,Xb(r,i))}static \u0275fac=function(i){return new(i||t)(L(bj))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ud=class{_doc;constructor(n){this._doc=n}manager},Dp=(()=>{class t extends Ud{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(L(Ee))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Ap=new K(""),a_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof Dp));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof Dp);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(L(Ap),L(ce))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),n_="ng-app-id";function eD(t){for(let n of t)n.remove()}function tD(t,n){let e=n.createElement("style");return e.textContent=t,e}function Sj(t,n,e,i){let r=t.head?.querySelectorAll(`style[${n_}="${n}"],link[${n_}="${n}"]`);if(r)for(let o of r)o.removeAttribute(n_),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function o_(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var s_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,Sj(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,tD);i?.forEach(r=>this.addUsage(r,this.external,o_))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(eD(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])eD(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,tD(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,o_(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(L(Ee),L(Ol),L(Ll,8),L(ls))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),r_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l_=/%COMP%/g;var nD="%COMP%",wj=`_nghost-${nD}`,Cj=`_ngcontent-${nD}`,kj=!0,Ej=new K("",{factory:()=>kj});function xj(t){return Cj.replace(l_,t)}function Tj(t){return wj.replace(l_,t)}function rD(t,n){return n.map(e=>e.replace(l_,t))}var Gd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,a,s,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new zd(e,a,s,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof Ip?r.applyToHost(e):r instanceof $d&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,v=this.tracingService;switch(i.encapsulation){case Sr.Emulated:o=new Ip(l,c,i,this.appId,d,a,s,u,v);break;case Sr.ShadowDom:return new Mp(l,e,i,a,s,this.nonce,u,v,c);case Sr.ExperimentalIsolatedShadowDom:return new Mp(l,e,i,a,s,this.nonce,u,v);default:o=new $d(l,c,i,d,a,s,u,v);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(L(a_),L(s_),L(Ol),L(Ej),L(Ee),L(ce),L(Ll),L(to,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),zd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,r,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(r_[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(iD(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(iD(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new ee(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=r_[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=r_[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Jr.DashCase|Jr.Important)?n.style.setProperty(e,i,r&Jr.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Jr.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,r){if(typeof n=="string"&&(n=no().getGlobalEventTarget(this.doc,n),!n))throw new ee(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,r)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function iD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mp=class extends zd{hostEl;sharedStylesHost;shadowRoot;constructor(n,e,i,r,o,a,s,l,c){super(n,r,o,s,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=rD(i.id,d);for(let v of d){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=v,this.shadowRoot.appendChild(y)}let u=i.getExternalStyles?.();if(u)for(let v of u){let y=o_(v,r);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},$d=class extends zd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,r,o,a,s,l,c){super(n,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?rD(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&as.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ip=class extends $d{contentAttr;hostAttr;constructor(n,e,i,r,o,a,s,l,c){let d=r+"-"+i.id;super(n,e,i,o,a,s,l,c,d),this.contentAttr=xj(d),this.hostAttr=Tj(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}};var Pp=class t extends Ld{supportsDOMEvents=!0;static makeCurrent(){jb(new t)}onAndCancel(n,e,i,r){return n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=Dj();return e==null?null:Mj(e)}resetBaseElement(){Wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return xp(document.cookie,n)}},Wd=null;function Dj(){return Wd=Wd||document.head.querySelector("base"),Wd?Wd.getAttribute("href"):null}function Mj(t){return new URL(t,document.baseURI).pathname}var Rp=class{addToWindow(n){Bi.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new ee(5103,!1);return o},Bi.getAllAngularTestabilities=()=>n.getAllTestabilities(),Bi.getAllAngularRootElements=()=>n.getAllRootElements();let e=i=>{let r=Bi.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};Bi.frameworkStabilizers||(Bi.frameworkStabilizers=[]),Bi.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,i){if(e==null)return null;let r=n.getTestability(e);return r??(i?no().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},Ij=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),oD=["alt","control","meta","shift"],Aj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},aD=(()=>{class t extends Ud{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=t.parseEventName(i),s=t.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>no().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),oD.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=Aj[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),oD.forEach(a=>{if(a!==r){let s=Pj[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||t)(L(Ee))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function c_(t,n,e){let i=W({rootComponent:t,platformRef:e?.platformRef},Rj(n));return ST(i)}function Rj(t){return{appProviders:[...sD,...t?.providers??[]],platformProviders:Nj}}function Fj(){Pp.makeCurrent()}function Oj(){return new kn}function Lj(){return G0(document),document}var Nj=[{provide:ls,useValue:Zb},{provide:Gm,useValue:Fj,multi:!0},{provide:Ee,useFactory:Lj}];var Bj=[{provide:mp,useClass:Rp},{provide:hp,useClass:Id},{provide:Id,useClass:Id}],sD=[{provide:sd,useValue:"root"},{provide:kn,useFactory:Oj},{provide:Ap,useClass:Dp,multi:!0},{provide:Ap,useClass:aD,multi:!0},Gd,s_,a_,{provide:si,useExisting:Gd},{provide:ps,useClass:Ij},[]],d_=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[...sD,...Bj],imports:[ji,_T]})}return t})();var lD=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(L(Ee))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=L(Vj),r},providedIn:"root"})}return t})(),Vj=(()=>{class t extends u_{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Xi.NONE:return i;case Xi.HTML:return xo(i,"HTML")?Un(i):Xm(this._doc,String(i)).toString();case Xi.STYLE:return xo(i,"Style")?Un(i):i;case Xi.SCRIPT:if(xo(i,"Script"))return Un(i);throw new ee(5200,!1);case Xi.URL:return xo(i,"URL")?Un(i):Ed(String(i));case Xi.RESOURCE_URL:if(xo(i,"ResourceURL"))return Un(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(e){return Y0(e)}bypassSecurityTrustStyle(e){return K0(e)}bypassSecurityTrustScript(e){return Q0(e)}bypassSecurityTrustUrl(e){return Z0(e)}bypassSecurityTrustResourceUrl(e){return X0(e)}static \u0275fac=function(i){return new(i||t)(L(Ee))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fp;function jj(){if(Fp===void 0&&(Fp=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Fp=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Fp}function Yd(t){return jj()?.createHTML(t)||t}function dD(t){return Error(`Unable to find icon with the name "${t}"`)}function Hj(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function uD(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function hD(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Po=class{url;svgText;options;svgElement;constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}},Lp=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Po(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let a=this._sanitizer.sanitize(Xi.HTML,r);if(!a)throw hD(r);let s=Yd(a);return this._addSvgIconConfig(e,i,new Po("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Po(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(Xi.HTML,i);if(!o)throw hD(i);let a=Yd(o);return this._addSvgIconSetConfig(e,new Po("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Xi.RESOURCE_URL,e);if(!i)throw uD(e);let r=this._cachedIconsByUrl.get(i);return r?Le(Op(r)):this._loadSvgIconFromConfig(new Po(e,null)).pipe(Wt(o=>this._cachedIconsByUrl.set(i,o)),Se(o=>Op(o)))}getNamedSvgIcon(e,i=""){let r=mD(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Gc(dD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Le(Op(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Se(i=>Op(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return Le(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Jo(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Xi.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Le(null)})));return Yc(o).pipe(Se(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw dD(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Wt(i=>e.svgText=i),Se(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Le(null):this._fetchIcon(e).pipe(Wt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(Yd("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Yd("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw Hj();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(Xi.RESOURCE_URL,i);if(!a)throw uD(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Se(c=>Yd(c)),qa(()=>this._inProgressUrlFetches.delete(a)),Zc());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(mD(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return qj(o)?new Po(o.url,null,o.options):new Po(o,null)}}static \u0275fac=function(i){return new(i||t)(L(i_,8),L(u_),L(Ee,8),L(kn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Op(t){return t.cloneNode(!0)}function mD(t,n){return t+":"+n}function qj(t){return!!(t.url&&t.options)}var Uj=["*"],zj=new K("MAT_ICON_DEFAULT_OPTIONS"),$j=new K("mat-icon-location",{providedIn:"root",factory:()=>{let t=_(Ee),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),pD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gj=pD.map(t=>`[${t}]`).join(", "),Wj=/^url\(['"]?#(.*?)['"]?\)$/,De=(()=>{class t{_elementRef=_(ve);_iconRegistry=_(Lp);_location=_($j);_errorHandler=_(kn);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=qe.EMPTY;constructor(){let e=_(new pa("aria-hidden"),{optional:!0}),i=_(zj,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Gj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)pD.forEach(a=>{let s=i[o],l=s.getAttribute(a),c=l?l.match(Wj):null;if(c){let d=r.get(s);d||(d=[],r.set(s,d)),d.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ot(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Te("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Cr(r.color?"mat-"+r.color:""),We("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",He],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Uj,decls:1,vars:0,template:function(i,r){i&1&&(Kt(),mt(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return t})(),sn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt]})}return t})();var te=(function(t){return t[t.Yin=0]="Yin",t[t.Yang=1]="Yang",t[t.Balance=2]="Balance",t[t.None=3]="None",t})(te||{}),j=(function(t){return t[t.OddJobs=0]="OddJobs",t[t.Resting=1]="Resting",t[t.GatherHerbs=2]="GatherHerbs",t[t.ChopWood=3]="ChopWood",t[t.Begging=4]="Begging",t[t.Cooking=5]="Cooking",t[t.Blacksmithing=6]="Blacksmithing",t[t.Woodworking=7]="Woodworking",t[t.Leatherworking=8]="Leatherworking",t[t.FormationCreation=9]="FormationCreation",t[t.Plowing=10]="Plowing",t[t.Clearing=11]="Clearing",t[t.Farming=12]="Farming",t[t.Mining=13]="Mining",t[t.Smelting=14]="Smelting",t[t.Hunting=15]="Hunting",t[t.Fishing=16]="Fishing",t[t.Alchemy=17]="Alchemy",t[t.Merchant=18]="Merchant",t[t.Burning=19]="Burning",t[t.BalanceChi=20]="BalanceChi",t[t.BodyCultivation=21]="BodyCultivation",t[t.MindCultivation=22]="MindCultivation",t[t.CoreCultivation=23]="CoreCultivation",t[t.SoulCultivation=24]="SoulCultivation",t[t.InfuseBody=25]="InfuseBody",t[t.InfuseEquipment=26]="InfuseEquipment",t[t.ExtendLife=27]="ExtendLife",t[t.Recruiting=28]="Recruiting",t[t.TrainingFollowers=29]="TrainingFollowers",t[t.SynthesizingGems=30]="SynthesizingGems",t[t.Swim=31]="Swim",t[t.ForgeChains=32]="ForgeChains",t[t.AttachChains=33]="AttachChains",t[t.MakeBrick=34]="MakeBrick",t[t.MakeMortar=35]="MakeMortar",t[t.MakeScaffold=36]="MakeScaffold",t[t.BuildTower=37]="BuildTower",t[t.ResearchWind=38]="ResearchWind",t[t.TameWinds=39]="TameWinds",t[t.LearnToFly=40]="LearnToFly",t[t.OfferDragonFood=41]="OfferDragonFood",t[t.OfferDragonWealth=42]="OfferDragonWealth",t[t.TalkToDragon=43]="TalkToDragon",t[t.GatherArmies=44]="GatherArmies",t[t.ConquerTheNation=45]="ConquerTheNation",t[t.MoveStars=46]="MoveStars",t[t.Taunting=47]="Taunting",t[t.EscapeHell=48]="EscapeHell",t[t.ReturnToHell=49]="ReturnToHell",t[t.HellRecruiting=50]="HellRecruiting",t[t.BurnMoney=51]="BurnMoney",t[t.HonorAncestors=52]="HonorAncestors",t[t.CombatTraining=53]="CombatTraining",t[t.Rehabilitation=54]="Rehabilitation",t[t.CopperMining=55]="CopperMining",t[t.ForgeHammer=56]="ForgeHammer",t[t.ClimbMountain=57]="ClimbMountain",t[t.AttackClimbers=58]="AttackClimbers",t[t.MeltMountain=59]="MeltMountain",t[t.HealAnimals=60]="HealAnimals",t[t.PetRecruiting=61]="PetRecruiting",t[t.PetTraining=62]="PetTraining",t[t.LiftBoulder=63]="LiftBoulder",t[t.SearchForExit=64]="SearchForExit",t[t.TeachTheWay=65]="TeachTheWay",t[t.Interrogate=66]="Interrogate",t[t.RecoverTreasure=67]="RecoverTreasure",t[t.ReplaceTreasure=68]="ReplaceTreasure",t[t.PurifyGems=69]="PurifyGems",t[t.Endure=70]="Endure",t[t.FreezeMountain=71]="FreezeMountain",t[t.ExamineContracts=72]="ExamineContracts",t[t.FinishHell=73]="FinishHell",t[t.Hell=74]="Hell",t})(j||{}),I=(function(t){return t.Self="Self",t.SmallTown="SmallTown",t.LargeCity="LargeCity",t.SmallPond="SmallPond",t.Forest="Forest",t.Mine="Mine",t.Desert="Desert",t.Jungle="Jungle",t.Dungeon="Dungeon",t.Beach="Beach",t.DeepSea="DeepSea",t.MountainTops="MountainTops",t.AshenCrater="AshenCrater",t.Hell="Hell",t})(I||{}),ie=(function(t){return t[t.Gates=0]="Gates",t[t.TongueRipping=1]="TongueRipping",t[t.Scissors=2]="Scissors",t[t.TreesOfKnives=3]="TreesOfKnives",t[t.Mirrors=4]="Mirrors",t[t.Steamers=5]="Steamers",t[t.CopperPillars=6]="CopperPillars",t[t.MountainOfKnives=7]="MountainOfKnives",t[t.MountainOfIce=8]="MountainOfIce",t[t.CauldronsOfOil=9]="CauldronsOfOil",t[t.CattlePit=10]="CattlePit",t[t.CrushingBoulder=11]="CrushingBoulder",t[t.MortarsAndPestles=12]="MortarsAndPestles",t[t.BloodPool=13]="BloodPool",t[t.WrongfulDead=14]="WrongfulDead",t[t.Dismemberment=15]="Dismemberment",t[t.MountainOfFire=16]="MountainOfFire",t[t.Mills=17]="Mills",t[t.Saws=18]="Saws",t[t.MortalRealm=19]="MortalRealm",t[t.DivineRealm=20]="DivineRealm",t})(ie||{}),h_=["Gates of Hell","Hell of Tongue Ripping","Hell of Scissors","Hell of the Trees of Knives","Hell of Mirrors","Hell of Steamers","Hell of Copper Pillars","Hell of the Mountain of Knives","Hell of the Mountain of Ice","Hell of the Cauldrons of Oil","Hell of the Cattle Pit","Hell of the Crushing Boulder","Hell of Mortars and Pestles","Hell of the Blood Pool","Hell of the Wrongful Dead","Hell of Dismemberment","Hell of the Mountain of Fire","Hell of Mills","Hell of Saws","Mortal Realm","Divine Realm"];var Np="damage",m_="defense",Bp="feral",Ul="dragon",Kd="devastation",Vp="flow",zl="verdant",$l="brutal",jp="fearsome",Zd="tradition",Hp="southern",qp="western",Up="eastern",zp="northern",Ro="foodYield",p_="homeRecovery",$p="armorReduction",Gp="steel",Wp="woodshaped",f_="creation",Yp="void",ln="Tao of Wood",cn="Tao of Fire",dn="Tao of Water",un="Tao of Metal",hn="Tao of Earth",Qd="Tao of Creation",Yj="Tao of Annihilation",Kp="Tao of the Void",Kj="Tao of the Void",g_="Tao of Beasts",pi=(()=>{class t{constructor(e,i,r){this.injector=e,this.mainLoopService=i,this.logService=r,this.contemplationStarted=C(!1),this.displayConcepts=[],this.currentConcept=null,this.contemplationMultiplier=1,this.techniqueConcepts=[Bp,Kd,Gp,Wp,Ul,$l,jp,zl,Vp,Zd,Hp,qp,Up,zp],this.concepts=[{name:hn,description:"Contemplate the true nature of earth, coming to understand its deepest secrets.<br><br>Increases your Earth Lore gain.",progress:0,effect:"earthLore",discovered:!1,unlocksMore:!1},{name:un,description:"Contemplate the true nature of metal, coming to understand its strongest aspects.<br><br>Increases your Metal Lore gain.",progress:0,effect:"metalLore",discovered:!1,unlocksMore:!1},{name:ln,description:"Contemplate the true nature of wood, coming to understand its growing enigmas.<br><br>Increases your Wood Lore gain.",progress:0,effect:"woodLore",discovered:!1,unlocksMore:!1},{name:dn,description:"Contemplate the true nature of water, coming to understand its fluid keys.<br><br>Increases your Water Lore gain.",progress:0,effect:"waterLore",discovered:!1,unlocksMore:!1},{name:cn,description:"Contemplate the true nature of fire, coming to understand its burning mysteries.<br><br>Increases your Fire Lore gain.",progress:0,effect:"fireLore",discovered:!1,unlocksMore:!1},{name:"Tao of Life",description:"Contemplate the true nature of life, coming to understand its vital essence.<br><br>Increases maximum health.",progress:0,effect:"life",discovered:!1,unlocksMore:!1},{name:g_,description:"Contemplate the true nature of beasts, coming to understand both their domestic and feral natures.<br><br>Increases Animal Handling gain and the power of certain techniques.",progress:0,effect:"animalHandling,"+Bp+","+$l,discovered:!1,unlocksMore:!1},{name:"Tao of Death",description:"Contemplate the true nature of death, coming to understand its destructive power.<br><br>Increases power of all techniques.",progress:0,effect:Np,discovered:!1,unlocksMore:!1},{name:"Tao of Scorched Earth",description:"Contemplate the devastating aspects of fire combined with earth.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"earthLore,fireLore,"+Kd,discovered:!1,discoveryRequirements:{[hn]:1e8,[cn]:1e8},unlocksMore:!1},{name:"Tao of Irrigation",description:"Contemplate the nourishing aspects of water combined with earth.<br><br>Increases some lore gains and all food production.",progress:0,effect:"earthLore,waterLore,"+Ro,discovered:!1,discoveryRequirements:{[hn]:1e8,[dn]:1e8},unlocksMore:!1},{name:"Tao of Fortication",description:"Contemplate the enduring aspects of metal combined with earth.<br><br>Increases toughness and some lore gains.",progress:0,effect:"earthLore,metalLore,toughness",discovered:!1,discoveryRequirements:{[hn]:1e8,[un]:1e8},unlocksMore:!1},{name:"Tao of Agriculture",description:"Contemplate the cultivating aspects of wood combined with earth.<br><br>Increases some lore gains and all food production.",progress:0,effect:"earthLore,woodLore,"+Ro,discovered:!1,discoveryRequirements:{[hn]:1e8,[ln]:1e8},unlocksMore:!1},{name:"Tao of Brewing",description:"Contemplate the simmering aspects of fire combined with water.<br><br>Increases intelligence and some lore gains.",progress:0,effect:"fireLore,waterLore,intelligence",discovered:!1,discoveryRequirements:{[cn]:1e8,[dn]:1e8},unlocksMore:!1},{name:"Tao of Air",description:"Contemplate the flow of air as fire combines with wood.<br><br>Increases speed and some lore gains.",progress:0,effect:"fireLore,woodLore,speed",discovered:!1,discoveryRequirements:{[cn]:1e8,[ln]:1e8},unlocksMore:!1},{name:"Tao of the Forge",description:"Contemplate the powerful combination of fire and metal.<br><br>Increases strength and some lore gains.",progress:0,effect:"fireLore,metalLore,strength",discovered:!1,discoveryRequirements:{[cn]:1e8,[un]:1e8},unlocksMore:!1},{name:"Tao of Flexibility",description:"Contemplate the flowing aspects of water combined with wood.<br><br>Increases charisma and some lore gains.",progress:0,effect:"waterLore,woodLore,charisma",discovered:!1,discoveryRequirements:{[dn]:1e8,[ln]:1e8},unlocksMore:!1},{name:"Tao of Corrosion",description:"Contemplate the destructive aspects of water combined with metal.<br><br>Increases some lore gains and reduces enemy defense.",progress:0,effect:"waterLore,metalLore,"+$p,discovered:!1,discoveryRequirements:{[dn]:1e8,[un]:1e8},unlocksMore:!1},{name:"Tao of the Harvest",description:"Contemplate the gathering aspects of metal combined with wood.<br><br>Increases some lore gains and all food production.",progress:0,effect:"metalLore,woodLore,"+Ro,discovered:!1,discoveryRequirements:{[un]:1e8,[ln]:1e8},unlocksMore:!1},{name:"Tao of Steel",description:"Contemplate the strong and flexible aspects of metal tempered by fire and wood.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"metalLore,woodLore,fireLore,"+Gp,discovered:!1,discoveryRequirements:{[un]:1e9,[ln]:1e9,[cn]:1e9},unlocksMore:!1},{name:"Tao of Woodshaping",description:"Contemplate the strong and flexible aspects of wood shaped by steam.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"waterLore,woodLore,fireLore"+Wp,discovered:!1,discoveryRequirements:{[dn]:1e9,[ln]:1e9,[cn]:1e9},unlocksMore:!1},{name:"Tao of the Hearth",description:"Contemplate the comforting aspects of the hearth and home.<br><br>Increases some lore gains and the recovery that your home provides.",progress:0,effect:"earthLore,woodLore,fireLore,"+p_,discovered:!1,discoveryRequirements:{[hn]:5e9,[ln]:5e9,[cn]:5e9},unlocksMore:!1},{name:"Tao of the Sea Dragon",description:"Contemplate the shining metalic scales and fiery breath of the great sea dragons.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"metalLore,fireLore,waterLore,"+Ul,discovered:!1,discoveryRequirements:{[un]:1e10,[cn]:1e10,[dn]:1e10},unlocksMore:!1},{name:"Tao of the Deep Dwellers",description:"Contemplate the shining metalic scales and fiery breath of the great dragons that slumber deep under the earth.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"metalLore,fireLore, earthLore"+Ul,discovered:!1,discoveryRequirements:{[un]:2e10,[cn]:2e10,[hn]:2e10},unlocksMore:!1},{name:"Tao of the Mighty Dam",description:"Contemplate the powerful combination of earth and metal in containing and directing the flow of water.<br><br>Increases some lore gains and the power of certain techniques.",progress:0,effect:"metalLore,earthLore,waterLore,"+Vp,discovered:!1,discoveryRequirements:{[un]:5e8,[hn]:5e8,[dn]:5e8},unlocksMore:!1},{name:"Tao of the Shimmering Rice Field",description:"Contemplate the swift strike of a scythe cutting through a perfect rice stalk.<br><br>Increases some lore gains, food production, and the power of certain techniques.",progress:0,effect:"metalLore,woodLore,waterLore,"+Ro+","+zl,discovered:!1,discoveryRequirements:{[un]:5e10,[ln]:5e10,[dn]:5e10},unlocksMore:!1},{name:"Tao of the Invincible Stronghold",description:"Contemplate the enduring stability of earth combined with metai and wood.<br><br>Increases some lore gains, and reduced damage taken.",progress:0,effect:"metalLore,woodLore,earthLore,"+m_,discovered:!1,discoveryRequirements:{[un]:5e10,[ln]:5e10,[hn]:5e10},unlocksMore:!1},{name:"Tao of Unbridled Growth",description:"Contemplate the verdant combination of water, wood, and earth.<br><br>Increases some lore gains, food production, and the power of certain techniques.",progress:0,effect:"waterLore,woodLore,earthLore,"+zl+","+Ro,discovered:!1,discoveryRequirements:{[dn]:6e10,[ln]:6e10,[hn]:6e10},unlocksMore:!1},{name:"Tao of the Kiln",description:"Contemplate the enduring tradition and artistry of fired clay.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"waterLore,fireLore,earthLore,"+Zd,discovered:!1,discoveryRequirements:{[dn]:7e8,[cn]:7e8,[hn]:7e8},unlocksMore:!1},{name:"Tao of the Wasteland Behemoths",description:"Contemplate the collosal creatures that dwell in the southern lands where no plants have ever grown.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"earthLore,fireLore,waterLore,metalLore,"+Kd+","+Hp,discovered:!1,discoveryRequirements:{[hn]:5e10,[cn]:5e10,[dn]:5e10,[un]:5e10},unlocksMore:!1},{name:"Tao of the Forest Spirits",description:"Contemplate the shining spirits that dwell in verdant eastern lands where no traces of metal can be found.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"earthLore,fireLore,waterLore,woodLore,"+zl+","+Up,discovered:!1,discoveryRequirements:{[hn]:8e10,[cn]:8e10,[dn]:8e10,[ln]:8e10},unlocksMore:!1},{name:"Tao of the Sand Dragons",description:"Contemplate the desert dragons that dwell in western lands where no traces of water can be found.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"earthLore,fireLore,metalLore,woodLore,"+Ul+","+qp,discovered:!1,discoveryRequirements:{[hn]:1e11,[cn]:1e11,[un]:1e11,[ln]:1e11},unlocksMore:!1},{name:"Tao of the Frozen Mountain",description:"Contemplate the brutal mountains that stand in the northern lands where no fire has ever been kindled.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"earthLore,waterLore,metalLore,woodLore,"+$l+","+zp,discovered:!1,discoveryRequirements:{[hn]:3e11,[dn]:3e11,[un]:3e11,[ln]:3e11},unlocksMore:!1},{name:"Tao of the Ocean Leviathans",description:"Contemplate the gargantuan creatures of the deepest oceans where no trace of earth has ever been seen.<br><br>Increases some lore gains, and the power of certain techniques.",progress:0,effect:"fireLore,waterLore,metalLore,woodLore,"+$l+","+jp,discovered:!1,discoveryRequirements:{[cn]:6e11,[dn]:6e11,[un]:6e11,[ln]:6e11},unlocksMore:!1},{name:Qd,description:"Contemplate creation through the synthesis of the five elements.",progress:0,effect:f_,discovered:!1,discoveryRequirements:{[cn]:1e12,[dn]:1e12,[un]:1e12,[ln]:1e12,[hn]:1e12},unlocksMore:!1},{name:Yj,description:"Contemplate the absolute annihilation of energy and matter.",progress:0,effect:Np+","+$p,discovered:!1,discoveryRequirements:{[Qd]:1e13},unlocksMore:!1},{name:Kp,description:"Contemplate emptyness, the complete absence of everything.",progress:0,effect:Yp,discovered:!1,discoveryRequirements:{[Qd]:1e13},unlocksMore:!1},{name:Kj,description:"Contemplate space, the careful arrangement of all things in the universe. Does nothing (yet).",progress:0,effect:Yp,discovered:!1,discoveryRequirements:{[Kp]:1e14},unlocksMore:!1}],i.tickSubject.subscribe(()=>{this.tick()}),i.battleTickSubject.subscribe(()=>{this.tick()}),i.longTickSubject.subscribe(()=>{if(!this.contemplationStarted)return;this.concepts.forEach(s=>{s.unlocksMore=!1});let o=this.concepts.filter(s=>!s.discovered&&s.discoveryRequirements);for(let s of o){let l=!0;for(let c in s.discoveryRequirements){let d=this.concepts.find(u=>u.name===c);d&&(d.progress||0)<s.discoveryRequirements[c]&&(l=!1,d.unlocksMore=!0)}l&&this.discoverConcept(s.name)}let a=this.concepts.filter(s=>s.discovered);for(let s of a){let l=this.displayConcepts.find(c=>c.name()===s.name);if(l){l.name.set(s.name);let c=s.description;s.unlocksMore&&(c+="<br><br>You feel that more contemplation of this concept could lead you to understand other concepts."),l.description.set(c),l.progress.set(s.progress),l.concept=s}else this.displayConcepts.push({name:C(s.name),description:C(s.description),progress:C(s.progress),concept:s})}})}tick(e=1){this.contemplationStarted&&this.currentConcept!==null&&(this.currentConcept.progress+=e*this.contemplationMultiplier)}discoverConcept(e){let i=this.concepts.find(r=>r.name===e);i&&(i.discovered||(this.logService.log(w.EVENT,"A concept is available for contemplation: "+e),this.mainLoopService.toast("A concept is available for contemplation: "+e)),i.discovered=!0)}getProperties(){let e={},i=[];for(let r of this.concepts)e[r.name]=r.progress,r.discovered&&i.push(r.name);return{contemplationStarted:this.contemplationStarted(),conceptProgress:e,discoveredConcepts:i,currentConcept:this.currentConcept?.name||""}}setProperties(e){this.contemplationStarted.set(e.contemplationStarted);for(let i of this.concepts)i.progress=e.conceptProgress[i.name]||0,i.discovered=e.discoveredConcepts.includes(i.name);this.currentConcept=this.concepts.find(i=>i.name===e.currentConcept)||null}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(pe),L(St))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var v_=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015Fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Bob","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Gesha","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xE9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xE1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];var Pt=(()=>{class t{transform(e){let i=e.replace(/([A-Z])/g," $1");return i.charAt(0).toUpperCase()+i.slice(1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Mo({name:"camelToTitle",type:t,pure:!0})}}return t})(),Ve=(()=>{class t{constructor(e){this.mainLoopService=e}transform(e){if(this.mainLoopService.scientificNotation)return e.toPrecision(3);{let i=e,r="";e<0&&(i=0-e);let o=["","k","M","B","T","q","Q","s"];if(i<100&&!Number.isInteger(i))r=i.toFixed(2)+"";else if(i<1e4)r=Math.round(i)+"";else if(i>=Math.pow(10,o.length*3))r=i.toPrecision(3);else{let a=Math.floor(Math.log10(i));r=Math.floor(i/Math.pow(10,a-a%3-2))/100+o[Math.floor(a/3)]}return e<0?"-"+r:r}}static{this.\u0275fac=function(i){return new(i||t)(R(pe,16))}}static{this.\u0275pipe=Mo({name:"bigNumber",type:t,pure:!0})}}return t})();var y_=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberht","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],fD=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],gD=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],vD=["helmet","helm","mask","faceguard","cap","hat","hood"],yD=["sandals","boots","shoes","footwear","slippers"],Mr=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],ys=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],Xd=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],bs=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],Jd=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],b_=[{name:"patchouli",attribute:"toughness",locations:[I.SmallTown,I.Forest,I.Jungle]},{name:"alangium",attribute:"speed",locations:[I.Forest,I.Jungle]},{name:"lobelia",attribute:"charisma",locations:[I.SmallTown,I.Forest]},{name:"lovage",attribute:"charisma",locations:[I.Forest]},{name:"anemone",attribute:"intelligence",locations:[I.Forest]},{name:"kudzu",attribute:"strength",locations:[I.Forest,I.SmallTown]},{name:"marlberry",attribute:"toughness",locations:[I.Beach,I.SmallPond]},{name:"aster",attribute:"toughness",locations:[I.Forest,I.SmallTown,I.SmallPond]},{name:"milkvetch",attribute:"strength",locations:[I.Desert]},{name:"safflower",attribute:"strength",locations:[I.Desert]},{name:"cinnamon",attribute:"intelligence",locations:[I.Jungle]},{name:"velvetleaf",attribute:"toughness",locations:[I.Forest,I.SmallTown]},{name:"goldthread",attribute:"charisma",locations:[I.SmallPond,I.Forest,I.MountainTops]},{name:"lilac",attribute:"intelligence",locations:[I.Forest,I.SmallTown]},{name:"jimson",attribute:"speed",locations:[I.SmallTown,I.Forest]},{name:"dendrobium",attribute:"charisma",locations:[I.Jungle,I.MountainTops,I.Forest]},{name:"ephedra",attribute:"speed",locations:[I.Desert]},{name:"forsythia",attribute:"speed",locations:[I.Forest,I.LargeCity]},{name:"honeylocust",attribute:"toughness",locations:[I.SmallPond,I.Forest]},{name:"licorice",attribute:"strength",locations:[I.SmallTown]},{name:"holly",attribute:"strength",locations:[I.Forest]},{name:"motherwort",attribute:"charisma",locations:[I.Forest,I.SmallTown]},{name:"arborvitae",attribute:"intelligence",locations:[I.SmallPond,I.Forest]},{name:"snakeroot",attribute:"intelligence",locations:[I.Forest]},{name:"foxglove",attribute:"toughness",locations:[I.SmallTown]},{name:"stringbush",attribute:"charisma",locations:[I.MountainTops]},{name:"ginger",attribute:"speed",locations:[I.Forest,I.Jungle]},{name:"ginkgo",attribute:"intelligence",locations:[I.Forest,I.SmallTown,I.LargeCity,I.Desert]},{name:"ginseng",attribute:"strength",locations:[I.MountainTops,I.Forest]}],Gl=["rotten","wilted","tiny","poor","weak","low-grade","average","healthy","abundant","quality","great","huge","exceptional","amazing","exquisite","sublime","spiritual","divine"];var An=(()=>{class t{constructor(e,i,r,o){this.mainLoopService=e,this.characterService=i,this.logService=r,this.hellService=o,this.troubleTarget=I.SmallTown,this.distanceMultiplier=1,this.locationMap={[I.Self]:{name:"Your Very Self",description:"Your own physical and spiritual being.",unlock:()=>!0},[I.SmallTown]:{name:"Your Home Town",description:"A small village, the ancestral home of your family.",unlock:()=>!0},[I.LargeCity]:{name:"A Large City",description:"A bustling city. A thriving hub of crafts and trades.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>50},[I.SmallPond]:{name:"A Lake",description:"A freshwater lake ideal for fishing.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>100},[I.Forest]:{name:"A Forest",description:"A forest where you can chop wood or look for a wide variety of herbs.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>200},[I.Mine]:{name:"A Mine",description:"A mine where you can find coal or metal ores.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>500},[I.Desert]:{name:"A Desert",description:"A sandy desert wasteland.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>2e3},[I.Jungle]:{name:"A Jungle",description:"A lush tropical jungle.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>1e4},[I.Dungeon]:{name:"A Creepy Dungeon",description:"This dark and dank dungeon is full of monsters.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>2e5},[I.Beach]:{name:"A Sunny Beach",description:"A beautiful beach where you can definitely relax without worrying about any monsters creeping from the waves to murder you.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>1e6},[I.DeepSea]:{name:"The Deep Sea",description:"The depths of the sea.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>1e8},[I.MountainTops]:{name:"The Mountain Tops",description:"The tops of the highest mountains.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>1e10},[I.AshenCrater]:{name:"The Ashen Crater",description:"A huge empty hole in the ground, covered in gray ash and smoke. The ground here is scorching, with glowing red cracks revealing fire just under the surface.",unlock:()=>this.characterService.attributes.speed.value*this.distanceMultiplier>1e14},[I.Hell]:{name:"Hell",description:"The depths of Hell.",unlock:()=>!1}},this.unlockedLocations=[],this.locationLocked=!1,this.mainLoopService.longTickSubject.subscribe(()=>{this.checkForUnlocks()}),this.mainLoopService.reincarnateSubject.subscribe(()=>{this.unlockedLocations=[],this.checkForUnlocks(!1)})}checkForUnlocks(e=!0){if(this.hellService.inHell())this.unlockedLocations=[I.Hell],this.troubleTarget=I.Hell;else{this.troubleTarget===I.Hell&&(this.troubleTarget=I.SmallTown),this.unlockedLocations.includes(I.Hell)&&(this.unlockedLocations=[]);for(let i in I){let r=i;this.unlockedLocations.includes(r)||this.locationMap[r].unlock()&&(this.unlockedLocations.push(r),e&&r!==I.Self&&r!==I.SmallTown&&this.logService.log(w.EVENT,"You have expanded your available locations and can now explore "+this.locationMap[r].name))}}}setTroubleLocation(e){if(this.locationLocked){this.logService.log(w.EVENT,"You can't select a new location now.");return}e===null?this.hellService.inHell()?this.troubleTarget=I.Hell:this.troubleTarget=I.SmallTown:this.troubleTarget=e}getProperties(){return{unlockedLocations:this.unlockedLocations,troubleTarget:this.troubleTarget,locationLocked:this.locationLocked,distanceMultiplier:this.distanceMultiplier}}setProperties(e){this.unlockedLocations=e.unlockedLocations,this.troubleTarget=e.troubleTarget,this.locationLocked=e.locationLocked,this.distanceMultiplier=e.distanceMultiplier}static{this.\u0275fac=function(i){return new(i||t)(L(pe),L(ae),L(St),L(Fe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fe=(function(t){return t[t.Swim=0]="Swim",t[t.RaiseIsland=1]="RaiseIsland",t[t.BuildTower=2]="BuildTower",t[t.TameWinds=3]="TameWinds",t[t.LearnToFly=4]="LearnToFly",t[t.BefriendDragon=5]="BefriendDragon",t[t.ConquerTheNation=6]="ConquerTheNation",t[t.RearrangeTheStars=7]="RearrangeTheStars",t[t.OvercomeDeath=8]="OvercomeDeath",t})(fe||{}),pn=(()=>{class t{constructor(e,i,r,o,a){this.injector=e,this.battleService=r,this.logService=o,this.contemplationService=a,this.camelToTitle=new Pt,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:fe.Swim,progressRequired:4e5,location:I.DeepSea},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:fe.RaiseIsland,progressRequired:777,location:I.Beach},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:fe.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:fe.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:fe.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:fe.BefriendDragon,progressRequired:5e3,location:I.MountainTops},{name:"Conquer the nation",description:"The dragon finally accepts you as a friend, but it isn't ready to help you achieve immortality yet. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before it will help you, it wants you to solve the problem. Guess it's time to conquer the nation and set all things right.",taskType:fe.ConquerTheNation,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:fe.RearrangeTheStars,progressRequired:1e4,location:I.MountainTops},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:fe.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],setTimeout(()=>this.activityService=this.injector.get(Ue)),setTimeout(()=>this.locationService=this.injector.get(An)),i.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length)){for(let s=0;s<this.tasks.length;s++)if(this.taskProgress[s].complete&&this.tasks[s].taskType===this.nextTask){this.nextTask++;return}}}),i.reincarnateSubject.subscribe(()=>{this.reset()})}markPriorCompletions(){let e=!1;this.nextTask=-1;for(let i=this.tasks.length-1;i>=0;i--)(this.taskProgress[i].complete||e)&&(e=!0,this.taskProgress[i].progress=this.tasks[i].progressRequired,this.taskProgress[i].complete=!0),e&&this.nextTask<0?this.nextTask=i:i===0&&(this.nextTask=0)}reset(){this.markPriorCompletions();for(let e=this.tasks.length-1;e>=0;e--)this.taskProgress[e].progress<this.tasks[e].progressRequired&&(this.taskProgress[e].complete?this.taskProgress[e].progress=this.tasks[e].progressRequired:e!==fe.BuildTower&&(this.taskProgress[e].progress=0));this.activeTaskIndex=-1,this.activityService.checkRequirements(!0),this.locationService.locationLocked=!1}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,e.activeTaskIndex===void 0?this.activeTaskIndex=-1:this.activeTaskIndex=e.activeTaskIndex,this.markPriorCompletions()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){let e=this.tasks[this.nextTask].location;if(e){if(!this.locationService.unlockedLocations.includes(e)){this.logService.log(w.EVENT,"You need access to "+this.camelToTitle.transform(e)+" to begin this task.");return}this.locationService.setTroubleLocation(e),this.locationService.locationLocked=!0}this.activeTaskIndex=this.nextTask,this.activityService.checkRequirements(!0),this.activeTaskIndex===fe.OvercomeDeath&&(this.battleService.addDeath(),this.contemplationService.contemplationStarted.set(!0))}stopTask(){this.locationService.locationLocked=!1,this.activeTaskIndex===fe.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1;for(let e=this.activityService.activityLoop.length-1;e>=0;e--)this.activityService?.getActivityByType(this.activityService.activityLoop[e].activity)?.impossibleTaskIndex!==void 0&&this.activityService.activityLoop.splice(e,1);this.activityService.checkRequirements(!0)}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(pe),L(it),L(St),L(pi))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _s(t){return t.buttons===0||t.detail===0}function Ss(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var S_;function bD(){if(S_==null){let t=typeof document<"u"?document.head:null;S_=!!(t&&(t.createShadowRoot||t.attachShadow))}return S_}function ws(t){if(bD()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function eu(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function fi(t){return t.composedPath?t.composedPath()[0]:t.target}var w_;try{w_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{w_=!1}var kt=(()=>{class t{_platformId=_(ls);isBrowser=this._platformId?jT(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||w_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tu;function _D(){if(tu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tu=!0}))}finally{tu=tu||!1}return tu}function Yl(t){return _D()?t:!!t.capture}function Ar(t,n=0){return SD(t)?Number(t):arguments.length===2?n:0}function SD(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Ci(t){return t instanceof ve?t.nativeElement:t}var wD=new K("cdk-input-modality-detector-options"),CD={ignoreKeys:[18,17,224,91,16]},kD=650,C_={passive:!0,capture:!0},ED=(()=>{class t{_platform=_(kt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Zt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fi(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<kD||(this._modality.next(_s(e)?"keyboard":"mouse"),this._mostRecentTarget=fi(e))};_onTouchstart=e=>{if(Ss(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fi(e)};constructor(){let e=_(ce),i=_(Ee),r=_(wD,{optional:!0});if(this._options=W(W({},CD),r),this.modalityDetected=this._modality.pipe(Ua(1)),this.modalityChanged=this.modalityDetected.pipe(hl()),this._platform.isBrowser){let o=_(si).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,C_),o.listen(i,"mousedown",this._onMousedown,C_),o.listen(i,"touchstart",this._onTouchstart,C_)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iu=(function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t})(iu||{}),xD=new K("cdk-focus-monitor-default-options"),Qp=Yl({passive:!0,capture:!0}),Oo=(()=>{class t{_ngZone=_(ce);_platform=_(kt);_inputModalityDetector=_(ED);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(Ee);_stopInputModalityDetector=new Z;constructor(){let e=_(xD,{optional:!0});this._detectionMode=e?.detectionMode||iu.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=fi(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Ci(e);if(!this._platform.isBrowser||r.nodeType!==1)return Le();let o=ws(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new Z,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=Ci(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Ci(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===iu.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===iu.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?kD:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=fi(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qp)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ze(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k_=(()=>{class t{_elementRef=_(ve);_focusMonitor=_(Oo);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ue;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var Zp=new WeakMap,fn=(()=>{class t{_appRef;_injector=_(le);_environmentInjector=_(qt);load(e){let i=this._appRef=this._appRef||this._injector.get(rn),r=Zp.get(i);r||(r={loaders:new Set,refs:[]},Zp.set(i,r),i.onDestroy(()=>{Zp.get(i)?.refs.forEach(o=>o.destroy()),Zp.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(_p(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xp=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function _a(t){return Array.isArray(t)?t:[t]}var TD=new Set,Cs,Jp=(()=>{class t{_platform=_(kt);_nonce=_(Ll,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Zj(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zj(t,n){if(!TD.has(t))try{Cs||(Cs=document.createElement("style"),n&&Cs.setAttribute("nonce",n),Cs.setAttribute("type","text/css"),document.head.appendChild(Cs)),Cs.sheet&&(Cs.sheet.insertRule(`@media ${t} {body{ }}`,0),TD.add(t))}catch(e){console.error(e)}}function Xj(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var nu=(()=>{class t{_mediaMatcher=_(Jp);_zone=_(ce);_queries=new Map;_destroySubject=new Z;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return DD(_a(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=DD(_a(e)).map(a=>this._registerQuery(a).observable),o=Qo(r);return o=Xo(o.pipe(Ot(1)),o.pipe(Ua(1),jn(0))),o.pipe(Se(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Oe(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Tt(i),Se(({matches:a})=>({query:e,matches:a})),Ze(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DD(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function Jj(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}var MD=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ID=(()=>{class t{_mutationObserverFactory=_(MD);_observedElements=new Map;_ngZone=_(ce);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Ci(e);return new Oe(r=>{let a=this._observeElement(i).pipe(Se(s=>s.filter(l=>!Jj(l))),je(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new Z,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AD=(()=>{class t{_contentObserver=_(ID);_elementRef=_(ve);event=new ue;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Ar(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(jn(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",He],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),ef=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[MD]})}return t})();var Kl=(()=>{class t{_platform=_(kt);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return tH(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=eH(cH(e));if(i&&(PD(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=PD(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!sH(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return lH(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eH(t){try{return t.frameElement}catch{return null}}function tH(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function iH(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function nH(t){return oH(t)&&t.type=="hidden"}function rH(t){return aH(t)&&t.hasAttribute("href")}function oH(t){return t.nodeName.toLowerCase()=="input"}function aH(t){return t.nodeName.toLowerCase()=="a"}function OD(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function PD(t){if(!OD(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function sH(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function lH(t){return nH(t)?!1:iH(t)||rH(t)||t.hasAttribute("contenteditable")||OD(t)}function cH(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var tf=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,e,i,r,o=!1,a){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?Xt(n,{injector:this._injector}):setTimeout(n)}},ru=(()=>{class t{_checker=_(Kl);_ngZone=_(ce);_document=_(Ee);_injector=_(le);constructor(){_(fn).load(Xp)}create(e,i=!1){return new tf(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var LD=new K("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),ND=new K("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),dH=0,ou=(()=>{class t{_ngZone=_(ce);_defaultOptions=_(ND,{optional:!0});_liveElement;_document=_(Ee);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=_(LD,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${dH++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sa=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(Sa||{}),RD="cdk-high-contrast-black-on-white",FD="cdk-high-contrast-white-on-black",E_="cdk-high-contrast-active",BD=(()=>{class t{_platform=_(kt);_hasCheckedHighContrastMode;_document=_(Ee);_breakpointSubscription;constructor(){this._breakpointSubscription=_(nu).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Sa.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Sa.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Sa.BLACK_ON_WHITE}return Sa.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(E_,RD,FD),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Sa.BLACK_ON_WHITE?e.add(E_,RD):i===Sa.WHITE_ON_BLACK&&e.add(E_,FD)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x_=(()=>{class t{constructor(){_(BD)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[ef]})}return t})();var T_={},gi=class t{_appId=_(Ol);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(n,e=!1){return this._appId!=="ng"&&(n+=this._appId),T_.hasOwnProperty(n)||(T_[n]=0),`${n}${e?t._infix+"-":""}${T_[n]++}`}static \u0275fac=function(e){return new(e||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var uH=200,nf=class{_letterKeyStream=new Z;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Z;selectedItem=this._selectedItem;constructor(n,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:uH;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(Wt(e=>this._pressedLetters.push(e)),jn(n),je(()=>this._pressedLetters.length>0),Se(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function $i(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Ql=class{_items;_activeItemIndex=C(-1);_activeItem=C(null);_wrap=!1;_typeaheadSubscription=qe.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,e){this._items=n,n instanceof _r?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):cs(n)&&(this._effectRef=xl(()=>this._itemsChanged(n()),{injector:e}))}tabOut=new Z;change=new Z;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new nf(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||$i(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex()+n*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex()+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return cs(this._items)?this._items():this._items instanceof _r?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var au=class extends Ql{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};var su=class extends Ql{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};var qD=" ";function UD(t,n,e){let i=zD(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(qD)))}function I_(t,n,e){let i=zD(t,n);e=e.trim();let r=i.filter(o=>o!==e);r.length?t.setAttribute(n,r.join(qD)):t.removeAttribute(n)}function zD(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}var Pr=(function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t})(Pr||{}),rf,ks;function of(){if(ks==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ks=!1,ks;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ks=!0;else{let t=Element.prototype.scrollTo;t?ks=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ks=!1}}return ks}function Zl(){if(typeof document!="object"||!document)return Pr.NORMAL;if(rf==null){let t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),rf=Pr.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,rf=t.scrollLeft===0?Pr.NEGATED:Pr.INVERTED),t.remove()}return rf}var hH=20,wa=(()=>{class t{_ngZone=_(ce);_platform=_(kt);_renderer=_(si).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Z;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=hH){return this._platform.isBrowser?new Oe(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(jh(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Le()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(je(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Ci(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xl=(()=>{class t{elementRef=_(ve);scrollDispatcher=_(wa);ngZone=_(ce);dir=_(wi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Z;_renderer=_(Mt);_cleanupScroll;_elementScrolled=new Z;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Zl()!=Pr.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Zl()==Pr.INVERTED?e.left=e.right:Zl()==Pr.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;of()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&Zl()==Pr.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Zl()==Pr.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),mH=20,$n=(()=>{class t{_platform=_(kt);_listeners;_viewportSize;_change=new Z;_document=_(Ee);constructor(){let e=_(ce),i=_(si).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=mH){return e>0?this._change.pipe(jh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lo=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})(),A_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt,Lo,zt,Lo]})}return t})();function P_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ki(t){return t==null?"":typeof t=="string"?t:`${t}px`}var lu=class{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},Rr=class extends lu{component;viewContainerRef;injector;projectableNodes;constructor(n,e,i,r){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},nr=class extends lu{templateRef;viewContainerRef;context;injector;constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},R_=class extends lu{element;constructor(n){super(),this.element=n instanceof ve?n.nativeElement:n}},Ca=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof Rr)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof nr)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof R_)return this._attachedPortal=n,this.attachDomPortal(n)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},af=class extends Ca{outletElement;_appRef;_defaultInjector;constructor(n,e,i){super(),this.outletElement=n,this._appRef=e,this._defaultInjector=i}attachComponentPortal(n){let e;if(n.viewContainerRef){let i=n.injector||n.viewContainerRef.injector,r=i.get(eo,null,{optional:!0})||void 0;e=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=n.injector||this._defaultInjector||le.NULL,o=r.get(qt,i.injector);e=_p(n.component,{elementInjector:r,environmentInjector:o,projectableNodes:n.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=n,e}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}attachDomPortal=n=>{let e=n.element;e.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}},$D=(()=>{class t extends nr{constructor(){let e=_(Si),i=_(Pi);super(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[It]})}return t})(),Fr=(()=>{class t extends Ca{_moduleRef=_(eo,{optional:!0});_document=_(Ee);_viewContainerRef=_(Pi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ue;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[It]})}return t})(),ka=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();var GD=of();function tc(t){return new sf(t.get($n),t.get(Ee))}var sf=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,e){this._viewportRuler=n,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ki(-this._previousScrollPosition.left),n.style.top=ki(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),GD&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GD&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};function JD(t,n){return new lf(t.get(wa),t.get(ce),t.get($n),n)}var lf=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(je(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var cu=class{enable(){}disable(){}attach(){}};function F_(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,o=t.right<e.left,a=t.left>e.right;return i||r||o||a})}function WD(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,o=t.left<e.left,a=t.right>e.right;return i||r||o||a})}function du(t,n){return new cf(t.get(wa),t.get($n),t.get(ce),n)}var cf=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();F_(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},eM=(()=>{class t{_injector=_(le);constructor(){}noop=()=>new cu;close=e=>JD(this._injector,e);block=()=>tc(this._injector);reposition=e=>du(this._injector,e);static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),No=class{positionStrategy;scrollStrategy=new cu;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(n){if(n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var df=class{connectionPair;scrollableViewProperties;constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var tM=(()=>{class t{_attachedOverlays=[];_document=_(Ee);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iM=(()=>{class t extends tM{_ngZone=_(ce);_renderer=_(si).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nM=(()=>{class t extends tM{_platform=_(kt);_ngZone=_(ce);_renderer=_(si).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=fi(e)};_clickListener=e=>{let i=fi(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(YD(s.overlayElement,i)||YD(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YD(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=n;for(;i;){if(i===t)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var rM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return t})(),mf=(()=>{class t{_platform=_(kt);_containerElement;_document=_(Ee);_styleLoader=_(fn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||P_()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),P_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(rM)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),O_=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,e,i,r){this._renderer=e,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Jl=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Z;_attachments=new Z;_detachments=new Z;_positionStrategy;_scrollStrategy;_locationChanges=qe.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Z;_outsidePointerEvents=new Z;_afterNextRenderRef;constructor(n,e,i,r,o,a,s,l,c,d=!1,u,v){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=v,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){this._attachHost();let e=this._portalOutlet.attach(n);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Xt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=W(W({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Ie(W({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=ki(this._config.width),n.height=ki(this._config.height),n.minWidth=ki(this._config.minWidth),n.minHeight=ki(this._config.minHeight),n.maxWidth=ki(this._config.maxWidth),n.maxHeight=ki(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachHost(){if(!this._host.parentElement){let n=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;n?n instanceof Element?n.after(this._host):n.type==="parent"&&n.element?.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new O_(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,e,i){let r=_a(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){let n=!1;try{this._detachContentAfterRenderRef=Xt(()=>{n=!0,this._detachContent()},{injector:this._injector})}catch(e){if(n)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let n=this._scrollStrategy;n?.disable(),n?.detach?.()}},KD="cdk-overlay-connected-position-bounding-box",pH=/([A-Za-z%]+)$/;function L_(t,n){return new uf(n,t.get($n),t.get(Ee),t.get(kt),t.get(mf))}var uf=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Z;_resizeSubscription=qe.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(KD),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(n,r,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,i,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Es(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KD),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}withPopoverLocation(n){return this._popoverLocation=n,this}getPopoverInsertionPoint(){if(this._popoverLocation==="global")return null;let n=null;return this._popoverLocation==="inline"?this._origin instanceof ve?n=this._origin.nativeElement:this._origin instanceof Element&&(n=this._origin):n=this._popoverLocation.element,this._popoverLocation==="inline"?n:n?{type:"parent",element:n}:null}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let a=this._isRtl()?n.right:n.left,s=this._isRtl()?n.left:n.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){let o=ZD(e),{x:a,y:s}=n,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let d=0-a,u=a+o.width-i.width,v=0-s,y=s+o.height-i.height,g=this._subtractOverflows(o.width,d,u),S=this._subtractOverflows(o.height,v,y),P=g*S;return{visibleArea:P,isCompletelyWithinViewport:o.width*o.height===P,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=QD(this._overlayRef.getConfig().minHeight),s=QD(this._overlayRef.getConfig().minWidth),l=n.fitsInViewportVertically||a!=null&&a<=r,c=n.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=ZD(e),o=this._viewportRect,a=Math.max(n.x+r.width-o.width,0),s=Math.max(n.y+r.height-o.height,0),l=Math.max(o.top-i.top-n.y,0),c=Math.max(o.left-i.left-n.x,0),d=0,u=0;return r.width<=o.width?d=c||-a:d=n.x<this._getViewportMarginStart()?o.left-i.left-n.x:0,r.height<=o.height?u=l||-s:u=n.y<this._getViewportMarginTop()?o.top-i.top-n.y:0,this._previousPushAmount={x:d,y:u},{x:n.x+d,y:n.y+u}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!fH(this._lastScrollVisibility,i)){let r=new df(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=n.y,o=i.height-a+this._getViewportMarginBottom();else if(e.overlayY==="bottom")s=i.height-n.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-s+this._getViewportMarginTop();else{let y=Math.min(i.bottom-n.y+i.top,n.y),g=this._lastBoundingBoxSize.height;o=y*2,a=n.y-y,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-g/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,u,v;if(c)v=i.width-n.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=n.x-this._getViewportMarginStart();else if(l)u=n.x,d=i.right-n.x-this._getViewportMarginEnd();else{let y=Math.min(i.right-n.x+i.left,n.x),g=this._lastBoundingBoxSize.width;d=y*2,u=n.x-y,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=n.x-g/2)}return{top:a,left:u,bottom:s,right:v,width:d,height:o}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.width=ki(i.width),r.height=ki(i.height),r.top=ki(i.top)||"auto",r.bottom=ki(i.bottom)||"auto",r.left=ki(i.left)||"auto",r.right=ki(i.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ki(o)),a&&(r.maxWidth=ki(a))}this._lastBoundingBoxSize=i,Es(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Es(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Es(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Es(i,this._getExactOverlayY(e,n,d)),Es(i,this._getExactOverlayX(e,n,d))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=ki(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=ki(a.maxWidth):o&&(i.maxWidth="")),Es(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=ki(o.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=n.overlayX==="end"?"left":"right":a=n.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=ki(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WD(n,i),isOriginOutsideView:F_(n,i),isOverlayClipped:WD(e,i),isOverlayOutsideView:F_(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+n-this._getViewportMarginEnd(),bottom:i.top+e-this._getViewportMarginBottom(),width:n-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&_a(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let n=this._origin;if(n instanceof ve)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}};function Es(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function QD(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(pH);return!e||e==="px"?parseFloat(n):null}return t||null}function ZD(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function fH(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var XD="cdk-global-overlay-wrapper";function Ea(t){return new hf}var hf=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(XD),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",y="",g="",S="";l?S="flex-start":d==="center"?(S="center",v?g=u:y=u):v?d==="left"||d==="end"?(S="flex-end",y=u):(d==="right"||d==="start")&&(S="flex-start",g=u):d==="left"||d==="start"?(S="flex-start",y=u):(d==="right"||d==="end")&&(S="flex-end",g=u),n.position=this._cssPosition,n.marginLeft=l?"0":y,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":g,e.justifyContent=S,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(XD),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},pf=(()=>{class t{_injector=_(le);constructor(){}global(){return Ea()}flexibleConnectedTo(e){return L_(this._injector,e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N_=new K("OVERLAY_DEFAULT_CONFIG");function Ts(t,n){t.get(fn).load(rM);let e=t.get(mf),i=t.get(Ee),r=t.get(gi),o=t.get(rn),a=t.get(wi),s=t.get(Mt,null,{optional:!0})||t.get(si).createRenderer(null,null),l=new No(n),c=t.get(N_,null,{optional:!0})?.usePopover??!0;l.direction=l.direction||a.value,"showPopover"in i.body?l.usePopover=n?.usePopover??c:l.usePopover=!1;let d=i.createElement("div"),u=i.createElement("div");d.id=r.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),u.appendChild(d),l.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));let v=l.usePopover?l.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(u),v&&(v instanceof Element?v.after(u):v.type==="parent"&&v.element?.appendChild(u)),new Jl(new af(d,o,t),u,d,l,t.get(ce),t.get(iM),i,t.get(ro),t.get(nM),n?.disableAnimations??t.get(ua,null,{optional:!0})==="NoopAnimations",t.get(qt),s)}var ff=(()=>{class t{scrollStrategies=_(eM);_positionBuilder=_(pf);_injector=_(le);constructor(){}create(e){return Ts(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gH=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vH=new K("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(le);return()=>du(t)}}),ec=(()=>{class t{elementRef=_(ve);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),oM=new K("cdk-connected-overlay-default-config"),gf=(()=>{class t{_dir=_(wi,{optional:!0});_injector=_(le);_overlayRef;_templatePortal;_backdropSubscription=qe.EMPTY;_attachSubscription=qe.EMPTY;_detachSubscription=qe.EMPTY;_positionSubscription=qe.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=_(vH);_ngZone=_(ce);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new ue;positionChange=new ue;attach=new ue;detach=new ue;overlayKeydown=new ue;overlayOutsideClick=new ue;constructor(){let e=_(Si),i=_(Pi),r=_(oM,{optional:!0}),o=_(N_,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new nr(e,i),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=gH);let e=this._overlayRef=Ts(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!$i(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=fi(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new No({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=L_(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof ec?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ec?this.origin.elementRef.nativeElement:this.origin instanceof ve?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(i=>this.backdropClick.emit(i)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(qv(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",He],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",He],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",He],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",He],push:[2,"cdkConnectedOverlayPush","push",He],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",He],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",He],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[li]})}return t})(),xa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[ff],imports:[zt,ka,A_,A_]})}return t})();function bH(t,n){}var Ta=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var V_=(()=>{class t extends Ca{_elementRef=_(ve);_focusTrapFactory=_(ru);_config;_interactivityChecker=_(Kl);_ngZone=_(ce);_focusMonitor=_(Oo);_renderer=_(Mt);_changeDetectorRef=_(At);_injector=_(le);_platform=_(kt);_document=_(Ee);_portalOutlet;_focusTrapped=new Z;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=_(Ta,{optional:!0})||new Ta,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||Xt(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=eu(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=eu();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=eu()))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&pt(Fr,7),i&2){let o;Pe(o=Re())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Te("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[It],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&Jt(0,bH,0,0,"ng-template",0)},dependencies:[Fr],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),uu=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Z;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!$i(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},_H=new K("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=_(le);return()=>tc(t)}}),SH=new K("DialogData"),wH=new K("DefaultDialogConfig");function CH(t){let n=C(t),e=new ue;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var j_=(()=>{class t{_injector=_(le);_defaultOptions=_(wH,{optional:!0});_parentDialog=_(t,{optional:!0,skipSelf:!0});_overlayContainer=_(mf);_idGenerator=_(gi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Z;_afterOpenedAtThisLevel=new Z;_ariaHiddenElements=new Map;_scrollStrategy=_(_H);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Vn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tt(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new Ta;i=W(W({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=Ts(this._injector,o),s=new uu(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Ot(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){B_(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){B_(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),B_(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new No({positionStrategy:e.positionStrategy||Ea().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ta,useValue:r},{provide:uu,useValue:i},{provide:Jl,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=V_;let l=new Rr(s,r.viewContainerRef,le.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Si){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=W(W({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new nr(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Rr(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:SH,useValue:e.data},{provide:uu,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(wi,null,{optional:!0}))&&s.push({provide:wi,useValue:CH(e.direction)}),le.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B_(t,n){let e=t.length;for(;e--;)n(t[e])}var aM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[j_],imports:[xa,ka,x_,ka]})}return t})();function Or(t){return t!=null&&`${t}`!="false"}var sM={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var kH=new K("MATERIAL_ANIMATIONS"),lM=null;function EH(){return _(kH,{optional:!0})?.animationsDisabled||_(ua,{optional:!0})==="NoopAnimations"?"di-disabled":(lM??=_(Jp).matchMedia("(prefers-reduced-motion)").matches,lM?"reduced-motion":"enabled")}function ri(){return EH()!=="enabled"}function xH(t,n){}var yf=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},H_="mdc-dialog--open",cM="mdc-dialog--opening",dM="mdc-dialog--closing",TH=150,DH=75,MH=(()=>{class t extends V_{_animationStateChanged=new ue;_animationsEnabled=!ri();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?hM(this._config.enterAnimationDuration)??TH:0;_exitAnimationDuration=this._animationsEnabled?hM(this._config.exitAnimationDuration)??DH:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(uM,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(cM,H_)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(H_),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(H_),this._animationsEnabled?(this._hostElement.style.setProperty(uM,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(dM)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(cM,dM)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275cmp=$({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(ht("id",r._config.id),Te("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),We("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[It],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1),Jt(2,xH,0,0,"ng-template",2),f()())},dependencies:[Fr],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),uM="--mat-dialog-transition-duration";function hM(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Ar(t.substring(0,t.length-2)):t.endsWith("s")?Ar(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var vf=(function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t})(vf||{}),hu=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Ko(1);_beforeClosed=new Ko(1);_result;_closeFallbackTimeout;_state=vf.OPEN;_closeInteractionType;constructor(n,e,i){this._ref=n,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(je(r=>r.state==="opened"),Ot(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(je(r=>r.state==="closed"),Ot(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Nt(this.backdropClick(),this.keydownEvents().pipe(je(r=>r.keyCode===27&&!this.disableClose&&!$i(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),IH(this,r.type==="keydown"?"keyboard":"mouse"))})}close(n){let e=this._config.closePredicate;e&&!e(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(je(i=>i.state==="closing"),Ot(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=vf.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=vf.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function IH(t,n,e){return t._closeInteractionType=n,t.close(e)}var Bo=new K("MatMdcDialogData"),AH=new K("mat-mdc-dialog-default-options"),PH=new K("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(le);return()=>tc(t)}}),et=(()=>{class t{_defaultOptions=_(AH,{optional:!0});_scrollStrategy=_(PH);_parentDialog=_(t,{optional:!0,skipSelf:!0});_idGenerator=_(gi);_injector=_(le);_dialog=_(j_);_animationsDisabled=ri();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Z;_afterOpenedAtThisLevel=new Z;dialogConfigClass=yf;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Vn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tt(void 0)));constructor(){this._dialogRefConstructor=hu,this._dialogContainerType=MH,this._dialogDataToken=Bo}open(e,i){let r;i=W(W({},this._defaultOptions||new yf),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Ie(W({},i),{positionStrategy:Ea(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ta,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[et],imports:[aM,xa,ka,zt]})}return t})();function RH(t,n){if(t&1&&(O(0,"div",3),Ce(1,"img",5),F()),t&2){let e=b();h(),ht("src",X(e.imageFiles[e.pageIndex]),J0)}}function FH(t,n){if(t&1){let e=U();O(0,"button",6),ct("click",function(){k(e);let r=b();return E(r.previousClick())}),p(1,"Previous"),F()}}function OH(t,n){if(t&1){let e=U();O(0,"button",6),ct("click",function(){k(e);let r=b();return E(r.nextClick())}),p(1,"Next"),F()}}var ao=(()=>{class t{constructor(e){this.data=e,this.titleText="",this.bodyTextArray=[],this.imageFiles=[],this.pageIndex=0,this.currentImageFile="",this.titleText=e.titleText,this.bodyTextArray=e.bodyTextArray,this.imageFiles=e.imageFiles||[],this.imageFiles.length>0?this.currentImageFile=this.imageFiles[0]:this.currentImageFile=""}nextClick(){this.pageIndex<this.bodyTextArray.length-1&&(this.pageIndex++,this.imageFiles.length>this.pageIndex?this.currentImageFile=this.imageFiles[this.pageIndex]:this.currentImageFile="")}previousClick(){this.pageIndex>0&&(this.pageIndex--,this.imageFiles.length>this.pageIndex?this.currentImageFile=this.imageFiles[this.pageIndex]:this.currentImageFile="")}static{this.\u0275fac=function(i){return new(i||t)(R(Bo))}}static{this.\u0275cmp=$({type:t,selectors:[["app-text-panel"]],decls:10,vars:6,consts:[[1,"darkMode"],[1,"textDiv"],[3,"innerHTML"],[1,"imageDiv"],[1,"navigationDiv"],["width","300","priority","",1,"image",3,"src"],[3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2),F(),Ce(3,"hr"),O(4,"div",1),Ce(5,"span",2),F(),x(6,RH,2,2,"div",3),O(7,"div",4),x(8,FH,2,0,"button"),x(9,OH,2,0,"button"),F()()),i&2&&(h(2),he(r.titleText),h(3),ht("innerHTML",X(r.bodyTextArray[r.pageIndex]),Do),h(),T(r.currentImageFile!==""?6:-1),h(2),T(r.pageIndex>0?8:-1),h(),T(r.pageIndex<r.bodyTextArray.length-1?9:-1))},styles:[".textDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;white-space:pre-line}.imageDiv[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{aspect-ratio:1;object-fit:contain}.navigationDiv[_ngcontent-%COMP%]{text-align:center}"]})}}return t})();function LH(t,n){if(t&1){let e=U();O(0,"div",1)(1,"span")(2,"button",2),ct("click",function(){let r=k(e).$implicit,o=b();return E(o.achievementService.triggerMemory(r))}),p(3),B(4,"camelToTitle"),F()()()}if(t&2){let e=n.$implicit;h(3),N(" ",V(4,1,e)," ")}}var pM=(()=>{class t{constructor(e){this.achievementService=e}static{this.\u0275fac=function(i){return new(i||t)(R(rr))}}static{this.\u0275cmp=$({type:t,selectors:[["app-memories-panel"]],decls:7,vars:0,consts:[[1,"darkMode"],[1,"memory"],[3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Memories"),F(),Ce(3,"hr"),O(4,"div"),ne(5,LH,5,3,"div",1,vt),F()()),i&2&&(h(5),re(r.achievementService.unlockedMemories))},dependencies:()=>[Pt],styles:[".memory[_ngcontent-%COMP%]{margin:8px}"]})}}return t})();var Fi=(()=>{class t{constructor(e,i,r,o,a,s,l,c){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.mainLoopService=a,this.titleCasePipe=s,this.homeService=l,this.dialog=c,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[st.Palace],this.qiCompressionDescription="",this.qiCompressionCost=1/0,this.storeOpened=!1,this.furnitureIndex=0,this.qiConsistency=["ethereal","airy","vaporous","watery","creamy","syrupy","honey-thick","semisolid","solid","adamant"],this.selectedItem=null,this.manuals=[],this.regularStoreItems=[this.itemRepoService.items.rice,this.itemRepoService.items.meat];let d=!0;a.longTickSubject.subscribe(()=>{this.updateStoreItems(d),d=!1})}updateStoreItems(e=!1){for(let i in this.inventoryService.soldGoods){let r=this.itemRepoService.items[i];r&&this.inventoryService.soldGoods[i]>Math.pow(r.value,3)*10&&!this.regularStoreItems.includes(r)&&(this.regularStoreItems.push(r),this.regularStoreItems.sort((o,a)=>(o.type+o.subtype).localeCompare(a.type+a.subtype)),e||this.mainLoopService.toast("A new item is available in the shop: "+this.titleCasePipe.transform(r.name)))}}setFurnitureIndex(e){this.furnitureIndex=e,this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.money&&(this.characterService.updateMoney(0-this.selectedItem.value),this.selectedItem.type==="manual"&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}isManualAvailable(){for(let e of this.manuals)if(e.owned&&!e.owned())return!0;return!1}buyFurniture(e){let i=e?.value;if(this.homeService.ownedFurniture.includes(e.id))i=0;else if(this.characterService.money>=i)this.characterService.updateMoney(0-e.value),this.homeService.ownedFurniture.push(e.id);else return;let r=this.homeService.bedroomFurniture.findIndex(o=>e.id===o?.id);r>=0&&this.homeService.setFurniture(null,r),this.homeService.setFurniture(e,this.furnitureIndex)}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.characterService.bloodlineRank===0?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Mansion]):this.characterService.bloodlineRank===1?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Palace]):this.characterService.bloodlineRank===2?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Castle]):this.characterService.bloodlineRank===3?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Fortress]):this.characterService.bloodlineRank===4?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Mountain]):this.characterService.bloodlineRank===5?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. You will keep your weapons, armor, and money with interest.",this.bloodLineHomeRequirement=this.homeService.homesList[st.ForbiddenCity]):this.characterService.bloodlineRank===6?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your followers will have enhanced bloodlines and will follow you between incarnations. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Capital]):this.characterService.bloodlineRank===7?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Break through the limits of humanity. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[st.ImperialSeat]):this.characterService.bloodlineRank===8?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline one last time. Finally, you will gain aptitudes every day from your current Attributes, improving constantly. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[st.Godthrone]):this.characterService.bloodlineRank===9&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. Your followers also have enhanced bloodlines and will follow you between incarnations. You will keep your Empire, and can break through the limits of humanity. Finally, you will gain aptitudes every day from your current Attributes."),this.qiCompressionDescription="Compress your Qi from its current "+this.qiConsistency[this.characterService.qiCompressionLevel]+" state.",this.qiCompressionCost=Math.pow(10,this.characterService.qiCompressionLevel+3)}upgradeQiCompression(){if(!this.characterService.qiUnlocked){this.logService.log(w.EVENT,"You haven't even begun to learn how to manipulate your qi, much less compress it.");return}if(this.characterService.qiCompressionLevel>=9){this.logService.log(w.EVENT,"You can't compress your Qi any further.");return}if(this.characterService.status.qi.max<this.qiCompressionCost){this.logService.log(w.EVENT,"You lack the required Qi development to compress your Qi.");return}this.logService.log(w.STORY,"Your "+this.qiConsistency[this.characterService.qiCompressionLevel]+" Qi implodes within you, strengthening and thickening until it has an almost "+this.qiConsistency[this.characterService.qiCompressionLevel+1]+" consistency. You will have greater power when you use Qi to strengthen your lifespan, infuse your body, or strike foes in battle. It may take more effort to build up your maximum Qi, but you are certain the struggle will be worth it."),this.characterService.qiCompressionLevel++,this.characterService.status.qi.max=1,this.dialog.closeAll()}condenseSoulCore(){if(this.soulCoreRank>=9){this.logService.log(w.EVENT,"You can't condense your soul core any further.");return}if(this.characterService.attributes.spirituality.value<this.characterService.condenseSoulCoreCost){this.logService.log(w.EVENT,"You don't have the spirituality required to ascend.");return}if(!this.gemRequirementsMet(this.soulCoreRank+12,this.soulCoreRank>2)){this.logService.log(w.EVENT,"You don't have the gems required to ascend.");return}this.characterService.condenseSoulCore(),this.dialog.closeAll()}reinforceMeridians(){if(this.meridianRank>=9){this.logService.log(w.EVENT,"You can't reinforce your meridians any further.");return}if(this.characterService.attributes.spirituality.value<this.characterService.reinforceMeridiansCost){this.logService.log(w.EVENT,"You don't have the spirituality required to ascend.");return}if(!this.gemRequirementsMet(this.meridianRank+16,this.meridianRank>2)){this.logService.log(w.EVENT,"You don't have the gems required to ascend.");return}this.characterService.reinforceMeridians(),this.dialog.closeAll()}upgradeBloodline(){if(this.characterService.attributes.spirituality.value<this.characterService.bloodlineCost){this.logService.log(w.EVENT,"You don't have the spirituality required to ascend.");return}if(this.characterService.bloodlineRank>=9){this.logService.log(w.EVENT,"You can't enhance your bloodline any further.");return}if(this.homeService.home.type<this.bloodLineHomeRequirement.type){this.logService.log(w.EVENT,"You don't have a powerful enough home to ascend.");return}this.characterService.upgradeBloodline(),this.dialog.closeAll()}gemRequirementsMet(e,i){let r=e*10;if(i){let o=this.inventoryService.itemStacks.find(d=>d.item?.type===J&&d.item.subtype==="metal"&&d.item.value>=r),a=this.inventoryService.itemStacks.find(d=>d.item?.type===J&&d.item.subtype==="earth"&&d.item.value>=r),s=this.inventoryService.itemStacks.find(d=>d.item?.type===J&&d.item.subtype==="water"&&d.item.value>=r),l=this.inventoryService.itemStacks.find(d=>d.item?.type===J&&d.item.subtype==="fire"&&d.item.value>=r),c=this.inventoryService.itemStacks.find(d=>d.item?.type===J&&d.item.subtype==="wood"&&d.item.value>=r);return o!==void 0&&a!==void 0&&s!==void 0&&l!==void 0&&c!==void 0}else return this.inventoryService.itemStacks.find(a=>a.item?.type===J&&a.item.value>=r)!==void 0;return!1}static{this.\u0275fac=function(i){return new(i||t)(L(St),L(ae),L(se),L(oi),L(pe),L(yt),L(Qe),L(et))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q_="Home",U_="Spirituality",z_="Ascension",$_="Followers",G_="Sect",W_="QiUnlocked",Y_="ImpossibleTasks",K_="Immortality",Z_="JoinTheGods",Q_="HellCompletion",rr=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d,u,v,y,g,S,P,M,z){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=a,this.itemRepoService=s,this.storeService=l,this.battleService=c,this.homeService=d,this.farmService=u,this.activityService=v,this.followerService=y,this.impossibleTaskService=g,this.hellService=S,this.locationService=P,this.contemplationService=M,this.dialog=z,this.unlockedAchievements=[],this.unlockedMemories=[],this.memoriesUnlocked=C(!1),this.memories={[q_]:{title:"An Ancestral Home",text:["It's a simple home, but one that you can pass down to your descendants.<br><br>Your future reincarnations will be born as the heirs to this home, giving you a permanent place to anchor your journey toward immortality."],imageBaseName:"home"},[U_]:{title:"A Spiritual Awakening",text:["A stirring deep in the center of your being has begun, the start of your path to spirituality.<br><br>You find that your resting has become more than mere relaxing to refresh your mind and body.<br><br>Your newfound capacity for contemplation, reflection, and clearing your mind has unlocked a powerful new path in your development toward immortality."],imageBaseName:"spirituality"},[z_]:{title:"Ascension",text:["Your whole lifetime has been building up to this moment.<br><br>You have overcome fierce monsters, honed your abilities, and prepared your spirit to ascend to powers your past lives could only dream of.<br><br>You close your eyes and embrace your destiny."],imageBaseName:"ascension"},[$_]:{title:"A Follower Appears",text:["You glance behind you and see someone you didn't expect.<br><br>A disciple?<br><br>It seems that your path to immortality has inspired others to follow in your footsteps.<br><br>You will do your best to continue to serve as a beacon of enlightenment, and perhaps if you are persuasive enough you can even find others that want to join you on your spiritual journey."],imageBaseName:"followers"},[G_]:{title:"A Sect Emerges",text:["Your followers are becoming more numerous and more organized.<br><br>You decide that it's time to find a place for them to gather.<br><br>A simple field will do at first, but in your mind's eye you can look forward to it become a great institution of disciples dedicated to following your example.<br><br>You will need to provide them with essentials like funds and spirit gems, but perhaps with some time and effort your followers could even begin to share the burden of training and help each other to advance."],imageBaseName:"sect"},[W_]:{title:"The Power of Qi",text:["A tingle begins in your fingertips.<br><br>You feel the flow of Qi, a power that has always resided inside of you but was, until now, beyond your conscious control.<br><br>The power concentrates until it fills your hand, ready to be unleashed.<br><br>You have a great deal of training to do before you can make effective use of this power against your foes, but the door to unleashing your inner strength is finally unlocked."],imageBaseName:"qiUnlocked"},[Y_]:{title:"Impossible Tasks",text:["You are finally ready to seek out true immortality.<br><br>Your consummate searching has yielded your first clue: a scrap in an ancient text that leads you to believe that the secret of immortality lies in the ruins of an ancient civilization buried deep beneath the ocean's currents.<br><br>Reaching it is clearly impossible.<br><br>It simply can't be done.<br><br>You should give up now."],imageBaseName:"impossibleTasks"},[K_]:{title:"Immortality",text:["The essence of immortality flows into your core, infusing your soul with the power to defy death in all its forms.<br><br>You are no longer subject to disease, dying of your injuries, or the infirmities of old age.<br><br>You are no longer trapped in the continual cylce of reincarnation, though you feel you could still give up your current life and be reborn in a new immortal body should you so choose.<br><br>The distant outline of Mount Penglai, the home of the gods, catches your eye.<br><br>Now that you are immortal, could you dare to claim a place of your own there?"],imageBaseName:"immortality"},[Z_]:{title:"Joining the Gods",text:["You ascend into the heavens, wind roaring past as your body cleaves through the sky like a blade.<br><br>The mortal world fades beneath your feet\u2014villages, mountains, rivers\u2014all growing smaller as you rise above the realm of men.<br><br>Over the Kunlun mountains, past sacred Mount Tai, and beyond the icy breath of the Jade Peaks, you cross the edge of the world itself.<br><br>The sea opens up before you like a mirror of the sky, and in the far distance, Mount Penglai emerges\u2014an immortal isle shrouded in mist and crowned with golden light.","Above the snowy slopes of Penglai, the mountain peak splits the clouds like a divine spear.<br><br>Atop it stands the legendary Golden Palace, radiant as the sun, its high walls wreathed in drifting silk-clouds and surrounded by a forest unlike any you've seen.<br><br>Jewels hang like fruit from crystalline branches, and fragrant blossoms pulse with the qi of eternity.<br><br>The orchard is said to bear fruits of eternal youth, yet despite your years of cultivation, you cannot help but feel a small pang of inadequacy.<br><br>Your own peaches never shone so brightly.<br><br>No matter how carefully you tended your land, they were never this... divine.<br><br>You suppress the feeling.<br><br>You are immortal now.<br><br>You have crossed the threshold few dare even to dream of.<br><br>You belong here \u2014 don\u2019t you?","You pass beneath the golden arch and step into a vast courtyard paved with polished stone.<br><br>The divine pressure here weighs heavy on your shoulders, more profound than anything the mortal world ever offered.<br><br>Seated before you are the gods themselves\u2014an assembly of beings who rule the celestial realms.<br><br>The Eight Immortals recline in ease, each holding their sacred artifact, laughing at jokes older than dynasties.<br><br>Nuwa and Fuxi speak in low, gentle tones.<br><br>The Queen Mother of the West exchanges rare smiles with Caishen, god of wealth, clad in silks finer than mortal imagination.<br><br>And at the heart of them all\u2014on the highest of the golden thrones\u2014sits the Jade Emperor, Shangti, expression unreadable.",'Shangti claps his hands.<br><br>"Ah. The young upstart who has caused such noise in the mortal realm has finally arrived."',"Every divine eye turns toward you, and though none speak, their silence speaks volumes.<br><br>Their gazes are not kind.<br><br>Their stares are not welcoming.","You nod respectfully and step closer, the celestial qi around you thickening.<br><br>Among the countless golden thrones, one\u2014off to the side\u2014is conspicuously empty.<br><br>Your eyes rest on it for just a moment too long. A seat waiting to be claimed, perhaps?<br><br>Or a reminder of what you have not yet earned?",`"I suppose you feel you deserve a place here now, do you?<br><br>Fight a few monsters.<br><br>Improve yourself a little.<br><br>Conquer your fellow mortals.<br><br>And suddenly, you think you're a god?"`,"You prepare to speak, to recount the years of pain and meditation, the near-death battles, the countless nights spent perfecting your meridians and soul core beneath the stars.<br><br>But before you can utter a word, another voice cuts through the air like a thunderclap.",'"Nonsense!<br><br>This upstart destroyed one of my finest servants and committed myriad sins that still scream from the lower realms.<br><br>A karmic debt weighs heavy and no price has been paid."','"And what do you propose, Lord Yama?<br><br>The child has shown the strength to ascend and the determination to rise.<br><br>That empty throne will not remain empty forever."','"Send the upstart to my domain.<br><br>Let the eighteen hells purge the karmic debt.<br><br>If this child is to sit among us, the price must be paid in fire, blade, sorrow, and shadow."',`Another god speaks out from the nearby mountains.<br><br>"Lord Yama's proposal seems fair.<br><br>The child has power, yes \u2014 but no balance.<br><br>The yin and yang within are a storm.<br><br>A few millennia under Yama's watch will do the upstart good, granting temperence... or the peace of utter destruction. Either way, the problem is resolved."`,"Whispers and nods ripple through the gathering.<br><br>The weight of judgment hangs in the air, and no voice rises in protest.",'"Your words are wise, as always, Pan Gu."<br><br>The Jade Emperor turns to face you again.<br><br>"Let the upstart be cast into the eighteen hells.<br><br>Should the experience teach wisdom rather than despair, then we shall welcome the child as one of us."',"Before you can voice a word of protest, the Emperor lifts a single hand.<br><br>The space around you fractures like glass struck by divine force.<br><br>Light and sound vanish.<br><br>You fall \u2014 not through space, but through reality itself.","You awaken\u2014or perhaps arrive\u2014in a vast, empty stone chamber.<br><br>The air is cold, dry, silent.<br><br>Above, darkness.<br><br>Below, the faint shimmer of runes etched into stone.<br><br>Around you stand eighteen open gates, each one a maw leading to a different hell.<br><br>You can feel them calling to you.<br><br>Testing you.<br><br>Daring you.",`You hear the Jade Emperor's voice one last time.<br><br>"If you are worthy, you will return. If not, you will serve as a warning to those who think mere strength makes a god."<br><br>It looks like you have a new challenge ahead: Escape this underworld and prove your worth to the gods.<br><br>You brace yourself for the horrors you will face as you step through the first portal.`],imageBaseName:"joinTheGods"},[Q_]:{title:"Hell Vanquished!",text:['Lord Yama lies defeated before you, unable to stand against your strength.<br><br>He bows in acknowledgement of your growth in both character and prowess.<br><br>"Take this key, child."<br><br>Lord Yama hands you a glowing artifact.<br><br>"The portals will answer to you now. You may return now to the Divine Realm to claim your rightful place. Welcome home, young upstart, and may the heavens continue to smile upon you."<br><br>'],imageBaseName:"hellCompletion"}},this.achievements=[{name:"One Week",description:"You survived your first week of this game!",hint:"Try some activities.",check:()=>this.mainLoopService.totalTicks>7,effect:()=>{this.mainLoopService.timeUnlocked=!0,this.gameStateService.unlockPanel("timePanel"),this.gameStateService.addLayoutPanel("timePanel",0,8,30,8),this.gameStateService.unlockPanel("schedulePanel"),this.gameStateService.addLayoutPanel("schedulePanel",0,14,30,14)},unlocked:!1},{name:"Big Earner",description:"You earned your first few taels by working hard.<br>Maybe you should invest in some land and a better home.",hint:"Make some money.",check:()=>this.characterService.money>=100,effect:()=>{this.homeService.homeUnlocked=!0,this.gameStateService.unlockPanel("homePanel"),this.gameStateService.addLayoutPanel("homePanel",68,15,30,20)},unlocked:!1},{name:"Bigger Earner",description:"You earned your first million taels! Do you feel rich yet?",hint:"Make some more money.",check:()=>this.characterService.money>=1e6,effect:()=>{},unlocked:!1},{name:"Biggest Earner",description:"You earned your first trillion taels! Your greed knows no bounds.",hint:"Make even more money.",check:()=>this.characterService.money>=1e12,effect:()=>{},unlocked:!1},{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Farmer",description:"You plowed your first field!",hint:"Cultivation might be important for cultivation.",check:()=>this.farmService.fallowPlots>0,effect:()=>{this.gameStateService?.unlockPanel("farmPanel")},unlocked:!1},{name:"Gear Up!",description:"You created some equipment and now you can wear it.",hint:"Some jobs let you make stuff you can use.",check:()=>this.inventoryService.equipmentCreated>0||this.characterService.equipment.head!==null||this.characterService.equipment.body!==null||this.characterService.equipment.leftHand!==null||this.characterService.equipment.rightHand!==null||this.characterService.equipment.legs!==null||this.characterService.equipment.feet!==null,effect:()=>{this.inventoryService.equipmentUnlocked=!0,this.gameStateService.unlockPanel("equipmentPanel")},unlocked:!1},{name:"Stuff!",description:"You got your first item.",hint:"Find anything.",check:()=>this.inventoryService.totalItemsReceived>0,effect:()=>{this.gameStateService.unlockPanel("inventoryPanel"),this.gameStateService.addLayoutPanel("inventoryPanel",30,28,38,22)},unlocked:!1},{name:"Attack!",description:"You are under attack by an enemy.",hint:"They are coming for you.",check:()=>this.battleService.totalEnemies>0,effect:()=>{this.battleService.battlesUnlocked=!0,this.gameStateService.unlockPanel("battlePanel"),this.gameStateService.addLayoutPanel("battlePanel",68,35,30,22)},unlocked:!1},{name:"Busy Life",description:"You have discovered a wide variety of activities and developed some additional capabilites for managing them.",hint:"The world has so many things to do.",check:()=>this.activityService.displayedActivitiesCount>12,effect:()=>{this.activityService.activityOptionsUnlocked.set(!0)},unlocked:!1},{name:"Spiritual Awakening",description:"You have honed your mind and body enough to begin meditating to develop your spirit.",hint:"An aspiring immortal needs to develop all the basic attributes.",check:()=>this.characterService.attributes.strength.value>=1e3&&this.characterService.attributes.speed.value>=1e3&&this.characterService.attributes.charisma.value>=1e3&&this.characterService.attributes.intelligence.value>=1e3&&this.characterService.attributes.toughness.value>=1e3,effect:()=>{this.unlockedMemories.includes(U_)||this.triggerMemory(U_)},unlocked:!1},{name:"Persistent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Cabbage Stand",description:"You can now grow cabbage in your farm. Watch out for kids running by when you sell them.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>2,effect:()=>{this.farmService.unlockCrop("cabbage")},unlocked:!1},{name:"The Magical Fruit",description:"You can now grow beans in your farm.",hint:"They're not really a fruit.",check:()=>this.characterService.attributes.woodLore.value>5,effect:()=>{this.farmService.unlockCrop("beans")},unlocked:!1},{name:"Little Green Trees",description:"You can now grow broccoli in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>10,effect:()=>{this.farmService.unlockCrop("broccoli")},unlocked:!1},{name:"A Gourd You Might Not Know",description:"You can now grow calabash in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>50,effect:()=>{this.farmService.unlockCrop("calabash")},unlocked:!1},{name:"It's Not Just for Boba",description:"You can now grow taro in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>100,effect:()=>{this.farmService.unlockCrop("taro")},unlocked:!1},{name:"First Fruits",description:"You can now grow pears in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>1e3,effect:()=>{this.farmService.unlockCrop("pear")},unlocked:!1},{name:"They Come in Different Sizes",description:"You can now grow melons in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>1e4,effect:()=>{this.farmService.unlockCrop("melon")},unlocked:!1},{name:"Purple Sweet and Sour",description:"You can now grow plums in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>1e6,effect:()=>{this.farmService.unlockCrop("plum")},unlocked:!1},{name:"A Tiny Taste of Immortality",description:"You can now grow apricot in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>1e9,effect:()=>{this.farmService.unlockCrop("apricot")},unlocked:!1},{name:"Almost Eating Like an Immortal",description:"You can now grow peaches in your farm.",hint:"Work that farm!",check:()=>this.characterService.attributes.woodLore.value>1e12,effect:()=>{this.farmService.unlockCrop("peach")},unlocked:!1},{name:"Sweeter Still",description:"You can now grow Divine Peaches in your farm.",hint:"Descend to the depths and bring back the sweetest fruit.",check:()=>this.inventoryService.divinePeachesUnlocked,effect:()=>{this.farmService.unlockCrop("divinePeach")},unlocked:!1},{name:"Veteran Cultivator",description:"You lived ten thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.totalPlaytimeManual.name,hint:"A long life. Myriad years.",check:()=>this.mainLoopService.totalTicks>365e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.totalPlaytimeManual)},unlocked:!1},{name:"Going Places",description:"You have reached beyond the confines of your home town and started to explore the wider world.",hint:"Run, Forrest, Run!",check:()=>this.locationService.unlockedLocations.length>2,effect:()=>{this.gameStateService?.unlockPanel("locationPanel")},unlocked:!1},{name:"Arts and Crafts",description:"You have unlocked your very own workstations to create your own gear, meals, potions, and pills. You can now access the crafting panel.",hint:"You need a big house for this.",check:()=>this.homeService.home.maxWorkstations>0,effect:()=>{this.gameStateService?.unlockPanel("craftingPanel")},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(j.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(j.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(j.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(j.Woodworking),effect:()=>{},unlocked:!1},{name:"Just Put It Over There",description:"You have become an expert at loading inputs into your crafting workstations, and have unlocked a manual to automatically load workstations as you acquire more of the same ingredients.",hint:"It sure would be nice to have the ore just go right into the smelter.",check:()=>this.homeService.totalCrafts>888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.perpetualCraftingManual)},unlocked:!1},{name:"Addict",description:"You got a taste of those sweet, sweet empowerment pills and want more.",hint:"Master of all.",check:()=>this.characterService.empowermentPillsTaken>100,effect:()=>{},unlocked:!1},{name:"Habitual User",displayName:"Dope",description:"You got tremendous powerout of those empowerment pills, and your body has adapted to use them better. More. More! MORE!!!!",hint:"Jagged little pills. So many of them.",check:()=>this.characterService.empowermentPillsTaken>=1e4,effect:()=>{this.characterService.empowermentMax=999},unlocked:!1},{name:"Rice, Rice, Baby",description:"You've eaten healthy food 88 items and unlocked the "+this.itemRepoService.items.autoEatManual.name,hint:"Better than dumpster diving.",check:()=>this.inventoryService.lifetimeUsedFood>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoEatManual)},unlocked:!1},{name:"Eat Like Goku",description:"You've eaten way more than you should have for 8888 days and unlocked the "+this.itemRepoService.items.basicGluttonyManual.name,hint:"You'll get a tummyache.",check:()=>this.inventoryService.daysGorged>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.basicGluttonyManual)},unlocked:!1},{name:"Eat Like Luffy",description:"You've eaten way more than you should have for 88888888 days and unlocked the "+this.itemRepoService.items.advancedGluttonyManual.name,hint:"No, don't eat that much, you'll get sick for sure.",check:()=>this.inventoryService.daysGorged>=88888888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.advancedGluttonyManual)},unlocked:!1},{name:"Snack Time!",description:"You stopped in the middle of battle and sat down for a meal 8888 times. Seriously? You couldn't wait until the fight was over to eat? Well, now you get to do it more often.",hint:"Meals on the go.",check:()=>this.battleService.pouchFoodUsed>=8888,effect:()=>{this.battleService.foodCooldown=40},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>this.inventoryService.openInventorySlots()===0,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much.<br>Why would an aspiring immortal need this much stuff?",check:()=>this.inventoryService.maxStackSize>=1e4&&this.inventoryService.thrownAwayItems>=1e6,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"Your vast tracts of land make you the envy of all your neighbors",hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and will now start each life with additional stamina from the abundance available in your youth.<br>Did you just become the young master?",hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=st.CourtyardHouse,effect:()=>{this.characterService.startingStaminaBoost=!0},unlocked:!1},{name:"Off to Ikea",description:"You set up some great furniture and can now better discern where furniture items should go to improve the flow of Qi in your home.",hint:"Immortals have discerning taste in furnishings.",check:()=>this.characterService.fengshuiScore>=5,effect:()=>{this.homeService.seeFurnitureEffects=!0},unlocked:!1},{name:"Don't Sell My Bed!",description:"Your taste in decor is so excellent that the furniture in your bedroom will be preserved untouched until your next reincarnation.",hint:"Strong family bonds mean more heirlooms.",check:()=>this.characterService.fengshuiScore>=10,effect:()=>{this.homeService.keepFurniture=!0},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.basicHealthRegenerationManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.farmService.mostFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.basicHealthRegenerationManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've mastered many professions. Good job!",hint:"Hard work has many rewards.",check:()=>this.activityService.completedApprenticeships.includes(j.Blacksmithing)&&this.activityService.completedApprenticeships.includes(j.Alchemy)&&this.activityService.completedApprenticeships.includes(j.Leatherworking)&&this.activityService.completedApprenticeships.includes(j.Woodworking),effect:()=>{},unlocked:!1},{name:"First Sip",description:"You drank your first potions and unlocked a special equipment slot",hint:"Just take a taste. You'll like it.",check:()=>this.inventoryService.lifetimePotionsUsed>=1,effect:()=>{this.characterService.itemPouches.length<1&&this.characterService.itemPouches.push(this.inventoryService.getEmptyItemStack())},unlocked:!1},{name:"Guzzler",description:"You drank 888 potions and unlocked a second potion slot.",hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=888,effect:()=>{this.characterService.itemPouches.length<2&&this.characterService.itemPouches.push(this.inventoryService.getEmptyItemStack())},unlocked:!1},{name:"Emergency Swig",description:"You drank 8888 equipped potions and reduced your potion cooldown.",hint:"It's just for medicinal use, I promise. I can stop whenever I want.",check:()=>this.battleService.pouchPotionsUsed>=8888,effect:()=>{this.battleService.potionCooldown=10},unlocked:!1},{name:"Junkie",description:"You took 88 pills in one lifetime and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one.<br>Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Pharmacist",description:"You have made enough pills to study the properties of the herbs you use to make them. You can now read the "+this.itemRepoService.items.herbalUnderstandingManual.name,hint:"An aspiring immortal should make wise use of herbal medicine.",check:()=>this.homeService.pillsMade>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.herbalUnderstandingManual)},unlocked:!1},{name:"Monster Slayer",description:"You fought 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.totalKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Monster Hunter",description:"You tracked down and killed 20  different kinds of monsters. Good job!",hint:"An aspiring immortal bravely faces down many kinds of foes.",check:()=>Object.keys(this.battleService.killsByMonster).length>=20,effect:()=>{},unlocked:!1},{name:"Monster Exterminator",description:"You tracked down and killed 40  different kinds of monsters. Good job!",hint:"It's almost like pokemon, but with less catching.",check:()=>Object.keys(this.battleService.killsByMonster).length>=40,effect:()=>{},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>!!(this.characterService.equipment?.rightHand?.weaponStats&&this.characterService.equipment?.rightHand?.weaponStats.baseDamage>=60&&this.characterService.equipment?.leftHand?.weaponStats&&this.characterService.equipment?.leftHand?.weaponStats.baseDamage>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>!!(this.characterService.equipment?.head?.armorStats&&this.characterService.equipment?.head?.armorStats.defense>=60&&this.characterService.equipment?.body?.armorStats&&this.characterService.equipment?.body?.armorStats.defense>=60&&this.characterService.equipment?.legs?.armorStats&&this.characterService.equipment?.legs?.armorStats.defense>=60&&this.characterService.equipment?.feet?.armorStats&&this.characterService.equipment?.feet?.armorStats.defense>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.inventoryService.gemsAcquired>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.attributes.woodLore.value>1024&&this.characterService.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.attributes.woodLore.value>1024&&this.characterService.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",displayName:"Smelting Snob",description:"You achieved a deep understanding of digging and smelting metal and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.attributes.metalLore.value>1024&&this.characterService.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Hide Snob",displayName:"Hunting Snob",description:"You achieved a deep understanding of hunting and gathering hides and unlocked the "+this.itemRepoService.items.bestHidesManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.attributes.animalHandling.value>1024&&this.characterService.attributes.speed.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHidesManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Unlimited Taels",description:"Your family has unlocked the secrets of compound interest.<br>You probably never have to worry about money again.",hint:"Family first. Especially in matters of money.",check:()=>this.characterService.bloodlineRank>=4,effect:()=>{},unlocked:!1},{name:"Not Unlimited Taels",description:"You filled up your purse, your wall safe, the box under your bed, and a giant money pit in the backyard.<br>You just can't hold any more money.",hint:"How rich can you get?",check:()=>this.characterService.money>=this.characterService.maxMoney-1e21,effect:()=>{},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through four cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.totalLives>4,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed enough spirituality to come to understand the value of grandmothers.",hint:"You'll need to meditate on this one to figure it out.",check:()=>this.characterService.attributes.spirituality.value>1,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>!!(this.characterService.equipment?.rightHand?.weaponStats&&this.characterService.equipment?.rightHand?.weaponStats.baseDamage>=8888&&this.characterService.equipment?.leftHand?.weaponStats&&this.characterService.equipment?.leftHand?.weaponStats.baseDamage>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>!!(this.characterService.equipment?.head?.armorStats&&this.characterService.equipment?.head?.armorStats.defense>=8888&&this.characterService.equipment?.body?.armorStats&&this.characterService.equipment?.body?.armorStats.defense>=8888&&this.characterService.equipment?.legs?.armorStats&&this.characterService.equipment?.legs?.armorStats.defense>=8888&&this.characterService.equipment?.feet?.armorStats&&this.characterService.equipment?.feet?.armorStats.defense>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment!<br>You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements.<br>Qi is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{let G=this.characterService.attributes.fireLore.value,Y=this.characterService.attributes.earthLore.value,ge=this.characterService.attributes.woodLore.value,me=this.characterService.attributes.waterLore.value,de=this.characterService.attributes.metalLore.value,be=Math.min(de,me,ge,Y,G),oe=Math.max(de,me,ge,Y,G);return be>=1e3&&oe<=be*1.21},effect:()=>{this.unlockedMemories.includes(W_)||this.triggerMemory(W_),this.characterService.qiUnlocked=!0,this.characterService.status.qi.max===0&&(this.characterService.status.qi.max=1,this.characterService.status.qi.value=1),this.activityService.checkRequirements(!0)},unlocked:!1},{name:"Qi Infused",description:"You have saturated your body with qi energy and unlocked the "+this.itemRepoService.items.basicQiRegenerateManual.name,hint:"You'll need to infuse every last cell",check:()=>this.characterService.healthBonusMagic>=1e6,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.basicQiRegenerateManual)},unlocked:!1},{name:"First Disciple",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0,this.gameStateService.unlockPanel("followersPanel"),this.unlockedMemories.includes($_)||(this.followerService.generateFollower(),this.triggerMemory($_))},unlocked:!1},{name:"A Sect of Your Own",description:"Your following is growing and can now get organized.",hint:"You'll need to start with a small, dedicated group.",check:()=>this.followerService.followers.length>=10,effect:()=>{this.followerService.hqUnlocked=!0,this.unlockedMemories.includes(G_)||this.triggerMemory(G_)},unlocked:!1},{name:"Animal Friend",description:"You have found your first pet and unlocked the Pets panel.",hint:"Not all followers are humans.",check:()=>this.followerService.pets.length>0,effect:()=>{this.gameStateService.unlockPanel("petsPanel")},unlocked:!1},{name:"Preserved Ingredients",description:"Your family has learned to keep their ancestors' workstations exactly as they left them.",hint:"A good family knows not to touch Grandpa's herb stash.",check:()=>this.characterService.bloodlineRank>=6,effect:()=>{this.homeService.keepWorkstationInputs=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can exceed the limits of humanity. It can't be done.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.bloodlineRank>=5,effect:()=>{this.unlockedMemories.includes(Y_)||this.triggerMemory(Y_),this.impossibleTaskService.impossibleTasksUnlocked=!0,this.gameStateService.unlockPanel("impossibleTasksPanel")},unlocked:!1},{name:"Ascended Techniques",description:"You have followed the path of immortality through your first ascension and can now start to develop special combat techniques that will be handed down through your family.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1||this.characterService.meridianRank()>=1||this.characterService.bloodlineRank>=1,effect:()=>{this.unlockedMemories.includes(z_)||this.triggerMemory(z_),this.battleService.maxFamilyTechniques<1&&(this.battleService.maxFamilyTechniques=1)},unlocked:!1},{name:"Blazing Blood",description:"Your ascensions have led you to the secrets of maintaining a second family combat technique.",hint:"A strong family knows many techniques.",check:()=>this.characterService.soulCoreRank()>=5&&this.characterService.meridianRank()>=5&&this.characterService.bloodlineRank>=5,effect:()=>{this.battleService.maxFamilyTechniques<2&&(this.battleService.maxFamilyTechniques=2)},unlocked:!1},{name:"Dragon Blood",description:"Your ascensions have led you to the secrets of maintaining a third family combat technique.<br>Your descendants will curse you for all the training they will have to do.",hint:"An awe-inspiring family knows many techniques.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.bloodlineRank>=8,effect:()=>{this.battleService.maxFamilyTechniques<3&&(this.battleService.maxFamilyTechniques=3)},unlocked:!1},{name:"Bruce Is Proud of You",description:"You have developed your first family technique and unlocked the Combat Techniques Panel.",hint:"Train. Then train some more.",check:()=>this.battleService.techniques.length>3,effect:()=>{this.gameStateService?.unlockPanel("techniquePanel")},unlocked:!1},{name:"Sturdy Walls",description:"You have built a home strong enough to endure for generations.",hint:"Build back better.",check:()=>this.homeService.home.type>=st.SimpleHut,effect:()=>{this.homeService.keepHome=!0,this.unlockedMemories.includes(q_)||this.triggerMemory(q_)},unlocked:!1},{name:"Dusty Potions",description:"Your descendants have so much respect for you that they will preserve all your equipped potions for when you are reborn.",hint:"You think this is still safe to drink?",check:()=>this.characterService.bloodlineRank>=2&&this.characterService.itemPouches.length>0,effect:()=>{this.characterService.keepPouchItems=!0},unlocked:!1},{name:"Storage Ring",description:"Your family has acquired a storage ring that can preserve one stack of items for your next reincarnation.",hint:"Strong family bonds have advantages.",check:()=>this.characterService.bloodlineRank>=3,effect:()=>{this.inventoryService.heirloomSlots()<1&&this.inventoryService.heirloomSlots.set(1)},unlocked:!1},{name:"Bigger on the Inside",description:"Your storage ring has improved to be able to preserve three stacks of items for your next reincarnation.",hint:"Strong family bonds have advantages.",check:()=>this.characterService.bloodlineRank>=5,effect:()=>{this.inventoryService.heirloomSlots()<3&&this.inventoryService.heirloomSlots.set(3)},unlocked:!1},{name:"Eternal Nation",description:"You have established an empire that will never fall, and a bloodline that will always inherit it.",hint:"Bloodline Empire.",check:()=>this.homeService.home.type>=st.Capital&&this.characterService.bloodlineRank>=7,effect:()=>{this.characterService.imperial=!0},unlocked:!1},{name:"Limit Breaker",description:"You have broken past human limits and improve constantly! What new fate awaits you?",hint:"999",check:()=>this.characterService.bloodlineRank>=9,effect:()=>{},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your Qi to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let G=this.characterService.attributes.speed.value,Y=this.characterService.attributes.toughness.value,ge=this.characterService.attributes.charisma.value,me=this.characterService.attributes.intelligence.value,de=this.characterService.attributes.strength.value,be=Math.min(G,Y,ge,me,de),oe=Math.max(G,Y,ge,me,de);return be>=1e6&&oe<=be*1.21},effect:()=>{this.battleService.addQiAttack()},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body.<br>You unlocked the ability to use your Qi to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let G=this.characterService.attributes.spirituality.value,Y=this.characterService.attributes.speed.value,ge=this.characterService.attributes.toughness.value,me=this.characterService.attributes.charisma.value,de=this.characterService.attributes.intelligence.value,be=this.characterService.attributes.strength.value,oe=Math.min(Y,ge,me,de,be,G),tt=Math.max(Y,ge,me,de,be,G);return oe>=1e6&&tt<=oe*1.21},effect:()=>{this.battleService.addQiShield()},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Loyal Followers",description:"One of your followers has trained under you so long they have nothing else to learn.<br>In an epiphany you realized how to double your new followers' lifespan.",hint:"Endless training.",check:()=>this.followerService.highestLevel>=100,effect:()=>{this.followerService.followerLifespanDoubled=!0},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.attributes.spirituality.value>=10,effect:()=>{this.characterService.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1},{name:"Breaks are Good",description:"You have collected two hour's worth of banked time and unlocked the "+this.itemRepoService.items.bankedTicksEfficiencyManual.name,hint:"Take a day off from cultivating.",check:()=>this.mainLoopService.bankedTicks>7200*40,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bankedTicksEfficiencyManual)},unlocked:!1},{name:"Breaks are Bad",description:"You died from overwork performing an activity without necessary rest and unlocked the "+this.itemRepoService.items.autoRestManual.name,hint:"There's no time to rest, cultivating is life.",check:()=>this.activityService.activityDeath||this.characterService.immortal(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoRestManual)},unlocked:!1},{name:"Still Spry",description:"You have lived to be 300 years old and unlocked the "+this.itemRepoService.items.ageSpeedManual.name,hint:"One step to becoming immortal is to live longer.",check:()=>this.characterService.age>300*365,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.ageSpeedManual)},unlocked:!1},{name:"Immortality",description:"Congratulations! You are now immortal.",hint:"Name of the game.",check:()=>this.characterService.immortal(),effect:()=>{this.unlockedMemories.includes(K_)||this.triggerMemory(K_),this.activityService.checkRequirements(!0),this.contemplationService.discoverConcept("Tao of Death")},unlocked:!1},{name:"Headhunter",description:"You've sorted through so many applicants that you can now always find followers you want.",hint:"You didn't really want one thousand scouts, did you?",check:()=>this.followerService.totalDismissed>888,effect:()=>{this.followerService.onlyWantedFollowers=!0},unlocked:!1},{name:"Yes We Can!",description:"You found Bob the Builder.",hint:"Can we fix it?",check:()=>{for(let G of this.followerService.followers)if((G.name==="Robert"||G.name==="Bob")&&G.job==="builder")return!0;return!1},effect:()=>{},unlocked:!1},{name:"The Old Soulsmith",description:"She's retired from soulsmithing and just goes fishing now. Also, go reread Cradle.",hint:"Lindon's soulsmithing tutor.",check:()=>{for(let G of this.followerService.followers)if(G.name==="Gesha"&&G.job==="fisher")return!0;return!1},effect:()=>{},unlocked:!1},{name:"They're Grrrrreat",description:"You have made an animal friend who can provide you with a tasty breakfast.",hint:"You'll need to find a very special pet.",check:()=>{for(let G of this.followerService.pets)if((G.name==="Tony"||G.name==="Antonio")&&G.job==="tiger")return!0;return!1},effect:()=>{},unlocked:!1},{name:"Don't mess with Grandma",description:"You have crafted the mightiest stick.<br>Grandmother would be so proud.",hint:"The best stick.",check:()=>this.characterService.equipment.leftHand?.name==="Grandmother's Walking Stick"&&(this.characterService.equipment.leftHand.weaponStats?.baseDamage||0)>1e9,effect:()=>{},unlocked:!1},{name:"Smooth Farming",description:"You have harvested crops every day for a month and can now count on more regular and reliable harvests.",hint:"Farm-fresh produce every day would be lovely.",check:()=>this.farmService.smoothFarming,effect:()=>{this.farmService.smoothFarming=!0},unlocked:!1},{name:"The Pain Begins",description:"You have begun to work your way through hell.",hint:"You are not ready.",check:()=>this.hellService.inHell(),effect:()=>{this.gameStateService?.unlockPanel("hellStatusPanel"),this.gameStateService.addLayoutPanel("hellStatusPanel",0,14,30,14),this.gameStateService?.unlockPanel("portalPanel"),this.gameStateService.addLayoutPanel("portalPanel",0,14,30,14)},unlocked:!1},{name:"Let It Burn",description:"You have burned an insane amount of money.",hint:"You didn't want that money anyway.",check:()=>this.hellService.burnedMoney>1e9,effect:()=>{this.hellService.fasterHellMoney=!0},unlocked:!1},{name:"Peaches Peaches Peaches",description:"They're so good, you just want to drink them down.",hint:"There is more alchemy to learn.",check:()=>this.inventoryService.divinePeachesUnlocked,effect:()=>{this.characterService.itemPouches.length<3&&this.characterService.itemPouches.push(this.inventoryService.getEmptyItemStack())},unlocked:!1},{name:"Deity",description:"You have conquered the trials of the eighteen hells and emerged as worthy to claim a throne in the Divine Realm.",hint:"Godhood awaits you.",check:()=>this.characterService.god(),effect:()=>{this.unlockedMemories.includes(Q_)||this.triggerMemory(Q_)},unlocked:!1},{name:"You Like Me!",description:"You clicked the credits button. Hurray!",hint:"Who made this thing?",check:()=>this.gameStateService.creditsClicked,effect:()=>{},unlocked:!1},{name:"You Really Like Me!",description:"You clicked the support link and saw my first book. Thanks!",hint:"Do you really, really?",check:()=>this.gameStateService.supportClicked,effect:()=>{},unlocked:!1},{name:"Deep Diver",description:"You made it to the bottom of the ocean? Impossible!",hint:"Hold your breath and hope for the best. Watch out for monsters.",check:()=>this.impossibleTaskService.taskProgress[fe.Swim].complete,effect:()=>{},unlocked:!1},{name:"Heave Ho!",description:"You pulled a sunken island up from the bottom of the sea? Impossible!",hint:"It's down there too deep, just leave it alone.",check:()=>this.impossibleTaskService.taskProgress[fe.RaiseIsland].complete,effect:()=>{},unlocked:!1},{name:"Too Tall",description:"You built a tower that ascends above the clouds? Impossible! The tower's prominence makes it a powerful trade hub. Income from professions is increased.",hint:"Give up, you'll never get it that high.",check:()=>this.impossibleTaskService.taskProgress[fe.BuildTower].complete,effect:()=>{this.activityService.incomeMultiplier<5&&(this.activityService.incomeMultiplier=5)},unlocked:!1},{name:"Just Learn Their Name",description:"You tamed the winds themselves? Impossible!",hint:"Finish that book, Patrick!",check:()=>this.impossibleTaskService.taskProgress[fe.TameWinds].complete,effect:()=>{},unlocked:!1},{name:"Up, Up, and Away",description:"You learned to fly? Impossible!",hint:"Just jump, you'll probably be fine.",check:()=>this.impossibleTaskService.taskProgress[fe.LearnToFly].complete,effect:()=>{this.locationService.distanceMultiplier<10&&(this.locationService.distanceMultiplier=10)},unlocked:!1},{name:"Insatiable",description:"You befriended a dragon? Impossible! The dragon's greed might have rubbed off on you.",hint:"Everyone loves food and treasure.",check:()=>this.impossibleTaskService.taskProgress[fe.BefriendDragon].complete,effect:()=>{this.activityService.incomeMultiplier<10&&(this.activityService.incomeMultiplier=10)},unlocked:!1},{name:"Conqueror",description:"You conquered the entire nation? Impossible!",hint:"You'll need more than just your own strength to cover this much territory.",check:()=>this.impossibleTaskService.taskProgress[fe.ConquerTheNation].complete,effect:()=>{},unlocked:!1},{name:"Ranni's Ending",description:"You rearranged the stars themselves? Impossible!",hint:"Can the power of your Qi reach the heavens above?",check:()=>this.impossibleTaskService.taskProgress[fe.RearrangeTheStars].complete,effect:()=>{},unlocked:!1},{name:"Deep Thoughts",description:"Having faced the personification of death itself, you have decided it is time to start really thinking about the nature of everything.",hint:"Sometimes serenity can only be found in the face of death itself.",check:()=>this.contemplationService.contemplationStarted(),effect:()=>{this.gameStateService?.unlockPanel("contemplationPanel"),this.contemplationService.discoverConcept("Tao of Earth"),this.contemplationService.discoverConcept("Tao of Metal"),this.contemplationService.discoverConcept("Tao of Wood"),this.contemplationService.discoverConcept("Tao of Water"),this.contemplationService.discoverConcept("Tao of Fire"),this.contemplationService.discoverConcept("Tao of Life")},unlocked:!1},{name:"Deeper Thoughts",description:"You are getting better at contemplating the deep mysteries of the Tao.",hint:"Contemplate the Tao.",check:()=>this.contemplationService.concepts.reduce((Y,ge)=>Y&&Y.progress>ge.progress?Y:ge).progress>1e8,effect:()=>{this.contemplationService.contemplationMultiplier<2&&(this.contemplationService.contemplationMultiplier=2)},unlocked:!1},{name:"Deepest Thoughts",description:"You are really good at contemplating the deep mysteries of the Tao!",hint:"Contemplate the Tao some more.",check:()=>this.contemplationService.concepts.reduce((Y,ge)=>Y&&Y.progress>ge.progress?Y:ge).progress>1e11,effect:()=>{this.contemplationService.contemplationMultiplier<5&&(this.contemplationService.contemplationMultiplier=5)},unlocked:!1},{name:"Going Meta",description:"You earned 50 achievements. Good job!",hint:"Can you get one for having lots?",check:()=>this.unlockedAchievements.length>=50,effect:()=>{},unlocked:!1},{name:"Meta Meta",description:"You earned 100 achievements. Good job!",hint:"Can you get more for having more?",check:()=>this.unlockedAchievements.length>=100,effect:()=>{},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{this.gameStateService||(this.gameStateService=this.injector.get(nt));for(let G of this.achievements)this.unlockedAchievements.includes(G.name)||G.check()&&this.unlockAchievement(G,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.log(w.STORY,e.description),this.mainLoopService.toast("Achievement Unlocked: "+(e.displayName?e.displayName:e.name))),e.effect(),e.unlocked=!0,i&&this.gameStateService?.savetoLocalStorage()}triggerMemory(e,i=null){let r=this.memories[e],o=[];for(let s=0;s<r.text.length;s++)o.push("assets/images/memories/"+r.imageBaseName+s+".png");let a=this.dialog.open(ao,{width:"700px",data:{titleText:r.title,bodyTextArray:r.text,imageFiles:o},autoFocus:!1});i&&a.afterClosed().subscribe(i),this.unlockedMemories.includes(e)||(this.unlockedMemories.push(e),this.memoriesUnlocked.set(!0))}reviewMemories(){this.dialog.open(pM,{data:{},autoFocus:!1})}getProperties(){return{unlockedAchievements:this.unlockedAchievements,unlockedMemories:this.unlockedMemories}}setProperties(e){this.gameStateService||(this.gameStateService=this.injector.get(nt)),this.unlockedMemories=e.unlockedMemories,this.unlockedMemories.length>0&&this.memoriesUnlocked.set(!0),this.unlockedAchievements=e.unlockedAchievements;for(let i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}static{this.\u0275fac=function(i){return new(i||t)(L(pe),L(le),L(St),L(ae),L(se),L(oi),L(Fi),L(it),L(Qe),L(yi),L(Ue),L(ut),L(pn),L(Fe),L(An),L(pi),L(et))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fM=(()=>{class t{constructor(e){this.data=e}static{this.\u0275fac=function(i){return new(i||t)(R(Bo))}}static{this.\u0275cmp=$({type:t,selectors:[["app-offline-modal"]],decls:3,vars:3,consts:[[1,"body"]],template:function(i,r){i&1&&(O(0,"div",0),p(1),B(2,"bigNumber"),F()),i&2&&(h(),N("While you were away you earned ",V(2,1,r.data.earnedTicks)," banked ticks."))},dependencies:()=>[Ve],styles:[".body[_ngcontent-%COMP%]{color:#cacaca}"]})}}return t})();var _f="immortalityIdle2GameState",nt=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d,u,v,y,g,S,P,M){this.characterService=e,this.homeService=i,this.farmService=r,this.inventoryService=o,this.logService=a,this.activityService=s,this.itemRepoService=l,this.battleService=c,this.followersService=d,this.mainLoopService=u,this.dialog=v,this.achievementService=y,this.impossibleTaskService=g,this.locationService=S,this.contemplationService=P,this.hellService=M,this.lastSaved=new Date().getTime(),this.isDarkMode=!1,this.isExperimental=window.location.href.includes("experimental"),this.gameStartTimestamp=new Date().getTime(),this.easyModeEver=!1,this.saveInterval=300,this.lockPanels=!1,this.dragging=!1,this.layout=C(void 0),this.allPanelsUsed=!1,this.creditsClicked=!1,this.supportClicked=!1,this.hardResetting=!1,this.newPanelAvailable=C(!1),this.panels=[{id:"timePanel",name:"Time",icon:"timer",panelHelp:"Control the flow of time, stopping and starting it as you see fit. What an immense power!<br>Time will automatically pause if you have no activities on your schedule that you can perform.",unlocked:!1},{id:"schedulePanel",name:"Schedule",icon:"calendar_month",panelHelp:"Choose activities to add to your schedule by dragging and dropping them here or pressing the calendar button on activities.<br>When you allow time to move forward, you will perform each activity in your schedule in the order it is listed.<br>You can move scheduled activities around or repeat activities over multiple days.",unlocked:!1},{id:"attributesPanel",name:"Attributes",icon:"bar_chart",panelHelp:"Your attributes define your growing immortal characteristics.<br>You can grow your attributes through the activities that you choose.<br>Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life.",unlocked:!0},{id:"followersPanel",name:"Followers",icon:"groups",panelHelp:"Your followers can aid you in many ways.<br>Each has a specific skill that they will use to your benefit.<br>Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of.",unlocked:!1},{id:"healthPanel",name:"Status",icon:"favorite",panelHelp:"Maintaining your health is an important part of becoming immortal.<br>If your health reaches 0, you will die and need to try for immortality once you are reincarnated in your next life.",unlocked:!0},{id:"activityPanel",name:"Activities",icon:"self_improvement",panelHelp:"Click an activity to spend a day doing it.<br>Achieving immortality doesn't happen overnight.<br>It takes lifetimes of hard work.<br>Choose your activities to take care of your basic needs and develop your immortal potential.<br>At first you'll only know how to do a few things, but as you develop your attributes, more options will become available.<br>Don't forget to schedule some rest too!<br>You'll need to take a break now and then in your journey toward immortality.",unlocked:!0},{id:"battlePanel",name:"Battles",icon:"fort",panelHelp:"Battling enemies is an essential part of your quest for immortality.<br>You'll need to be strong enough to fight them off if you want to stay alive.",unlocked:!1},{id:"equipmentPanel",name:"Equipment",icon:"colorize",panelHelp:"You will need to arm yourself with weapons and protective gear if you want to fight through the many battles that await you on your journey to immortality.<br>Legends even speak of extraordinary cultivators who can combine items of the same type to produce even stronger equipment.<br>Watch out, each piece of gear will take damage with use and you will need to constantly improve it to keep it strong.",unlocked:!1},{id:"homePanel",name:"Home",icon:"home",panelHelp:"Your home is an essential part of your life.<br>A better home allows you to recover and has room for furniture that can aid your immortal development.",unlocked:!1},{id:"inventoryPanel",name:"Inventory",icon:"shopping_bag",panelHelp:"The items that you gain during your quest for immortality will appear here.<br>Hover your cursor over an item to learn more about it.",unlocked:!1},{id:"logPanel",name:"Log",icon:"feed",panelHelp:"A record of the events that lead you to immortality will surely be of interest to those who sing your legend in the ages to come.<br>You can filter out the events that are less interesting to you in the present.",unlocked:!0},{id:"portalPanel",name:"Portals",icon:"radio_button_checked",panelHelp:"Take a portal to a different plane of existence.",unlocked:!1},{id:"petsPanel",name:"Pets",icon:"pets",panelHelp:"Your pets can aid you in many ways.<br>Each has a specific skill that they will use to your benefit.",unlocked:!1},{id:"farmPanel",name:"Farm",icon:"solar_power",panelHelp:"Your farm can grow healthy food that can aid you on your journey to immortality.",unlocked:!1},{id:"locationPanel",name:"Location",icon:"public",panelHelp:"The locations you have available depend mostly on your speed, and will determine what activities you have available. You can select which locations you would prefer to find monsters in when you look for trouble.",unlocked:!1},{id:"impossibleTasksPanel",name:"Impossible Tasks",icon:"priority_high",panelHelp:"The path to immortality runs through these impossible tasks. Only by completing them can you find the way to live forever.",unlocked:!1},{id:"techniquePanel",name:"Combat Techniques",icon:"sports_martial_arts",panelHelp:"Developing unique family techniques is an essential part of a powerful bloodline and a useful step on your way to immortality.",unlocked:!1},{id:"craftingPanel",name:"Crafting",icon:"carpenter",panelHelp:"Creating weapons, armor, potions, and pills is an essential part of becoming an immortal.",unlocked:!1},{id:"hellStatusPanel",name:"Hell Progress",icon:"local_fire_department",panelHelp:"Your progress through the terrors of hell.",unlocked:!1},{id:"contemplationPanel",name:"Contemplation",icon:"candle",panelHelp:"Your progress in contemplating the fundamental concepts of the universe.",unlocked:!1}],window.GameStateService=this,u.longTickSubject.subscribe(()=>{new Date().getTime()-this.lastSaved>=this.saveInterval*1e3&&this.savetoLocalStorage()}),this.layout.set([]),this.resetPanels()}resetPanels(){this.layout.set([{id:"healthPanel",x:0,y:0,w:98,h:10},{id:"attributesPanel",x:0,y:15,w:30,h:20},{id:"activityPanel",x:30,y:15,w:38,h:20},{id:"logPanel",x:0,y:30,w:98,h:25}]),this.updateAllPanelsUsed()}changeLayoutPanel(e,i=!1){let r=JSON.parse(JSON.stringify(this.layout())),o=0,a=this.layout();if(a){for(let l=0;l<this.panels.length;l++)this.panels[l].id===a[e].id&&(o=l);let s=this.getNextUnusedPanelId(o,i);if(s==="")return;r[e].id=s,this.layout.set(r)}}removeLayoutPanel(e){let i=JSON.parse(JSON.stringify(this.layout()));i.splice(e,1),this.layout.set(i),this.updateAllPanelsUsed()}addLayoutPanel(e="",i=0,r=0,o=30,a=20){let s=this.layout();if(s&&e===""&&s.find(u=>u.id===e))return;let l=JSON.parse(JSON.stringify(s)),c=e;e===""&&(c=this.getNextUnusedPanelId(0)),c!==""&&(l.push({id:c,x:i,y:r,w:o,h:a}),this.layout.set(l),this.updateAllPanelsUsed(),this.newPanelAvailable.set(!1))}getNextUnusedPanelId(e,i=!1){let r=this.layout();if(!r)return this.panels[e+1].id;if(i){for(let o=e-1;o>=0;o--)if(this.panels[o].unlocked&&!r.find(({id:a})=>a===this.panels[o].id))return this.panels[o].id;for(let o=this.panels.length-1;o>=e;o--)if(this.panels[o].unlocked&&!r.find(({id:a})=>a===this.panels[o].id))return this.panels[o].id}else{for(let o=e+1;o<this.panels.length;o++)if(this.panels[o].unlocked&&!r.find(({id:a})=>a===this.panels[o].id))return this.panels[o].id;for(let o=0;o<=e;o++)if(this.panels[o].unlocked&&!r.find(({id:a})=>a===this.panels[o].id))return this.panels[o].id}return""}updateAllPanelsUsed(){this.allPanelsUsed=!0;let e=this.layout();if(e){for(let i=0;i<this.panels.length;i++)if(this.panels[i].unlocked&&!e.find(({id:r})=>r===this.panels[i].id)){this.allPanelsUsed=!1;return}}}unlockPanel(e){let i=this.panels.find(({id:r})=>r===e);i&&(i.unlocked||this.newPanelAvailable.set(!0),i.unlocked=!0),this.updateAllPanelsUsed()}changeAutoSaveInterval(e){!e||e<1?e=1:e>900&&(e=900),this.saveInterval=e,this.savetoLocalStorage()}savetoLocalStorage(){this.hardResetting||(window.localStorage.setItem(_f+this.getDeploymentFlavor(),this.getGameExport()),this.lastSaved=new Date().getTime())}loadFromLocalStorage(){let e=window.localStorage.getItem(_f+this.getDeploymentFlavor());return e?(this.importGame(e),this.dialog.open(fM,{data:{earnedTicks:this.mainLoopService.earnedTicks},autoFocus:!1}),!0):!1}importLayout(e){let i=JSON.parse(e);if(!(!i||!i.layout)){for(let r=i.layout.length-1;r>=0;r--){let o=this.panels.find(({id:a})=>a===i.layout[r].id);(!o||!o.unlocked)&&i.layout.splice(r,1)}this.layout.set(i.layout),this.updateAllPanelsUsed()}}importGame(e){let i;if(e.substring(0,3)==="iig"||e.substring(0,3)==="ii2")i=decodeURIComponent(atob(e.substring(3)));else{this.mainLoopService.toast("That save file didn't look right.");return}let r=JSON.parse(i),o=this.validateGameState(r);this.impossibleTaskService.setProperties(o.impossibleTasks),this.hellService.setProperties(o.hell||{}),this.characterService.setProperties(o.character),this.homeService.setProperties(o.home),this.farmService.setProperties(o.farm),this.inventoryService.setProperties(o.inventory);for(let a of this.inventoryService.itemStacks){if(!a.item)continue;let s=this.itemRepoService.getItemById(a.item.id);s&&(a.item=s)}this.locationService.setProperties(o.locations),this.activityService.setProperties(o.activities),this.battleService.setProperties(o.battles),this.followersService.setProperties(o.followers),this.logService.setProperties(o.logs),this.mainLoopService.setProperties(o.mainLoop),this.contemplationService.setProperties(o.contemplations),this.achievementService.setProperties(o.achievements),this.isDarkMode=o.darkMode||!1,this.gameStartTimestamp=o.gameStartTimestamp||new Date().getTime(),this.easyModeEver=o.easyModeEver||!1,this.saveInterval=o.saveInterval||10,this.followersService.updateFollowerCap(),o.layout&&this.layout.set(o.layout),this.lockPanels=o.lockPanels??!0,this.creditsClicked=o.creditsClicked||!1,this.supportClicked=o.supportClicked||!1,this.updateAllPanelsUsed(),this.newPanelAvailable.set(!1)}validateGameState(e){return{achievements:this.getAchievementProperties(e.achievements),character:this.getCharacterProperties(e.character),inventory:this.getInventoryProperties(e.inventory),home:this.getHomeProperties(e.home),farm:this.getFarmProperties(e.farm),activities:this.getActivitiesProperties(e.activities),locations:this.getLocationsProperties(e.locations),battles:this.getBattlesProperties(e.battles),followers:this.getFollowersProperties(e.followers),logs:this.getLogsProperties(e.logs),mainLoop:this.getMainLoopProperties(e.mainLoop),impossibleTasks:this.getImpossibleTasksProperties(e.impossibleTasks),contemplations:this.getContemplationProperties(e.contemplations),hell:this.getHellProperties(e.hell),darkMode:e.darkMode??!1,gameStartTimestamp:e.gameStartTimestamp||0,saveInterval:e.saveInterval||0,easyModeEver:e.easyModeEver??!1,lockPanels:e.lockPanels??!1,layout:e.layout??[],creditsClicked:e.creditsClicked||!1,supportClicked:e.supportClicked||!1}}getAchievementProperties(e){return{unlockedAchievements:e?.unlockedAchievements||[],unlockedMemories:e?.unlockedMemories||[]}}getInventoryProperties(e){return{itemStacks:e?.itemStacks||[],stashedItemStacks:e?.stashedItemStacks||[],autoSellUnlocked:e?.autoSellUnlocked||!1,autoSellEntries:e?.autoSellEntries||[],autoUseUnlocked:e?.autoUseUnlocked||!1,autoEatUnlocked:e?.autoEatUnlocked||!1,autoEatNutrition:e?.autoEatNutrition??!0,autoEatHealth:e?.autoEatHealth||!1,autoEatStamina:e?.autoEatStamina||!1,autoEatQi:e?.autoEatQi||!1,autoEatAll:e?.autoEatAll||!1,autoUseEntries:e?.autoUseEntries||[],autoBalanceUnlocked:e?.autoBalanceUnlocked||!1,autoBalanceItems:e?.autoBalanceItems||[],autoPillUnlocked:e?.autoPillUnlocked||!1,autoPillEnabled:e?.autoPillEnabled||!1,autoWeaponMergeUnlocked:e?.autoWeaponMergeUnlocked||!1,autoArmorMergeUnlocked:e?.autoArmorMergeUnlocked||!1,useSpiritGemUnlocked:e?.useSpiritGemUnlocked||!1,useSpiritGemWeapons:e?.useSpiritGemWeapons||!1,useCheapestSpiritGem:e?.useCheapestSpiritGem||!1,autoSellOldHerbs:e?.autoSellOldHerbs||!1,autoSellOldWood:e?.autoSellOldWood||!1,autoSellOldOre:e?.autoSellOldOre||!1,autoSellOldHides:e?.autoSellOldHides||!1,autoSellOldHerbsEnabled:e?.autoSellOldHerbsEnabled||!1,autoSellOldWoodEnabled:e?.autoSellOldWoodEnabled||!1,autoSellOldOreEnabled:e?.autoSellOldOreEnabled||!1,autoSellOldBarsEnabled:e?.autoSellOldBarsEnabled||!1,autoSellOldHidesEnabled:e?.autoSellOldHidesEnabled||!1,autoequipBestWeapon:e?.autoequipBestWeapon||!1,autoequipBestArmor:e?.autoequipBestArmor||!1,autoequipBestEnabled:e?.autoequipBestEnabled||!1,maxStackSize:e?.maxStackSize||100,thrownAwayItems:e?.thrownAwayItems||0,autoSellOldGemsUnlocked:e?.autoSellOldGemsUnlocked||!1,autoSellOldGemsEnabled:e?.autoSellOldGemsEnabled||!1,autoBuyFood:e?.autoBuyFood??!0,automergeEquipped:e?.automergeEquipped||!1,autoSort:e?.autoSort||!1,descendingSort:e?.descendingSort||!1,divinePeachesUnlocked:e?.divinePeachesUnlocked||!1,equipmentUnlocked:e?.equipmentUnlocked||!1,equipmentCreated:e?.equipmentCreated||0,totalItemsReceived:e?.totalItemsReceived||0,autoReloadCraftInputs:e?.autoReloadCraftInputs||!1,potionCounter:e?.potionCounter||0,herbCounter:e?.herbCounter||0,gemsAcquired:e?.gemsAcquired||0,foodEatenToday:e?.foodEatenToday||0,heirloomSlots:e?.heirloomSlots||0,daysGorged:e?.daysGorged||0,maxFoodPerDay:e?.maxFoodPerDay||10,unlockedFurniture:e?.unlockedFurniture||[],herbalUnderstanding:e?.herbalUnderstanding||!1,soldGoods:e?.soldGoods||{}}}getHomeProperties(e){return{land:e?.land||0,homeValue:e?.homeValue||st.SquatterTent,bedroomFurniture:e?.bedroomFurniture||[],landPrice:e?.landPrice||0,keepFurniture:e?.keepFurniture||!1,keepWorkstationInputs:e?.keepWorkstationInputs||!1,nextHomeCostReduction:e?.nextHomeCostReduction||0,houseBuildingProgress:e?.houseBuildingProgress||1,upgrading:e?.upgrading||!1,ownedFurniture:e?.ownedFurniture||[],highestLand:e?.highestLand||0,highestLandPrice:e?.highestLandPrice||100,bestHome:e?.bestHome||st.SquatterTent,thugPause:e?.thugPause||!1,hellHome:e?.hellHome||!1,homeUnlocked:e?.homeUnlocked||!1,keepHome:e?.keepHome||!1,seeFurnitureEffects:e?.seeFurnitureEffects||!1,workstations:e?.workstations||[],totalCrafts:e?.totalCrafts||0,forgeChainsCounter:e?.forgeChainsCounter||0,pillsMade:e?.pillsMade||0,merchantAutobuyItem:e?.merchantAutobuyItem||null}}getFarmProperties(e){return{fields:e?.fields||[],autoFieldLimit:e?.autoFieldLimit||0,mostFields:e?.mostFields||0,hellFood:e?.hellFood||!1,fallowPlots:e?.fallowPlots||0,unlockedCrops:e?.unlockedCrops||[],consecutiveHarvests:e?.consecutiveHarvests||0}}getActivitiesProperties(e){return{autoRestart:e?.autoRestart||!1,pauseOnDeath:e?.pauseOnDeath??!0,pauseBeforeDeath:e?.pauseBeforeDeath||!1,activityLoop:e?.activityLoop||[],unlockedActivities:e?.unlockedActivities||[],discoveredActivities:e?.discoveredActivities||[],openApprenticeships:e?.openApprenticeships||0,spiritActivity:e?.spiritActivity||null,completedApprenticeships:e?.completedApprenticeships||[],currentApprenticeship:e?.currentApprenticeship||void 0,savedActivityLoops:e?.savedActivityLoops||[],loopChangeTriggers:e?.loopChangeTriggers||[],triggerIndex:e?.triggerIndex||0,autoPauseUnlocked:e?.autoPauseUnlocked||!1,autoRestUnlocked:e?.autoRestUnlocked||!1,pauseOnImpossibleFail:e?.pauseOnImpossibleFail||!1,totalExhaustedDays:e?.totalExhaustedDays||0,purifyGemsUnlocked:e?.purifyGemsUnlocked||!1,lifeActivities:e?.lifeActivities||{},familySpecialty:e?.familySpecialty||null,miningCounter:e?.miningCounter||0,huntingCounter:e?.huntingCounter||0,fishingCounter:e?.fishingCounter||0,tauntCounter:e?.tauntCounter||0,recruitingCounter:e?.recruitingCounter||0,petRecruitingCounter:e?.petRecruitingCounter||0,coreCultivationCounter:e?.coreCultivationCounter||0,researchWindCounter:e?.researchWindCounter||0,beforeDeathPauseUsed:e?.beforeDeathPauseUsed||!1,currentRealm:e?.currentRealm??ie.MortalRealm,beggingDays:e?.beggingDays||0,oddJobDays:e?.oddJobDays||0,incomeMultiplier:e?.incomeMultiplier||1,hiddenActivities:e?.hiddenActivities||[],activityOptionsUnlocked:e?.activityOptionsUnlocked||!1,openPortals:e?.openPortals||[]}}getLocationsProperties(e){return{unlockedLocations:e?.unlockedLocations||[],troubleTarget:e?.troubleTarget||I.SmallTown,locationLocked:e?.locationLocked||!1,distanceMultiplier:e?.distanceMultiplier||1}}getBattlesProperties(e){return{enemies:e?.enemies||[],currentEnemy:e?.currentEnemy||null,kills:e?.kills||0,killsByLocation:e?.killsByLocation||{},killsByMonster:e?.killsByMonster||{},godSlayerKills:e?.godSlayerKills||0,totalKills:e?.totalKills||0,autoTroubleUnlocked:e?.autoTroubleUnlocked||!1,yearlyMonsterDay:e?.yearlyMonsterDay||0,extraMonsterCounter:e?.extraMonsterCounter||0,highestDamageTaken:e?.highestDamageTaken||0,highestDamageDealt:e?.highestDamageDealt||0,godSlayersUnlocked:e?.godSlayersUnlocked||!1,godSlayersEnabled:e?.godSlayersEnabled||!1,totalEnemies:e?.totalEnemies||0,battleMessageDismissed:e?.battleMessageDismissed||!1,techniques:e?.techniques||[{name:"Basic Strike",description:"A very simple strike that even the weakest mortal could perform.",ticksRequired:10,ticks:0,baseDamage:1,unlocked:!0,attribute:"strength",staminaCost:1},{name:mu,description:"A strike from the weapon in your right hand.",ticksRequired:6,ticks:0,baseDamage:2,unlocked:!1,attribute:"strength",staminaCost:10},{name:pu,description:"A strike from the weapon in your left hand.",ticksRequired:8,ticks:0,baseDamage:2,unlocked:!1,attribute:"strength",staminaCost:10}],techniqueDevelopmentCounter:e?.techniqueDevelopmentCounter||0,maxFamilyTechniques:e?.maxFamilyTechniques||0,statusEffects:e?.statusEffects||[],potionCooldown:e?.potionCooldown||20,potionThreshold:e?.potionThreshold||50,foodCooldown:e?.foodCooldown||60,foodThresholdStatusType:e?.foodThresholdStatusType||"health",foodThreshold:e?.foodThreshold||50,activeFormation:e?.activeFormation||"",formationCooldown:e?.formationCooldown||0,formationDuration:e?.formationDuration||0,formationPower:e?.formationPower||0,battlesUnlocked:e?.battlesUnlocked||!1,pouchPotionsUsed:e?.pouchPotionsUsed||0,pouchFoodUsed:e?.pouchFoodUsed||0,timesFled:e?.timesFled||0,discoveredTechniquePrefixes:e?.discoveredTechniquePrefixes||[],blockedTechniquePrefixes:e?.blockedTechniquePrefixes||[],discoveredTechniqueEffects:e?.discoveredTechniqueEffects||[],blockedTechniqueEffects:e?.blockedTechniqueEffects||[],voidSkipCounter:e?.voidSkipCounter||0}}getFollowersProperties(e){return{followersUnlocked:e?.followersUnlocked||!1,followers:e?.followers||[],autoDismissUnlocked:e?.autoDismissUnlocked||!1,maxFollowerByType:e?.maxFollowerByType||{},maxPetsByType:e?.maxPetsByType||{},savedFollowerAssignments:e?.savedFollowerAssignments||[],savedPetAssignments:e?.savedPetAssignments||[],followerTriggers:e?.followerTriggers||[],petTriggers:e?.petTriggers||[],followerTriggerIndex:e?.followerTriggerIndex||0,petTriggerIndex:e?.petTriggerIndex||0,sortField:e?.sortField||"Job",sortAscending:e?.sortAscending??!0,totalRecruited:e?.totalRecruited||0,totalDied:e?.totalDied||0,totalDismissed:e?.totalDismissed||0,highestLevel:e?.highestLevel||0,stashedFollowers:e?.stashedFollowers||[],stashedPets:e?.stashedPets||[],stashedFollowersMaxes:e?.stashedFollowersMaxes||{},stashedPetMaxes:e?.stashedPetMaxes||{},unlockedHiddenJobs:e?.unlockedHiddenJobs||[],autoReplaceUnlocked:e?.autoReplaceUnlocked||!1,petsBoosted:e?.petsBoosted||!1,onlyWantedFollowers:e?.onlyWantedFollowers||!1,pets:e?.pets||[],leftoverWork:e?.leftoverWork||{},followerTrainingIndex:e?.followerTrainingIndex||0,petTrainingIndex:e?.petTrainingIndex||0,maxFollowerLevel:e?.maxFollowerLevel||100,sectName:e?.sectName||"Verdant Waters Sect",hq:e?.hq||Sf.GatheringField,hqInputs:e?.hqInputs||[],hqUnlocked:e?.hqUnlocked||!1,giftRecipientCounter:e?.giftRecipientCounter||0}}getLogsProperties(e){return{logTopics:e?.logTopics||[],storyLog:e?.storyLog||[],startingStoryLogEntries:e?.startingStoryLogEntries||[]}}getMainLoopProperties(e){return{unlockFastSpeed:e?.unlockFastSpeed||!1,unlockFasterSpeed:e?.unlockFasterSpeed||!1,unlockFastestSpeed:e?.unlockFastestSpeed||!1,unlockAgeSpeed:e?.unlockAgeSpeed||!1,unlockPlaytimeSpeed:e?.unlockPlaytimeSpeed||!1,lastTime:e?.lastTime||new Date().getTime(),tickDivider:e?.tickDivider||0,offlineDivider:e?.offlineDivider||10,pause:e?.pause||!1,bankedTicks:e?.bankedTicks||0,totalTicks:e?.totalTicks||0,useBankedTicks:e?.useBankedTicks??!0,scientificNotation:e?.scientificNotation||!1,playMusic:e?.playMusic||!1,timeUnlocked:e?.timeUnlocked||!1,daysSinceLongTick:e?.daysSinceLongTick||0,daysSinceYearOrLongTick:e?.daysSinceYearOrLongTick||0,audioTrack:e?.audioTrack||0,audioVolume:e?.audioVolume||.2}}getImpossibleTasksProperties(e){return{taskProgress:e?.taskProgress||[],impossibleTasksUnlocked:e?.impossibleTasksUnlocked||!1,activeTaskIndex:e?.activeTaskIndex||0}}getContemplationProperties(e){return{contemplationStarted:e?.contemplationStarted||!1,conceptProgress:e?.conceptProgress||{},discoveredConcepts:e?.discoveredConcepts||[],currentConcept:e?.currentConcept||""}}getHellProperties(e){return{inHell:e?.inHell||!1,hellUnlocked:e?.hellUnlocked||!1,completedHellTasks:e?.completedHellTasks||[],completedHellBosses:e?.completedHellBosses||[],mountainSteps:e?.mountainSteps||0,animalsHealed:e?.animalsHealed||0,boulderHeight:e?.boulderHeight||0,daysFasted:e?.daysFasted||0,swimDepth:e?.swimDepth||0,exitFound:e?.exitFound||!1,soulsEscaped:e?.soulsEscaped||0,relicsReturned:e?.relicsReturned||0,timesCrushed:e?.timesCrushed||0,contractsExamined:e?.contractsExamined||0,atonedKills:e?.atonedKills||0,fasterHellMoney:e?.fasterHellMoney||!1,burnedMoney:e?.burnedMoney||0}}getCharacterProperties(e){let i=e?.empowermentPillsTaken||0;return i===0&&e?.empowermentFactor&&e?.empowermentFactor>1&&(i=(e?.empowermentFactor-1)*100),{attributes:{strength:{value:e?.attributes?.strength?.value||1,lifeStartValue:e?.attributes?.strength?.lifeStartValue||1,aptitude:e?.attributes?.strength?.aptitude||1,aptitudeMult:e?.attributes?.strength?.aptitudeMult||1},toughness:{value:e?.attributes?.toughness?.value||1,lifeStartValue:e?.attributes?.toughness?.lifeStartValue||1,aptitude:e?.attributes?.toughness?.aptitude||1,aptitudeMult:e?.attributes?.toughness?.aptitudeMult||1},speed:{value:e?.attributes?.speed?.value||1,lifeStartValue:e?.attributes?.speed?.lifeStartValue||1,aptitude:e?.attributes?.speed?.aptitude||1,aptitudeMult:e?.attributes?.speed?.aptitudeMult||1},intelligence:{value:e?.attributes?.intelligence?.value||1,lifeStartValue:e?.attributes?.intelligence?.lifeStartValue||1,aptitude:e?.attributes?.intelligence?.aptitude||1,aptitudeMult:e?.attributes?.intelligence?.aptitudeMult||1},charisma:{value:e?.attributes?.charisma?.value||1,lifeStartValue:e?.attributes?.charisma?.lifeStartValue||1,aptitude:e?.attributes?.charisma?.aptitude||1,aptitudeMult:e?.attributes?.charisma?.aptitudeMult||1},spirituality:{value:e?.attributes?.spirituality?.value||0,lifeStartValue:e?.attributes?.spirituality?.lifeStartValue||0,aptitude:e?.attributes?.spirituality?.aptitude||1,aptitudeMult:e?.attributes?.spirituality?.aptitudeMult||1},wisdom:{value:e?.attributes?.wisdom?.value||0,lifeStartValue:e?.attributes?.wisdom?.lifeStartValue||0,aptitude:e?.attributes?.wisdom?.aptitude||1,aptitudeMult:e?.attributes?.wisdom?.aptitudeMult||1},justice:{value:e?.attributes?.justice?.value||0,lifeStartValue:e?.attributes?.justice?.lifeStartValue||0,aptitude:e?.attributes?.justice?.aptitude||1,aptitudeMult:e?.attributes?.justice?.aptitudeMult||1},mercy:{value:e?.attributes?.mercy?.value||0,lifeStartValue:e?.attributes?.mercy?.lifeStartValue||0,aptitude:e?.attributes?.mercy?.aptitude||1,aptitudeMult:e?.attributes?.mercy?.aptitudeMult||1},wrath:{value:e?.attributes?.wrath?.value||0,lifeStartValue:e?.attributes?.wrath?.lifeStartValue||0,aptitude:e?.attributes?.wrath?.aptitude||1,aptitudeMult:e?.attributes?.wrath?.aptitudeMult||1},presence:{value:e?.attributes?.presence?.value||0,lifeStartValue:e?.attributes?.presence?.lifeStartValue||0,aptitude:e?.attributes?.presence?.aptitude||1,aptitudeMult:e?.attributes?.presence?.aptitudeMult||1},earthLore:{value:e?.attributes?.earthLore?.value||0,lifeStartValue:e?.attributes?.earthLore?.lifeStartValue||0,aptitude:e?.attributes?.earthLore?.aptitude||1,aptitudeMult:e?.attributes?.earthLore?.aptitudeMult||1},metalLore:{value:e?.attributes?.metalLore?.value||0,lifeStartValue:e?.attributes?.metalLore?.lifeStartValue||0,aptitude:e?.attributes?.metalLore?.aptitude||1,aptitudeMult:e?.attributes?.metalLore?.aptitudeMult||1},woodLore:{value:e?.attributes?.woodLore?.value||0,lifeStartValue:e?.attributes?.woodLore?.lifeStartValue||0,aptitude:e?.attributes?.woodLore?.aptitude||1,aptitudeMult:e?.attributes?.woodLore?.aptitudeMult||1},waterLore:{value:e?.attributes?.waterLore?.value||0,lifeStartValue:e?.attributes?.waterLore?.lifeStartValue||0,aptitude:e?.attributes?.waterLore?.aptitude||1,aptitudeMult:e?.attributes?.waterLore?.aptitudeMult||1},fireLore:{value:e?.attributes?.fireLore?.value||0,lifeStartValue:e?.attributes?.fireLore?.lifeStartValue||0,aptitude:e?.attributes?.fireLore?.aptitude||1,aptitudeMult:e?.attributes?.fireLore?.aptitudeMult||1},combatMastery:{value:e?.attributes?.combatMastery?.value||0,lifeStartValue:e?.attributes?.combatMastery?.lifeStartValue||0,aptitude:e?.attributes?.combatMastery?.aptitude||1,aptitudeMult:e?.attributes?.combatMastery?.aptitudeMult||1},magicMastery:{value:e?.attributes?.magicMastery?.value||0,lifeStartValue:e?.attributes?.magicMastery?.lifeStartValue||0,aptitude:e?.attributes?.magicMastery?.aptitude||1,aptitudeMult:e?.attributes?.magicMastery?.aptitudeMult||1},animalHandling:{value:e?.attributes?.animalHandling?.value||0,lifeStartValue:e?.attributes?.animalHandling?.lifeStartValue||0,aptitude:e?.attributes?.animalHandling?.aptitude||1,aptitudeMult:e?.attributes?.animalHandling?.aptitudeMult||1},performance:{value:e?.attributes?.performance?.value||0,lifeStartValue:e?.attributes?.performance?.lifeStartValue||0,aptitude:e?.attributes?.performance?.aptitude||1,aptitudeMult:e?.attributes?.performance?.aptitudeMult||1},smithing:{value:e?.attributes?.smithing?.value||0,lifeStartValue:e?.attributes?.smithing?.lifeStartValue||0,aptitude:e?.attributes?.smithing?.aptitude||1,aptitudeMult:e?.attributes?.smithing?.aptitudeMult||1},alchemy:{value:e?.attributes?.alchemy?.value||0,lifeStartValue:e?.attributes?.alchemy?.lifeStartValue||0,aptitude:e?.attributes?.alchemy?.aptitude||1,aptitudeMult:e?.attributes?.alchemy?.aptitudeMult||1},woodwork:{value:e?.attributes?.woodwork?.value||0,lifeStartValue:e?.attributes?.woodwork?.lifeStartValue||0,aptitude:e?.attributes?.woodwork?.aptitude||1,aptitudeMult:e?.attributes?.woodwork?.aptitudeMult||1},leatherwork:{value:e?.attributes?.leatherwork?.value||0,lifeStartValue:e?.attributes?.leatherwork?.lifeStartValue||0,aptitude:e?.attributes?.leatherwork?.aptitude||1,aptitudeMult:e?.attributes?.leatherwork?.aptitudeMult||1},formationMastery:{value:e?.attributes?.formationMastery?.value||0,lifeStartValue:e?.attributes?.formationMastery?.lifeStartValue||0,aptitude:e?.attributes?.formationMastery?.aptitude||1,aptitudeMult:e?.attributes?.formationMastery?.aptitudeMult||1},cooking:{value:e?.attributes?.cooking?.value||0,lifeStartValue:e?.attributes?.cooking?.lifeStartValue||0,aptitude:e?.attributes?.cooking?.aptitude||1,aptitudeMult:e?.attributes?.cooking?.aptitudeMult||1},haggling:{value:e?.attributes?.haggling?.value||0,lifeStartValue:e?.attributes?.haggling?.lifeStartValue||0,aptitude:e?.attributes?.haggling?.aptitude||1,aptitudeMult:e?.attributes?.haggling?.aptitudeMult||1}},status:{health:{description:"Physical well-being. Take too much damage and you will die.",value:e?.status.health.value||100,displayValue:C(e?.status.health.value||100),max:e?.status.health.max||100,displayMax:C(e?.status.health.value||100),battleTickRecovery:e?.status.health.battleTickRecovery||0},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:e?.status.stamina.value||100,displayValue:C(e?.status.stamina.value||100),max:e?.status.stamina.max||100,displayMax:C(e?.status.stamina.value||100),battleTickRecovery:e?.status.stamina.battleTickRecovery||1},qi:{description:"Magical energy required for mysterious spiritual activities.",value:e?.status?.qi?.value||0,displayValue:C(e?.status.qi?.value||0),max:e?.status?.qi?.max||0,displayMax:C(e?.status.qi?.value||0),battleTickRecovery:e?.status?.qi?.battleTickRecovery||0},nutrition:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food, you will automatically spend some money on cheap scraps each day.",value:e?.status?.nutrition?.value||30,displayValue:C(e?.status.nutrition?.value||30),max:e?.status?.nutrition?.max||30,displayMax:C(e?.status.nutrition?.value||30),battleTickRecovery:e?.status?.nutrition?.battleTickRecovery||0}},money:e?.money||0,stashedMoney:e?.stashedMoney||0,hellMoney:e?.hellMoney||0,equipment:{head:e?.equipment.head||null,feet:e?.equipment.feet||null,body:e?.equipment.body||null,legs:e?.equipment.legs||null,leftHand:e?.equipment.leftHand||null,rightHand:e?.equipment.rightHand||null},stashedEquipment:{head:e?.stashedEquipment.head||null,feet:e?.stashedEquipment.feet||null,body:e?.stashedEquipment.body||null,legs:e?.stashedEquipment.legs||null,leftHand:e?.stashedEquipment.leftHand||null,rightHand:e?.stashedEquipment.rightHand||null},itemPouches:e?.itemPouches||[],age:e?.age||0,baseLifespan:e?.baseLifespan||30*365,foodLifespan:e?.foodLifespan||0,alchemyLifespan:e?.alchemyLifespan||0,statLifespan:e?.statLifespan||0,spiritualityLifespan:e?.spiritualityLifespan||0,magicLifespan:e?.magicLifespan||0,hygieneLifespan:e?.hygieneLifespan||0,attributeScalingLimit:e?.attributeScalingLimit||10,attributeSoftCap:e?.attributeSoftCap||1e5,aptitudeGainDivider:e?.aptitudeGainDivider||5*Math.pow(1.5,9),condenseSoulCoreCost:e?.condenseSoulCoreCost||10,reinforceMeridiansCost:e?.reinforceMeridiansCost||1e3,bloodlineRank:e?.bloodlineRank||0,qiUnlocked:e?.qiUnlocked||!1,qiCompressionLevel:e?.qiCompressionLevel||0,totalLives:e?.totalLives||1,healthBonusFood:e?.healthBonusFood||0,healthBonusBath:e?.healthBonusBath||0,healthBonusMagic:e?.healthBonusMagic||0,healthBonusSoul:e?.healthBonusSoul||0,empowermentPillsTaken:i,empowermentMax:e?.empowermentMax||99,immortal:e?.immortal||!1,god:e?.god||!1,easyMode:e?.easyMode||!1,highestMoney:e?.highestMoney||0,highestAge:e?.highestAge||0,highestHealth:e?.highestHealth||0,highestStamina:e?.highestStamina||0,highestQi:e?.highestQi||0,highestAttributeValues:e?.highestAttributeValues||{},yinYangBoosted:e?.yinYangBoosted||!1,yin:e?.yin||1,yang:e?.yang||1,righteousWrathUnlocked:e?.righteousWrathUnlocked||!1,bonusMuscles:e?.bonusMuscles||!1,bonusBrains:e?.bonusBrains||!1,bonusHealth:e?.bonusHealth||!1,showLifeSummary:e?.showLifeSummary??!0,showTips:e?.showTips||!1,showUpdateAnimations:e?.showUpdateAnimations??!0,startingStaminaBoost:e?.startingStaminaBoost||!1,keepPouchItems:e?.keepPouchItems||!1}}getLayoutExport(){let e={layout:this.layout()??[],lockPanels:this.lockPanels};return JSON.stringify(e)}getGameExport(){let e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),hell:this.hellService.getProperties(),character:this.characterService.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),farm:this.farmService.getProperties(),locations:this.locationService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),contemplations:this.contemplationService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode,gameStartTimestamp:this.gameStartTimestamp,saveInterval:this.saveInterval||300,easyModeEver:this.easyModeEver,lockPanels:this.lockPanels,layout:this.layout()??[],creditsClicked:this.creditsClicked,supportClicked:this.supportClicked},i=JSON.stringify(e);return i="ii2"+btoa(encodeURIComponent(i)),i}hardReset(){this.hardResetting=!0,window.localStorage.removeItem(_f+this.getDeploymentFlavor()),window.localStorage.getItem(_f+this.getDeploymentFlavor())&&console.error("Game state didn't clear"),setTimeout(()=>window.window.location.href=window.location.href,500)}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.togglePause(!0),this.mainLoopService.tick()}getDeploymentFlavor(){let e=window.location.href;if(e==="http://localhost:4200/"||e.includes("devtunnels.ms"))return"";if(e==="https://immortalityidle.github.io/"||e==="https://immortalityidle.github.io/old/")return"";if(e.includes("https://immortalityidle.github.io/"))return e=e.substring(0,e.length-1),e.substring(e.lastIndexOf("/")+1);throw new Error("Hey, someone stole this game!")}joinTheGodsClick(){confirm("Are you sure you are ready for this? You will need to leave all your money and most of your followers and possessions behind as you leave this mortal realm.")&&this.achievementService.triggerMemory(Z_,()=>{this.hellService.enterTheHells()})}static{this.\u0275fac=function(i){return new(i||t)(L(ae),L(Qe),L(yi),L(se),L(St),L(Ue),L(oi),L(it),L(ut),L(pe),L(et),L(rr),L(pn),L(An),L(pi),L(Fe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oi=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.colorByRank=["darkgray","gray","lightgray","white","darkgreen","green","lightgreen","darkblue","blue","lightblue","darkviolet","purple","fuchsia","darkorange","orange","yellow","gold","red"],this.furniture=[{id:"blanket",name:"Cotton Blanket",type:"furniture",subtype:"bed",color:"gray",elements:["wood"],value:10,description:"A tattered, gray cotton blanket.<br>Not much, but it could keep you warm at night.<br>Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.status.stamina.value++},shopable:!1},{id:"mat",name:"Sleeping Mat",type:"furniture",subtype:"bed",color:"brown",elements:["wood"],value:1e3,description:"A thin mat woven from brown reeds.<br>Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.status.stamina.value+=1,this.characterService.status.health.value+=.1,this.characterService.checkOverage()},shopable:!1},{id:"canopyBed",name:"Canopy Bed",type:"furniture",subtype:"bed",color:"red",value:1e4,description:"A fine bed with a red silk cover.<br>The curtains keep the mosquitoes off you during the night.<br>Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.status.stamina.value+=2,this.characterService.status.health.value+=.2,this.characterService.checkOverage()},shopable:!1},{id:"heatedBed",name:"Heated Bed",type:"furniture",subtype:"bed",color:"brown",elements:["fire"],value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights.<br>Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.status.stamina.value+=5,this.characterService.status.health.value+=1,this.characterService.checkOverage()},shopable:!1},{id:"bedOfNails",name:"Bed of Nails",type:"furniture",subtype:"bed",color:"black",elements:["metal"],value:1e4,description:"A solid board with iron nails poking upwards.<br>You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.status.stamina.value-=1,this.characterService.increaseAttribute("toughness",.1)},shopable:!1},{id:"waterBucket",name:"water bucket ",type:"furniture",subtype:"bath",color:"gray",elements:["water"],value:10,description:"A simple gray bucket of water that lets you splash your face clean.<br>Increases charisma, and good hygiene can lengthen your life.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("charisma",.01),this.characterService.hygieneLifespan<60&&(this.characterService.hygieneLifespan+=.02)},shopable:!1},{id:"washBasin",name:"wash basin",type:"furniture",subtype:"bath",color:"brown",elements:["water","earth"],value:1e3,description:"A clay wash basin with a rag to clean yourself.<br>Increases charisma, and good hygiene can lengthen your life.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("charisma",.05),this.characterService.hygieneLifespan<120&&(this.characterService.hygieneLifespan+=.1)},shopable:!1},{id:"woodenTub",name:"wooden tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","wood"],value:1e4,description:"A tall and narrow wooden tub where you can squat and bathe.<br>Increases charisma and health recovery, and good hygiene can lengthen your life.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("charisma",.1),this.characterService.status.health.value+=1,this.characterService.checkOverage(),this.characterService.hygieneLifespan<365&&(this.characterService.hygieneLifespan+=.5)},shopable:!1},{id:"bronzeTub",name:"bronze tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","metal"],value:1e6,description:"A luxurious bronze tub where you can get sparkling clean.<br>Increases charisma and health recovery, and good hygiene can lengthen your life.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("charisma",.2),this.characterService.status.health.value+=1,this.characterService.checkOverage(),this.characterService.hygieneLifespan<730&&(this.characterService.hygieneLifespan+=.8)},shopable:!1},{id:"heatedTub",name:"heated tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","metal","fire"],value:1e8,description:"A luxurious tub with its own heating stove.<br>Good for your health and beauty, increases maximum health, and good hygiene can lengthen your life.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("charisma",.2),this.characterService.status.stamina.value+=5,this.characterService.status.health.value+=1,this.characterService.healthBonusBath++,this.characterService.checkOverage(),this.characterService.hygieneLifespan<1095&&(this.characterService.hygieneLifespan+=1)},shopable:!1},{id:"bookshelf",name:"bookshelf",type:"furniture",subtype:"books",value:1e6,description:"An bookshelf to read and expand your mind.<br>Increases intelligence.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("intelligence",.01)},shopable:!1},{id:"prayerShrine",name:"prayer shrine",type:"furniture",subtype:"spiritual",value:1e7,description:"A quiet shrine for contemplative prayer.<br>You won't be able to use this unless you have some innate spirituality.<br>Increases spirituality.",useConsumes:!1,use:()=>{this.characterService.attributes.spirituality.value>0&&this.characterService.increaseAttribute("spirituality",.001)},shopable:!1},{id:"dogKennel",name:"dog kennel",type:"furniture",subtype:"animal",value:1e6,description:"A kennel that comes with a faithful hunting dog.<br>Increases animal handling.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("animalHandling",.01)},shopable:!1},{id:"cormorantCage",name:"cormorant cage",type:"furniture",subtype:"animal",value:1e6,description:"A cage holding a trained cormorant that can help you with fishing.<br>Increases animal handling.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("animalHandling",.01)},shopable:!1},{id:"wingChunDummy",name:"wing-chun dummy",type:"furniture",subtype:"fitness",value:1e6,description:"A training dummy for practicing martial arts.<br>Increases strength and speed.",useConsumes:!1,use:()=>{this.characterService.increaseAttribute("strength",.001),this.characterService.increaseAttribute("speed",.001)},shopable:!1},{id:"ancestorPortraitPurple",name:"purple ancestor portrait",type:"furniture",subtype:"portrait",color:"purple",value:1e7,description:"A fine portrait of one of your ancestors wearing a purple robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitGreen",name:"green ancestor portrait",type:"furniture",subtype:"portrait",color:"green",value:1e7,description:"A fine portrait of one of your ancestors wearing a green robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitRed",name:"red ancestor portrait",type:"furniture",subtype:"portrait",color:"red",value:1e7,description:"A fine portrait of one of your ancestors wearing a red robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitOrange",name:"orange ancestor portrait",type:"furniture",subtype:"portrait",color:"orange",value:1e7,description:"A fine portrait of one of your ancestors wearing an orange robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitPink",name:"pink ancestor portrait",type:"furniture",subtype:"portrait",color:"pink",value:1e7,description:"A fine portrait of one of your ancestors wearing a pink robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitBlue",name:"blue ancestor portrait",type:"furniture",subtype:"portrait",color:"blue",value:1e7,description:"A fine portrait of one of your ancestors wearing a blue robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitYellow",name:"yellow ancestor portrait",type:"furniture",subtype:"portrait",color:"yellow",value:1e7,description:"A fine portrait of one of your ancestors wearing a yellow robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitBrown",name:"brown ancestor portrait",type:"furniture",subtype:"portrait",color:"brown",value:1e7,description:"A fine portrait of one of your ancestors wearing a brown robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitWhite",name:"white ancestor portrait",type:"furniture",subtype:"portrait",color:"white",value:1e7,description:"A fine portrait of one of your ancestors wearing a white robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitPastel",name:"pastel ancestor portrait",type:"furniture",subtype:"portrait",color:"pastel",value:1e7,description:"A fine portrait of one of your ancestors wearing a pastel robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitBlack",name:"black ancestor portrait",type:"furniture",subtype:"portrait",color:"black",value:1e7,description:"A fine portrait of one of your ancestors wearing a black robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ancestorPortraitGray",name:"gray ancestor portrait",type:"furniture",subtype:"portrait",color:"gray",value:1e7,description:"A fine portrait of one of your ancestors wearing a gray robe.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"trophy",name:"trophy",type:"furniture",subtype:"trophy",value:1e6,description:"A simple hunting trophy.",useConsumes:!1,use:()=>{},shopable:!1},{id:"scorpionInAmber",name:"Scorpion in Amber",type:"furniture",subtype:"trophy",color:"orange",elements:["wood","earth"],increaseAmount:1,value:1e4,description:"A trophy made from a small monster you defeated. Could brighten up your home.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"uglyPortrait",name:"Ugly Portrait",type:"furniture",subtype:"portrait",color:"green",increaseAmount:1,value:1e5,description:"A picture of an ugly creature that you defeated.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"luckyPaw",name:"Lucky Paw",type:"furniture",subtype:"trophy",color:"brown",elements:["metal"],increaseAmount:2,value:1e6,description:"A desicated paw from a monkey you defeated. This will certainly bring you lots of luck. Maybe you should make a wish.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"candle",name:"Candle",type:"furniture",subtype:"trophy",color:"yellow",elements:["fire"],increaseAmount:2,value:100,description:"A candle taken from a kobold. He told you not to take it, but you took it.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"alluringBeauty",name:"Alluring Beauty",type:"furniture",subtype:"portrait",color:"blue",elements:["water"],increaseAmount:3,value:1e7,description:"You can't get the image of that siren out of your mind. Maybe if you commission a portrait of her you'll get it out of your system.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"seductiveBeauty",name:"Seductive Beauty",type:"furniture",subtype:"portrait",color:"white",increaseAmount:5,value:5e7,description:"Pale skin, red lips. You almost wish you hadn't defeated her.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"cutePortrait",name:"Cute Portrait",type:"furniture",subtype:"portrait",color:"brown",elements:["wood"],increaseAmount:4,value:1e8,description:"So cute, so fuzzy, so little. So dead now.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"hippoTuskArtwork",name:"Hippo Tusk Artwork",type:"furniture",subtype:"trophy",color:"yellow",elements:["water","wood","earth"],increaseAmount:5,value:1e4,description:"Artful arrangement of the yellowed tusks of a hippo with other knickknacks from your adventures.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"scholarlyTexts",name:"Scholarly Texts",type:"furniture",subtype:"books",color:"pastel",increaseAmount:5,value:1e8,description:"A colorful collection of scholarly textbooks arranged on a custom-made shelf. Who knew some monsters were readers?<br>Increases intelligence.",useConsumes:!1,locked:!0,use:()=>{this.characterService.increaseAttribute("intelligence",.05)},shopable:!1},{id:"ephemeralEssence",name:"Ephemeral Essence",type:"furniture",subtype:"spiritual",color:"gray",increaseAmount:10,value:1e9,description:"The faded essence of a defeated spirit. It doesn't do much, but it shimmers when the light hits it just right.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"trollTuskTrophy",name:"Troll Tusk Trophy",type:"furniture",subtype:"trophy",color:"black",elements:["wood","earth","metal"],increaseAmount:6,value:1e5,description:"Artful arrangement of the blackened tusks of a troll with other knickknacks from your adventures.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"legDayTrainer",name:"Leg Day Trainer",type:"furniture",subtype:"fitness",color:"blue",elements:["water","metal"],increaseAmount:5,value:1e10,description:"How did that walking shark get such massive quads? You don't know, but you're determined to find out.<br>Increases strength and speed.",useConsumes:!1,locked:!0,use:()=>{this.characterService.increaseAttribute("strength",.01),this.characterService.increaseAttribute("speed",.01)},shopable:!1},{id:"bearskinRug",name:"Bearskin Rug",type:"furniture",subtype:"animal",color:"brown",elements:["wood"],increaseAmount:8,value:1e10,description:"The perfectly preserved hide and head of a massive bear.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"ivoryHorn",name:"Ivory Horn",type:"furniture",subtype:"trophy",color:"white",elements:["wood"],increaseAmount:12,value:1e11,description:"An irredescently beautiful horn taken from a unicorn who didn't mind its own business and mounted on a golden stand.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"wailingBeauty",name:"Wailing Beauty",type:"furniture",subtype:"portrait",color:"gray",increaseAmount:20,value:1e12,description:"Her voice still haunts your dreams.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"phoenixDownMattress",name:"Phoenix Down Mattress",type:"furniture",subtype:"bed",color:"red",elements:["fire"],increaseAmount:15,value:1e14,description:"The softest bed you can imagine, with magical restorative properties to ensure your sleep is perfect.<br>Restores health and stamina.",useConsumes:!1,locked:!0,use:()=>{this.characterService.status.stamina.value+=10,this.characterService.status.health.value+=2,this.characterService.checkOverage()},shopable:!1},{id:"beautyOfTheDepths",name:"Beauty of the Depths",type:"furniture",subtype:"portrait",color:"pink",elements:["water"],increaseAmount:25,value:1e16,description:"There she was, the queen under the sea. If she hadn't tried to kill you, you might have fallen in love.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"altarOfNature",name:"Altar of Nature",type:"furniture",subtype:"spiritual",color:"green",elements:["wood"],increaseAmount:20,value:1e18,description:"A sacred shrine guarded by the most powerful creatures in the forest. You can move it to your home, but it won't be cheap.<br>Increases spirituality.",useConsumes:!1,locked:!0,use:()=>{this.characterService.attributes.spirituality.value>0&&this.characterService.increaseAttribute("spirituality",.005)},shopable:!1},{id:"dinoToothDagger",name:"Dino Tooth Dagger",type:"furniture",subtype:"trophy",color:"white",increaseAmount:25,value:1e16,description:"It's too brittle to be any good for combat, but it sure looks cool.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"blazingGrimoire",name:"Blazing Grimoire",type:"furniture",subtype:"books",color:"purple",elements:["fire"],increaseAmount:28,value:1e17,description:"This book burning in purple flame is too hot to touch and difficult to read. It's clearly dangerous. You should never put it in your home.<br>Increases intelligence but causes a terrible imbalance in your yin and yang.",useConsumes:!1,locked:!0,use:()=>{this.characterService.increaseAttribute("intelligence",5),this.characterService.yang+=100,this.characterService.yin>100&&(this.characterService.yin-=100)},shopable:!1},{id:"Doom Vault",name:"Doom Vault",type:"furniture",subtype:"safe",color:"orange",elements:["earth","metal"],increaseAmount:30,value:1e18,description:"A vault made from the nearly indestructable hide of a doomworm.<br>Magically increases your wealth.",useConsumes:!1,locked:!0,use:()=>{this.characterService.updateMoney(1e6)},shopable:!1},{id:"darkGrimoire",name:"Dark Grimoire",type:"furniture",subtype:"books",color:"black",elements:["metal"],increaseAmount:32,value:1e20,description:"Don't read this. Just don't. No matter how much it calls to you, just leave it on the shelf.<br>Increases intelligence but causes a terrible imbalance in your yin and yang.",useConsumes:!1,locked:!0,use:()=>{this.characterService.increaseAttribute("intelligence",5),this.characterService.yin+=100,this.characterService.yang>100&&(this.characterService.yang-=100)},shopable:!1},{id:"eyestalkHatstand",name:"Eyestalk Hatstand",type:"furniture",subtype:"trophy",color:"red",increaseAmount:35,value:1e19,description:"You propbably shouldn't have used the disintegrating eye for this, your hats keep disappearing now.",useConsumes:!1,locked:!0,use:()=>{},shopable:!1},{id:"altarOfTheDepths",name:"Altar of the Depths",type:"furniture",subtype:"spiritual",color:"blue",elements:["water"],increaseAmount:40,value:1e22,description:"A mystical altar found buried in the depths of the sea. The cost of bringing it home would be breathtaking.<br>Increases spirituality.",useConsumes:!1,locked:!0,use:()=>{this.characterService.attributes.spirituality.value>0&&this.characterService.increaseAttribute("spirituality",.02)},shopable:!1},{id:"stormShower",name:"Storm Shower",type:"furniture",subtype:"bath",color:"white",elements:["water"],increaseAmount:40,value:1e22,description:"With the right (and very expensive) setup, the stormbringer's heart can be harnessed for your daily bathing. Neat!<br>Increases charisma, restores health and stamina, increases maximum health, and good hygiene can lengthen your life",useConsumes:!1,locked:!0,use:()=>{this.characterService.increaseAttribute("charisma",.5),this.characterService.status.stamina.value+=10,this.characterService.status.health.value+=2,this.characterService.healthBonusBath+=5,this.characterService.checkOverage(),this.characterService.hygieneLifespan<10950&&(this.characterService.hygieneLifespan+=5)},shopable:!1},{id:"ashenScaleVault",name:"Ashen Scale Vault",type:"furniture",subtype:"safe",color:"black",elements:["fire","earth","metal"],increaseAmount:40,value:1e23,description:"A vault made from unbreakable scales.<br>Crazy expensive, but magically increases your wealth.",useConsumes:!1,locked:!0,use:()=>{this.characterService.updateMoney(1e12)},shopable:!1}],this.items={rice:{id:"rice",imageFile:"rice",name:"rice",type:"food",subtype:"grain",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,shopable:!0},cabbage:{id:"cabbage",imageFile:"cabbage",name:"cabbage",type:"food",subtype:"vegetable",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,shopable:!0},beans:{id:"beans",imageFile:"beans",name:"beans",type:"food",subtype:"vegetable",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},broccoli:{id:"broccoli",imageFile:"broccoli",name:"broccoli",type:"food",subtype:"vegetable",value:20,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},calabash:{id:"calabash",imageFile:"calabash",name:"calabash",type:"food",subtype:"vegetable",value:30,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},taro:{id:"taro",imageFile:"taro",name:"taro",type:"food",subtype:"vegetable",value:40,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},pear:{id:"pear",imageFile:"pear",name:"pear",type:"food",subtype:"fruit",value:60,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},melon:{id:"melon",imageFile:"melon",name:"melon",type:"food",subtype:"fruit",value:70,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},plum:{id:"plum",imageFile:"plum",name:"plum",type:"food",subtype:"fruit",value:90,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},apricot:{id:"apricot",imageFile:"apricot",name:"apricot",type:"food",subtype:"fruit",value:120,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,shopable:!0},peach:{id:"peach",imageFile:"peach",name:"peach",type:"food",subtype:"fruit",value:150,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,shopable:!0},divinePeach:{id:"divinePeach",imageFile:"divinePeach",name:"divine peach",type:"food",subtype:"fruit",value:500,description:"A divinely prized and delicious fruit.",useLabel:"Eat",useDescription:"Sates your immortal hunger.",useConsumes:!0,shopable:!0},distilledPeachEssence:{id:"distilledPeachEssence",imageFile:"distilledPeachEssence",name:"distilled peach essence",type:"potion",value:1e3,description:"An alchemical masterpiece created from the most perfect of peaches. When equipped, it is automatically consumed to restore 50 health when needed.",effect:"health",increaseAmount:500,pouchable:!0,shopable:!0},meat:{id:"meat",imageFile:"meat",name:"meat",type:"food",subtype:"meat",value:25,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly and adds variety to your diet.",useConsumes:!0,shopable:!0},spiritMeat:{id:"spiritMeat",imageFile:"spiritMeat",name:"spirit meat",type:"food",subtype:"meat",value:1e3,description:"Your hunters have performed a ritual burned offering of meat to send you this spiritual feast.",useLabel:"Eat",useDescription:"Fills your belly and adds variety to your diet.",useConsumes:!0,shopable:!0},carp:{id:"carp",imageFile:"fish",name:"carp",type:"food",subtype:"fish",value:25,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly and adds variety to your diet.",useConsumes:!0,shopable:!0},spiritCarp:{id:"spiritCarp",imageFile:"fish",name:"spirit carp",type:"food",subtype:"fish",value:1e3,description:"Your fishers have performed a ritual burned offering of fish to send you this spiritual feast.",useLabel:"Eat",useDescription:"Fills your belly and adds variety to your diet.",useConsumes:!0,shopable:!0},hide:{id:"hide",imageFile:"hide1",imageColor:this.colorByRank[0],name:"tattered hide",type:"hide",value:10,description:"A tattered animal hide.",shopable:!0},thinPelt:{id:"thinPelt",imageFile:"hide2",imageColor:this.colorByRank[1],name:"thin pelt",type:"hide",value:20,description:"A thin fur pelt.",shopable:!0},plainLeather:{id:"plainLeather",imageFile:"hide3",imageColor:this.colorByRank[2],name:"plain leather",type:"hide",value:30,description:"A basic leather hide.",shopable:!0},scaleSkin:{id:"scaleSkin",imageFile:"hide4",imageColor:this.colorByRank[3],name:"scale skin",type:"hide",value:50,description:"A scaly reptile skin.",shopable:!0},thickFur:{id:"thickFur",imageFile:"hide5",imageColor:this.colorByRank[4],name:"thick fur",type:"hide",value:70,description:"A thick animal fur.",shopable:!0},armoredHide:{id:"armoredHide",imageFile:"hide6",imageColor:this.colorByRank[5],name:"armored hide",type:"hide",value:90,description:"An armored animal hide.",shopable:!0},frozenScales:{id:"frozenScales",imageFile:"hide7",imageColor:this.colorByRank[6],name:"frozen scales",type:"hide",value:140,description:"A frozen scaly hide.",shopable:!0},mysticalLeather:{id:"mysticalLeather",imageFile:"hide8",imageColor:this.colorByRank[7],name:"mystical leather",type:"hide",value:180,description:"A mystical animal hide.",shopable:!0},infernalFur:{id:"infernalFur",imageFile:"hide9",imageColor:this.colorByRank[8],name:"infernal fur",type:"hide",value:220,description:"A diabolical pelt.",shopable:!0},orichalcumHide:{id:"orichalcumHide",imageFile:"hide10",imageColor:this.colorByRank[9],name:"orichalcum hide",type:"hide",value:260,description:"A strong magic-infused hide.",shopable:!0},tempestScales:{id:"tempestScales",imageFile:"hide11",imageColor:this.colorByRank[10],name:"tempest scales",type:"hide",value:310,description:"A hide bristling with electricity.",shopable:!0},evergreenVeil:{id:"evergreenVeil",imageFile:"hide12",imageColor:this.colorByRank[11],name:"evergreen veil",type:"hide",value:360,description:"An extremely durable hide .",shopable:!0},sovereignLeather:{id:"sovereignLeather",imageFile:"hide13",imageColor:this.colorByRank[12],name:"sovereign leather",type:"hide",value:420,description:"A powerful hide of a noble animal.",shopable:!0},abyssalFur:{id:"abyssalFur",imageFile:"hide14",imageColor:this.colorByRank[13],name:"abyssal fur",type:"hide",value:480,description:"A fur brimming with unholy power.",shopable:!0},umbralHide:{id:"umbralHide",imageFile:"hide15",imageColor:this.colorByRank[14],name:"umbral hide",type:"hide",value:650,description:"A hide made of shadows themselves.",shopable:!0},divineVeil:{id:"divineVeil",imageFile:"hide16",imageColor:this.colorByRank[15],name:"divine veil",type:"hide",value:800,description:"A hide consecrated with divine protection.",shopable:!0},balsaLog:{id:"balsaLog",imageFile:"wood",imageColor:this.colorByRank[0],name:"balsa log",type:"wood",subtype:"fuel",value:10,description:"A really soft log.",shopable:!0},elmLog:{id:"elmLog",imageFile:"wood",imageColor:this.colorByRank[1],name:"elm log",type:"wood",subtype:"fuel",value:20,description:"A soft log.",shopable:!0},cypressLog:{id:"cypressLog",imageFile:"wood",imageColor:this.colorByRank[2],name:"cypress log",type:"wood",subtype:"fuel",value:30,description:"A poor quality log.",shopable:!0},walnutLog:{id:"walnutLog",imageFile:"wood",imageColor:this.colorByRank[3],name:"walnut log",type:"wood",subtype:"fuel",value:40,description:"An adequate quality log.",shopable:!0},laurelwoodLog:{id:"laurelwoodLog",imageFile:"wood",imageColor:this.colorByRank[4],name:"laurelwood log",type:"wood",subtype:"fuel",value:60,description:"A nice quality log.",shopable:!0},blackwoodLog:{id:"blackwoodLog",imageFile:"wood",imageColor:this.colorByRank[5],name:"blackwood log",type:"wood",subtype:"fuel",value:80,description:"A good quality log.",shopable:!0},rosewoodLog:{id:"rosewoodLog",imageFile:"wood",imageColor:this.colorByRank[6],name:"rosewood log",type:"wood",subtype:"fuel",value:100,description:"A great quality log.",shopable:!0},pearwoodLog:{id:"pearwoodLog",imageFile:"wood",imageColor:this.colorByRank[7],name:"pearwood log",type:"wood",subtype:"fuel",value:130,description:"An excellent quality log.",shopable:!0},zitanLog:{id:"zitanLog",imageFile:"wood",imageColor:this.colorByRank[8],name:"zitan log",type:"wood",subtype:"fuel",value:160,description:"An amazing quality log.",shopable:!0},lignumvitaeLog:{id:"lignumvitaeLog",imageFile:"wood",imageColor:this.colorByRank[9],name:"lignum vitae log",type:"wood",subtype:"fuel",value:200,description:"A log of the highest mortal quality.",shopable:!0},peachwoodlog:{id:"peachwoodlog",imageFile:"wood",imageColor:this.colorByRank[10],name:"peachwood log",type:"wood",subtype:"fuel",value:250,description:"A log brimming with spiritual energy.",shopable:!0},diamondwoodLog:{id:"diamondwoodLog",imageFile:"wood",imageColor:this.colorByRank[11],name:"diamondwood log",type:"wood",subtype:"fuel",value:320,description:"A log as hard as diamond.",shopable:!0},titanwoodLog:{id:"titanwoodLog",imageFile:"wood",imageColor:this.colorByRank[12],name:"titanwood log",type:"wood",subtype:"fuel",value:400,description:"A log with the strength of titans.",shopable:!0},dragonwoodLog:{id:"dragonwoodLog",imageFile:"wood",imageColor:this.colorByRank[13],name:"dragonwood log",type:"wood",subtype:"fuel",value:500,description:"A log blessed by dragons.",shopable:!0},devilwoodLog:{id:"devilwoodLog",imageFile:"wood",imageColor:this.colorByRank[14],name:"devilwood log",type:"wood",subtype:"fuel",value:620,description:"A demonic quality log.",shopable:!0},divinewoodLog:{id:"divinewoodLog",imageFile:"wood",imageColor:this.colorByRank[15],name:"divinewood log",type:"wood",subtype:"fuel",value:800,description:"A divine quality log.",shopable:!0},coal:{id:"coal",imageFile:"coal",name:"coal",type:"coal",subtype:"fuel",value:1,description:"A chunk of coal.<br>Handy as fuel.",shopable:!0},copperOre:{id:"copperOre",imageFile:"ore",imageColor:this.colorByRank[0],name:"copper ore",type:"ore",value:10,description:"A chunk of copper ore.",shopable:!0},tinOre:{id:"tinOre",imageFile:"ore",imageColor:this.colorByRank[1],name:"tin ore",type:"ore",value:20,description:"A chunk of tin ore.",shopable:!0},bronzeOre:{id:"bronzeOre",imageFile:"ore",imageColor:this.colorByRank[2],name:"mixed ore",type:"ore",value:40,description:"A chunk of ore containing copper, tin, lead, and zinc.",shopable:!0},ironOre:{id:"ironOre",imageFile:"ore",imageColor:this.colorByRank[3],name:"iron ore",type:"ore",value:80,description:"A chunk of iron ore.",shopable:!0},steelOre:{id:"steelOre",imageFile:"ore",imageColor:this.colorByRank[4],name:"coal-mixed iron ore",type:"ore",value:140,description:"A chunk of iron ore laced with coal.",shopable:!0},mithrilOre:{id:"mithrilOre",imageFile:"ore",imageColor:this.colorByRank[5],name:"mithril ore",type:"ore",value:180,description:"A chunk of mithril ore.",shopable:!0},greensteelOre:{id:"greensteelOre",imageFile:"ore",imageColor:this.colorByRank[6],name:"greensteel ore",type:"ore",value:220,description:"A chunk of greensteel ore.",shopable:!0},bluesteelOre:{id:"bluesteelOre",imageFile:"ore",imageColor:this.colorByRank[7],name:"bluesteel ore",type:"ore",value:260,description:"A chunk of bluesteel ore.",shopable:!0},redsteelOre:{id:"redsteelOre",imageFile:"ore",imageColor:this.colorByRank[8],name:"redsteel ore",type:"ore",value:300,description:"A chunk of redsteel ore.",shopable:!0},flamesteelOre:{id:"flamesteelOre",imageFile:"ore",imageColor:this.colorByRank[9],name:"flamesteel ore",type:"ore",value:350,description:"A chunk of flamesteel ore.",shopable:!0},froststeelOre:{id:"froststeelOre",imageFile:"ore",imageColor:this.colorByRank[10],name:"froststeel ore",type:"ore",value:400,description:"A chunk of froststeel ore.",shopable:!0},brightsteelOre:{id:"brightsteelOre",imageFile:"ore",imageColor:this.colorByRank[11],name:"brightsteel ore",type:"ore",value:470,description:"A chunk of brightsteel ore.",shopable:!0},darksteelOre:{id:"darksteelOre",imageFile:"ore",imageColor:this.colorByRank[12],name:"darksteel ore",type:"ore",value:540,description:"A chunk of darksteel ore.",shopable:!0},felsteelOre:{id:"felsteelOre",imageFile:"ore",imageColor:this.colorByRank[13],name:"felsteel ore",type:"ore",value:620,description:"A chunk of felsteel ore.",shopable:!0},cloudsteelOre:{id:"cloudsteelOre",imageFile:"ore",imageColor:this.colorByRank[14],name:"cloudsteel ore",type:"ore",value:700,description:"A chunk of cloudsteel ore.",shopable:!0},adamantOre:{id:"adamantOre",imageFile:"ore",imageColor:this.colorByRank[15],name:"adamant ore",type:"ore",value:800,description:"A chunk of adamant ore.",shopable:!0},copperBar:{id:"copperBar",imageFile:"metal",imageColor:this.colorByRank[0],name:"copper bar",type:"metal",value:100,description:"A bar of copper.",shopable:!0},tinBar:{id:"tinBar",imageFile:"metal",imageColor:this.colorByRank[1],name:"tin bar",type:"metal",value:200,description:"A bar of tin.",shopable:!0},bronzeBar:{id:"bronzeBar",imageFile:"metal",imageColor:this.colorByRank[2],name:"bronze bar",type:"metal",value:400,description:"A bar of bronze.",shopable:!0},ironBar:{id:"ironBar",imageFile:"metal",imageColor:this.colorByRank[3],name:"iron bar",type:"metal",value:800,description:"A bar of iron.",shopable:!0},steelBar:{id:"steelBar",imageFile:"metal",imageColor:this.colorByRank[4],name:"steel bar",type:"metal",value:1400,description:"A bar of steel.",shopable:!0},mithrilBar:{id:"mithrilBar",imageFile:"metal",imageColor:this.colorByRank[5],name:"mithril bar",type:"metal",value:1800,description:"A bar of of mithril.",shopable:!0},greensteelBar:{id:"greensteelBar",imageFile:"metal",imageColor:this.colorByRank[6],name:"greensteel bar",type:"metal",value:2200,description:"A bar of greensteel.",shopable:!0},bluesteelBar:{id:"bluesteelBar",imageFile:"metal",imageColor:this.colorByRank[7],name:"bluesteel bar",type:"metal",value:2600,description:"A bar of bluesteel.",shopable:!0},redsteelBar:{id:"redsteelBar",imageFile:"metal",imageColor:this.colorByRank[8],name:"redsteel bar",type:"metal",value:3e3,description:"A bar of redsteel.",shopable:!0},flamesteelBar:{id:"flamesteelBar",imageFile:"metal",imageColor:this.colorByRank[9],name:"flamesteel bar",type:"metal",value:3500,description:"A bar of flamesteel.",shopable:!0},froststeelBar:{id:"froststeelBar",imageFile:"metal",imageColor:this.colorByRank[10],name:"froststeel bar",type:"metal",value:4e3,description:"A bar of froststeel.",shopable:!0},brightsteelBar:{id:"brightsteelBar",imageFile:"metal",imageColor:this.colorByRank[11],name:"brightsteel bar",type:"metal",value:4700,description:"A bar of brightsteel.",shopable:!0},darksteelBar:{id:"darksteelBar",imageFile:"metal",imageColor:this.colorByRank[12],name:"darksteel bar",type:"metal",value:5400,description:"A bar of darksteel.",shopable:!0},felsteelBar:{id:"felsteelBar",imageFile:"metal",imageColor:this.colorByRank[13],name:"felsteel bar",type:"metal",value:6200,description:"A bar of felsteel.",shopable:!0},cloudsteelBar:{id:"cloudsteelBar",imageFile:"metal",imageColor:this.colorByRank[14],name:"cloudsteel bar",type:"metal",value:7e3,description:"A bar of cloudsteel.",shopable:!0},adamantBar:{id:"adamantBar",imageFile:"metal",imageColor:this.colorByRank[15],name:"adamant bar",type:"metal",value:8e3,description:"A bar of adamant.",shopable:!0},junk:{id:"junk",imageFile:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk.",shopable:!0},pillMold:{id:"pillMold",imageFile:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill.",shopable:!1},pillBox:{id:"pillBox",imageFile:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill.",shopable:!1},pillPouch:{id:"pillPouch",imageFile:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills.",shopable:!1},unbreakableChain:{id:"unbreakableChain",imageFile:"chain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong, but it's REALLY heavy.",shopable:!1},everlastingBrick:{id:"everlastingBrick",imageFile:"brick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight.",shopable:!1},everlastingMortar:{id:"everlastingMortar",imageFile:"mortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building.",shopable:!1},scaffolding:{id:"scaffolding",imageFile:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower.",shopable:!1},windTome:{id:"windTome",imageFile:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed.",shopable:!1},army:{id:"army",imageFile:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic.",shopable:!1},immortality:{id:"immortality",imageFile:"immortality",name:"Essence of Immortality",type:"immortality",value:1/0,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the first phase of the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(pn)),this.impossibleTaskService.taskProgress[fe.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=fe.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.OvercomeDeath].complete&&(this.logService.injury(w.STORY,"YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!"),this.gameStateService||(this.gameStateService=this.injector.get(nt)),this.gameStateService.easyModeEver&&this.logService.log(w.STORY,"Good work, even if you did take the easy path. For more of a challenge, you could reset and try without using the easy game mode."),this.logService.log(w.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and succeeded in your quest on "+new Date().toDateString()+"."),this.logService.log(w.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.totalLives+" lifetimes to overcome death."),this.characterService.immortal.set(!0))},shopable:!1},portalKey:{id:"portalKey",imageFile:"key",name:"Portal Key",type:"portalKey",value:1/0,description:"The key to Lord Yama's kingdom. With this key, you can use his portals to travel back to the mortal realm and even to higher realms of existence.",useLabel:"Create a portal back to the palace of the gods on Mount Penglai and claim your throne.",useDescription:"Become a god and win the second phase of the game.",useConsumes:!0,use:()=>{this.logService.injury(w.STORY,"YOU HAVE ACHIEVED GODHOOD! YOU WILL RULE OVER THE UNIVERSE FOREVER!"),this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.inHell.set(!1),this.gameStateService||(this.gameStateService=this.injector.get(nt)),this.activityService||(this.activityService=this.injector.get(Ue)),this.battleService||(this.battleService=this.injector.get(it)),this.logService.log(w.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and achieved godhood on "+new Date().toDateString()+"."),this.logService.log(w.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.totalLives+" lifetimes to claim your throne on Mount Penglai."),this.characterService.god.set(!0)},shopable:!1},fingers:{id:"fingers",imageFile:"finger",name:"fingers",type:"fingers",value:1,description:"A handful of bloody fingers. The demons carry them as grisly trophies. Now, it seems, you do too.",shopable:!1},tokenOfGratitude:{id:"tokenOfGratitude",imageFile:"token",name:"token of gratitude",type:"tokenOfGratitude",value:1,description:"A small keepsake from your family member.",shopable:!1},mirrorShard:{id:"mirrorShard",imageFile:"mirrorShard",name:"mirror shard",type:"mirrorShard",value:1,description:"A shard of broken glass. You carefully turn the reflective side away from you.",shopable:!1},iceCore:{id:"iceCore",imageFile:"iceCore",name:"ice core",type:"iceCore",value:1,description:"A small sphere containing the essence of pure cold.",shopable:!1},fireCore:{id:"fireCore",imageFile:"fireCore",name:"fire core",type:"fireCore",value:1,description:"A small sphere containing the essence of pure heat.",shopable:!1},treasureMap:{id:"treasureMap",imageFile:"treasureMap",name:"treasure map",type:"treasureMap",value:1,description:"A treasure map with the location of a stolen relic.",shopable:!1},stolenRelic:{id:"stolenRelic",imageFile:"relic",name:"stolen relic",type:"stolenRelic",value:1,description:"A treasure pilfered from a tomb.",shopable:!1},hellCrownTongueRippers:{id:"hellCrownTongueRippers",imageFile:"crown",name:"Crown of the Tongue Rippers",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Tongue Rippers. Using this will unlock a new type of follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.followerService||(this.followerService=this.injector.get(ut)),this.hellService.completedHellBosses.includes(ie.TongueRipping)||this.hellService.completedHellBosses.push(ie.TongueRipping),this.logService.log(w.STORY,"The Crown of Tongue Rippers settles onto your head, then sinks in to become a part of your very soul. You feel that your words carry a new power that can inspire a new kind of follower to worship you as the god you are becoming. Perhaps a trip back to the mortal realm through reincarnation might be worthwhile."),this.followerService.unlockJob("prophet")},shopable:!1},hellCrownScissors:{id:"hellCrownScissors",imageFile:"crown",name:"Crown of Scissors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Scissors. Using this will unlock a new ability for your followers.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.followerService||(this.followerService=this.injector.get(ut)),this.hellService.completedHellBosses.includes(ie.Scissors)||this.hellService.completedHellBosses.push(ie.Scissors),this.logService.log(w.STORY,"The Crown of Scissors settles onto your head, then sinks in to become a part of your very soul. You feel a deeper appreciation for marriage and family, and your followers sense it."),this.logService.log(w.STORY,"From now on, each follower will train a child to replace themselves in your service when they pass away."),this.followerService.autoReplaceUnlocked=!0},shopable:!1},hellCrownTreesOfKnives:{id:"hellCrownTreesOfKnives",imageFile:"crown",name:"Crown of Knives",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Trees of Knives. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.followerService||(this.followerService=this.injector.get(ut)),this.hellService.completedHellBosses.includes(ie.TreesOfKnives)||this.hellService.completedHellBosses.push(ie.TreesOfKnives),this.logService.log(w.STORY,"The Crown of Knives settles onto your head, then sinks in to become a part of your very soul. You can recruit a new follower specialized in honoring ancestors."),this.followerService.unlockJob("moneyBurner")},shopable:!1},hellCrownMirrors:{id:"hellCrownMirrors",imageFile:"crown",name:"Crown of Mirrors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Mirrors. Using this will unlock a new understanding of combat.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.followerService||(this.followerService=this.injector.get(ut)),this.activityService||(this.activityService=this.injector.get(Ue)),this.hellService.completedHellBosses.includes(ie.Mirrors)||this.hellService.completedHellBosses.push(ie.Mirrors),this.logService.log(w.STORY,"The Crown of Mirrors settles onto your head, then sinks in to become a part of your very soul. A deep understanding of combat based on your many battles with yourself reveals itself in a moment of enlightenment."),this.characterService.attributes.combatMastery.value+=1,this.activityService.CombatTraining.unlocked=!0},shopable:!1},hellCrownSteamers:{id:"hellCrownSteamers",imageFile:"crown",name:"Crown of Steam",type:"hellcrown",value:1/0,description:"A misty crown proving your mastery over the Hell of Steamers. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.battleService||(this.battleService=this.injector.get(it)),this.hellService.completedHellBosses.includes(ie.Steamers)||this.hellService.completedHellBosses.push(ie.Steamers),this.logService.log(w.STORY,"The Crown of Steam settles onto your head, then sinks in to become a part of your very soul. You learn to harness the intense heat of the Hell of Steamers in a powerful magical blast."),this.battleService.addPyroclasm()},shopable:!1},hellCrownPillars:{id:"hellCrownPillars",imageFile:"crown",name:"Crown of Pillars",type:"hellcrown",value:1/0,description:"A crown topped with tiny copper pillars. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.battleService||(this.battleService=this.injector.get(it)),this.hellService.completedHellBosses.includes(ie.CopperPillars)||this.hellService.completedHellBosses.push(ie.CopperPillars),this.logService.log(w.STORY,"The Crown of Pillars settles onto your head, then sinks in to become a part of your very soul. You can now summon a massive metal fist with each of your combat strikes."),this.battleService.addMetalFist()},shopable:!1},hellCrownMountainOfKnives:{id:"hellCrownMountainOfKnives",imageFile:"crown",name:"Crown of the Knife Mountain",type:"hellcrown",value:1/0,description:"A crown shaped like a mountain covered in tiny blades. Using this will unlock a new understanding of the world.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.MountainOfKnives)||this.hellService.completedHellBosses.push(ie.MountainOfKnives),this.logService.log(w.STORY,"The Crown of the Knife Mountain settles onto your head, then sinks in to become a part of your very soul. Having balanced your karmic debt, you begin to see the balance in all the world around you. Bonuses for Yin and Yang balance are greatly increased."),this.characterService.yinYangBoosted=!0},shopable:!1},hellCrownMountainOfIce:{id:"hellCrownMountainOfIce",imageFile:"crown",name:"Crown of Ice",type:"hellcrown",value:1/0,description:"A frozen crown. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.MountainOfIce)||this.hellService.completedHellBosses.push(ie.MountainOfIce),this.battleService||(this.battleService=this.injector.get(it)),this.logService.log(w.STORY,"The Crown of Ice settles onto your head, then sinks in to become a part of your very soul. The deep freezing from the mountain has given you a new idea for how to defend yourself."),this.battleService.addIceShield()},shopable:!1},hellCrownCauldronsOfOil:{id:"hellCrownCauldronsOfOil",imageFile:"crown",name:"Cauldron Crown",type:"hellcrown",value:1/0,description:"An ugly pot you can wear on your head. Using this will unlock a new respect for the sanctity and dignity of human life.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.CauldronsOfOil)||this.hellService.completedHellBosses.push(ie.CauldronsOfOil),this.logService.log(w.STORY,"The Cauldron Crown settles onto your head, then sinks in to become a part of your very soul. A new resolve awakens in you to protect the defenseless from those that would abuse them."),this.characterService.righteousWrathUnlocked=!0},shopable:!1},hellCrownCattlePit:{id:"hellCrownCattlePit",imageFile:"crown",name:"Cow Crown",type:"hellcrown",value:1/0,description:"Now you are the Cow Emperor. Using this will let you understand animals, making your pets much more effective.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.CattlePit)||this.hellService.completedHellBosses.push(ie.CattlePit),this.followerService||(this.followerService=this.injector.get(ut)),this.logService.log(w.STORY,"The Cow Crown settles onto your head, then sinks in to become a part of your very soul. You find a new and deep connection to animals that you've never felt before."),this.followerService.petsBoosted=!0},shopable:!1},hellCrownCrushingBoulder:{id:"hellCrownCrushingBoulder",imageFile:"crown",name:"Boulder Crown",type:"hellcrown",value:1/0,description:"A heavy stone crown. Using this will greatly improve your physical characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.CrushingBoulder)||this.hellService.completedHellBosses.push(ie.CrushingBoulder),this.logService.log(w.STORY,"The Boulder Crown settles onto your head, then sinks in to become a part of your very soul. Your muscles swell with new power."),this.characterService.bonusMuscles=!0},shopable:!1},hellCrownMortarsAndPestles:{id:"hellCrownMortarsAndPestles",imageFile:"crown",name:"Gluttonous Crown",type:"hellcrown",value:1/0,description:"A crown topped with mortars full of hellfire. Using this will lead you to a new enlightenment about food.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.MortarsAndPestles)||this.hellService.completedHellBosses.push(ie.MortarsAndPestles),this.farmService||(this.farmService=this.injector.get(yi)),this.inventoryService||(this.inventoryService=this.injector.get(se)),this.logService.log(w.STORY,"The Gluttonous Crown settles onto your head, then sinks in to become a part of your very soul. You come to a deep appreciation of the value and importance of food."),this.farmService.hellFood=!0,this.inventoryService.divinePeachesUnlocked=!0,this.inventoryService.updateFarmFoodList()},shopable:!1},hellCrownBloodPool:{id:"hellCrownBloodPool",imageFile:"crown",name:"Blood Crown",type:"hellcrown",value:1/0,description:"A liquid crown made of blood. Using this will empower your bloodline.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.BloodPool)||this.hellService.completedHellBosses.push(ie.BloodPool),this.homeService||(this.homeService=this.injector.get(Qe)),this.logService.log(w.STORY,"The Blood Crown settles onto your head, then sinks in to become a part of your very soul. Your bloodline becomes so powerful that the benefits of your ancestral home now apply even when you are no longer in the mortal realm."),this.homeService.hellHome.set(!0)},shopable:!1},hellCrownWrongfulDead:{id:"hellCrownWrongfulDead",imageFile:"crown",name:"Hollow Crown",type:"hellcrown",value:1/0,description:"A crown so light you can barely feel it. Using this will greatly improve your mental characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.WrongfulDead)||this.hellService.completedHellBosses.push(ie.WrongfulDead),this.logService.log(w.STORY,"The Hollow Crown settles onto your head, then sinks in to become a part of your very soul. Your mind suddenly expands with endless new possibilities."),this.characterService.bonusBrains=!0},shopable:!1},hellCrownDismemberment:{id:"hellCrownDismemberment",imageFile:"crown",name:"Crown of Limbs",type:"hellcrown",value:1/0,description:"A crown topped with dismembered limbs. Using this will open up a new understanding of spirit gems.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.Dismemberment)||this.hellService.completedHellBosses.push(ie.Dismemberment),this.activityService||(this.activityService=this.injector.get(Ue)),this.logService.log(w.STORY,"The Crown of Limbs settles onto your head, then sinks in to become a part of your very soul. If you are spiritual enough, you can now purify gems to infuse new effects into your weapons."),this.activityService.purifyGemsUnlocked=!0},shopable:!1},hellCrownFireMountain:{id:"hellCrownFireMountain",imageFile:"crown",name:"Lava Crown",type:"hellcrown",value:1/0,description:"A crown made of pure lava. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.MountainOfFire)||this.hellService.completedHellBosses.push(ie.MountainOfFire),this.battleService||(this.battleService=this.injector.get(it)),this.logService.log(w.STORY,"The Lava Crown settles onto your head, then sinks in to become a part of your very soul. The intense heat of the volcano has strengthened your inner fire, allowing you to form a barrier to protect you and harm your enemies."),this.battleService.addFireShield()},shopable:!1},hellCrownMills:{id:"hellCrownMills",imageFile:"crown",name:"Millstone Crown",type:"hellcrown",value:1/0,description:"A heavy crown with the weight of a millstone. Using this will increase the limits of your health.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.Mills)||this.hellService.completedHellBosses.push(ie.Mills),this.logService.log(w.STORY,"The Millstone Crown settles onto your head, then sinks in to become a part of your very soul. The intense pressure of the mill has strengthened your skin and bones allowing you to increase your total health dramatically."),this.characterService.bonusHealth=!0},shopable:!1},hellCrownSaws:{id:"hellCrownSaws",imageFile:"crown",name:"Saw Crown",type:"hellcrown",value:1/0,description:"A toothy crown with sawblades pointing in all directions. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Fe)),this.hellService.completedHellBosses.includes(ie.Saws)||this.hellService.completedHellBosses.push(ie.Saws),this.followerService||(this.followerService=this.injector.get(ut)),this.logService.log(w.STORY,"The Saw Crown settles onto your head, then sinks in to become a part of your very soul. You can now recruit followers that put their swindling and cheating to good use."),this.followerService.unlockJob("banker")},shopable:!1},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>5?5:this.mainLoopService.topDivider,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastSpeed,shopable:!1},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>2?2:this.mainLoopService.topDivider,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFasterSpeed,shopable:!1},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.mainLoopService.topDivider=1,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastestSpeed,shopable:!1},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically schedule activities that you performed in your previous life.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService.autoRestart=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService?.autoRestart),shopable:!1},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock the auto-sell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellUnlocked.set(!0),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellUnlocked()),shopable:!1},autoEatManual:{id:"autoEatManual",name:"Manual of Wise Consumption",type:"manual",description:"This manual teaches you to automatically eat to maximize your health, nutition, and stamina.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock the auto-eat button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoEatUnlocked.set(!0),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoEatUnlocked()),shopable:!1},basicGluttonyManual:{id:"basicGluttonyManual",name:"Manual of Unwise Food Consumption",type:"manual",description:"This manual teaches you how to stuff more food into your belly each day.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock a higher limit on your daily food intake.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxFoodPerDay<20&&(this.inventoryService.maxFoodPerDay=20),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxFoodPerDay>=20),shopable:!1},advancedGluttonyManual:{id:"advancedGluttonyManual",name:"Manual of Obscene Gluttony",type:"manual",description:"This manual teaches you how to stuff even more food into your belly each day.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock a higher limit on your daily food intake.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxFoodPerDay<40&&(this.inventoryService.maxFoodPerDay=40),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxFoodPerDay>=40),shopable:!1},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock the auto-use button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoUseUnlocked.set(!0),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoUseUnlocked()),shopable:!1},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock the auto-balance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoBalanceUnlocked.set(!0),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoBalanceUnlocked()),shopable:!1},autoPillManual:{id:"autoPillManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-swallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoPillUnlocked=!0,this.inventoryService.autoPillEnabled=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoPillUnlocked),shopable:!1},herbalUnderstandingManual:{id:"herbalUnderstandingManual",name:"Manual of Herbal Understanding",type:"manual",description:"This manual teaches you to see the properties of every new herb you gather and how it can be used in alchemy.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock improved tooltips for herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.herbalUnderstanding=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.herbalUnderstanding),shopable:!1},basicHealthRegenerationManual:{id:"basicHealthRegenerationManual",name:"Manual of Basic Health Regeration",type:"manual",description:"This manual teaches you to automatically recover a small amount of health during your battles.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock gives you a small amount of health each time tick during your battles.",useConsumes:!0,use:()=>{this.characterService.status.health.battleTickRecovery<1&&(this.characterService.status.health.battleTickRecovery=1),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.characterService.status.health.battleTickRecovery>=1,shopable:!1},basicQiRegenerateManual:{id:"basicQiRegenerateManual",name:"Manual of Basic Qi Regeration",type:"manual",description:"This manual teaches you to automatically recover a small amount of Qi during your battles.",value:1e15,useLabel:"Read",useDescription:"Permanently unlock gives you a small amount of Qi each time tick during your battles.",useConsumes:!0,use:()=>{this.characterService.status.qi.battleTickRecovery<1&&(this.characterService.status.qi.battleTickRecovery=1),this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.characterService.status.qi.battleTickRecovery>=1,shopable:!1},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual makes looking for trouble more effective, calling out an enemy every time.",value:5e8,useLabel:"Read",useDescription:"Permanently improve Looking for Trouble.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(it)),this.battleService.autoTroubleUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.battleService||(this.battleService=this.injector.get(it)),this.battleService?.autoTroubleUnlocked),shopable:!1},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoWeaponMergeUnlocked),shopable:!1},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoArmorMergeUnlocked),shopable:!1},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.useSpiritGemUnlocked),shopable:!1},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldHerbs=!0,this.inventoryService.autoSellOldHerbsEnabled=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldHerbs),shopable:!1},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldWood=!0,this.inventoryService.autoSellOldWoodEnabled=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldWood),shopable:!1},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldOre=!0,this.inventoryService.autoSellOldOreEnabled=!0,this.inventoryService.autoSellOldBarsEnabled=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldOre),shopable:!1},bestHidesManual:{id:"bestHidesManual",name:"Manual of Pelt Perception",type:"manual",description:"This manual teaches you to automatically sell any hides below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade hides.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldHides=!0,this.inventoryService.autoSellOldHidesEnabled=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldHides),shopable:!1},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoequipBestWeapon=!0,this.inventoryService.automergeEquipped=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoequipBestWeapon),shopable:!1},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoequipBestArmor=!0,this.inventoryService.automergeEquipped=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoequipBestArmor),shopable:!1},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize*=10,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize>=1e3),shopable:!1},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize*=10,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize>=1e4),shopable:!1},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize*=10,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.maxStackSize>=1e5),shopable:!1},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you to automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(ut)),this.followerService.autoDismissUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.followerService||(this.followerService=this.injector.get(ut)),this.followerService.autoDismissUnlocked),shopable:!1},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you to automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem auto-selling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoSellOldGemsUnlocked),shopable:!1},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService.autoPauseUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService.autoPauseUnlocked),shopable:!1},bankedTicksEfficiencyManual:{id:"bankedTicksEfficiencyManual",name:"Manual of Efficient Time Banking",type:"manual",description:"This manual teaches you to more efficiently bank ticks when paused or offline.",value:25e8,useLabel:"Read",useDescription:"Permanently increase banked tick efficiency to 50%.",useConsumes:!0,use:()=>{this.mainLoopService.offlineDivider=2,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.offlineDivider<=2,shopable:!1},autoRestManual:{id:"autoRestManual",name:"Manual of Timely Rest",type:"manual",description:"This manual teaches you to avoid overwork by resting just in time.",value:4e10,useLabel:"Read",useDescription:"Permanently unlock automatic resting.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService.autoRestUnlocked=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ue)),this.activityService.autoRestUnlocked),shopable:!1},ageSpeedManual:{id:"ageSpeedManual",name:"Manual of Aged Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the older you are.",value:75e8,useLabel:"Read",useDescription:"Permanently increase time passage based on your age.",useConsumes:!0,use:()=>{this.mainLoopService.unlockAgeSpeed=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockAgeSpeed,shopable:!1},totalPlaytimeManual:{id:"totalPlaytimeManual",name:"Manual of Lifetime Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the longer you've lived across all your lives.",value:5e10,useLabel:"Read",useDescription:"Permanently increase time passage based on your total time lived.",useConsumes:!0,use:()=>{this.mainLoopService.unlockPlaytimeSpeed=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockPlaytimeSpeed,shopable:!1},perpetualCraftingManual:{id:"perpetualCraftingManual",name:"Manual of Perpetual Crafting",type:"manual",description:"This manual teaches you to automatically reload crafting input items into workstations when you obtain them.",value:1e8,useLabel:"Read",useDescription:"Permanently unlock automatic crafting ingredient reloading.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoReloadCraftInputs=!0,this.logService.log(w.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(se)),this.inventoryService.autoReloadCraftInputs),shopable:!1}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){for(let i of this.furniture)if(i.id===e)return i;return null}static{this.\u0275fac=function(i){return new(i||t)(L(ae),L(le),L(St),L(pe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var se=(()=>{class t{constructor(e,i,r,o,a,s){this.injector=e,this.logService=i,this.characterService=r,this.mainLoopService=o,this.itemRepoService=a,this.titleCasePipe=s,this.itemStacks=[],this.displayItemStacks=[],this.stashedItemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=this.getEmptyItemStack(),this.displaySelectedItem={name:C(""),description:C(""),imageFile:C(""),imageColor:C("white"),quantity:C(0),type:C(""),value:C(0),stackValue:C(0),useLabel:C(""),useDescription:C(""),pouchable:C(!1),sellable:C(!1),equipment:C(!1),id:C(""),tooltip:C("")},this.autoSellUnlocked=C(!1),this.autoUseUnlocked=C(!1),this.autoEatUnlocked=C(!1),this.autoBalanceUnlocked=C(!1),this.autoequipBestEnabled=!0,this.lifetimeUsedItems=0,this.lifetimeUsedFood=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.autoBuyFood=!0,this.automergeEquipped=!1,this.autoSortEnabled=C(!1),this.descendingSort=C(!1),this.divinePeachesUnlocked=!1,this.equipmentUnlocked=!1,this.equipmentCreated=0,this.emptyIdCounter=0,this.emptyIdPrefix=Date.now()+"",this.totalItemsReceived=0,this.autoReloadCraftInputs=!1,this.potionCounter=0,this.herbCounter=0,this.gemsAcquired=0,this.foodEatenToday=0,this.maxFoodPerDay=10,this.heirloomSlots=C(0),this.daysGorged=0,this.unlockedFurniture=[],this.herbalUnderstanding=!1,this.soldGoods={},this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],setTimeout(()=>this.hellService=this.injector.get(Fe)),setTimeout(()=>this.homeService=this.injector.get(Qe)),setTimeout(()=>this.battleService=this.injector.get(it)),setTimeout(()=>this.locationService=this.injector.get(An)),this.bigNumberPipe=this.injector.get(Ve),this.autoSellEntries=[],this.autoEatNutrition=!0,this.autoEatHealth=!1,this.autoEatStamina=!1,this.autoEatQi=!1,this.autoEatAll=!1,this.autoBalanceItems=[],this.autoPillUnlocked=!1,this.autoPillEnabled=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.useCheapestSpiritGem=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldHides=!1,this.autoSellOldHerbsEnabled=!1,this.autoSellOldWoodEnabled=!1,this.autoSellOldOreEnabled=!1,this.autoSellOldBarsEnabled=!1,this.autoSellOldHidesEnabled=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1,this.autoUseEntries=[];for(let l of this.farmFoodList)this.autoUseEntries.push({name:l.name,type:"food",reserve:0});for(let l=0;l<this.maxItems;l++)this.itemStacks.push(this.getEmptyItemStack());o.inventoryTickSubject.subscribe(()=>{this.tick()}),o.longTickSubject.subscribe(()=>{this.autoequipBestWeapon&&this.autoWeaponMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoArmorMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipArmor();for(let l of["head","body","legs","feet"]){let c=this.characterService.equipment[l];c&&this.updateArmorDescription(c)}for(let l of["leftHand","rightHand"]){let c=this.characterService.equipment[l];c&&this.updateWeaponDescription(c)}for(let l of this.itemStacks)if(l.item){let c=l.item;Ei(c)&&(c.weaponStats?this.updateWeaponDescription(c):c.armorStats&&this.updateArmorDescription(c))}this.autoSortEnabled()&&this.sortInventory(),this.updateDisplayValues()}),o.reincarnateSubject.subscribe(()=>{this.reset()})}tick(){this.characterService.dead||(this.characterService.status.nutrition.value--,this.foodEatenToday=0,this.eatDailyMeal(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++,this.foodEatenToday===this.maxFoodPerDay&&this.daysGorged++)}updateDisplayValues(){this.selectedItem.item?(this.displaySelectedItem.name.set(this.selectedItem.item.name),this.displaySelectedItem.description.set(this.selectedItem.item.description),this.selectedItem.item.imageFile?this.displaySelectedItem.imageFile.set("assets/images/items/"+this.selectedItem.item.imageFile+".png"):this.displaySelectedItem.imageFile.set(""),this.selectedItem.item.imageColor?this.displaySelectedItem.imageColor.set(this.selectedItem.item.imageColor):this.displaySelectedItem.imageColor.set("white"),this.displaySelectedItem.quantity.set(this.selectedItem.quantity),this.displaySelectedItem.type.set(this.selectedItem.item.type),this.displaySelectedItem.value.set(this.selectedItem.item.value),this.displaySelectedItem.stackValue.set(this.selectedItem.item.value*this.selectedItem.quantity),this.displaySelectedItem.useLabel.set(this.selectedItem.item.useLabel||""),this.displaySelectedItem.useDescription.set(this.selectedItem.item.useDescription||""),this.displaySelectedItem.pouchable.set(this.selectedItem.item.pouchable||!1),this.displaySelectedItem.sellable.set(isFinite(this.selectedItem.item.value)),this.displaySelectedItem.equipment.set(Ei(this.selectedItem.item)),this.displaySelectedItem.id.set(this.selectedItem.id)):(this.displaySelectedItem.name.set(""),this.displaySelectedItem.description.set(""),this.displaySelectedItem.imageFile.set(""),this.displaySelectedItem.quantity.set(0),this.displaySelectedItem.type.set(""),this.displaySelectedItem.value.set(0),this.displaySelectedItem.stackValue.set(0),this.displaySelectedItem.useLabel.set(""),this.displaySelectedItem.useDescription.set(""),this.displaySelectedItem.pouchable.set(!1),this.displaySelectedItem.sellable.set(!1),this.displaySelectedItem.equipment.set(!1),this.displaySelectedItem.id.set(""));for(let e=0;e<this.itemStacks.length;e++){this.displayItemStacks.length<=e&&this.displayItemStacks.push({name:C(""),description:C(""),imageFile:C(""),imageColor:C("white"),quantity:C(0),type:C(""),value:C(0),stackValue:C(0),useLabel:C(""),useDescription:C(""),pouchable:C(!1),sellable:C(!1),equipment:C(!1),id:C(""),tooltip:C("")});let i=this.itemStacks[e];i.item?(this.displayItemStacks[e].name.set(i.item.name),this.displayItemStacks[e].description.set(i.item.description),i.item.imageFile?this.displayItemStacks[e].imageFile.set("assets/images/items/"+i.item.imageFile+".png"):this.displayItemStacks[e].imageFile.set(""),i.item.imageColor?this.displayItemStacks[e].imageColor.set(i.item.imageColor):this.displayItemStacks[e].imageColor.set("white"),this.displayItemStacks[e].quantity.set(i.quantity),this.displayItemStacks[e].type.set(i.item.type),this.displayItemStacks[e].value.set(i.item.value),this.displayItemStacks[e].stackValue.set(i.item.value*i.quantity),this.displayItemStacks[e].useLabel.set(i.item.useLabel||""),this.displayItemStacks[e].useDescription.set(i.item.useDescription||""),this.displayItemStacks[e].pouchable.set(i.item.pouchable||!1),this.displayItemStacks[e].sellable.set(isFinite(i.item.value)),this.displayItemStacks[e].equipment.set(Ei(i.item)),this.displayItemStacks[e].id.set(i.id),this.displayItemStacks[e].tooltip.set(this.titleCasePipe.transform(i.item.name)+".<br>"+i?.item?.description)):(this.displayItemStacks[e].name.set(""),this.displayItemStacks[e].description.set(""),this.displayItemStacks[e].imageFile.set(""),this.displayItemStacks[e].imageColor.set("white"),this.displayItemStacks[e].quantity.set(0),this.displayItemStacks[e].type.set(""),this.displayItemStacks[e].value.set(0),this.displayItemStacks[e].stackValue.set(0),this.displayItemStacks[e].useLabel.set(""),this.displayItemStacks[e].useDescription.set(""),this.displayItemStacks[e].pouchable.set(!1),this.displayItemStacks[e].sellable.set(!1),this.displayItemStacks[e].equipment.set(!1),this.displayItemStacks[e].id.set(i.id),this.displayItemStacks[e].tooltip.set(""))}}getProperties(){return{itemStacks:this.itemStacks,stashedItemStacks:this.stashedItemStacks,autoSellUnlocked:this.autoSellUnlocked(),autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked(),autoEatUnlocked:this.autoEatUnlocked(),autoEatNutrition:this.autoEatNutrition,autoEatHealth:this.autoEatHealth,autoEatStamina:this.autoEatStamina,autoEatQi:this.autoEatQi,autoEatAll:this.autoEatAll,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked(),autoBalanceItems:this.autoBalanceItems,autoPillUnlocked:this.autoPillUnlocked,autoPillEnabled:this.autoPillEnabled,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useCheapestSpiritGem:this.useCheapestSpiritGem,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoSellOldHides:this.autoSellOldHides,autoSellOldHerbsEnabled:this.autoSellOldHerbsEnabled,autoSellOldWoodEnabled:this.autoSellOldWoodEnabled,autoSellOldOreEnabled:this.autoSellOldOreEnabled,autoSellOldBarsEnabled:this.autoSellOldBarsEnabled,autoSellOldHidesEnabled:this.autoSellOldHidesEnabled,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled,autoBuyFood:this.autoBuyFood,automergeEquipped:this.automergeEquipped,autoSort:this.autoSortEnabled(),descendingSort:this.descendingSort(),divinePeachesUnlocked:this.divinePeachesUnlocked,equipmentUnlocked:this.equipmentUnlocked,equipmentCreated:this.equipmentCreated,totalItemsReceived:this.totalItemsReceived,autoReloadCraftInputs:this.autoReloadCraftInputs,potionCounter:this.potionCounter,herbCounter:this.herbCounter,gemsAcquired:this.gemsAcquired,foodEatenToday:this.foodEatenToday,heirloomSlots:this.heirloomSlots(),daysGorged:this.daysGorged,maxFoodPerDay:this.maxFoodPerDay,unlockedFurniture:this.unlockedFurniture,herbalUnderstanding:this.herbalUnderstanding,soldGoods:this.soldGoods}}setProperties(e){this.itemStacks=e.itemStacks;for(let i=0;i<this.itemStacks.length;i++)this.itemStacks[i]?this.fixId(i):this.setItemEmptyStack(i);this.stashedItemStacks=e.stashedItemStacks,this.autoSellUnlocked.set(e.autoSellUnlocked),this.autoSellEntries=e.autoSellEntries,this.autoUseUnlocked.set(e.autoUseUnlocked),this.autoEatUnlocked.set(e.autoEatUnlocked),this.autoEatNutrition=e.autoEatNutrition,this.autoEatHealth=e.autoEatHealth,this.autoEatStamina=e.autoEatStamina,this.autoEatQi=e.autoEatQi,this.autoEatAll=e.autoEatAll,this.autoUseEntries=e.autoUseEntries,this.autoBalanceUnlocked.set(e.autoBalanceUnlocked),this.autoBalanceItems=e.autoBalanceItems,this.autoPillUnlocked=e.autoPillUnlocked,this.autoPillEnabled=e.autoPillEnabled,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useCheapestSpiritGem=e.useCheapestSpiritGem,this.autoSellOldHerbs=e.autoSellOldHerbs,this.autoSellOldWood=e.autoSellOldWood,this.autoSellOldOre=e.autoSellOldOre,this.autoSellOldHides=e.autoSellOldHides,this.autoSellOldHerbsEnabled=e.autoSellOldHerbsEnabled,this.autoSellOldWoodEnabled=e.autoSellOldWoodEnabled,this.autoSellOldOreEnabled=e.autoSellOldOreEnabled,this.autoSellOldBarsEnabled=e.autoSellOldBarsEnabled,this.autoSellOldHidesEnabled=e.autoSellOldHidesEnabled,this.autoequipBestWeapon=e.autoequipBestWeapon,this.autoequipBestArmor=e.autoequipBestArmor,this.autoequipBestEnabled=e.autoequipBestEnabled,this.maxStackSize=e.maxStackSize,this.thrownAwayItems=e.thrownAwayItems,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled,this.autoBuyFood=e.autoBuyFood,this.automergeEquipped=e.automergeEquipped,this.autoSortEnabled.set(e.autoSort),this.descendingSort.set(e.descendingSort),this.divinePeachesUnlocked=e.divinePeachesUnlocked,this.updateFarmFoodList(),this.equipmentUnlocked=e.equipmentUnlocked,this.equipmentCreated=e.equipmentCreated,this.totalItemsReceived=e.totalItemsReceived,this.autoReloadCraftInputs=e.autoReloadCraftInputs,this.potionCounter=e.potionCounter,this.herbCounter=e.herbCounter,this.gemsAcquired=e.gemsAcquired,this.foodEatenToday=e.foodEatenToday,this.heirloomSlots.set(e.heirloomSlots),this.daysGorged=e.daysGorged,this.maxFoodPerDay=e.maxFoodPerDay,this.unlockedFurniture=e.unlockedFurniture,this.herbalUnderstanding=e.herbalUnderstanding,this.soldGoods=e.soldGoods;for(let i of this.itemRepoService.furniture)i.locked!==void 0&&(this.unlockedFurniture.includes(i.name)?i.locked=!1:i.locked=!0)}updateFarmFoodList(){this.divinePeachesUnlocked&&this.farmFoodList.push(this.itemRepoService.items.divinePeach)}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(this.getEmptyItemStack())}sortInventory(){let e=[],i=[],r=[];for(let a=this.heirloomSlots();a<this.itemStacks.length;a++){let s=this.itemStacks[a];s.item&&(s.item.type===J?i.push(s):s.item.type==="equipment"?r.push(s):e.push(s))}this.descendingSort?(e.sort((a,s)=>a.quantity-s.quantity),e.sort((a,s)=>a.item.value-s.item.value),e.sort((a,s)=>a.item.type>s.item.type?-1:a.item.type===s.item.type?0:1),r.sort((a,s)=>a.item.name>s.item.name?-1:a.item.name===s.item.name?0:1),r.sort((a,s)=>a.item.value-s.item.value),i.sort((a,s)=>a.quantity-s.quantity),i.sort((a,s)=>a.item.value-s.item.value)):(e.sort((a,s)=>s.quantity-a.quantity),e.sort((a,s)=>s.item.value-a.item.value),e.sort((a,s)=>s.item.type>a.item.type?-1:s.item.type===a.item.type?0:1),r.sort((a,s)=>s.item.name>a.item.name?-1:s.item.name===a.item.name?0:1),r.sort((a,s)=>s.item.value-a.item.value),i.sort((a,s)=>s.quantity-a.quantity),i.sort((a,s)=>s.item.value-a.item.value));let o=this.itemStacks.length-this.heirloomSlots()-e.length-i.length-r.length;this.itemStacks.splice(this.heirloomSlots()),this.itemStacks.push(...e),this.itemStacks.push(...r),this.itemStacks.push(...i);for(let a=0;a<o;a++)this.itemStacks.push(this.getEmptyItemStack())}generateWeapon(e,i,r=void 0,o=void 0){this.equipmentCreated++;let a=Mr.length*ys.length*Xd.length,s=Math.ceil(Math.sqrt(e/1e10)*a),l=s%Mr.length;s>=a&&(l=Mr.length-1);let c=Math.floor(s/Mr.length),d=Mr[l],u="";if(c>0){let z=Math.floor(c/ys.length);z>0?(z>Xd.length?(z=Xd.length,c=ys.length-1):c=c%ys.length,u=" of "+Xd[z-1]+" "+ys[c]):u=" of "+ys[c-1]}let v=i,y="rightHand",g="metalWeapon";i==="wood"&&(y="leftHand",v="wooden",g="woodenWeapon");let S=r??y_[Math.floor(Math.random()*y_.length)],P;S==="Grandmother's Walking Stick"?(P=S,g="stick"):P=d+" "+v+" "+S+u,this.logService.log(w.CRAFTING,"Your hard work paid off! You created a new weapon: "+this.titleCasePipe.transform(P)+"!");let M=Math.min(Math.sqrt(e+1),1e3)*e;return{id:"weapon"+y+P+e+o,imageFile:g,name:P,type:"equipment",slot:y,value:e,effect:o,shopable:!1,weaponStats:{baseDamage:M,material:i,baseName:S},description:"A unique weapon made of "+i+".<br>Drag and drop onto similar weapons to merge them into something better.<br>Base Damage: "+this.bigNumberPipe.transform(M)}}updateWeaponDescription(e){if(!e.weaponStats)return;let i="";e.effect&&(i=" and imbued with the power of "+e.effect),e.description="A unique weapon made of "+e.weaponStats.material+i+".<br>Drag and drop onto similar weapons to merge them into something better.<br> Base Damage: "+this.bigNumberPipe.transform(e.weaponStats.baseDamage)}updateArmorDescription(e){if(!e.armorStats)return;let i="";e.effect&&(i=" and imbued with the power of "+e.effect),e.description="A unique piece of armor "+i+".<br>Drag and drop onto similar armor to merge them into something better.<br>Defense: "+this.bigNumberPipe.transform(e.armorStats.defense)}upgradeEquipment(e,i,r="spirit"){e.armorStats?(e.armorStats.defense+=Math.max(Math.sqrt(i),1e3)*i,r!=="spirit"&&(e.effect=r)):e.weaponStats&&(e.weaponStats.baseDamage+=Math.max(Math.sqrt(i),1e3)*i,r!=="spirit"&&(e.effect=r)),e.value+=i,this.logService.log(w.CRAFTING,"You add "+i+" power to your "+this.titleCasePipe.transform(e.name))}generatePotion(e){this.potionCounter++;let i="health",r=e*e;if(this.characterService.qiUnlocked){let a=this.potionCounter%3;a===0?i="stamina":a===1&&(i="qi",r=Math.floor(r/10))}else this.potionCounter%2===0&&(i="stamina");let o=this.titleCasePipe.transform(i)+" Potion + "+r;this.logService.log(w.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(o)+". Keep up the good work."),this.addItem({name:o,imageFile:i+"potion",id:"potion"+i+e,type:"potion",value:e,description:"A potion that restores "+i,useLabel:"Drink",useDescription:"Drink to restore "+i+".",useConsumes:!0,pouchable:!0,effect:i,increaseAmount:r,shopable:!1})}generateEmpowermentPill(){let e="empowerment",i="A pill that permanently empowers the increase of your attributes based on your aptitudes.",r="Use to permanently empower the increase of your attributes based on your aptitudes.",a="Empowerment Pill",s="empowermentPill";this.logService.log(w.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(a)+". Its effect gets worse the more you take."),this.addItem({name:a,imageFile:s,id:"pill"+e+1,type:"pill",value:1,description:i,useLabel:"Swallow",useDescription:r,useConsumes:!0,effect:e,increaseAmount:1,shopable:!1})}generateHerb(e=-1,i=!1,r=1){let o=I.SmallTown;this.locationService?.troubleTarget&&(o=this.locationService.troubleTarget);let a=b_.filter(u=>u.locations.includes(o));a.length===0&&(a=b_.filter(u=>u.locations.includes(I.SmallTown)));let s=this.characterService.attributes.woodLore.value,l;if(e===-1)l=Math.floor(Math.pow(s/1e12,.16)*Gl.length);else{let u=e/100;l=Math.floor(Math.pow(s*u/1e12,.16)*Gl.length)}l>=Gl.length&&(l=Gl.length-1);let c=a[this.herbCounter%a.length];this.herbCounter++;let d="";if(this.herbalUnderstanding&&(d="<br>Can be used to produce pills that increase your "+c.attribute+"."),this.addItem({id:"herb_"+c.name+l,imageFile:"herb_"+c.name,imageColor:this.itemRepoService.colorByRank[l],name:Gl[l]+" "+c.name,type:"herb",subtype:c.name,attribute:c.attribute,value:(l+1)*10,description:"Useful herbs.<br>Can be used in creating pills or potions."+d,shopable:!1},r),this.autoSellOldHerbsEnabled&&!i){let u=this.itemStacks.filter((v,y)=>y>=this.heirloomSlots()&&v.item?.type==="herb"&&v.item.subtype===c.name&&v.item.value<(l+1)*10);for(let v of u)this.sell(v,v.quantity)}}generateSpiritGem(e,i="spirit"){let r="A spirit gem dropped by a monster.";return i!=="spirit"&&(r="A spirit gem full of the power of "+i+"."),{id:"spiritGemGrade"+e,imageFile:i+"Gem",name:i+" gem grade "+e,type:J,subtype:i,value:e*10,description:r,shopable:!1}}generateArmor(e,i,r=void 0,o=void 0){this.equipmentCreated++;let a=Mr.length*bs.length*Jd.length,s=Math.ceil(Math.sqrt(e/1e10)*a),l=s%Mr.length;s>=a&&(l=Mr.length-1);let c=Math.floor(s/Mr.length),d=Mr[l],u="";if(c>0){let M=Math.floor(c/bs.length);M>0?(M>Jd.length?(M=Jd.length,c=bs.length-1):c=c%bs.length,u=" of "+Jd[M-1]+" "+bs[c]):u=" of "+bs[c-1]}let v=fD,y="chestArmor";i==="legs"?(v=gD,y="legsArmor"):i==="head"?(v=vD,y="headArmor"):i==="feet"&&(y="feetArmor",v=yD);let g=r??v[Math.floor(Math.random()*v.length)],S=d+" "+g+u;this.logService.log(w.CRAFTING,"Your hard work paid off! You created some armor: "+this.titleCasePipe.transform(S)+"!");let P=Math.min(Math.sqrt(e),1e3)*e;return{id:"armor"+i+S+e+o,imageFile:y,name:S,type:"equipment",slot:i,value:e,effect:o,armorStats:{defense:P,baseName:g},description:"A unique piece of armor that you made.<br>Drag and drop onto similar armor to merge them into something better.<br>Defense: "+this.bigNumberPipe.transform(P),shopable:!1}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(e=-1,i=!1){let r=e,o=this.characterService.attributes.earthLore.value;if(e===-1)r=Math.floor(Math.pow(o/1e12,.15)*800);else{let s=e/100;r=Math.floor(Math.pow(o*s/1e12,.15)*800)}let a=this.itemRepoService.items.copperOre;for(let s in this.itemRepoService.items){let l=this.itemRepoService.items[s];l.type==="ore"&&l.value>a.value&&l.value<=r&&(a=l)}if(this.autoSellOldOreEnabled&&!this.hellService?.inHell()&&!i)for(let s=this.heirloomSlots();s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item&&l.item.type==="ore"&&l.item.value<a.value&&this.sell(l,l.quantity)}return a}getBar(e,i=!1){let r=e*10,o=this.itemRepoService.items.copperBar;for(let a in this.itemRepoService.items){let s=this.itemRepoService.items[a];if(s.type==="metal"&&s.value===r){o=s;break}}if(this.autoSellOldBarsEnabled&&!this.hellService?.inHell()&&!i)for(let a=this.heirloomSlots();a<this.itemStacks.length;a++){let s=this.itemStacks[a];s.item&&s.item.type==="metal"&&s.item.value<o.value&&this.sell(s,s.quantity)}return o}getWood(e=-1,i=!1){let r=this.characterService.attributes.woodLore.value,o;if(e===-1)o=Math.floor(Math.pow(r/1e12,.15)*800);else{let s=e/100;o=Math.floor(Math.pow(r*s/1e12,.15)*800)}let a=this.itemRepoService.items.balsaLog;for(let s in this.itemRepoService.items){let l=this.itemRepoService.items[s];l.type==="wood"&&l.value>a.value&&l.value<=o&&(a=l)}if(this.autoSellOldWoodEnabled&&!this.hellService?.inHell()&&!i)for(let s=this.heirloomSlots();s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item&&l.item.type==="wood"&&l.item.value<a.value&&this.sell(l,l.quantity)}return a}getHide(e=-1,i=!1){let r,o=this.characterService.attributes.animalHandling.value;if(r===-1)r=Math.floor(Math.pow(o/1e12,.15)*800);else{let s=e/100;r=Math.floor(Math.pow(o*s/1e12,.15)*800)}let a=this.itemRepoService.items.hide;for(let s in this.itemRepoService.items){let l=this.itemRepoService.items[s];l.type==="hide"&&l.value>a.value&&l.value<=r&&(a=l)}if(this.autoSellOldHidesEnabled&&!this.hellService?.inHell()&&!i)for(let s=this.heirloomSlots();s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item&&l.item.id!==a.id&&l.item.type==="hide"&&l.item.value<a.value&&this.sell(l,l.quantity)}return a}getWildMeat(e){return{id:"wildMeat"+e,imageFile:"meat",name:"wild meat",type:"food",subtype:"wildMeat",value:100*e,description:"Meat from a wild beast",shopable:!1,useConsumes:!0,useLabel:"Eat",useDescription:"Fills your belly and adds variety to your diet."}}getCoinPurse(e){return{id:"coinPurse"+e,imageFile:"coinPurse",name:"coin purse",type:"sellable",value:e,description:"A purse with strange coins. You could probably sell this.",shopable:!1}}generateFormationKit(e){let i=["power","defense","survival","greed","repulsion","stealth"],r=["When used, this formation increases your attack power.","When used, this formation increases your defense when attacked.","When used, this formation allows you to survive a single killing blow.","When used, this formation increases the amount of loot you get from killing your enemies.","When used, this formation prevents random monsters from attacking you.<br>If you go looking, you can still find trouble.","When used, this formation allows you to strike your enemy once before they prepare to strike you."],o=Math.floor(Math.random()*i.length),a=i[o],s=r[o];return{id:a+"FormationKit"+e,imageFile:a+"FormationKit",name:a+" formation kit",type:"formationKit",subtype:a,effect:a,value:e,useConsumes:!0,pouchable:!0,useDescription:"Activate this formation",useLabel:"Use",description:"A kit containing formation flags and other essentials for creating a formation.<br>"+s,shopable:!1}}reset(){this.selectedItem=this.getEmptyItemStack(),this.lifetimeUsedItems=0,this.lifetimeUsedFood=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0;let e=[];for(let i=0;i<this.heirloomSlots();i++)e.push(this.itemStacks[i]);if(this.itemStacks=e,this.stashedItemStacks=[],!this.characterService.keepPouchItems)for(let i=0;i<this.characterService.itemPouches.length;i++)this.characterService.itemPouches[i]=this.getEmptyItemStack();if(this.changeMaxItems(this.homeService.home.maxInventory),this.grandmotherGift){let i={id:"weaponleftHandGrandmother's Walking Stick10",imageFile:"stick",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",baseName:"Grandmother's Walking Stick"},description:"Your grandmother's walking stick.<br>Drag and drop onto similar weapons to merge them into something better.<br>Base Damage: 10",shopable:!1};this.addItem(i,1,0,!0,!0)}if(this.characterService.bloodlineRank>=6&&this.motherGift){this.logService.log(w.EVENT,"Your mother throws you an elaborate feast as you prepare to make your way in the world. You pack a few of the leftovers to take with you.");let i=this.characterService.bloodlineRank*100;this.addItem({id:"Soul Food Special #"+i,imageFile:"soulfood",name:"Soul Food Special #"+i,type:"food",subtype:"meal",value:i,description:"A home-made meal that can nourish you much more than raw ingredients.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,pouchable:!0,effect:"meal"+i,shopable:!1},300)}else this.motherGift&&(this.logService.log(w.EVENT,"Your mother gives you three big bags of rice as you prepare to make your way in the world."),this.addItem(this.itemRepoService.items.rice,300));this.characterService.totalLives>5&&this.unlockFurniture("purple ancestor portrait"),this.characterService.totalLives>10&&this.unlockFurniture("green ancestor portrait"),this.characterService.totalLives>15&&this.unlockFurniture("red ancestor portrait"),this.characterService.totalLives>20&&this.unlockFurniture("orange ancestor portrait"),this.characterService.totalLives>25&&this.unlockFurniture("pink ancestor portrait"),this.characterService.totalLives>30&&this.unlockFurniture("blue ancestor portrait"),this.characterService.totalLives>35&&this.unlockFurniture("yellow ancestor portrait"),this.characterService.totalLives>40&&this.unlockFurniture("brown ancestor portrait"),this.characterService.totalLives>45&&this.unlockFurniture("white ancestor portrait"),this.characterService.totalLives>50&&this.unlockFurniture("pastel ancestor portrait"),this.characterService.totalLives>55&&this.unlockFurniture("black ancestor portrait"),this.characterService.totalLives>60&&this.unlockFurniture("gray ancestor portrait")}eatDailyMeal(){if(this.autoEatUnlocked()&&(this.autoEatNutrition||this.autoEatHealth||this.autoEatStamina||this.autoEatQi||this.autoEatAll)){let r=null,o=!1,a=-1;for(let s=this.heirloomSlots();s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item!==null&&l.item.type==="food"&&this.autoUseEntries.find(c=>c.name===l.item.name)&&l.item.value>a&&(a=l.item.value,r=l)}for(;r&&r.quantity>0&&!this.bellyFull();)this.useItemStack(r),o=!0;o||!this.hellService?.inHell()&&this.characterService.money>0&&this.autoBuyFood&&this.characterService.status.nutrition.value<=this.characterService.status.nutrition.max*.2&&(this.characterService.updateMoney(-1),this.characterService.status.nutrition.value++),this.characterService.checkOverage();return}if(this.characterService.status.nutrition.value>this.characterService.status.nutrition.max*.2)return;let e=null,i=0;for(let r=this.heirloomSlots();r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item!==null&&o.item.type==="food"&&o.item.value>i&&(e=o,i=e.item?.value||0)}e?this.useItemStack(e):!this.hellService?.inHell()&&this.characterService.money>0&&this.autoBuyFood&&(this.characterService.updateMoney(-1),this.characterService.status.nutrition.value++),this.characterService.checkOverage()}bellyFull(){return this.foodEatenToday>=this.maxFoodPerDay?!0:!(this.autoEatAll||this.autoEatNutrition&&this.characterService.status.nutrition.value<this.characterService.status.nutrition.max||this.autoEatHealth&&this.characterService.status.health.value<this.characterService.status.health.max-1||this.autoEatStamina&&this.characterService.status.stamina.value<this.characterService.status.stamina.max-1||this.autoEatQi&&this.characterService.status.qi.value<this.characterService.status.qi.max-1)}eatFood(e,i=1){if(this.foodEatenToday>=this.maxFoodPerDay)return this.logService.log(w.EVENT,"Your stomach is too full to handle any more food today"),0;i>this.maxFoodPerDay-this.foodEatenToday&&(i=this.maxFoodPerDay-this.foodEatenToday);let r=e.value;this.characterService.status.nutrition.value+=i+i*r,this.characterService.healthBonusFood+=i*r*.01,this.characterService.status.health.value+=i*r*.01,this.characterService.status.stamina.value+=i*r*.01,this.characterService.status.qi.value+=i*r*.01;let o=Math.min(r*365,7300);return this.characterService.foodLifespan+i<=o?this.characterService.foodLifespan+=i:this.characterService.foodLifespan<o&&(this.characterService.foodLifespan=o),e.subtype==="meal"&&(this.characterService.status.stamina.max+=i*r/100,this.characterService.status.nutrition.max<200&&(this.characterService.status.nutrition.max+=.1),e.name.startsWith("Soul")&&this.characterService.increaseAttribute("spirituality",.001)),this.foodEatenToday+=i,this.characterService.checkOverage(),i}addItem(e,i=1,r=0,o=!1,a=!1){let s=-1;if(!a){if(i=Math.floor(i),i===0)return-1;if(this.totalItemsReceived+=i,e.type===J&&this.gemsAcquired++,this.autoReloadCraftInputs&&!o){let c=this.homeService?.workstations;if(c)for(let d=0;d<c.length;d++){let u=c[d];for(let v=0;v<u.inputs.length;v++){let y=u.inputs[v];if(y.quantity<this.maxStackSize&&y.item?.type===e.type&&y.item?.subtype===e.subtype){if(e.id===y.item.id)return y.quantity+=i,y.item.description=e.description,-1;if((e.type!=="food"||e.name===y.item.name)&&e.type!==J&&(e.value>y.item?.value||y.quantity<10)){let g=this.addItem(e,i,0,!0);return g!==-1&&this.homeService?.moveItemToWorkstation(g,d,v),-1}}}}}if(e.pouchable&&!o){let c=this.characterService.itemPouches.find(d=>d.item?.type===e.type&&d.item.effect===e.effect);if(c||(c=this.itemStacks.find((d,u)=>u<this.heirloomSlots()&&d.item?.type===e.type&&d.item.effect===e.effect)),c){if(e.type==="potion"){let d=(e.increaseAmount||0)*i+(c.item.increaseAmount||0)*c.quantity;c.quantity+=i;let u=Math.floor(d/c.quantity);c.item.increaseAmount=u,c.item.name=this.titleCasePipe.transform(e.effect)+" Potion + "+u}else if(e.type==="formationKit"){let d=(e.increaseAmount||0)*i+(c.item.increaseAmount||0)*c.quantity;c.quantity+=i;let u=Math.floor(d/c.quantity);c.item.value=u}else c.quantity+=i;return-1}}if(this.autoPillEnabled&&e.type==="pill")return this.useItem(e,i),-1;if(e.type==="pill"){let c=this.itemStacks.find((d,u)=>u<this.heirloomSlots()&&d.item?.type===e.type&&d.item.name===e.name);if(c){let d=(e.increaseAmount||0)*i+(c.item.increaseAmount||0)*c.quantity;return c.quantity+=i,c.item.increaseAmount=Math.floor(d/c.quantity),-1}}for(let c of this.autoBalanceItems)if(c.name===e.name){if(this.hellService?.inHell())return this.useItem(e,i*c.useNumber),-1;if(c.useNumber<1){if(c.sellNumber<1)break;return this.characterService.updateMoney(e.value*i),-1}else if(c.sellNumber<1)return this.useItem(e,i*c.useNumber),-1;let d=i%(c.useNumber+c.sellNumber);for(i-=d;d>0;){if(c.index<c.useNumber)if(d+c.index<=c.useNumber){this.useItem(e,d),c.index+=d;break}else this.useItem(e,c.useNumber-c.index),d-=c.useNumber-c.index,c.index=c.useNumber;if(c.index<c.useNumber+c.sellNumber)if(d+c.index<c.useNumber+c.sellNumber){this.characterService.updateMoney(e.value*d),c.index+=d;break}else this.characterService.updateMoney(e.value*(c.useNumber+c.sellNumber-c.index)),d-=c.useNumber+c.sellNumber-c.index,c.index=0;c.index>=c.useNumber+c.sellNumber&&(c.index-=c.useNumber+c.sellNumber)}if(i&&(i/=c.useNumber+c.sellNumber,this.useItem(e,i*c.useNumber),this.characterService.updateMoney(e.value*i),i=0),i<1)return-1;break}if(e.type!=="food"){for(let c of this.autoUseEntries)if(c.name===e.name){let d=this.getQuantityByName(e.name)+i-c.reserve;if(d>i&&(d=i),d>0){let u=this.useItem(e,i);if(i-=u,i===0)return-1}}}if(this.autoSellOldGemsEnabled&&e.type===J&&!this.hellService?.inHell())for(let c=this.heirloomSlots();c<this.itemStacks.length;c++){let d=this.itemStacks[c];d.item&&d.item.type===J&&d.item.value<e.value&&(this.characterService.updateMoney(d.item.value*d.quantity),this.setItemEmptyStack(c))}for(let c of this.autoSellEntries)if(c.name===e.name&&!this.hellService?.inHell()){let d=this.getQuantityByName(e.name)+i-c.reserve;if(d>i&&(d=i),d>0&&(this.characterService.updateMoney(e.value*d),i-=d,i===0))return-1}if(e.type!=="equipment")for(let c=this.heirloomSlots();c<this.itemStacks.length;c++){let d=this.itemStacks[c];if(d.item&&d.item.name===e.name)if(d.quantity+i<=this.maxStackSize){if(d.quantity+=i,d.item.description=e.description,d.item.value!==e.value){let u=d.item.value*d.quantity+e.value*i,v=i+d.quantity;d.item.value=Math.round(u/v)}return s===-1&&(s=c),this.fixId(c),s}else s===-1&&(s=c),i-=this.maxStackSize-d.quantity,d.quantity=this.maxStackSize,this.fixId(c)}}let l=r;l<this.heirloomSlots()&&(l=this.heirloomSlots());for(let c=l;c<this.itemStacks.length;c++)if(!this.itemStacks[c].item){if(s===-1&&(s=c),i<=this.maxStackSize)return this.itemStacks[c]={item:e,quantity:i,id:c+e.name+i},s;this.itemStacks[c]={item:e,quantity:this.maxStackSize,id:c+e.name+i},i-=this.maxStackSize}return this.autoSellUnlocked()&&!this.hellService?.inHell()?(this.logService.log(w.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you sell it."),this.characterService.updateMoney(e.value*i)):this.logService.log(w.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you throw it away."),this.thrownAwayItems+=i,s}sell(e,i){if(!e.item||e.item.value===1/0||this.hellService?.inHell())return;this.lifetimeSoldItems+=i,e.item.type===J&&(this.lifetimeGemsSold+=i);let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.setItemEmptyStack(r),this.characterService.updateMoney(e.quantity*e.item.value)):(e.quantity-=i,this.fixIdByStack(e),this.characterService.updateMoney(i*e.item.value)),e.item.shopable&&(this.soldGoods[e.item.id]=(this.soldGoods[e.item.id]||0)+i)}sellAll(e){if(!this.hellService?.inHell())for(let i=this.heirloomSlots();i<this.itemStacks.length;i++){let r=this.itemStacks[i];r.item&&r.item.name===e.name&&this.sell(r,r.quantity)}}autoSell(e){e.value!==1/0&&this.autoSellUnlocked()&&(Ei(e)||(this.autoSellEntries.some(i=>i.name===e.name)||this.autoSellEntries.push({name:e.name,type:e.type,reserve:0}),this.sellAll(e)))}unAutoSell(e){let i=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(i,1)}useItemStack(e,i=1){if(!e.item||i<1)return;i>e.quantity&&(i=e.quantity);let r=this.useItem(e.item,i);if(e.item.useConsumes)if(e.quantity-=r,e.quantity<=0){let o=this.itemStacks.indexOf(e);this.setItemEmptyStack(o)}else this.fixIdByStack(e)}useItem(e,i=1){if(i<1&&(i=1),e.type==="food"){let r=this.eatFood(e,i);return this.lifetimeUsedFood+=r,r<i&&i>1&&this.logService.log(w.EVENT,"You try to stuff all that food in your face, but you've eaten too much and can't."),r}else this.lifetimeUsedItems++;return e.type==="potion"?this.usePotion(e,i):e.type==="pill"?this.usePill(e,i):e.type==="formationKit"?i=this.useFormationKit(e):e.use&&(e.use(i),e.type==="food"&&this.hellService&&(this.hellService.daysFasted=0)),i}autoUse(e){if(!(!this.autoUseUnlocked()&&e.type!=="food"||!this.autoEatUnlocked()&&e.type==="food")&&!(e.type!=="potion"&&e.type!=="pill"&&e.type!=="food"&&!e.use)&&(this.autoUseEntries.some(i=>i.name===e.name)||this.autoUseEntries.push({name:e.name,type:e.type,reserve:0}),e.useConsumes&&e.type!=="food"))for(let i=this.heirloomSlots();i<this.itemStacks.length;i++){let r=this.itemStacks[i];r.item&&r.item.name===e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){let i=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name===e){this.autoBalanceItems.splice(i,1);return}}equip(e){let i=e.item;if(!i||!Ei(i)){if(i?.pouchable){let a=this.itemStacks.indexOf(e);for(let s=0;s<this.characterService.itemPouches.length;s++)if(this.characterService.itemPouches[s].item?.name===i.name){this.characterService.itemPouches[s].quantity+=e.quantity,this.setItemEmptyStack(a);return}for(let s=0;s<this.characterService.itemPouches.length;s++)if(!this.characterService.itemPouches[s].item){this.moveToPouch(a,s);return}}return}let r=this.characterService.equipment[i.slot];r&&this.addItem(r,1,0,!0,!0),this.characterService.equipment[i.slot]=i;let o=this.itemStacks.indexOf(e);this.setItemEmptyStack(o)}equipBest(e){let i=0,r=!0;e==="leftHand"||e==="rightHand"?i=this.characterService.equipment[e]?.weaponStats?.baseDamage||0:(r=!1,i=this.characterService.equipment[e]?.armorStats?.defense||0);for(let o=this.heirloomSlots();o<this.itemStacks.length;o++){let a=this.itemStacks[o];if(a.item){let s=a.item;if(Ei(s)&&s.slot===e){let l=0;r&&s.weaponStats?l=s.weaponStats?.baseDamage:!r&&s.armorStats&&(l=s.armorStats?.defense),l>i&&this.equip(a)}}}}consume(e,i=1,r=!1,o=!1,a=""){let s=this.itemStacks.slice(this.heirloomSlots()).filter(d=>d.item?.type===e&&(a===""||d.item.subtype===a)).sort((d,u)=>r?d.item.value-u.item.value:u.item.value-d.item.value);if(s.length===0)return-1;let l=0;if(s.forEach(d=>l+=d.quantity),l<i)return-1;if(o)return s[0].item.value;let c=-1;for(let d of s){if(d.quantity>=i?(d.quantity-=i,c=d.item.value,i=0):(i-=d.quantity,d.quantity=0),d.quantity===0){let u=this.itemStacks.indexOf(d);this.setItemEmptyStack(u)}if(i===0)break}return c}checkFor(e,i=1,r=""){return this.consume(e,i,!1,!0,r)}consumeByValue(e,i,r=!1,o=""){let a=this.itemStacks.slice(this.heirloomSlots()).filter(l=>l.item?.type===e&&l.quantity>0&&(o===""||l.item.subtype===o)).sort((l,c)=>l.item.value-c.item.value);if(a.length===0)return-1;let s=0;if(a.forEach(l=>s+=l.item.value*l.quantity),s<i)return-1;if(r)return s;s=0;for(let l of a)if(s+l.item.value*l.quantity>=i){for(;s<i;)s+=l.item.value,l.quantity--;if(l.quantity===0){let c=this.itemStacks.indexOf(l);this.setItemEmptyStack(c)}}else{s+=l.item.value*l.quantity;let c=this.itemStacks.indexOf(l);this.setItemEmptyStack(c)}return s}checkForByValue(e,i,r=""){return this.consumeByValue(e,i,!0,r)}getQuantityByName(e){let i=0;for(let r=this.heirloomSlots();r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item&&o.item.name===e&&(i+=o.quantity)}return i}getQuantityByType(e){let i=0;for(let r=this.heirloomSlots();r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item&&o.item.type===e&&(i+=o.quantity)}return i}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i;let r="health";e.effect&&(r=e.effect);let o=r;this.characterService.status[o].value+=(e.increaseAmount||1)*i,this.characterService.checkOverage()}usePill(e,i=1){if(i<1&&(i=1),this.lifetimePillsUsed+=i,e.effect==="longevity")this.characterService.alchemyLifespan+=(e.increaseAmount||1)*i,this.characterService.alchemyLifespan>36500&&(this.characterService.alchemyLifespan=36500);else if(e.effect==="empowerment")this.characterService.empowermentPillsTaken+=i;else{let r="strength";if(e.effect&&(r=e.effect),r.includes(",")){let o=r.split(",");for(let a of o){let s=a;this.characterService.increaseAttribute(s,(e.increaseAmount||1)*i)}}else{let o=r;this.characterService.increaseAttribute(o,(e.increaseAmount||1)*i)}}this.characterService.checkOverage()}useFormationKit(e){return e.type!=="formationKit"||!e.effect||this.battleService.formationCooldown>0?0:(this.battleService.activeFormation=e.effect,this.battleService.formationDuration=e.value,this.battleService.formationCooldown=e.value*2,this.battleService.formationPower=e.value,1)}openInventorySlots(){let e=0;for(let i=this.heirloomSlots();i<this.itemStacks.length;i++)this.itemStacks[i].item||e++;return e}mergeEquipment(e,i,r){if(e.slot!==i.slot)return;let o=0;e.slot==="rightHand"||e.slot==="leftHand"?o=this.addItem(this.generateWeapon(e.value+i.value,e.weaponStats?.material+"",e.weaponStats?.baseName,e.effect),1,0,!0,!0):o=this.addItem(this.generateArmor(e.value+i.value,e.slot,e.armorStats?.baseName,e.effect),1,0,!0,!0),o!==r&&!this.itemStacks[r].item&&(this.itemStacks[r]=this.itemStacks[o],this.setItemEmptyStack(o))}mergeItemStacks(e,i,r,o){e.item&&i.item&&e.item.name===i.item.name&&e.quantity+i.quantity<this.maxStackSize&&(i.quantity+=e.quantity,this.fixId(o),this.setItemEmptyStack(r))}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){let i=-1,r=null,o=null,a=-1;for(let s=this.heirloomSlots();s<this.itemStacks.length;s++){let l=this.itemStacks[s]?.item;l&&Ei(l)&&l.slot===e&&(i===-1?(i=s,a=s,r=l):(o=l,r&&(this.setItemEmptyStack(i),this.setItemEmptyStack(s),this.mergeEquipment(r,o,i),l=this.itemStacks[i]?.item,l?Ei(l)&&l.slot===e&&(r=l):i=-1)))}this.automergeEquipped&&r&&this.autoequipBestEnabled&&(this.autoequipBestWeapon||this.autoequipBestArmor)&&((e==="rightHand"||e==="leftHand")&&this.autoequipBestWeapon||e!=="rightHand"&&e!=="leftHand"&&this.autoequipBestArmor)&&this.mergeEquippedSlot(e,r,a)}mergeEquippedSlot(e,i,r){let o=this.characterService.equipment[e];if(!o||!Ei(i))return;let a;if(!o){this.characterService.equipment[e]=i,this.setItemEmptyStack(r);return}e==="rightHand"||e==="leftHand"?a=this.generateWeapon(o.value+i.value,i.weaponStats?.material+"",o.weaponStats?.baseName,o.effect):a=this.generateArmor(o.value+i.value,e,o.armorStats?.baseName,o.effect),this.characterService.equipment[e]=a,this.setItemEmptyStack(r)}mergeSpiritGem(e){if(e.item&&!(e.quantity<10)){e.quantity-=10,this.addItem(this.generateSpiritGem(e.item.value/10+1,e.item.subtype));for(let i=this.heirloomSlots();i<this.itemStacks.length;i++)if(this.itemStacks[i]===e)if(e.quantity===0){this.setItemEmptyStack(i);return}else this.fixId(i)}}mergeAnySpiritGem(e){for(let i=0;i<e;i++)for(let r=this.heirloomSlots();r<this.itemStacks.length;r++){let o=this.itemStacks[r];if(o.item?.type===J&&o.quantity>=10){this.mergeSpiritGem(o);break}}}stashWeapons(){this.characterService.stashWeapons();for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&Ei(i)&&i.weaponStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreWeapons(){this.characterService.restoreWeapons();for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&Ei(i.item)&&i.item.weaponStats&&(this.addItem(i.item,i.quantity),this.stashedItemStacks.splice(e,1))}}stashArmor(){this.characterService.stashArmor();for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&Ei(i)&&i.armorStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreArmor(){this.characterService.restoreArmor();for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&Ei(i.item)&&i.item.armorStats&&(this.addItem(i.item,i.quantity),this.stashedItemStacks.splice(e,1))}}stashInventory(){for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&i.type!=="food"&&i.type!==J&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreInventory(){for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&this.addItem(i.item,i.quantity)}this.stashedItemStacks=[]}removeItemStack(e){let i=this.itemStacks.indexOf(e);this.thrownAwayItems+=e.quantity,this.setItemEmptyStack(i)}setItemEmptyStack(e){this.selectedItem===this.itemStacks[e]&&(this.selectedItem=this.getEmptyItemStack()),this.itemStacks[e]=this.getEmptyItemStack()}getEmptyItemStack(){return{item:null,quantity:0,id:this.emptyIdPrefix+this.emptyIdCounter++}}fixId(e){this.itemStacks[e].item?this.itemStacks[e].id=e+this.itemStacks[e].item.name+this.itemStacks[e].quantity:this.itemStacks[e].id=this.emptyIdPrefix+this.emptyIdCounter++}fixIdByStack(e){for(let i=0;i<this.itemStacks.length;i++)if(e===this.itemStacks[i]){this.fixId(i);return}for(let i=0;i<this.characterService.itemPouches.length;i++)if(e===this.characterService.itemPouches[i]){e.id=i+this.characterService.itemPouches[i].item.name+this.characterService.itemPouches[i].quantity;return}}moveToPouch(e,i){if(this.itemStacks[e].item&&this.itemStacks[e].item?.pouchable)if(this.characterService.itemPouches[i].item){if(this.characterService.itemPouches[i].item?.name===this.itemStacks[e].item?.name){this.characterService.itemPouches[i].quantity+=this.itemStacks[e].quantity,this.itemStacks[e]=this.getEmptyItemStack();return}let r=this.itemStacks[e];this.characterService.itemPouches[i].quantity>0?this.itemStacks[e]=this.characterService.itemPouches[i]:this.itemStacks[e]=this.getEmptyItemStack(),this.characterService.itemPouches[i]=r,this.characterService.itemPouches[i].id=i+this.characterService.itemPouches[i].item.name+this.characterService.itemPouches[i].quantity,this.fixId(e)}else this.characterService.itemPouches[i]=this.itemStacks[e],this.characterService.itemPouches[i].id=i+this.characterService.itemPouches[i].item.name+this.characterService.itemPouches[i].quantity,this.itemStacks[e]=this.getEmptyItemStack()}unlockFurniture(e){if(this.unlockedFurniture.includes(e))return;let i=this.itemRepoService.furniture.find(r=>r.name===e);i&&(i.locked=!1,this.mainLoopService.toast("New furniture is available: "+this.titleCasePipe.transform(e))),this.unlockedFurniture.push(e)}splitItemStack(e){if(!e.item||e.quantity<2)return;let i=Math.floor(e.quantity/2);this.addItem(e.item,i,0,!1,!0),e.quantity-=i}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(St),L(ae),L(pe),L(oi),L(yt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ei(t){return"slot"in t}var yi=(()=>{class t{constructor(e,i,r,o,a,s,l){this.injector=e,this.characterService=i,this.inventoryService=r,this.homeService=a,this.itemRepoService=s,this.contemplationService=l,this.autoFieldLimit=0,this.fields=[],this.displayFields=[],this.extraFields=0,this.hellFood=!1,this.smoothFarming=!1,this.farmedPlots=0,this.mostFields=0,this.consecutiveHarvests=0,this.fallowPlots=0,this.displayFallowPlots=C(0),this.displayAddFields=C(!1),this.unlockedCrops=["rice"],this.maxFields=30,setTimeout(()=>this.hellService=this.injector.get(Fe)),o.homeTickSubject.subscribe(()=>{this.tick()}),o.longTickSubject.subscribe(()=>{let c=this.fallowPlots;for(let d of this.fields)c+=d.plots;for(c>this.mostFields&&(this.mostFields=c),this.displayFallowPlots.set(this.fallowPlots),this.displayAddFields.set(this.fields.length<this.maxFields);this.displayFields.length<this.fields.length;)this.displayFields.push({trackField:C(""),cropName:C(""),plots:C(0),yield:C(0),daysToHarvest:C(0),progressToHarvest:C(0),upkeepCost:C(0),averageYield:C(0),imageFile:C("")});for(;this.displayFields.length>this.fields.length;)this.displayFields.pop();for(let d=0;d<this.fields.length;d++)this.displayFields[d].trackField.set(d+this.fields[d].cropName+this.fields[d].daysToHarvest+this.fields[d].averageYield),this.displayFields[d].cropName.set(this.fields[d].cropName),this.displayFields[d].plots.set(this.fields[d].plots),this.displayFields[d].yield.set(this.fields[d].yield),this.displayFields[d].daysToHarvest.set(this.fields[d].daysToHarvest),this.displayFields[d].progressToHarvest.set((this.fields[d].originalDaysToHarvest-this.fields[d].daysToHarvest)/this.fields[d].originalDaysToHarvest),this.displayFields[d].upkeepCost.set(this.fields[d].upkeepCost),this.displayFields[d].averageYield.set(this.fields[d].averageYield),this.displayFields[d].imageFile.set("assets/images/items/"+this.fields[d].imageFile+".png")}),o.reincarnateSubject.subscribe(()=>{this.reset()})}tick(){if(!this.characterService.dead&&(!this.hellService?.inHell()||this.hellFood)){this.ageFields();let e=0;for(let i of this.fields)e+=i.upkeepCost||0;this.characterService.updateMoney(0-e)}}getProperties(){return{fields:this.fields,autoFieldLimit:this.autoFieldLimit,mostFields:this.mostFields,hellFood:this.hellFood,fallowPlots:this.fallowPlots,unlockedCrops:this.unlockedCrops,consecutiveHarvests:this.consecutiveHarvests}}setProperties(e){this.fields=e.fields,this.autoFieldLimit=e.autoFieldLimit||0,this.mostFields=e.mostFields||0,this.hellFood=e.hellFood||!1,this.fallowPlots=e.fallowPlots,this.unlockedCrops=e.unlockedCrops,this.consecutiveHarvests=e.consecutiveHarvests,this.farmedPlots=0;for(let i of this.fields)this.farmedPlots+=i.plots}reset(){if(this.homeService.keepHome)for(let e of this.fields)e.averageYield=0,e.yield=0,e.daysToHarvest=e.originalDaysToHarvest;else this.fields=[],this.extraFields=0,this.farmedPlots=0}changeCrop(e){let i=this.unlockedCrops.indexOf(this.fields[e].cropName);i++,i>=this.unlockedCrops.length&&(i=0);let r=this.inventoryService.farmFoodList.find(o=>o.id===this.unlockedCrops[i]);r&&(this.fields[e].cropName=this.unlockedCrops[i],this.fields[e].yield=0,this.fields[e].maxPlotYield=Math.floor(200/r.value),this.fields[e].daysToHarvest=180+r.value,this.fields[e].originalDaysToHarvest=180+r.value,this.fields[e].averageYield=0,this.fields[e].imageFile=r.imageFile)}plowPlot(e=1){e<0&&(e=this.homeService.land),e>this.homeService.land&&(e=this.homeService.land),this.fallowPlots+=e,this.homeService.land-=e}clearPlot(e=1){e<0&&(e=this.fallowPlots),e>this.fallowPlots&&(e=this.fallowPlots),this.fallowPlots-=e,this.homeService.land+=e}addField(){if(this.fields.length>=this.maxFields)return;let e=this.inventoryService.farmFoodList[0];this.fields.push({cropName:e.id,plots:0,yield:0,maxPlotYield:Math.floor(200/e.value),daysToHarvest:180+e.value,originalDaysToHarvest:180+e.value,averageYield:0,imageFile:e.imageFile,upkeepCost:0})}removeField(e){this.unassignPlots(e),this.fields.splice(e,1)}workFields(e){for(let i of this.fields)i.yield+=e*i.plots,i.yield>i.maxPlotYield*i.plots&&(i.yield=i.maxPlotYield*i.plots)}assignFallowPlots(e,i=1){i>this.fallowPlots&&(i=this.fallowPlots),this.fields[e].plots+=i,this.farmedPlots+=i,this.fallowPlots-=i,this.updateFieldUpkeep(e)}unassignPlots(e,i=-1){(i<0||i>this.fields[e].plots)&&(i=this.fields[e].plots),this.fields[e].plots-=i,this.farmedPlots-=i,this.fallowPlots+=i,this.updateFieldUpkeep(e)}ageFields(){let e=0,i=!1,r=1,o=this.contemplationService.concepts.filter(a=>a.effect.includes(Ro));for(let a of o)r+=Math.log10(10+a.progress);for(let a of this.fields){let s=0;if(!this.hellService?.inHell()&&a.plots>0&&(a.daysToHarvest<=0?(s=a.yield*r,e+=s,this.inventoryService.addItem(this.itemRepoService.items[a.cropName],s),i=!0,a.daysToHarvest=a.originalDaysToHarvest,a.yield=0):a.daysToHarvest--),a.averageYield=(a.averageYield*364+s)/365,this.smoothFarming&&!i&&a.plots>0&&a.averageYield>.25){let l=Math.floor(a.averageYield)||1;e+=l,this.inventoryService.addItem(this.itemRepoService.items[a.cropName],l)}}e>0?(this.consecutiveHarvests++,this.consecutiveHarvests>=30&&(this.smoothFarming=!0)):this.consecutiveHarvests=0}unlockCrop(e){this.unlockedCrops.includes(e)||this.unlockedCrops.push(e)}updateFieldUpkeep(e){let i=this.fields[e],r=0;i.plots>10&&(r+=i.plots-10),i.plots>100&&(r+=Math.pow(i.plots-100,2)),i.plots>1e3&&(r+=Math.pow(2,i.plots-1e3)),i.upkeepCost=r}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(ae),L(se),L(pe),L(Qe),L(oi),L(pi))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sf=(function(t){return t[t.GatheringField=0]="GatheringField",t[t.MeetingHut=1]="MeetingHut",t[t.SimpleSchool=2]="SimpleSchool",t[t.TrainingCenter=3]="TrainingCenter",t[t.EliteAcademy=4]="EliteAcademy",t[t.SectCompound=5]="SectCompound",t[t.SprawlingCampus=6]="SprawlingCampus",t[t.FortifiedStronghold=7]="FortifiedStronghold",t[t.MightyCitadel=8]="MightyCitadel",t})(Sf||{}),ut=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d){this.injector=e,this.logService=i,this.characterService=r,this.homeService=o,this.farmService=a,this.inventoryService=s,this.itemRepoService=l,this.battleService=d,this.camelToTitle=new Pt,this.bigNumberPipe=_(Ve),this.followersUnlocked=!1,this.followerLifespanDoubled=!1,this.followers=[],this.pets=[],this.stashedFollowers=[],this.stashedPets=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.maxPetsByType={},this.savedFollowerAssignments=[],this.savedPetAssignments=[],this.followerTriggers=[],this.petTriggers=[],this.followerTriggerIndex=0,this.petTriggerIndex=0,this.stashedFollowersMaxes={},this.stashedPetMaxes={},this.followerCap=0,this.petsCap=0,this.followersMaxed="UNMAXED",this.petsMaxed="UNMAXED",this.sortField="Job",this.sortAscending=!0,this.totalRecruited=0,this.totalDied=0,this.totalDismissed=0,this.highestLevel=0,this.unlockedHiddenJobs=[],this.autoReplaceUnlocked=!1,this.petsBoosted=!1,this.onlyWantedFollowers=!1,this.leftoverWork={},this.followerTrainingIndex=0,this.petTrainingIndex=0,this.maxFollowerLevel=100,this.sectName=this.generateSectName(),this.hq=Sf.GatheringField,this.hqUnlocked=!1,this.hqInputs=[],this.giftRecipientCounter=0,this.hqs=[{name:"Gathering Field",description:"An empty field where your followers can gather.<br>Your followers need to supply their own meals.<br>It provides no benefits, but it's free.",moneyPerDay:0,gemsPerDay:0,foodPerDay:0,mealsRequired:!1,maxFollowerIncrease:0,bonusFreeFollowers:0,maxLevelIncrease:0,experiencePerDay:0,upgradeTooltip:"Upgrade for 100 Taels and 10 land.",upgradeMoneyCost:100,upgradeLandCost:10,administratorsRequired:0,administratorLevel:0,inputs:0},{name:"Meeting Hut",description:"A small hut where your followers can rest.<br>Costs 10 Taels per day and one food item per follower.",moneyPerDay:10,gemsPerDay:0,foodPerDay:1,mealsRequired:!1,maxFollowerIncrease:1,bonusFreeFollowers:0,maxLevelIncrease:1,experiencePerDay:1,upgradeTooltip:"Upgrade for 10000 Taels and 100 land.<br>The next headquarters will require an administrator follower.",upgradeMoneyCost:1e4,upgradeLandCost:100,administratorsRequired:0,administratorLevel:0,inputs:0},{name:"Simple School",description:"A simple school where your followers can rest and train.<br>Costs 1,000 Taels, one food item per follower, and one spirit gem per day.<br>Requires an administrator follower to run it.",moneyPerDay:1e3,gemsPerDay:1,foodPerDay:1,mealsRequired:!1,maxFollowerIncrease:2,bonusFreeFollowers:1,maxLevelIncrease:5,experiencePerDay:5,upgradeTooltip:"Upgrade for 1,000,000 Taels and 1000 land.",upgradeMoneyCost:1e6,upgradeLandCost:1e3,administratorsRequired:1,administratorLevel:0,inputs:1},{name:"Training Center",description:"A school where your followers rest and train.<br>Costs 100,000 Taels, two food items per follower, and 10 spirit gems per day (higher quality gems can count as more than one).<br>Requires a level 10 administrator follower to run it.",moneyPerDay:1e5,gemsPerDay:10,foodPerDay:2,mealsRequired:!1,maxFollowerIncrease:10,bonusFreeFollowers:1,maxLevelIncrease:10,experiencePerDay:10,upgradeTooltip:"Upgrade for "+this.bigNumberPipe.transform(1e8)+" Taels and "+this.bigNumberPipe.transform(1e4)+" land",upgradeMoneyCost:1e8,upgradeLandCost:1e4,administratorsRequired:1,administratorLevel:10,inputs:1},{name:"Elite Academy",description:"An elite school where your followers rest and train.<br>Costs "+this.bigNumberPipe.transform(1e10)+" Taels, three food items per follower, and 40 spirit gems per day (higher quality gems can count as more than one).<br>Requires a level 20 administrator follower to run it.",moneyPerDay:1e10,gemsPerDay:40,foodPerDay:3,mealsRequired:!1,maxFollowerIncrease:10,bonusFreeFollowers:2,maxLevelIncrease:20,experiencePerDay:50,upgradeTooltip:"Upgrade for "+this.bigNumberPipe.transform(1e12)+" Taels and "+this.bigNumberPipe.transform(1e6)+" land",upgradeMoneyCost:1e12,upgradeLandCost:1e6,administratorsRequired:1,administratorLevel:20,inputs:1},{name:"Sect Compound",description:"An elaborate compound where your followers rest and train.<br>Costs "+this.bigNumberPipe.transform(1e13)+" Taels, one proper meal per follower, and 100 spirit gems per day (higher quality gems can count as more than one).<br>Requires a level 50 administrator follower to run it.",moneyPerDay:1e13,gemsPerDay:100,foodPerDay:1,mealsRequired:!0,maxFollowerIncrease:15,bonusFreeFollowers:2,maxLevelIncrease:50,experiencePerDay:100,upgradeTooltip:"Upgrade for "+this.bigNumberPipe.transform(1e15)+" Taels and "+this.bigNumberPipe.transform(1e7)+" land",upgradeMoneyCost:1e15,upgradeLandCost:1e7,administratorsRequired:1,administratorLevel:50,inputs:2},{name:"Sprawling Campus",description:"A huge campus where your followers rest and train.<br>Costs "+this.bigNumberPipe.transform(1e16)+" Taels, two proper meals per follower, and 200 spirit gems per day (higher quality gems can count as more than one).<br>Requires a level 100 administrator follower to run it.",moneyPerDay:1e16,gemsPerDay:200,foodPerDay:2,mealsRequired:!0,maxFollowerIncrease:20,bonusFreeFollowers:3,maxLevelIncrease:100,experiencePerDay:200,upgradeTooltip:"Upgrade for "+this.bigNumberPipe.transform(1e18)+" Taels and "+this.bigNumberPipe.transform(1e8)+" land",upgradeMoneyCost:1e18,upgradeLandCost:1e8,administratorsRequired:1,administratorLevel:100,inputs:2},{name:"Fortified Stronghold",description:"A powerful fortress where your followers rest and train.<br>Costs "+this.bigNumberPipe.transform(1e20)+" Taels, three proper meals per follower, and 500 spirit gems per day (higher quality gems can count as more than one).<br>Requires 2 level 100 administrators to run it.",moneyPerDay:1e20,gemsPerDay:500,foodPerDay:3,mealsRequired:!0,maxFollowerIncrease:30,bonusFreeFollowers:4,maxLevelIncrease:200,experiencePerDay:300,upgradeTooltip:"Upgrade for "+this.bigNumberPipe.transform(1e24)+" Taels and "+this.bigNumberPipe.transform(1e9)+" land",upgradeMoneyCost:1e24,upgradeLandCost:1e9,administratorsRequired:2,administratorLevel:100,inputs:3},{name:"Mighty Citadel",description:"An immense citidel where your followers rest and train.<br>Costs "+this.bigNumberPipe.transform(1e26)+" Taels, five meals per follower, and 1000 spirit gems per day (higher quality gems can count as more than one).<br>Requires 4 level 100 administrators to run it.",moneyPerDay:1e26,gemsPerDay:1e3,foodPerDay:5,mealsRequired:!0,maxFollowerIncrease:50,bonusFreeFollowers:5,maxLevelIncrease:300,experiencePerDay:500,upgradeTooltip:"",upgradeMoneyCost:0,upgradeLandCost:0,administratorsRequired:4,administratorLevel:100,inputs:4}],this.jobs={chef:{work:u=>{let v=this.jobs.chef.totalPower*u+(this.leftoverWork.chef||0);this.homeService.chefsWork(Math.floor(v/100)),this.leftoverWork.chef=v%100},description:"Chefs increase the output of your kitchens.",totalPower:0},builder:{work:u=>{this.homeService.nextHomeCostReduction+=this.jobs.builder.totalPower,this.homeService.upgrading&&this.homeService.upgradeTick(this.jobs.builder.totalPower*u)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster.",totalPower:0},hunter:{work:u=>{let v=this.jobs.hunter.totalPower*u+(this.leftoverWork.hunter||0);if(this.hellService?.inHell()){this.inventoryService.addItem(this.itemRepoService.items.spiritMeat,Math.floor(v/1e3)),this.leftoverWork.hunter=v%1e3;return}this.inventoryService.addItem(this.itemRepoService.items.meat,Math.floor(v/10)*u),this.leftoverWork.hunter=v%10},description:"Hunters collect meat and help you hunt for hides.",totalPower:0},fisher:{work:u=>{let v=this.jobs.fisher.totalPower*u+(this.leftoverWork.fisher||0);if(this.hellService?.inHell()){this.inventoryService.addItem(this.itemRepoService.items.spiritCarp,Math.floor(v/1e3)),this.leftoverWork.fisher=v%1e3;return}this.inventoryService.addItem(this.itemRepoService.items.carp,Math.floor(v/10)*u),this.leftoverWork.fisher=v%10},description:"Fishers fish up delicious fish to contribute to your meals.",totalPower:0},farmer:{work:u=>{this.farmService.workFields(Math.floor(this.jobs.farmer.totalPower*u))},description:"Farmers work your fields, helping your crops to grow.",totalPower:0,runEachTick:!0},miner:{work:u=>{let v=this.followers.filter(y=>y.job==="miner");for(let y of v)this.inventoryService.addItem(this.inventoryService.getOre(y.power),u)},description:"Miners gather ore for your crafting.",totalPower:0},metallurgist:{work:u=>{let v=this.jobs.metallurgist.totalPower*u+(this.leftoverWork.metallurgist||0);this.homeService.triggerWorkstations(j.Smelting,Math.floor(v/100)),this.leftoverWork.metallurgist=v%100},description:"Metallurgists operate your smelting workstations, turning ores into refined metals.",totalPower:0,runEachTick:!0},coalDigger:{work:u=>{let v=this.jobs.coalDigger.totalPower*u+(this.leftoverWork.coalDigger||0);this.inventoryService.addItem(this.itemRepoService.items.coal,Math.floor(v/100)),this.leftoverWork.coalDigger=v%100},description:"Coal Diggers gather coal for your crafting.",totalPower:0},lumberjack:{work:u=>{let v=this.followers.filter(y=>y.job==="lumberjack");for(let y of v)this.inventoryService.addItem(this.inventoryService.getWood(y.power),u)},description:"Lumberjacks gather wood for your crafting.",totalPower:0},herbalist:{work:u=>{let v=this.followers.filter(g=>g.job==="herbalist"),y=0;for(let g of v)y+=g.power;y=Math.floor(y/v.length),this.inventoryService.generateHerb(y,!1,u*v.length)},description:"Herbalists gather herbs for your crafting.",totalPower:0},skinner:{work:u=>{let v=this.followers.filter(y=>y.job==="skinner");for(let y of v)this.inventoryService.addItem(this.inventoryService.getHide(y.power),u)},description:"Skinners gather hides for your crafting.",totalPower:0},weaponsmith:{work:u=>{let v=this.jobs.weaponsmith.totalPower*u+(this.leftoverWork.weaponsmith||0),y=10;this.hellService?.inHell()&&(y*=10);let g=this.characterService.equipment.rightHand,S=this.characterService.equipment.leftHand;g&&g.weaponStats&&(g.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(v/y),2)),g.value+=Math.ceil(Math.pow(Math.floor(v/y),2))),S&&S.weaponStats&&(S.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(v/y),2)),S.value+=Math.ceil(Math.pow(Math.floor(v/y),2))),this.leftoverWork.weaponsmith=v%y},description:"Weaponsmiths help you take care of your currently equipped weapons, adding power to them each day. Higher levels can also help improve them.",totalPower:0},armorer:{work:u=>{let v=this.jobs.armorer.totalPower*u+(this.leftoverWork.armorer||0),y=10;this.hellService?.inHell()&&(y*=10);let g=P=>Ie(W({},P),{armorStats:P.armorStats?Ie(W({},P.armorStats),{defense:P.armorStats?.defense+Math.ceil(Math.pow(Math.floor(v/y),2)/2)}):void 0,value:P.value+Math.ceil(Math.pow(Math.floor(v/y),2)/2)}),S=this.characterService.equipment;S.head&&S.head.armorStats&&(S.head=g(S.head)),S.body&&S.body.armorStats&&(S.body=g(S.body)),S.legs&&S.legs.armorStats&&(S.legs=g(S.legs)),S.feet&&S.feet.armorStats&&(S.feet=g(S.feet)),this.leftoverWork.armorer=v%y},description:"Armorers help you take care of your currently equipped pieces of armor, adding defense to them each day. Higher levels can also help improve them.",totalPower:0},brawler:{work:u=>{let v=this.jobs.brawler.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("strength",v)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength.",totalPower:0},sprinter:{work:u=>{let v=this.jobs.sprinter.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("speed",v)},description:"Sprinters challenge you to footraces and help you increase your speed.",totalPower:0},trainer:{work:u=>{let v=this.jobs.trainer.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("toughness",v)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness.",totalPower:0},tutor:{work:u=>{let v=this.jobs.tutor.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("intelligence",v)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence.",totalPower:0},mediator:{work:u=>{let v=this.jobs.mediator.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("charisma",v)},description:"Mediators teach you how to persuade others, increasing your charisma.",totalPower:0},priest:{work:u=>{let v=this.jobs.priest.totalPower*u;this.hellService?.inHell()&&(v/=10),this.characterService.increaseAttribute("spirituality",v)},description:"Priests help you get closer to the divine, increasing your spirituality.",totalPower:0},gemologist:{work:u=>{let v=this.jobs.gemologist.totalPower*u+(this.leftoverWork.gemologist||0),y=50;this.hellService?.inHell()&&(y*=10),this.leftoverWork.gemologist=v%y;let g=Math.floor(v/y);g!==0&&this.inventoryService.mergeAnySpiritGem(g)},description:"Gemologists combine spirit gems into higher grades.",totalPower:0},scout:{work:()=>{this.battleService.yearlyMonsterDay+=this.jobs.scout.totalPower},description:"Scouts help you track down and get in fights with monsters faster.",totalPower:0,runEachTick:!0},monsterHunter:{work:u=>{let v=this.followers.filter(y=>y.job==="monsterHunter");for(let y of v)this.inventoryService.addItem(this.inventoryService.generateSpiritGem(Math.ceil(y.power/8)),u)},description:"Monster Hunters take on low level monsters for you and offer you some of the gems they gather.",totalPower:0},damned:{work:()=>{this.battleService.trouble()},description:"Damned are souls working off karmic debt in hell that hav decided to join you. Having this follower seems to enrage the demons around you.",hidden:!0,totalPower:0},prophet:{work:u=>{let v=this.jobs.prophet.totalPower*u+(this.leftoverWork.prophet||0);for(;v>1e5;)this.generateFollower(),v-=1e5;this.leftoverWork.prophet=v},description:"Prophets are dedicated to spreading the word of your greatness. Prophets can even find other followers for you if you are out of the mortal realm.",hidden:!0,totalPower:0},moneyBurner:{work:u=>{let v=this.jobs.moneyBurner.totalPower*u+(this.leftoverWork.moneyBurner||0),y=Math.floor(v/50);if(this.leftoverWork.moneyBurner=v%50,y===0)return;let g=1e6*y;this.characterService.money<g||(this.characterService.updateMoney(0-g),this.characterService.hellMoney+=y)},description:"Money Burners dedicate themselves to burning mortal money to produce hell money.",hidden:!0,totalPower:0},banker:{work:u=>{let v=this.jobs.banker.totalPower;this.hellService?.inHell()&&(v/=10);for(let y=0;y<u;y++)this.characterService.updateMoney(this.characterService.money*273e-9*v),this.characterService.hellMoney+=this.characterService.hellMoney*273e-9*v},description:"Bankers put your money to use, earning interest on what you have. Surprisingly, this works for hell money too.",hidden:!0,totalPower:0},administrator:{work:()=>{},description:"Administrators are required to operate complex organizations to their fullest.",hidden:!1,totalPower:0},snake:{work:u=>{let v=this.jobs.snake.totalPower;this.petsBoosted||(v*=.01),this.characterService.increaseAttribute("fireLore",v*u)},description:"A fiery serpent. Snakes understand fire and can teach you the hidden secrets of the flames.",pet:!0,totalPower:0},tiger:{work:u=>{let v=this.jobs.tiger.totalPower;this.petsBoosted||(v*=.01),this.characterService.increaseAttribute("woodLore",v*u)},description:"Tigers know the secrets of the jungle and can teach you the deepest mysteries of Wood Lore.",pet:!0,totalPower:0},ox:{work:u=>{let v=this.jobs.ox.totalPower;this.petsBoosted||(v*=.01),this.characterService.increaseAttribute("earthLore",v*u)},description:"Oxen connect deeply to the earth and can teach you their secret understanding.",pet:!0,totalPower:0},monkey:{work:u=>{let v=this.jobs.monkey.totalPower;this.petsBoosted||(v*=.01),this.characterService.increaseAttribute("metalLore",v*u)},description:"Monkeys know more about metal than the greatest of human blacksmiths.",pet:!0,totalPower:0},pig:{work:u=>{let v=this.jobs.pig.totalPower;this.petsBoosted||(v*=.01),this.characterService.increaseAttribute("waterLore",v*u)},description:"Pigs understand the secrets of water and can teach them to you.",pet:!0,totalPower:0}},setTimeout(()=>this.hellService=this.injector.get(Fe)),c.yearOrLongTickSubject.subscribe(u=>{if(this.followersUnlocked){if(!u)return}else return;this.updateFollowerCap(),this.yearTickFollowers(this.followers,u),this.yearTickFollowers(this.pets,u),this.followersWorks(u),this.sortFollowers(this.sortAscending,!0),this.sortFollowers(this.sortAscending,!1),this.checkTriggers()}),c.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.dead){if(this.characterService.age%18250===0&&!this.hellService?.inHell())for(let u=0;u<1+this.hqs[this.hq].bonusFreeFollowers;u++)this.generateFollower();this.followersWorks(),this.hqWorks(),this.followersMaxed=this.followers.length<this.followerCap?this.followersMaxed="UNMAXED":this.followersMaxed="MAXED",this.petsMaxed=this.pets.length<this.petsCap?this.petsMaxed="UNMAXED":this.petsMaxed="MAXED"}}),c.reincarnateSubject.subscribe(()=>{this.reset()})}yearTickFollowers(e,i){for(let r=e.length-1;r>=0;r--){let o=e[r];if(o.age+=i,o.age>=e[r].lifespan){if(this.totalDied++,e.splice(r,1),this.autoReplaceUnlocked){let a=this.generateFollower(o.pet,o.job);a&&(a.power=Math.round(o.power/2),a.cost=100*a.power,this.logService.log(w.FOLLOWER,"Your follower "+o.name+" passed away from old age but was replaced by their child "+a?.name+".")),this.logService.log(w.FOLLOWER,"Your follower "+o.name+" passed away from old age and was not replaced because of your choices in follower jobs.")}else this.logService.injury(w.FOLLOWER,"Your follower "+o.name+" passed away from old age.");this.updateFollowerTotalPower()}else this.characterService.money<e[r].cost*i&&!this.hellService?.inHell()?(this.totalDismissed++,this.logService.injury(w.FOLLOWER,"You didn't have enough money to suppport your follower "+e[r].name+" so they left your service."),e.splice(r,1),this.updateFollowerTotalPower()):this.hellService?.inHell()||this.characterService.updateMoney(0-e[r].cost*i)}}updateFollowerCap(){this.followerCap=1+this.homeService.homeValue*3+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.bloodlineRank,this.hqUnlocked&&(this.followerCap+=this.hqs[this.hq].maxFollowerIncrease),this.followerCap+=this.characterService.attributes.mercy.value+this.characterService.attributes.presence.value,this.petsCap=Math.round(1+this.characterService.meridianRank()/10+this.characterService.soulCoreRank()/10+this.characterService.bloodlineRank/10+Math.log10(this.characterService.attributes.animalHandling.value)),this.petsCap+=this.characterService.attributes.mercy.value+this.characterService.attributes.presence.value,this.followersMaxed=this.followers.length<this.followerCap?this.followersMaxed="UNMAXED":this.followersMaxed="MAXED",this.maxFollowerLevel=100+this.hqs[this.hq].maxLevelIncrease+10*this.characterService.attributes.mercy.value}updateFollowerTotalPower(){for(let e of Object.keys(this.jobs))this.jobs[e].totalPower=0;for(let e=this.followers.length-1;e>=0;e--)this.jobs[this.followers[e].job].totalPower+=this.followers[e].power;for(let e=this.pets.length-1;e>=0;e--)this.jobs[this.pets[e].job].totalPower+=this.pets[e].power}sortFollowers(e,i=!1){let r=1,o=-1;e||(r=-1,o=1);let a=this.followers;if(i&&(a=this.pets),this.sortField==="Remaining Life")a.sort((s,l)=>s.lifespan-s.age>l.lifespan-l.age?r:s.lifespan-s.age===l.lifespan-l.age?0:o);else{let s=this.sortField.toLowerCase();a.sort((l,c)=>(l[s]??0)>(c[s]??0)?r:l[s]===c[s]?0:o)}}followersWorks(e){for(let i of Object.keys(this.jobs)){let r=this.jobs[i];r.totalPower>0&&(e&&!r.runEachTick?r.work(e):!e&&r.runEachTick&&r.work(1))}}hqWorks(){if(this.hellService?.inHell()&&!this.characterService.god()||!this.hqUnlocked)return;let e=this.hq;for(;e>=0&&this.characterService.money<this.hqs[e].moneyPerDay;)e--;if(e<0)return;let i="";for(this.hqs[e].mealsRequired&&(i="meal");e>=0&&this.hqs[e].mealsRequired&&this.hqs[e].foodPerDay>0&&this.inventoryService.checkFor("food",this.hqs[e].foodPerDay*this.followers.length,i)===-1;)e--;if(e<0)return;for(;e>=0&&this.hqs[e].gemsPerDay>0&&this.inventoryService.checkForByValue("gem",this.hqs[e].gemsPerDay*10)===-1;)e--;if(e<0)return;let r=this.followers.filter(a=>a.job==="administrator"),o=0;for(;e>=0;){for(let a of r)a.power>=this.hqs[e].administratorLevel&&o++;if(o<this.hqs[e].administratorsRequired)e--;else break}if(!(e<0)){this.characterService.updateMoney(0-this.hqs[e].moneyPerDay),this.hqs[e].gemsPerDay>0&&this.inventoryService.consumeByValue("gem",this.hqs[e].gemsPerDay*10),this.hqs[e].foodPerDay>0&&this.inventoryService.consume("food",this.hqs[e].foodPerDay,!0,!1,i);for(let a of this.followers)a.experience+=this.hqs[e].experiencePerDay,this.levelUp(a);this.giftRecipientCounter++,this.giftRecipientCounter>=this.followers.length&&(this.giftRecipientCounter=0);for(let a of this.hqInputs)a.item&&a.quantity>0&&a.item.type==="pill"&&(a.item.effect==="longevity"?this.followers[this.giftRecipientCounter].lifespan+=a.item.increaseAmount||1:this.followers[this.giftRecipientCounter].experience+=a.item.increaseAmount||1,a.quantity--)}}reset(){this.characterService.bloodlineRank>=7?this.logService.log(w.FOLLOWER,"Your imperial entourage rejoins you as you set out."):(this.followers.splice(0,this.followers.length),this.followersMaxed="UNMAXED"),this.followersRecruited=0,this.updateFollowerTotalPower(),this.followerTriggerIndex=0,this.followerTriggers.length>0&&(this.loadSavedAssignments(this.followerTriggers[0].savedAssignmentsName,!1),this.followerTriggerIndex++),this.petTriggerIndex=0,this.petTriggers.length>0&&(this.loadSavedAssignments(this.petTriggers[0].savedAssignmentsName,!0),this.petTriggerIndex++)}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,pets:this.pets,stashedFollowers:this.stashedFollowers,stashedPets:this.stashedPets,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType,maxPetsByType:this.maxPetsByType,savedFollowerAssignments:this.savedFollowerAssignments,savedPetAssignments:this.savedPetAssignments,followerTriggers:this.followerTriggers,petTriggers:this.petTriggers,followerTriggerIndex:this.followerTriggerIndex,petTriggerIndex:this.petTriggerIndex,stashedFollowersMaxes:this.stashedFollowersMaxes,stashedPetMaxes:this.stashedPetMaxes,sortField:this.sortField,sortAscending:this.sortAscending,totalRecruited:this.totalRecruited,totalDied:this.totalDied,totalDismissed:this.totalDismissed,highestLevel:this.highestLevel,unlockedHiddenJobs:this.unlockedHiddenJobs,autoReplaceUnlocked:this.autoReplaceUnlocked,petsBoosted:this.petsBoosted,onlyWantedFollowers:this.onlyWantedFollowers,leftoverWork:this.leftoverWork,followerTrainingIndex:this.followerTrainingIndex,petTrainingIndex:this.petTrainingIndex,maxFollowerLevel:this.maxFollowerLevel,sectName:this.sectName,hq:this.hq,hqInputs:this.hqInputs,hqUnlocked:this.hqUnlocked,giftRecipientCounter:this.giftRecipientCounter}}setProperties(e){this.followers=e.followers,this.pets=e.pets,this.stashedFollowers=e.stashedFollowers,this.stashedPets=e.stashedPets,this.followersUnlocked=e.followersUnlocked,this.autoDismissUnlocked=e.autoDismissUnlocked,this.maxFollowerByType=e.maxFollowerByType,this.maxPetsByType=e.maxPetsByType,this.savedFollowerAssignments=e.savedFollowerAssignments,this.savedPetAssignments=e.savedPetAssignments,this.followerTriggers=e.followerTriggers,this.petTriggers=e.petTriggers,this.followerTriggerIndex=e.followerTriggerIndex,this.petTriggerIndex=e.petTriggerIndex,this.stashedFollowersMaxes=e.stashedFollowersMaxes,this.stashedPetMaxes=e.stashedPetMaxes,this.sortField=e.sortField,this.sortAscending=e.sortAscending,this.totalRecruited=e.totalRecruited,this.totalDied=e.totalDied,this.totalDismissed=e.totalDismissed,this.highestLevel=e.highestLevel,this.unlockedHiddenJobs=e.unlockedHiddenJobs,this.autoReplaceUnlocked=e.autoReplaceUnlocked,this.petsBoosted=e.petsBoosted,this.onlyWantedFollowers=e.onlyWantedFollowers,this.leftoverWork=e.leftoverWork,this.followerTrainingIndex=e.followerTrainingIndex,this.petTrainingIndex=e.petTrainingIndex,this.maxFollowerLevel=e.maxFollowerLevel,this.sectName=e.sectName,this.hq=e.hq,this.hqUnlocked=e.hqUnlocked,this.hqInputs=e.hqInputs,this.giftRecipientCounter=e.giftRecipientCounter,this.unhideUnlockedJobs(),this.updateFollowerTotalPower(),this.updateHQInputs()}unlockJob(e){this.unlockedHiddenJobs.includes(e)||this.unlockedHiddenJobs.push(e),this.unhideUnlockedJobs()}unhideUnlockedJobs(){for(let e of this.unlockedHiddenJobs)this.jobs[e].hidden=!1}generateFollower(e=!1,i){let r=this.followers,o=this.followerCap;if(e&&(r=this.pets,o=this.petsCap),this.totalRecruited++,this.followersRecruited++,r.length>=o)if(this.onlyWantedFollowers){let d=Object.keys(this.jobs),u=!1;for(let v of d){if(this.jobs[v].hidden)continue;let y=this.maxFollowerByType[v]!==void 0?this.maxFollowerByType[v]:1e3;e&&(y=this.maxPetsByType[v]!==void 0?this.maxPetsByType[v]:1e3);let g=0;for(let S of r)if(S.job===v&&g++,g>y){u=!0,this.dismissFollower(S);break}if(u)break}if(!u)return this.logService.injury(w.FOLLOWER,"A new follower shows up, but you already have all the followers you want."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null}else return this.logService.injury(w.FOLLOWER,"A new follower shows up, but you already have too many. You are forced to turn them away."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null;if(i=i||this.generateFollowerJob(e,r),i==="")return null;let a=this.maxFollowerByType[i]!==void 0?this.maxFollowerByType[i]:1e3;if(e&&(a=this.maxPetsByType[i]!==void 0?this.maxPetsByType[i]:1e3),this.numFollowersOnJob(i,r)>=a)return this.logService.log(w.FOLLOWER,"A new follower shows up, but they were a "+this.camelToTitle.transform(i)+" and you don't want any more of those."),this.totalDismissed++,null;let s=this.followerLifespanDoubled?5:10;this.logService.log(w.FOLLOWER,"A new "+this.camelToTitle.transform(i)+" has come to learn at your feet.");let l=Math.min(Math.max(this.characterService.lifespan/s,18*365),365e3),c={name:this.generateFollowerName(),age:0,lifespan:l,job:i,power:1,displayPower:C(1),cost:100,pet:e,experience:0};return r.push(c),this.sortFollowers(this.sortAscending,e),r.length>=o&&(e?this.petsMaxed="MAXED":this.followersMaxed="MAXED"),this.updateFollowerTotalPower(),c}numFollowersOnJob(e,i){let r=0;for(let o of i)o.job===e&&r++;return r}generateFollowerName(){return v_[Math.floor(Math.random()*v_.length)]}generateFollowerJob(e=!1,i){let r=Object.keys(this.jobs),o=[];for(let a of r)if(!this.jobs[a].hidden&&(e&&this.jobs[a].pet||!e&&!this.jobs[a].pet))if(this.onlyWantedFollowers){let s=this.maxFollowerByType[a]!==void 0?this.maxFollowerByType[a]:1e3;e&&(s=this.maxPetsByType[a]!==void 0?this.maxPetsByType[a]:1e3),this.numFollowersOnJob(a,i)<s&&o.push(a)}else o.push(a);return o.length===0?"":o[Math.floor(Math.random()*o.length)]}dismissFollower(e){if(this.logService.log(w.FOLLOWER,e.name+" (level "+e.power+" "+this.camelToTitle.transform(e.job)+") has left your service."),this.totalDismissed++,e.pet){let i=this.pets.indexOf(e);this.pets.splice(i,1),this.petsMaxed="UNMAXED"}else{let i=this.followers.indexOf(e);this.followers.splice(i,1),this.followersMaxed="UNMAXED"}this.updateFollowerTotalPower()}dismissAllFollowers(e=null,i=!1){let r=this.followers;if(i?(r=this.pets,this.petsMaxed="UNMAXED"):this.followersMaxed="UNMAXED",e)for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&(r.splice(o,1),this.totalDismissed++);else this.totalDismissed+=r.length,r.splice(0);this.updateFollowerTotalPower()}limitFollower(e){let i=0,r=this.followers;e.pet&&(r=this.pets);for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&i++;e.pet?this.maxPetsByType[e.job]=i:this.maxFollowerByType[e.job]=i}setMaxFollowers(e,i){!i||i<0?this.maxFollowerByType[e]=0:this.maxFollowerByType[e]=i}setMaxPets(e,i){!i||i<0?this.maxPetsByType[e]=0:this.maxPetsByType[e]=i}stashFollowers(){this.stashedFollowers=this.followers,this.followers=[],this.stashedPets=this.pets,this.pets=[],this.stashedFollowersMaxes=this.maxFollowerByType,this.stashedPetMaxes=this.maxPetsByType,this.maxFollowerByType={},this.maxPetsByType={}}restoreFollowers(){this.followers=this.stashedFollowers,this.stashedFollowers=[],this.pets=this.stashedPets,this.stashedPets=[],this.maxFollowerByType=this.stashedFollowersMaxes,this.maxPetsByType=this.stashedPetMaxes,this.stashedFollowersMaxes={},this.stashedPetMaxes={}}hellPurge(){let e=["prophet","moneyBurner","damned"];for(let i=this.followers.length-1;i>=0;i--)e.includes(this.followers[i].job)||this.followers.splice(i,1);this.updateFollowerTotalPower()}saveAssignments(e,i){let r,o;i?(r=this.savedPetAssignments,o=this.maxPetsByType):(r=this.savedFollowerAssignments,o=this.maxFollowerByType);let a=r.find(s=>s.name===e);a?a.assignments=JSON.parse(JSON.stringify(o)):r.push({name:e,assignments:JSON.parse(JSON.stringify(o))})}loadSavedAssignments(e,i){if(i){let r=this.savedPetAssignments.find(o=>o.name===e);r&&(this.maxPetsByType=JSON.parse(JSON.stringify(r.assignments)))}else{let r=this.savedFollowerAssignments.find(o=>o.name===e);r&&(this.maxFollowerByType=JSON.parse(JSON.stringify(r.assignments)))}}removeSavedAssignments(e,i){if(i){let r=this.savedPetAssignments.findIndex(o=>o.name===e);r>=0&&this.savedPetAssignments.splice(r,1);for(let o=this.followerTriggers.length-1;o>=0;o--)this.followerTriggers[o].savedAssignmentsName===e&&this.followerTriggers.splice(o,1)}else{let r=this.savedFollowerAssignments.findIndex(o=>o.name===e);r>=0&&this.savedFollowerAssignments.splice(r,1);for(let o=this.petTriggers.length-1;o>=0;o--)this.petTriggers[o].savedAssignmentsName===e&&this.petTriggers.splice(o,1)}}checkTriggers(){if(this.followerTriggerIndex<this.followerTriggers.length){let e=this.followerTriggers[this.followerTriggerIndex];if(e.attribute==="money"){this.characterService.money>=e.value&&(this.followerTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!1));return}let i=e.attribute;if(this.characterService.attributes[i]){this.characterService.attributes[i].value>=e.value&&(this.followerTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!1));return}let r=e.attribute;this.characterService.status[r].max>=e.value&&(this.followerTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!1))}if(this.petTriggerIndex<this.petTriggers.length){let e=this.petTriggers[this.petTriggerIndex];if(e.attribute==="money"){this.characterService.money>=e.value&&(this.petTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!0));return}let i=e.attribute;if(this.characterService.attributes[i]){this.characterService.attributes[i].value>=e.value&&(this.petTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!0));return}let r=e.attribute;this.characterService.status[r].max>=e.value&&(this.petTriggerIndex++,this.loadSavedAssignments(e.savedAssignmentsName,!0))}}trainFollower(e,i){let r=this.followers,o="followers",a=this.followerTrainingIndex;if(i&&(r=this.pets,o="pets",a=this.petTrainingIndex),r.length===0){this.logService.log(w.FOLLOWER,"You fail to train any "+o+" because you don't have any.");return}a>=r.length&&(a=0);let s=a;for(;r[a].power>=this.maxFollowerLevel;)if(a++,a>=r.length&&(a=0),a===s){this.logService.log(w.FOLLOWER,"All of your "+o+" are fully trained.");return}let l=r[a];l.experience=Math.floor((l.experience||0)+e),this.levelUp(l),i?this.petTrainingIndex=++a:this.followerTrainingIndex=++a}levelUp(e){for(;e.experience>e.power*1e3&&e.power<this.maxFollowerLevel;)e.experience-=e.power*1e3,e.power++,e.power>this.highestLevel&&(this.highestLevel=e.power),this.logService.log(w.FOLLOWER,e.name+" gains additional power as a "+this.camelToTitle.transform(e.job)),this.updateFollowerTotalPower()}generateSectName(){let e=["Verdant","Green","Azure","Peaceful","Vermillion","Bold","Purple","Delicate","Scarlet","Screaming","Cultivating","Immortal","Spirit","Clear","Unbound","Boundless","Moon","Sunbright","Midnight","Floating","Golden","Silver","Shining","Dancing","Glowing","Sleeping","Divided","Ethereal","Foolish","Flowing"],i=e[Math.floor(Math.random()*e.length)],r=["Waters","Lotus","Orchid","Mountain","Butterfly","Mantis","Demon","Blade","Starlight","Ruins","Cloud","Incense","Islands","Storm","Dream","River","Wisdom","Heart","Sun","Mist","Raven","Eagle","Hawk","Koi","Tiger","Phoenix","Mandate","Commandment","Shield"],o=r[Math.floor(Math.random()*r.length)],a=["Sect","Court","Temple","Society","Syndicate","Crew","Church","Club","Fellowship","Faction","Movement","Order"],s=a[Math.floor(Math.random()*a.length)];return Math.random()>.5?i+" "+o+" "+s:s+" of the "+i+" "+o}renameSect(){this.sectName=this.generateSectName()}upgradeHQ(){if(this.characterService.money<this.hqs[this.hq].upgradeMoneyCost){this.logService.log(w.EVENT,"You don't have enough money to upgrade your headquarters.");return}if(this.homeService.land<this.hqs[this.hq].upgradeLandCost){this.logService.log(w.EVENT,"You don't have enough land to upgrade your headquarters.");return}this.characterService.money-=this.hqs[this.hq].upgradeMoneyCost,this.homeService.land-=this.hqs[this.hq].upgradeLandCost,this.hq++,this.updateFollowerCap(),this.updateHQInputs()}downgradeHQ(){this.hq--,this.homeService.land+=this.hqs[this.hq].upgradeLandCost,this.updateFollowerCap(),this.updateHQInputs()}updateHQInputs(){let e=this.hqInputs;for(;e.length<this.hqs[this.hq].inputs;)e.push(this.inventoryService.getEmptyItemStack());for(;e.length>this.hqs[this.hq].inputs;){let i=e[e.length-1];i.item&&this.inventoryService.addItem(i.item,i.quantity,0,!1,!1),e.splice(e.length-1)}}dismissYoungestFollower(){if(this.followers.length===0)return;let e=this.followers[0];for(let i=0;i<this.followers.length;i++)this.followers[i].age<e.age&&(e=this.followers[i]);this.dismissFollower(e)}moveItemToInput(e,i){if(this.inventoryService.itemStacks[e].item)if(this.hqInputs[i].item){if(this.hqInputs[i].item?.name===this.inventoryService.itemStacks[e].item?.name){let r=this.inventoryService.maxStackSize-this.hqInputs[i].quantity;this.inventoryService.itemStacks[e].quantity<r?(this.hqInputs[i].quantity+=this.inventoryService.itemStacks[e].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack()):(this.hqInputs[i].quantity+=r,this.inventoryService.itemStacks[e].quantity-=r);return}if(this.hqInputs[i].quantity===0)this.hqInputs[i]=this.inventoryService.itemStacks[e],this.hqInputs[i].id=i+this.hqInputs[i].item.name+this.hqInputs[i].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack();else{let r=this.inventoryService.itemStacks[e];this.inventoryService.itemStacks[e]=this.hqInputs[i],this.hqInputs[i]=r,this.hqInputs[i].id=i+this.hqInputs[i].item.name+this.hqInputs[i].quantity,this.inventoryService.fixId(e)}}else this.hqInputs[i]=this.inventoryService.itemStacks[e],this.hqInputs[i].id=i+this.hqInputs[i].item.name+this.hqInputs[i].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack()}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(St),L(ae),L(Qe),L(yi),L(se),L(oi),L(pe),L(it))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var st=(function(t){return t[t.SquatterTent=0]="SquatterTent",t[t.OwnTent=1]="OwnTent",t[t.DirtyShack=2]="DirtyShack",t[t.SimpleHut=3]="SimpleHut",t[t.PleasantCottage=4]="PleasantCottage",t[t.LargeHouse=5]="LargeHouse",t[t.CourtyardHouse=6]="CourtyardHouse",t[t.Manor=7]="Manor",t[t.Mansion=8]="Mansion",t[t.Palace=9]="Palace",t[t.Castle=10]="Castle",t[t.Fortress=11]="Fortress",t[t.Mountain=12]="Mountain",t[t.ForbiddenCity=13]="ForbiddenCity",t[t.Capital=14]="Capital",t[t.ImperialSeat=15]="ImperialSeat",t[t.Godthrone=16]="Godthrone",t})(st||{}),Qe=(()=>{class t{constructor(e,i,r,o,a,s,l,c){if(this.injector=e,this.characterService=i,this.inventoryService=r,this.logService=o,this.mainLoopService=a,this.itemRepoService=s,this.contemplationService=l,this.titleCasePipe=c,this.keepFurniture=!1,this.keepWorkstationInputs=!1,this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.thugPause=!1,this.hellHome=C(!1),this.homeUnlocked=!1,this.keepHome=!1,this.bedroomFurniture=[null,null,null,null,null,null,null,null,null],this.openBedroomFurnitureSlots=0,this.seeFurnitureEffects=!1,this.workstations=[],this.totalCrafts=0,this.forgeChainsCounter=0,this.pillCraftsRequired=5,this.pillsMade=0,this.merchantAutobuyItem=null,this.homesList=[{name:"Squatter Tent",type:st.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty, so you should really buy some land and get a safer place to stay.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"",healthRecovery:0,staminaRecovery:0,qiRecovery:0,baseHealthRecovery:0,baseStaminaRecovery:0,baseQiRecovery:0,maxFurniture:0,maxWorkstations:0,maxWorkstationPower:0,daysToBuild:1},{name:"Tent of Your Own",type:st.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional ruffian might give you trouble.",cost:100,costPerDay:1,landRequired:1,maxInventory:15,upgradeToTooltip:"Get a better home and stop the mouse invasions.<br>A better home will cost 100 taels, take up 1 land, and cost you 1 tael per day in upkeep.<br>Land can be purchasd in the Regular People Shop.",healthRecovery:.5,staminaRecovery:1,qiRecovery:0,baseHealthRecovery:.5,baseStaminaRecovery:1,baseQiRecovery:0,maxFurniture:0,maxWorkstations:0,maxWorkstationPower:0,daysToBuild:1},{name:"Dirty Shack",type:st.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:20,upgradeToTooltip:"Get a better home and stop the ruffians from stealing your wealth.<br>A better home will cost 1,000 taels, take up 5 land, and cost you 5 taels per day in upkeep.",healthRecovery:.5,staminaRecovery:3,qiRecovery:0,baseHealthRecovery:.5,baseStaminaRecovery:3,baseQiRecovery:0,maxFurniture:1,maxWorkstations:0,maxWorkstationPower:0,daysToBuild:1},{name:"Simple Hut",type:st.SimpleHut,description:"A very simple hut. This home and all future homes will remain in your family, and you will reincarnate as its heir.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:25,upgradeToTooltip:"Get a better house and give your descendants a permanent place to settle.<br>A better home will cost 10,000 taels, take up 10 land, and cost you 10 taels per day in upkeep.",healthRecovery:.7,staminaRecovery:5,qiRecovery:0,baseHealthRecovery:.7,baseStaminaRecovery:5,baseQiRecovery:0,maxFurniture:2,maxWorkstations:0,maxWorkstationPower:0,daysToBuild:10},{name:"Pleasant Cottage",type:st.PleasantCottage,description:"A nice little home where you can rest peacefully.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:30,upgradeToTooltip:"Get a better house.<br>A better home will cost 100,000 taels, take up 20 land, and cost you 20 taels per day in upkeep.",healthRecovery:1,staminaRecovery:10,qiRecovery:.1,baseHealthRecovery:1,baseStaminaRecovery:10,baseQiRecovery:.1,maxFurniture:3,maxWorkstations:1,maxWorkstationPower:0,daysToBuild:30},{name:"Large House",type:st.LargeHouse,description:"A large house where you can live and work.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:35,upgradeToTooltip:"Get a better house.<br>A better home will cost 1M taels, take up 50 land, and cost you 50 taels per day in upkeep.",healthRecovery:2,staminaRecovery:15,qiRecovery:.2,baseHealthRecovery:2,baseStaminaRecovery:15,baseQiRecovery:.2,maxFurniture:4,maxWorkstations:2,maxWorkstationPower:0,daysToBuild:90},{name:"Courtyard House",type:st.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:40,upgradeToTooltip:"Get a better house.<br>A better home will cost 10m taels, take up 80 land, and cost you 80 taels per day in upkeep.",healthRecovery:3,staminaRecovery:20,qiRecovery:.3,baseHealthRecovery:3,baseStaminaRecovery:20,baseQiRecovery:.3,maxFurniture:5,maxWorkstations:3,maxWorkstationPower:0,daysToBuild:180},{name:"Manor",type:st.Manor,description:"A large manor house. You are really moving up in the world.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:50,upgradeToTooltip:"Get a better house.<br>A better home will cost 100m taels, take up 100 land, and cost you 100 taels per day in upkeep.",healthRecovery:4,staminaRecovery:25,qiRecovery:.4,baseHealthRecovery:4,baseStaminaRecovery:25,baseQiRecovery:.4,maxFurniture:6,maxWorkstations:3,maxWorkstationPower:0,daysToBuild:365},{name:"Mansion",type:st.Mansion,description:"An elaborate mansion.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:50,upgradeToTooltip:"Get a better house.<br>A better home will cost 1B taels, take up 120 land, and cost you 120 taels per day in upkeep.",healthRecovery:5,staminaRecovery:30,qiRecovery:.5,baseHealthRecovery:5,baseStaminaRecovery:30,baseQiRecovery:.5,maxFurniture:7,maxWorkstations:4,maxWorkstationPower:1,daysToBuild:3650},{name:"Palace",type:st.Palace,description:"A lavish palace.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:55,upgradeToTooltip:"Get a better house.<br>A better home will cost 10B taels, take up 150 land, and cost you 150 taels per day in upkeep.",healthRecovery:10,staminaRecovery:35,qiRecovery:1,baseHealthRecovery:10,baseStaminaRecovery:35,baseQiRecovery:1,maxFurniture:8,maxWorkstations:4,maxWorkstationPower:1,daysToBuild:36500},{name:"Castle",type:st.Castle,description:"An imposing castle.",cost:1e11,costPerDay:160,landRequired:150,maxInventory:60,upgradeToTooltip:"Get a better house.<br>A better home will cost 100B taels, take up 150 land, and cost you 160 taels per day in upkeep.",healthRecovery:15,staminaRecovery:40,qiRecovery:2,baseHealthRecovery:15,baseStaminaRecovery:40,baseQiRecovery:2,maxFurniture:9,maxWorkstations:5,maxWorkstationPower:1,daysToBuild:365e3},{name:"Fortress",type:st.Fortress,description:"An indomitable fortress.",cost:1e12,costPerDay:180,landRequired:180,maxInventory:65,upgradeToTooltip:"Get a better house.<br>A better home will cost 1T taels, take up 180 land, and cost you 180 taels per day in upkeep.",healthRecovery:20,staminaRecovery:50,qiRecovery:3,baseHealthRecovery:20,baseStaminaRecovery:50,baseQiRecovery:3,maxFurniture:9,maxWorkstations:5,maxWorkstationPower:1,daysToBuild:365e4},{name:"Mountain",type:st.Mountain,description:"An entire mighty mountain.",cost:1e13,costPerDay:500,landRequired:500,maxInventory:70,upgradeToTooltip:"Get a better house.<br>A better home will cost 10T taels, take up 500 land, and cost you 500 taels per day in upkeep.",healthRecovery:30,staminaRecovery:100,qiRecovery:4,baseHealthRecovery:30,baseStaminaRecovery:100,baseQiRecovery:4,maxFurniture:9,maxWorkstations:6,maxWorkstationPower:2,daysToBuild:365e5},{name:"Forbidden City",type:st.ForbiddenCity,description:"A city of your very own.",cost:1e14,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house.<br>better home will cost 100T taels, take up 1,000 land, and cost you 1,000 taels per day in upkeep.",healthRecovery:50,staminaRecovery:200,qiRecovery:5,baseHealthRecovery:50,baseStaminaRecovery:200,baseQiRecovery:5,maxFurniture:9,maxWorkstations:6,maxWorkstationPower:2,daysToBuild:365e6},{name:"Capital",type:st.Capital,description:"The entire province is yours now.",cost:1e15,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house.<br>A better home will cost 1q taels, take up 10,000 land, and cost you 10,000 taels per day in upkeep.",healthRecovery:80,staminaRecovery:300,qiRecovery:10,baseHealthRecovery:80,baseStaminaRecovery:300,baseQiRecovery:10,maxFurniture:9,maxWorkstations:7,maxWorkstationPower:2,daysToBuild:365e7},{name:"Seat of the Empire",type:st.ImperialSeat,description:"You've built quite a little empire for yourself.",cost:1e16,costPerDay:1e6,landRequired:1e6,maxInventory:110,upgradeToTooltip:"Get a better house.<br>A better home will cost 10q taels, take up 1,000,000 land, and cost you 1,000,000 taels per day in upkeep.",healthRecovery:100,staminaRecovery:500,qiRecovery:20,baseHealthRecovery:100,baseStaminaRecovery:500,baseQiRecovery:20,maxFurniture:9,maxWorkstations:8,maxWorkstationPower:3,daysToBuild:365e8},{name:"Godthrone",type:st.Godthrone,description:"All in the land kneel far beneath you.",cost:1e17,costPerDay:1e7,landRequired:1e7,maxInventory:120,upgradeToTooltip:"Get a better house.<br>A better home will cost 100q taels, take up 10,000,000 land, and cost you 10,000,000 taels per day in upkeep.",healthRecovery:150,staminaRecovery:1e3,qiRecovery:30,baseHealthRecovery:150,baseStaminaRecovery:1e3,baseQiRecovery:30,maxFurniture:9,maxWorkstations:9,maxWorkstationPower:3,daysToBuild:365e9}],this.workstationsList=[{id:"Smelter",triggerActivities:[j.Smelting],power:0,setupCost:1e3,maintenanceCost:10,description:"A smelter that will produce metal bars when you do Smelting.<br>You will need to provide your own ore and fuel.",maxInputs:2,inputs:[],consequence:d=>{if(d.inputs.length<2)return;let u=d.inputs.find(y=>y.item?.subtype==="fuel"),v=d.inputs.find(y=>y.item?.type==="ore");u&&v&&v.quantity>0&&u.quantity>5&&(this.totalCrafts++,this.inventoryService.addItem(this.inventoryService.getBar(v.item?.value||1)),v.quantity--,u.quantity-=5)}},{id:"Superior Smelter",triggerActivities:[j.Smelting,j.MakeBrick],power:0,setupCost:1e6,maintenanceCost:1e7,description:"An enormous smelter that will produce metal bars when you do Smelting, or possible make other things that require intense heat.<br>You will need to provide your own ore and fuel.",maxInputs:3,inputs:[],consequence:(d,u)=>{if(u===j.MakeBrick){this.makeBricks(d);return}if(d.inputs.length<2)return;let v=d.inputs.find(g=>g.item?.subtype==="fuel"),y=d.inputs.find(g=>g.item?.type==="ore");v&&y&&y.quantity>0&&v.quantity>0&&(this.totalCrafts++,this.inventoryService.addItem(this.inventoryService.getBar(y.item?.value||1)),y.quantity--,v.quantity--)}},{id:"Basic Anvil",triggerActivities:[j.Blacksmithing],power:0,setupCost:1e4,maintenanceCost:100,description:"A simple anvil that will let you craft your own equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:1,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Heavy Anvil",triggerActivities:[j.Blacksmithing],power:1,setupCost:1e6,maintenanceCost:1e3,description:"A massive anvil that will let you craft more powerful equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:2,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Masterwork Anvil",triggerActivities:[j.Blacksmithing,j.ForgeChains],power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted anvil that will let you craft extremely powerful equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:3,inputs:[],consequence:(d,u)=>{u===j.ForgeChains?this.forgeChains(d):this.createEquipment(d,u)}},{id:"Basic Woodworking Bench",triggerActivities:[j.Woodworking],power:0,setupCost:1e4,maintenanceCost:100,description:"A simple woodworking workbench that will let you craft your own equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:1,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Advanced Woodworking Bench",triggerActivities:[j.Woodworking],power:1,setupCost:1e6,maintenanceCost:1e3,description:"A fully stocked woodworking workbench that will let you craft more powerful equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:2,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Masterwork Woodworking Bench",triggerActivities:[j.Woodworking,j.MakeScaffold],power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted woodworking workbench that will let you craft extremely powerful equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:3,inputs:[],consequence:(d,u)=>{u===j.MakeScaffold?this.makeScafold(d):this.createEquipment(d,u)}},{id:"Basic Leatherworking Station",triggerActivities:[j.Leatherworking],power:0,setupCost:1e4,maintenanceCost:100,description:"A simple leatherworking station that will let you craft your own equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:1,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Advanced Leatherworking Station",triggerActivities:[j.Leatherworking],power:1,setupCost:1e6,maintenanceCost:1e3,description:"A fully stocked leatherworking station that will let you craft more powerful equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:2,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Masterwork Leatherworking Station",triggerActivities:[j.Leatherworking],power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted leatherworking station that will let you craft extremely powerful equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:3,inputs:[],consequence:(d,u)=>{this.createEquipment(d,u)}},{id:"Basic Cauldron",triggerActivities:[j.Alchemy],power:0,setupCost:1e4,maintenanceCost:100,description:"A simple cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:2,inputs:[],consequence:(d,u)=>{this.craftAlchemy(d,u)},alchemyProduct:"potions"},{id:"Large Cauldron",triggerActivities:[j.Alchemy],power:1,setupCost:1e6,maintenanceCost:1e3,description:"A large cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:4,inputs:[],consequence:(d,u)=>{this.craftAlchemy(d,u)},alchemyProduct:"potions"},{id:"Enchanted Cauldron",triggerActivities:[j.Alchemy,j.MakeMortar],power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:6,inputs:[],consequence:(d,u)=>{u===j.MakeMortar?this.makeMortar(d):this.craftAlchemy(d,u)},alchemyProduct:"potions"},{id:"Cook Pot",triggerActivities:[j.Cooking],power:0,setupCost:100,maintenanceCost:10,description:"A simple cook pot to prepare meals.<br>You will need to provide your own ingredients.",maxInputs:2,inputs:[],consequence:d=>{this.cookFood(d,1)}},{id:"Roasting Spit",triggerActivities:[j.Cooking],power:1,setupCost:1e4,maintenanceCost:100,description:"A simple spit to roast your foods, letting you add more variety to your diet.<br>You will need to provide your own ingredients.",maxInputs:3,inputs:[],consequence:d=>{this.cookFood(d,2)}},{id:"Chef Kitchen",triggerActivities:[j.Cooking],power:2,setupCost:1e6,maintenanceCost:1e3,description:"A restaurant quality kitchen allowing you to make magnificent meals.<br>You will need to provide your own ingredients.",maxInputs:5,inputs:[],consequence:d=>{this.cookFood(d,3)}},{id:"Shopfront Booth",triggerActivities:[j.Merchant],power:0,setupCost:1e3,maintenanceCost:5,description:"A simple booth to display wares to sell.",maxInputs:2,inputs:[],consequence:d=>{this.merchantWork(d)}},{id:"Tiny Shop",triggerActivities:[j.Merchant],power:1,setupCost:1e4,maintenanceCost:100,description:"A tiny shop to display wares to sell.",maxInputs:6,inputs:[],consequence:d=>{this.merchantWork(d)}},{id:"Modest Store",triggerActivities:[j.Merchant],power:2,setupCost:1e6,maintenanceCost:500,description:"A lovely shop to display wares to sell.",maxInputs:10,inputs:[],consequence:d=>{this.merchantWork(d)}},{id:"Elaborate Emporium",triggerActivities:[j.Merchant],power:3,setupCost:1e9,maintenanceCost:1e3,description:"A massive store to display wares to sell.",maxInputs:16,inputs:[],consequence:d=>{this.merchantWork(d)}},{id:"Basic Formation Workstation",triggerActivities:[j.FormationCreation],power:1,setupCost:1e6,maintenanceCost:1e3,description:"A simple workspace where you can assemple flags, talismans, arrays, and other items and assemble them into kits that can support you in battle.",maxInputs:3,inputs:[],consequence:d=>{this.createFormationKit(d)}},{id:"Advanced Formation Workstation",triggerActivities:[j.FormationCreation],power:2,setupCost:1e8,maintenanceCost:1e4,description:"Am advanced workspace where you can assemple flags, talismans, arrays, and other items and assemble them into kits that can support you in battle.",maxInputs:4,inputs:[],consequence:d=>{this.createFormationKit(d)}},{id:"Masterwork Formation Workstation",triggerActivities:[j.FormationCreation],power:3,setupCost:1e9,maintenanceCost:1e5,description:"A workspace where you can assemple the most powerful flags, talismans, arrays, and other items and assemble them into kits that can support you in battle.",maxInputs:5,inputs:[],consequence:d=>{this.createFormationKit(d)}},{id:"Simple Infusion Station",triggerActivities:[j.InfuseEquipment],power:0,setupCost:1e8,maintenanceCost:1e4,description:"A workspace where you can infuse your equipment with the power and attributes of your gems.",maxInputs:1,inputs:[],equipmentSlot:"head",consequence:d=>{this.infuseEquipment(d)}},{id:"Advanced Infusion Station",triggerActivities:[j.InfuseEquipment],power:1,setupCost:1e9,maintenanceCost:1e5,description:"A more powerful workspace where you can infuse your equipment with the power and attributes of your gems.",maxInputs:1,inputs:[],equipmentSlot:"head",consequence:d=>{this.infuseEquipment(d)}},{id:"Masterwork Infusion Station",triggerActivities:[j.InfuseEquipment],power:2,setupCost:1e10,maintenanceCost:1e6,description:"A more powerful workspace where you can infuse your equipment with the power and attributes of your gems.",maxInputs:1,inputs:[],equipmentSlot:"head",consequence:d=>{this.infuseEquipment(d)}}],this.availableWorkstationsList=[],this.baguaMap=[["books","wood","purple","red","green"],["bed","trophy","fire","red","orange"],["bed","portrait","animal","earth","red","pink"],["portrait","fitness","animal","wood","green","blue"],["fitness","earth","yellow","brown"],["portrait","metal","white","pastel"],["books","spiritual","water","earth","blue","black","green"],["water","black"],["books","animal","metal","gray","white","black"]],this.displayHome={name:C(this.homesList[0].name),description:C(this.homesList[0].description),upgradable:C(!0),downgradable:C(!1),costPerDay:C(this.homesList[0].costPerDay),hasFurniture:C(!1),healthRecovery:C(0),staminaRecovery:C(0),qiRecovery:C(0)},this.nextHomeCostReduction=0,this.nextHomeCost=0,this.highestLand=0,this.highestLandPrice=100,this.bestHome=0,setTimeout(()=>this.hellService=this.injector.get(Fe)),setTimeout(()=>this.activityService=this.injector.get(Ue)),setTimeout(()=>this.followerService=this.injector.get(ut)),this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),this.home===void 0||this.homeValue===void 0||this.nextHome===void 0)throw Error("Home service not initialized correctly.");a.homeTickSubject.subscribe(()=>{this.tick()}),a.longTickSubject.subscribe(()=>{this.land>this.highestLand&&(this.highestLand=this.land),this.landPrice>this.highestLandPrice&&(this.highestLandPrice=this.landPrice),this.homeValue>this.bestHome&&(this.bestHome=this.homeValue),this.upgrading&&this.nextHome===this.home&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.home));let d=1,u=this.contemplationService.concepts.filter(v=>v.effect.includes(p_));for(let v of u)d*=Math.log10(10+v.progress);this.home.healthRecovery=this.home.baseHealthRecovery*d,this.home.staminaRecovery=this.home.baseStaminaRecovery*d,this.characterService.qiUnlocked?this.home.qiRecovery=this.home.baseQiRecovery*d:this.home.qiRecovery=0,this.displayHome.name.set(this.home.name),this.displayHome.description.set(this.home.description),this.displayHome.upgradable.set(this.homeValue!==this.homesList.length-1),this.displayHome.downgradable.set(this.homeValue!==0),this.displayHome.costPerDay.set(this.home.costPerDay),this.displayHome.hasFurniture.set(this.home.maxFurniture>0),this.displayHome.healthRecovery.set(this.home.healthRecovery),this.displayHome.staminaRecovery.set(this.home.staminaRecovery),this.displayHome.qiRecovery.set(this.home.qiRecovery)}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.keepHome?this.logService.log(w.EVENT,"You reincarnate as one of your own descendants, and your family recognizes you as the reborn heir to the family home as you age."):this.homeValue===st.SquatterTent&&this.grandfatherTent&&(this.logService.log(w.EVENT,"Your grandfather gives you a bit of land and helps you set up a tent on it."),this.setCurrentHome(this.nextHome)),this.characterService.fatherGift&&this.characterService.bloodlineRank<6&&(this.logService.log(w.EVENT,"Your father puts some coins in your purse as you begin your grand adventure."),this.characterService.updateMoney(2e3)),this.characterService.updateMoney(this.home.costPerDay*30)})}tick(){if(!this.characterService.dead){if(this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),!this.hellService?.inHell()||this.hellHome()){this.characterService.status.health.value+=this.home.healthRecovery,this.characterService.status.stamina.value+=this.home.staminaRecovery,this.characterService.status.qi.value+=this.home.qiRecovery,this.characterService.checkOverage();for(let e of this.bedroomFurniture)e?.use&&e?.use()}if(!this.hellService?.inHell()&&!this.characterService.god()){let e=0;for(let i of this.workstations)e+=i.maintenanceCost;e+=this.home.costPerDay,e>this.characterService.money?(this.logService.injury(w.EVENT,"You can't afford the upkeep on your home. Some thugs rough you up over the debt. You'd better start doing activities that make more money, fast, or you'll work yourself to death."),this.thugPause&&(this.logService.log(w.EVENT,"Game paused (you can change this in the schedule options)."),this.mainLoopService.togglePause(!0)),this.characterService.status.health.value-=20,this.characterService.updateMoney(0,!0)):this.characterService.updateMoney(0-e)}}}getProperties(){return{homeValue:this.homeValue,bedroomFurniture:this.bedroomFurniture,land:this.land,landPrice:this.landPrice,keepFurniture:this.keepFurniture,keepWorkstationInputs:this.keepWorkstationInputs,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture,highestLand:this.highestLand,highestLandPrice:this.highestLandPrice,bestHome:this.bestHome,thugPause:this.thugPause,hellHome:this.hellHome(),homeUnlocked:this.homeUnlocked,keepHome:this.keepHome,seeFurnitureEffects:this.seeFurnitureEffects,workstations:this.workstations,totalCrafts:this.totalCrafts,forgeChainsCounter:this.forgeChainsCounter,pillsMade:this.pillsMade,merchantAutobuyItem:this.merchantAutobuyItem}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.setCurrentHome(this.homesList[e.homeValue]),this.keepFurniture=e.keepFurniture||!1,this.keepWorkstationInputs=e.keepWorkstationInputs||!1,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(let i=0;i<e.bedroomFurniture.length;i++){let r=e.bedroomFurniture[i];r?this.bedroomFurniture[i]=this.itemRepoService.getFurnitureById(r.id):this.bedroomFurniture[i]=null}this.ownedFurniture=e.ownedFurniture||[],this.highestLand=e.highestLand||0,this.highestLandPrice=e.highestLandPrice||100,this.bestHome=e.bestHome||0,this.thugPause=e.thugPause||!1,this.hellHome.set(e.hellHome||!1),this.homeUnlocked=e.homeUnlocked||!1,this.keepHome=e.keepHome,this.seeFurnitureEffects=e.keepHome,this.totalCrafts=e.totalCrafts,this.forgeChainsCounter=e.forgeChainsCounter||0,this.pillsMade=e.pillsMade,this.merchantAutobuyItem=e.merchantAutobuyItem,this.workstations=[];for(let i of e.workstations)this.addWorkstation(i.id,i);this.recalculateFengShui()}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}getPreviousHome(){if(this.homeValue===st.SquatterTent)return this.home;for(let e=1;e<this.homesList.length;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e-1];return this.home}upgradeToNextHome(){this.upgrading||this.characterService.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.updateMoney(0-this.nextHomeCost),this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.log(w.EVENT,"You start upgrading your home to a "+this.nextHome.name))}downgradeHome(){for(this.upgrading&&(this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!1);this.workstations.length>0;)this.removeWorkstation(this.workstations[0]);for(let e=0;e<this.bedroomFurniture.length;e++)this.setFurniture(null,e);this.land+=this.home.landRequired,this.setCurrentHome(this.previousHome)}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.log(w.EVENT,"You finished upgrading your home. You now live in a "+this.home.name))}reset(){if(!this.keepHome)this.setCurrentHome(this.homesList[0]);else if(!this.keepWorkstationInputs)for(let e of this.workstations)for(let i of e.inputs)i.quantity=0;if(!this.keepFurniture){for(let e=0;e<this.bedroomFurniture.length;e++)this.bedroomFurniture[e]=null;this.recalculateFengShui(),this.ownedFurniture=[]}this.characterService.bloodlineRank<7&&(this.upgrading&&(this.land+=this.nextHome.landRequired),this.upgrading=!1,this.houseBuildingProgress=1),this.nextHomeCostReduction=0,this.keepHome?this.landPrice-=10*(this.land-1):this.landPrice=100,this.land=0}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.previousHome=this.getPreviousHome(),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory),this.availableWorkstationsList=this.workstationsList.filter(i=>i.power<=e.maxWorkstationPower),this.recalculateFengShui()}getHomeFromValue(e){for(let i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}buyLand(e){let i=10*(e*(e-1)/2),r=this.landPrice*e+i;return this.characterService.money>=r&&(this.characterService.updateMoney(0-r),this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){let i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}hasWorkstation(e){return this.workstations.find(i=>i.id.includes(e))!==void 0}setFurniture(e,i){if(e===null&&this.bedroomFurniture[i])this.bedroomFurniture[i]=null,this.openBedroomFurnitureSlots++;else if(e!==null&&this.bedroomFurniture[i])this.bedroomFurniture[i]=e;else if(e!==null&&!this.bedroomFurniture[i]){if(this.openBedroomFurnitureSlots<=0)return;this.bedroomFurniture[i]=e}this.recalculateFengShui()}recalculateFengShui(){this.openBedroomFurnitureSlots=this.home.maxFurniture;let e=0;for(let i=0;i<this.bedroomFurniture.length;i++){let r=this.bedroomFurniture[i];if(r){let o=0;if(this.openBedroomFurnitureSlots--,this.baguaMap[i].includes(r.subtype||"")&&o++,this.baguaMap[i].includes(r.color||"")&&o++,r.elements)for(let s of r.elements)this.baguaMap[i].includes(s)&&o++;let a=1;r.increaseAmount&&(a=r.increaseAmount),e+=o*a}}this.characterService.fengshuiScore=e}removeWorkstation(e){for(let r of e.inputs)r.item&&this.inventoryService.addItem(r.item,r.quantity);let i=this.workstations.indexOf(e);this.workstations.splice(i,1)}addWorkstation(e,i=null){if(this.workstations.length>=this.home.maxWorkstations)return;let r=this.workstationsList.find(({id:l})=>l===e);if(!r)return;let o=0;for(let l of this.workstations)l.id===e&&o++;let a=[];for(let l=0;l<r.maxInputs;l++)a.push(this.inventoryService.getEmptyItemStack());let s={index:this.workstations.length,name:e+" #"+(o+1),id:e,triggerActivities:r?.triggerActivities,power:r.power,setupCost:r.setupCost,maintenanceCost:r.maintenanceCost,description:r.description,maxInputs:r.maxInputs,inputs:a,equipmentSlot:r.equipmentSlot,consequence:r.consequence,alchemyProduct:r.alchemyProduct};i&&(s.inputs=i.inputs,s.equipmentSlot=i.equipmentSlot,s.alchemyProduct=i.alchemyProduct),this.workstations.push(s)}triggerWorkstations(e,i=1){for(let r=0;r<i;r++)for(let o of this.workstations)o.triggerActivities.includes(e)&&o.consequence(o,e)}moveItemToWorkstation(e,i,r){if(this.inventoryService.itemStacks[e].item)if(this.workstations[i].inputs[r].item){if(this.workstations[i].inputs[r].item?.name===this.inventoryService.itemStacks[e].item?.name){let o=this.inventoryService.maxStackSize-this.workstations[i].inputs[r].quantity;this.inventoryService.itemStacks[e].quantity<o?(this.workstations[i].inputs[r].quantity+=this.inventoryService.itemStacks[e].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack()):(this.workstations[i].inputs[r].quantity+=o,this.inventoryService.itemStacks[e].quantity-=o);return}if(this.workstations[i].inputs[r].quantity===0)this.workstations[i].inputs[r]=this.inventoryService.itemStacks[e],this.workstations[i].inputs[r].id=i+"_"+r+this.workstations[i].inputs[r].item.name+this.workstations[i].inputs[r].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack();else{let o=this.inventoryService.itemStacks[e];this.inventoryService.itemStacks[e]=this.workstations[i].inputs[r],this.workstations[i].inputs[r]=o,this.workstations[i].inputs[r].id=i+"_"+r+this.workstations[i].inputs[r].item.name+this.workstations[i].inputs[r].quantity,this.inventoryService.fixId(e)}}else this.workstations[i].inputs[r]=this.inventoryService.itemStacks[e],this.workstations[i].inputs[r].id=i+"_"+r+this.workstations[i].inputs[r].item.name+this.workstations[i].inputs[r].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack()}chefsWork(e){if(e<1)return;let i=this.workstations.filter(r=>r.triggerActivities.includes(j.Cooking));for(let r of i)this.cookFood(r,e)}cookFood(e,i=1){if(e.inputs.length<2)return;let r=1,o=this.contemplationService.concepts.filter(S=>S.effect.includes(Ro));for(let S of o)r+=Math.log10(10+S.progress);let a=[],s=[],l=0;for(let S of e.inputs)S.item&&S.item.type==="food"&&S.item.subtype!=="meal"&&!a.includes(S.item.id)&&S.quantity>=i&&(a.push(S.item.id),S.item.subtype&&!s.includes(S.item.subtype)&&s.push(S.item.subtype),l+=S.item.value,S.quantity-=i);if(l<1)return;l*=a.length,l*=s.length,l*=e.power+1;let c=this.activityService?.getActivityByType(j.Cooking)?.level||0,d="meal",u="Menu Special #"+l,v=!1,y="your body";c>0&&(l*=4,d="soulfood",u="Soul Food Special #"+l,y="your body and soul",v=!0);let g="meal"+l;this.totalCrafts++,this.inventoryService.addItem({id:u,imageFile:d,name:u,type:"food",subtype:"meal",value:l,description:"A home-made meal that can nourish "+y+" much more than raw ingredients.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,pouchable:v,effect:g,shopable:!1},i*r)}forgeChains(e){let i=e.inputs.find(o=>o.item?.type==="metal");if(this.characterService.attributes.metalLore.value<1e9){this.logService.injury(w.EVENT,"You lack the necessary knowledge and cause a deadly explosion."),this.characterService.status.health.value-=this.characterService.status.health.max*.6,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(!i||i.quantity<10||(i.item?.value||0)<150){this.logService.injury(w.EVENT,"You fumble with the wrong tools and materials and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let r=e.inputs.find(o=>o.item?.type===J);if(!r||r.quantity<10||(r.item?.value||0)<200){this.logService.injury(w.EVENT,"You think you have the right metal, but you'll need something to imbue it with additional strength."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.forgeChainsCounter++,i.quantity-=10,r.quantity-=10,this.forgeChainsCounter>=10?(this.logService.log(w.CRAFTING,"Your anvil gives off an ear-splitting ring and echoes endlessly into the depths. The new chain glows with power!"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain),this.forgeChainsCounter=0):this.logService.log(w.CRAFTING,"Your anvil rings and weakly echoes into the depths. You throw aside the useless dull chain, but you think you are on the right track.")}makeMortar(e){let i=e.inputs.find(s=>s.item?.type==="ore");if(!i||(i.item?.value||0)<10||i.quantity<100){this.logService.injury(w.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let r=e.inputs.find(s=>s.item?.type==="hide");if(!r||r.quantity<10||(r.item?.value||0)<100){this.logService.injury(w.EVENT,"You think you have the right ore to make mortar, but you'll need something to give the mortar additional elasticity. Something strong, yet flexible."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let o=e.inputs.find(s=>s.item?.type===J);if(!o||o.quantity<10||(o.item?.value||0)<250){this.logService.injury(w.EVENT,"You think you have the right materials to make mortar, but you'll need something to imbue the mixture with additional strength."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let a=Math.floor((this.followerService.jobs.builder.totalPower+100)/100);if(a<10){this.logService.injury(w.EVENT,"You try mixing the cauldron of mortar, but lack the required experience with building materials to do it properly. You might need some help."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}i.quantity-=100,r.quantity-=10,o.quantity-=10,this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,a),this.logService.log(w.CRAFTING,"You and your followers made some "+this.itemRepoService.items.everlastingMortar.name)}makeBricks(e){let i=e.inputs.find(l=>l.item?.type==="ore");if(!i||(i.item?.value||0)<10||i.quantity<200){this.logService.injury(w.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let r=e.inputs.findIndex(l=>l.item?.subtype==="fuel");if(r===-1){this.logService.injury(w.EVENT,"Your brick-making smelter remains inert without fuel."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let o=e.inputs[r];if(!o||(o.item?.value||0)<10){this.logService.injury(w.EVENT,"You fumble with the wrong fuels and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(o.quantity<2e3){let l=this.inventoryService.itemStacks.findIndex(c=>c?.item?.id===o.item?.id);if(l!==-1&&this.moveItemToWorkstation(l,this.workstations.indexOf(e),r),o.quantity<2e3){o.quantity=0,this.logService.injury(w.EVENT,"Your smelter sputters out, lacking the vast amounts of fuel it needs."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}}let a=e.inputs.find(l=>l.item?.type===J);if(!a||a.quantity<10||(a.item?.value||0)<250){this.logService.injury(w.EVENT,"You think you have the right ore to make bricks, but you'll need something to imbue the mixture with additional strength."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let s=Math.floor((this.followerService.jobs.builder.totalPower+100)/100);if(s<10){this.logService.injury(w.EVENT,"You try forming the bricks in your smelter, but lack the required experience with building materials to do it properly. You might need some help."),this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}i.quantity-=200,o.quantity-=2e3,a.quantity-=10,this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,s),this.logService.log(w.CRAFTING,"You and your followers baked a batch of "+this.itemRepoService.items.everlastingBrick.name+"s")}makeScafold(e){let i=e.inputs.find(r=>r.item?.type==="wood");if(!i||(i.item?.value||0)<12||i.quantity<200){this.logService.injury(w.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.activityService?.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}i.quantity-=200,this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.log(w.CRAFTING,"You made "+this.itemRepoService.items.scaffolding.name)}createEquipment(e,i){if(e.inputs.length<1)return;let r="metal";i===j.Woodworking?r="wood":i===j.Leatherworking&&(r="hide");let o=this.activityService?.getActivityByType(i)?.level||0,a=e.inputs.find(c=>c.item?.type===r),s=e.inputs.find(c=>c.item?.type===J),l=e.inputs.find(c=>c.item?.type!==r&&(c.item?.type==="wood"||c.item?.type==="metal"||c.item?.type==="hide"));if(a&&a.quantity>=10){let c=(a?.item?.value||1)+e.power*5;a.item?.type==="wood"?c+=Math.log10(this.characterService.attributes.woodLore.value):a.item?.type==="metal"&&(c+=Math.log10(this.characterService.attributes.metalLore.value)),c+=o,s&&s.quantity>0&&this.inventoryService.useSpiritGemUnlocked&&(c+=s?.item?.value||1,s.quantity--),l&&l.quantity>0&&(c+=l?.item?.value||1,l.quantity--),this.totalCrafts++;let d;i===j.Leatherworking?d=this.inventoryService.generateArmor(c,this.inventoryService.randomArmorSlot()):d=this.inventoryService.generateWeapon(c,r),this.inventoryService.addItem(d,1,0,!0,!0),a.quantity-=10}}craftAlchemy(e,i){if(e.inputs.length<1)return;let r=0,o=this.activityService?.getActivityByType(i)?.level||0;this.totalCrafts++,e.productCounter=(e.productCounter||0)+1;let a=e.inputs.filter((l,c,d)=>{for(let u=0;u<c;u++)if(d[u].item?.subtype===l.item?.subtype)return!1;return l.item?.type==="herb"&&l.item.subtype&&l.item.attribute&&l.quantity>0}),s=e.inputs.find(l=>l.item?.type===J&&l.quantity>0);if(e.alchemyProduct==="attribute pills"){if(e.productCounter<this.pillCraftsRequired)return;e.productCounter=0;let l=e.inputs.find(u=>u.item?.type==="pillMold"&&u.quantity>0),c=e.inputs.find(u=>u.item?.type==="pillBox"&&u.quantity>0),d=e.inputs.find(u=>u.item?.type==="pillPouch"&&u.quantity>0);if(l&&c&&d&&(s||o>2))this.inventoryService.generateEmpowermentPill(),l.quantity--,c.quantity--,d.quantity--,s&&s.quantity--;else{let u={},v="",y="";for(let Y of a){let ge=Y.item.attribute;u[ge]?u[ge]++:u[ge]=1,(!u[v]||ge!==v&&u[ge]>=u[v])&&(y=v,v=ge)}for(let Y of a)(Y.item.attribute===v||Y.item.attribute===y)&&(r+=Y.item.value,Y.quantity--);if(r<1)return;let g=1;s&&(s.quantity--,g+=1+Math.log2(s.item.value/10)),g+=u[v]*u[v],y===""?g*=Math.max(2.5,u[v]):g+=u[y]*u[y],r=Math.ceil(r*g);let S=Math.ceil(r/10),P=this.getPillName(v,y),M=this.getPillPrefix(S)+" "+P;this.logService.log(w.CRAFTING,"Alchemy Success! Created a "+M+". Keep up the good work.");let z=v,G=v;y!==""&&(z+=" and "+y,G+=","+y),this.inventoryService.addItem({name:M,imageFile:P,id:"pill"+G+S*10,type:"pill",value:S*10,description:"A magical pill that increases your "+z,useLabel:"Swallow",useDescription:"Use to increase your attributes.",useConsumes:!0,effect:G,increaseAmount:S,shopable:!1}),this.pillsMade++}}else if(e.alchemyProduct==="longevity pills"){if(e.productCounter<this.pillCraftsRequired*10||o<3&&!s)return;e.productCounter=0;let l=0;for(let u of a)l+=u.item.value,u.quantity--;if(l<1)return;o>=3&&s&&(l*=s.item.value),s&&s.quantity--;let c=Math.ceil(l/5),d=this.getPillPrefix(c)+" Everflowing Fountain Pill";this.logService.log(w.CRAFTING,"Alchemy Success! Created a "+d+". Keep up the good work."),this.inventoryService.addItem({name:d,imageFile:"longevitypill",id:"pilllongevity"+c*10,type:"pill",value:c*10,description:"A magical pill that increases your lifespan.",useLabel:"Swallow",useDescription:"Use to increase your lifespan",useConsumes:!0,effect:"longevity",increaseAmount:c,shopable:!1})}else{for(let l of a)r+=l.item.value*.5,l.quantity--;if(r<1)return;this.inventoryService.generatePotion(r)}}getPillPrefix(e){return e<10?"Weak":e<100?"Simple":e<1e3?"Potent":e<1e6?"Powerful":e<1e12?"Amazing":"Heavenly"}getPillName(e,i){return e==="strength"&&i==="toughness"||i==="strength"&&e==="toughness"?"Fatty Ox Belly Pill":e==="strength"&&i==="speed"||i==="strength"&&e==="speed"?"Seven Jumping Crickets Pill":e==="strength"&&i==="intelligence"||i==="strength"&&e==="intelligence"?"Bulging Root Stem Pill":e==="strength"&&i==="charisma"||i==="strength"&&e==="charisma"?"Glistening Five Oils Pill":e==="toughness"&&i==="speed"||i==="toughness"&&e==="speed"?"Charging Horns Pill":e==="toughness"&&i==="intelligence"||i==="toughness"&&e==="intelligence"?"Gleaming Diamond Pill":e==="toughness"&&i==="charisma"||i==="toughness"&&e==="charisma"?"Shining Citadel Pill":e==="speed"&&i==="intelligence"||i==="speed"&&e==="intelligence"?"Racing Viper Pill":e==="speed"&&i==="charisma"||i==="speed"&&e==="charisma"?"Bright Rabbit Tail Pill":e==="intelligence"&&i==="charisma"||i==="intelligence"&&e==="charisma"?"Brilliant Jade Owl Pill":e==="strength"?"Hulking Gorilla Pill":e==="toughness"?"Cantankerous Tortoise Pill":e==="speed"?"Six Winds Pill":e==="intelligence"?"Amber Dream Pill":e==="charisma"?"Glowing Fox Skin Pill":"Unknown Mystery Pill"}createFormationKit(e){let i=e.inputs.find(c=>c.item?.type==="wood"&&c.quantity>=10),r=e.inputs.find(c=>c.item?.type==="hide"&&c.quantity>=10),o=e.inputs.find(c=>c.item?.type===J&&c.quantity>=10);if(!i||!r||!o)return;let a=e.inputs.find(c=>c.item?.type==="metal"&&c.quantity>=10),s=e.inputs.find(c=>(c.item?.type==="potion"||c.item?.type==="pill"||c.item?.type==="herb")&&c.quantity>=10),l=(i.item?.value||0)*.1+(r.item?.value||0)*.1+(o.item?.value||0)+(a?.item?.value||0)*.1+(s?.item?.value||0);l*=e.power,l=Math.floor(l),this.inventoryService.addItem(this.inventoryService.generateFormationKit(l),1,0,!0),i.quantity-=10,r.quantity-=10,o.quantity-=10,a&&(a.quantity-=10),s&&(s.quantity-=10)}infuseEquipment(e){if(!e.equipmentSlot)return;let i=this.characterService.equipment[e.equipmentSlot],r=e.inputs.find(a=>a.item?.type===J&&a.quantity>0),o=r?.item?.value||0;o>0&&i&&(this.inventoryService.upgradeEquipment(i,Math.pow(o*(1+e.power)/10,2.4),r?.item?.subtype),r.quantity--)}merchantWork(e){let i=this.activityService?.getActivityByType(j.Merchant)?.level||0;for(let r of e.inputs)if(r.item?.value&&r.item?.value>0&&r.item?.value!==1/0&&r.quantity>0){let o=10-9*Math.exp(-.1*Math.log10(this.characterService.attributes.haggling.value));o<1&&(o=1),o*=1+i*.2,o*=1+e.power*.3,this.characterService.updateMoney(r.item.value*o),r.quantity--,r.item.shopable&&(this.inventoryService.soldGoods[r.item.id]=(this.inventoryService.soldGoods[r.item.id]||0)+10)}if(i>=3&&this.characterService.updateMoney(this.characterService.money*273e-9),this.merchantAutobuyItem)if(this.merchantAutobuyItem==="land")this.buyLand(1);else{let r=this.itemRepoService.getItemById(this.merchantAutobuyItem);if(r){let o=r.value*10;this.characterService.money>o&&(this.inventoryService.addItem(r,1),this.characterService.updateMoney(0-o))}}}changeWorkstationEquipmentSlot(e){if(!e.equipmentSlot)return;let i=["head","body","legs","feet","rightHand","leftHand"],r=i.indexOf(e.equipmentSlot);r++,r>=i.length&&(r=0),e.equipmentSlot=i[r]}changeWorkstationAlchemyProduct(e){if(!e.alchemyProduct)return;let i=this.activityService?.getActivityByType(j.Alchemy)?.level||0;e.alchemyProduct==="potions"?e.alchemyProduct="attribute pills":e.alchemyProduct==="attribute pills"&&i>=2?e.alchemyProduct="longevity pills":e.alchemyProduct="potions"}getFurnitureSlotTooltip(e){let i="";if(this.seeFurnitureEffects){i+="This space facilitates the Feng Shui of your home when its furniture aligns with:";for(let o of this.baguaMap[e])i+="<br>"+this.titleCasePipe.transform(o);i+="<br>"}this.openBedroomFurnitureSlots>0&&(i+="Click to set which furniture should be placed here.");let r=this.bedroomFurniture[e];return r&&(i+="<br><br>"+this.getFurnitureTooltip(r)),i}getFurnitureTooltip(e){let i="";if(i=e.description,this.seeFurnitureEffects&&(i+="<br>Feng Shui Properties:",e.subtype&&(i+="<br>"+this.titleCasePipe.transform(e.subtype)),e.color&&(i+="<br>Color: "+this.titleCasePipe.transform(e.color)),e.elements)){i+="<br>Elements: ";for(let r of e.elements)i+=this.titleCasePipe.transform(r)+", ";i=i.substring(0,i.length-2)}return i}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(ae),L(se),L(St),L(pe),L(oi),L(pi),L(yt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ue=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d,u,v,y){this.injector=e,this.characterService=i,this.inventoryService=r,this.homeService=o,this.farmService=a,this.mainLoopService=s,this.itemRepoService=l,this.battleService=c,this.logService=d,this.followerService=u,this.impossibleTaskService=v,this.contemplationService=y,this.camelToTitle=new Pt,this.activityLoop=[],this.savedActivityLoops=[],this.loopChangeTriggers=[],this.triggerIndex=0,this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnImpossibleFail=!0,this.pauseOnDeath=!0,this.pauseBeforeDeath=!1,this.beforeDeathPauseUsed=!1,this.displayActivities=[],this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.displayCurrentIndex=C(0),this.currentTickCount=0,this.displayCurrentTickCount=C(0),this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=void 0,this.activityDeath=!1,this.autoRestUnlocked=!1,this.totalExhaustedDays=0,this.spiritActivityProgress=!1,this.purifyGemsUnlocked=!1,this.immediateActivity=null,this.lifeActivities={},this.familySpecialty=null,this.supportedSpecialties=[j.Begging,j.Cooking,j.Blacksmithing,j.Alchemy,j.Woodworking,j.Leatherworking],this.tauntCounter=0,this.pillMoldCounter=0,this.pillBoxCounter=0,this.pillPouchCounter=0,this.researchWindCounter=0,this.miningCounter=0,this.huntingCounter=0,this.fishingCounter=0,this.recruitingCounter=0,this.petRecruitingCounter=0,this.coreCultivationCounter=0,this.currentRealm=ie.MortalRealm,this.currentRealmDisplay=C(h_[ie.MortalRealm]),this.incomeMultiplier=1,this.hiddenActivities=[],this.activityOptionsUnlocked=C(!1),this.displayedActivitiesCount=0,this.Swim={level:0,name:["Swim Deeper"],location:I.DeepSea,impossibleTaskIndex:fe.Swim,imageBaseName:"swim",activityType:j.Swim,description:["Swim down further into the depths."],yinYangEffect:[te.None],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.status.stamina.value-=20,this.characterService.status.health.value-=100,this.impossibleTaskService.taskProgress[fe.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.Swim].complete&&this.logService.log(w.STORY,"You dove all the way to the bottom of the ocean, through a hidden tunnel that led impossibly deep, and found the mythical sunken island.")}],resourceUse:[{stamina:20}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,location:I.LargeCity,impossibleTaskIndex:fe.RaiseIsland,name:["Forge Unbreakable Chain"],imageBaseName:"forgechains",activityType:j.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],yinYangEffect:[te.None],consequenceDescription:["Uses 100 Stamina. If you have the right facilities, materials, and knowledge you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.homeService.workstations.find(S=>S.triggerActivities.includes(j.ForgeChains))===void 0&&this.logService.log(w.EVENT,"You think about forging chains, but you don't have the right workstation to even get started.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],location:I.DeepSea,impossibleTaskIndex:fe.RaiseIsland,imageBaseName:"attachchains",activityType:j.AttachChains,description:["Swim deep and attach one of your chains to the island, then pull."],yinYangEffect:[te.None],consequenceDescription:["Uses nearly a million Stamina. These chains are really, REALLY heavy. You better plan on having an Unbreakable Chain and a good place to rest afterwards."],consequence:[()=>{this.inventoryService.consume("chain")>0?this.characterService.status.stamina.value>=999e3?(this.characterService.status.stamina.value-=999e3,this.logService.log(w.EVENT,"You attach a chain to the island, and give your chains a long, strenuous tug."),this.impossibleTaskService.taskProgress[fe.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.RaiseIsland].complete&&this.logService.log(w.STORY,"With a mighty pull on the chains, the island comes loose. You haul it to the surface.")):(this.logService.injury(w.EVENT,"You strain yourself trying to lug the chain to an anchor point and collapse."),this.characterService.status.stamina.value-=999e3,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0))):(this.logService.injury(w.EVENT,"You pass time exploring the hidden tunnels without a chain until a horror of the depths takes a nibble."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0)))}],resourceUse:[{stamina:999e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],location:I.LargeCity,impossibleTaskIndex:fe.BuildTower,imageBaseName:"makebrick",activityType:j.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],yinYangEffect:[te.None],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.homeService.workstations.find(S=>S.triggerActivities.includes(j.MakeBrick))===void 0&&this.logService.log(w.EVENT,"You think about making bricks, but you don't have the right workstation to even get started.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],location:I.LargeCity,impossibleTaskIndex:fe.BuildTower,imageBaseName:"scaffolding",activityType:j.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.status.stamina.value-=1e3,this.homeService.workstations.find(S=>S.triggerActivities.includes(j.MakeScaffold))===void 0&&this.logService.log(w.EVENT,"You think about making a scaffold, but you don't have the right workstation to even get started.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],location:I.LargeCity,impossibleTaskIndex:fe.BuildTower,imageBaseName:"makemortar",activityType:j.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],yinYangEffect:[te.None],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.homeService.workstations.find(S=>S.triggerActivities.includes(j.MakeMortar))===void 0&&this.logService.log(w.EVENT,"You think about making mortar, but you don't have the right workstation to even get started.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],location:I.LargeCity,impossibleTaskIndex:fe.BuildTower,imageBaseName:"buildtower",activityType:j.BuildTower,description:["Assemble bricks, mortar, and scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.status.stamina.value-=1e3;let g=0;for(let P of this.followerService.followers)P.job==="builder"&&g++;if(g<10){this.logService.injury(w.EVENT,"You fumble without the proper help and hurt yourself."),this.characterService.status.health.value-=this.characterService.status.health.max*.05,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}let S=0;if(S=this.inventoryService.consume("scaffolding"),S<1){this.logService.injury(w.EVENT,"You try building without a scaffolding, but it ends in a disaster and you are badly hurt."),this.characterService.status.health.value-=this.characterService.status.health.max*.2,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(S=0,S=this.inventoryService.consume("mortar",400),S<1){this.logService.injury(w.EVENT,"You try building without enough mortar, but it ends in a disaster and you are hurt."),this.characterService.status.health.value-=this.characterService.status.health.value*.2,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(S=0,S=this.inventoryService.consume("brick",200),S<1){this.logService.injury(w.EVENT,"You try building without enough bricks, but it ends in a disaster and you are hurt."),this.characterService.status.health.value-=this.characterService.status.health.value*.2,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.impossibleTaskService.taskProgress[fe.BuildTower].progress++,this.impossibleTaskService.checkCompletion()}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],location:I.MountainTops,impossibleTaskIndex:fe.TameWinds,imageBaseName:"researchwind",activityType:j.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina and Qi. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{if(this.characterService.status.stamina.value-=1e3,this.characterService.status.qi.value-=1e3,this.characterService.status.stamina.value<0||this.characterService.status.qi.value<0){this.logService.log(w.EVENT,"You try to research, but you just don't have the energy.");return}this.characterService.status.stamina.value>=0&&this.characterService.status.qi.value>=0&&(this.researchWindCounter++,this.researchWindCounter>100&&(this.logService.log(w.CRAFTING,"Research breakthrough! You produce a tome!."),this.inventoryService.addItem(this.itemRepoService.items.windTome),this.researchWindCounter=0))}],resourceUse:[{stamina:1e3,qi:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],location:I.MountainTops,impossibleTaskIndex:fe.TameWinds,imageBaseName:"tamewind",activityType:j.TameWinds,description:["Use your research to tame the winds."],yinYangEffect:[te.None],consequenceDescription:["Uses 10000 Stamina and Qi and an obscene amount of money. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.status.stamina.value-=1e4,this.characterService.status.qi.value-=1e4,this.characterService.money<1e18&&(this.logService.injury(w.EVENT,"You try to tame the winds, but without the proper funds you can't begin the magical ritual."),this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0))),this.characterService.updateMoney(0-1e18);let g=0;g=this.inventoryService.consume("windTome"),g>0?(this.impossibleTaskService.taskProgress[fe.TameWinds].progress++,this.logService.log(w.EVENT,"You feel yourself drawing closer to mastery over the winds."),this.impossibleTaskService.checkCompletion()):(this.logService.injury(w.EVENT,"You try to tame the winds, but without the proper preparation you are blown off the top of the tower."),this.characterService.status.health.value-=this.characterService.status.health.max*.5,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0)))}],resourceUse:[{stamina:1e4,qi:1e4}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],location:I.MountainTops,impossibleTaskIndex:fe.LearnToFly,imageBaseName:"learntofly",activityType:j.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],yinYangEffect:[te.None],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[fe.LearnToFly].progress++,this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<2222?(this.logService.injury(w.EVENT,"Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something."),this.characterService.status.health.value-=1e4):this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<4444?(this.logService.injury(w.EVENT,"You feel like you might have flown a litte bit, somewhere near the time you hit the ground."),this.characterService.status.health.value-=5e3):this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<6666?(this.logService.injury(w.EVENT,"You definitely did better that time. You did some great flying but sticking the landing is still tricky."),this.characterService.status.health.value-=1e3):(this.logService.injury(w.EVENT,"Almost there! Perfect landings are so hard."),this.characterService.status.health.value-=100),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.LearnToFly].complete&&this.logService.log(w.STORY,"Your mastery of flight could take you far, even to where ancient dragons live.")}],resourceUse:[{health:1001}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],location:I.MountainTops,impossibleTaskIndex:fe.BefriendDragon,imageBaseName:"offerfood",activityType:j.OfferDragonFood,description:["It turns out that dragons love a well-prepared meal. Bring the dragon a bunch and he may be more friendly."],yinYangEffect:[te.None],consequenceDescription:["You will need a great deal of fine food for this to work."],consequence:[()=>{let g=0;if(g=this.inventoryService.consume("food",1e3),g<5e4){this.logService.injury(w.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.status.health.value-=this.characterService.status.health.max*.9,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<2e3?(this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++,this.logService.log(w.EVENT,"The dragon accepts your offering. You think. It eats the food anyway, and doesn't attack you while doing it.")):this.logService.log(w.EVENT,"The dragon doesn't seem interested in any more food.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],location:I.MountainTops,impossibleTaskIndex:fe.BefriendDragon,imageBaseName:"offergold",activityType:j.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],yinYangEffect:[te.None],consequenceDescription:["You will need a vast hoard of taels for this to work."],consequence:[()=>{if(this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<1e3){this.logService.log(w.EVENT,"The dragon is offended by your very presence and viciously attacks you. You'll need to warm him up with different offerings before you try this again."),this.characterService.status.health.value-=this.characterService.status.health.max*.9,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(this.characterService.money<1e21){this.logService.injury(w.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.status.health.value-=this.characterService.status.health.max*.9,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.characterService.updateMoney(0-1e21),this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++:this.logService.log(w.EVENT,"The dragon doesn't seem interested in any more money.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],location:I.MountainTops,impossibleTaskIndex:fe.BefriendDragon,imageBaseName:"talktodragon",activityType:j.TalkToDragon,description:["Try to strike up a conversation with the dragon."],yinYangEffect:[te.None],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<1e3){this.logService.log(w.EVENT,"The dragon is offended by your very presence and viciously attacks you. You'll need to warm him up with offerings before you try this again."),this.characterService.status.health.value-=this.characterService.status.health.max*.9,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(this.characterService.attributes.charisma.value<5e16){this.logService.injury(w.EVENT,"The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first."),this.characterService.status.health.value-=1e4,this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<3500){this.logService.log(w.EVENT,"The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.");return}this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion()}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],location:I.LargeCity,impossibleTaskIndex:fe.ConquerTheNation,imageBaseName:"gatherarmy",activityType:j.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],yinYangEffect:[te.None],consequenceDescription:["You rule a province by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<st.Capital){this.logService.injury(w.EVENT,"You don't even have your own province? What were you thinking? The nearby nobles send their forces against you.");for(let S=0;S<3;S++)this.battleService.addArmy();return}let g=0;if(g=this.inventoryService.consume("food",1e5,!0),g<1){this.logService.injury(w.EVENT,"You don't have enough food to feed your army, so they revolt and fight you instead."),this.battleService.addArmy(),this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}if(this.characterService.money<1e22){this.logService.injury(w.EVENT,"You don't have enough money to pay your army, so they revolt and fight you instead."),this.battleService.addArmy(),this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.characterService.updateMoney(0-1e22),this.inventoryService.addItem(this.itemRepoService.items.army)}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheNation={level:0,name:["Conquer More Territory"],location:I.LargeCity,impossibleTaskIndex:fe.ConquerTheNation,imageBaseName:"conquer",activityType:j.ConquerTheNation,description:["Send out your armies to conquer the nation."],yinYangEffect:[te.None],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let g=0;if(g=this.inventoryService.consume("army",this.impossibleTaskService.taskProgress[fe.ConquerTheNation].progress+1),g<1){for(let S=0;S<5;S++)this.battleService.addArmy();this.logService.log(w.EVENT,"Your armies failed you, and you are forced to fight the enemy armies to a standstill."),this.pauseOnImpossibleFail&&(this.logService.log(w.EVENT,"An attempt at an impossible task has failed. Game paused."),this.mainLoopService.togglePause(!0));return}this.impossibleTaskService.taskProgress[fe.ConquerTheNation].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.ConquerTheNation].complete&&this.logService.log(w.STORY,"You conquered the nation! You will surely bring an end to cruelty and strife for all under your wise rule.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],location:I.Self,impossibleTaskIndex:fe.RearrangeTheStars,imageBaseName:"movestars",activityType:j.MoveStars,description:["Extend your vast magical powers into the heavens and force the stars into alignment."],yinYangEffect:[te.None],consequenceDescription:["Uses 900,000 Stamina and 50,000 Qi."],consequence:[()=>{this.characterService.status.stamina.value-=9e5,this.characterService.status.qi.value-=5e4,this.characterService.status.stamina.value>=0&&this.characterService.status.qi.value>=0&&(this.impossibleTaskService.taskProgress[fe.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.RearrangeTheStars].complete&&this.logService.log(w.STORY,"You are so near to achieving immortality you can almost taste it. It tastes like peaches."))}],resourceUse:[{stamina:9e5,qi:5e4}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],location:I.SmallTown,imageBaseName:"oddjobs",activityType:j.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],yinYangEffect:[te.None],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.increaseAttribute("strength",.02),this.characterService.increaseAttribute("toughness",.02),this.characterService.increaseAttribute("speed",.02),this.characterService.increaseAttribute("intelligence",.02),this.characterService.increaseAttribute("charisma",.02),this.characterService.status.stamina.value-=5;let g=this.characterService.updateMoney(3);this.OddJobs.lastIncome=g,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity","Finding True Inner Peace"],location:I.Self,imageBaseName:"resting",activityType:j.Resting,yinYangEffect:[te.Yin,te.Yin,te.Yin,te.Balance],description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spiritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities.","Turn your senses inward and find pure stillness within."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Qi (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Qi (if unlocked).","Restores 300 Stamina, 30 Health, and 20 Qi (if unlocked)."],consequence:[()=>{this.characterService.status.stamina.value+=50,this.characterService.status.health.value+=2,this.characterService.checkOverage(),this.characterService.yin++},()=>{this.characterService.status.stamina.value+=100,this.characterService.status.health.value+=10,this.characterService.increaseAttribute("spirituality",.001),this.characterService.qiUnlocked&&(this.characterService.status.qi.value+=1),this.characterService.checkOverage(),this.characterService.yin++,this.contemplationService.tick(1)},()=>{this.characterService.status.stamina.value+=200,this.characterService.status.health.value+=20,this.characterService.status.qi.value+=10,this.characterService.increaseAttribute("spirituality",.5),this.characterService.checkOverage(),this.characterService.yin++,this.contemplationService.tick(5)},()=>{this.characterService.status.stamina.value+=300,this.characterService.status.health.value+=30,this.characterService.status.qi.value+=20,this.characterService.increaseAttribute("spirituality",1),this.characterService.checkOverage(),this.characterService.yin>this.characterService.yang?this.characterService.yang++:this.characterService.yin++,this.contemplationService.tick(10)}],resourceUse:[{},{},{},{}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4},{strength:1e21,speed:1e21,charisma:1e21,intelligence:1e21,toughness:1e21,spirituality:1e21,fireLore:1e18,waterLore:1e18,earthLore:1e18,metalLore:1e18,woodLore:1e18}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],location:I.SmallTown,imageBaseName:"begging",activityType:j.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],yinYangEffect:[te.Yang,te.Yang,te.Yang,te.Yang],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder if there is more to life than just money and fame."],consequence:[()=>{this.characterService.increaseAttribute("charisma",.1),this.characterService.increaseAttribute("performance",.1),this.characterService.status.stamina.value-=5;let g=3+Math.log2(this.characterService.attributes.charisma.value);this.familySpecialty===j.Begging&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Begging.lastIncome=g,this.beggingDays++,this.characterService.yang++},()=>{this.characterService.increaseAttribute("charisma",.2),this.characterService.increaseAttribute("performance",.1),this.characterService.status.stamina.value-=5;let g=10+Math.log2(this.characterService.attributes.charisma.value);this.familySpecialty===j.Begging&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Begging.lastIncome=g,this.beggingDays++,this.characterService.yang++},()=>{this.characterService.increaseAttribute("charisma",.3),this.characterService.increaseAttribute("performance",.1),this.characterService.status.stamina.value-=5;let g=20+Math.log2(this.characterService.attributes.charisma.value*2);this.familySpecialty===j.Begging&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Begging.lastIncome=g,this.beggingDays++,this.characterService.yang++},()=>{this.characterService.increaseAttribute("charisma",.5),this.characterService.increaseAttribute("performance",.1),this.characterService.status.stamina.value-=5;let g=30+Math.log2(this.characterService.attributes.charisma.value*10);this.familySpecialty===j.Begging&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Begging.lastIncome=g,this.beggingDays++,this.characterService.yang++}],resourceUse:[{stamina:5},{stamina:5},{stamina:5},{stamina:5}],requirements:[{charisma:3},{charisma:100,performance:100},{charisma:5e3,performance:1e4},{charisma:1e4,performance:1e6}],unlocked:!1,skipApprenticeshipLevel:0},this.Cooking={level:0,name:["Cooking","Soul Food Preparation"],location:I.SmallTown,imageBaseName:"cooking",activityType:j.Cooking,description:["Work as a chef. If you have a cooking workstation of your own, you can even make some meals for yourself.","Work as a spiritual chef, devoting great energy to creating food that feeds both body and soul. If you have a cooking workstation of your own, you can even make some meals for yourself."],yinYangEffect:[te.None,te.Balance],consequenceDescription:["Uses 10 Stamina. Increases charisma and intelligence and provides a little money.","Uses 90 Stamina. Increases charisma, intelligence, and spirituality."],consequence:[()=>{this.characterService.increaseAttribute("charisma",.05),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("cooking",.1),this.characterService.status.stamina.value-=10;let g=5+Math.log2((this.characterService.attributes.charisma.value+2*this.characterService.attributes.intelligence.value)/3);this.familySpecialty===j.Cooking&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Cooking.lastIncome=g},()=>{this.characterService.increaseAttribute("charisma",.5),this.characterService.increaseAttribute("intelligence",1),this.characterService.increaseAttribute("spirituality",.001),this.characterService.increaseAttribute("cooking",.1),this.characterService.status.stamina.value-=90;let g=10+Math.log2((this.characterService.attributes.charisma.value+2*this.characterService.attributes.intelligence.value)/3+this.characterService.attributes.spirituality.value*10);this.familySpecialty===j.Cooking&&(g+=g*.2),g=this.characterService.updateMoney(g),this.Cooking.lastIncome=g}],resourceUse:[{stamina:10},{stamina:90}],requirements:[{charisma:10,intelligence:20},{charisma:1e4,speed:1e4,intelligence:2e4,spirituality:10,cooking:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],location:I.LargeCity,imageBaseName:"blacksmithing",activityType:j.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],yinYangEffect:[te.Balance,te.Balance,te.Balance,te.Balance],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(j.Blacksmithing),this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("toughness",.1),this.characterService.increaseAttribute("smithing",.1),this.characterService.status.stamina.value-=25;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.metalLore.value;this.familySpecialty===j.Blacksmithing&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Blacksmithing.lastIncome=g,this.characterService.increaseAttribute("metalLore",.1),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Blacksmithing),this.characterService.increaseAttribute("strength",.2),this.characterService.increaseAttribute("toughness",.2),this.characterService.increaseAttribute("smithing",.1),this.characterService.status.stamina.value-=25;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.metalLore.value*2;this.familySpecialty===j.Blacksmithing&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Blacksmithing.lastIncome=g,this.characterService.increaseAttribute("metalLore",.2),this.characterService.increaseAttribute("fireLore",.02),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Blacksmithing),this.characterService.increaseAttribute("strength",.5),this.characterService.increaseAttribute("toughness",.5),this.characterService.increaseAttribute("smithing",.1),this.characterService.status.stamina.value-=25;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.fireLore.value+this.characterService.attributes.metalLore.value*5;this.familySpecialty===j.Blacksmithing&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Blacksmithing.lastIncome=g,this.characterService.increaseAttribute("metalLore",.3),this.characterService.increaseAttribute("fireLore",.05),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Blacksmithing),this.characterService.increaseAttribute("strength",1),this.characterService.increaseAttribute("toughness",1),this.characterService.increaseAttribute("smithing",.1),this.characterService.status.stamina.value-=50;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.fireLore.value+this.characterService.attributes.metalLore.value*10;this.familySpecialty===j.Blacksmithing&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Blacksmithing.lastIncome=g,this.characterService.increaseAttribute("metalLore",.5),this.characterService.increaseAttribute("fireLore",.1),this.pillMoldCounter++,this.pillMoldCounter>1e3&&(this.pillMoldCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillMold)),this.characterService.yin++,this.characterService.yang++}],resourceUse:[{stamina:25},{stamina:25},{stamina:25},{stamina:50}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1,smithing:100},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1,smithing:1e4},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10,smithing:1e6}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],location:I.SmallTown,imageBaseName:"herbs",activityType:j.GatherHerbs,description:["Search the natural world for useful herbs."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("speed",.1),this.characterService.status.stamina.value-=10,this.inventoryService.generateHerb(),this.characterService.increaseAttribute("woodLore",.003),this.characterService.yang++}],resourceUse:[{stamina:10}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],location:I.LargeCity,imageBaseName:"alchemy",activityType:j.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],yinYangEffect:[te.Yin,te.Yin,te.Yin,te.Yin],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(j.Alchemy),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("alchemy",.1),this.characterService.status.stamina.value-=10;let g=Math.log2(this.characterService.attributes.intelligence.value)+this.characterService.attributes.waterLore.value;this.familySpecialty===j.Alchemy&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Alchemy.lastIncome=g,this.characterService.increaseAttribute("woodLore",.05),this.characterService.increaseAttribute("waterLore",.1),this.characterService.yin++},()=>{this.checkApprenticeship(j.Alchemy),this.characterService.increaseAttribute("intelligence",.2),this.characterService.increaseAttribute("alchemy",.1),this.characterService.status.stamina.value-=10;let g=Math.log2(this.characterService.attributes.intelligence.value)+this.characterService.attributes.waterLore.value*2;this.familySpecialty===j.Alchemy&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Alchemy.lastIncome=g,this.characterService.increaseAttribute("woodLore",.1),this.characterService.increaseAttribute("waterLore",.2),this.characterService.yin++},()=>{this.checkApprenticeship(j.Alchemy),this.characterService.increaseAttribute("intelligence",.5),this.characterService.increaseAttribute("alchemy",.1),this.characterService.status.stamina.value-=10;let g=Math.log2(this.characterService.attributes.intelligence.value)+this.characterService.attributes.waterLore.value*5;this.familySpecialty===j.Alchemy&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Alchemy.lastIncome=g,this.characterService.increaseAttribute("woodLore",.15),this.characterService.increaseAttribute("waterLore",.3),this.characterService.yin++},()=>{this.checkApprenticeship(j.Alchemy),this.characterService.increaseAttribute("intelligence",1),this.characterService.increaseAttribute("alchemy",.1),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.intelligence.value)+this.characterService.attributes.waterLore.value*10;this.familySpecialty===j.Alchemy&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Alchemy.lastIncome=g,this.characterService.increaseAttribute("woodLore",.2),this.characterService.increaseAttribute("waterLore",.6),this.characterService.yin++}],resourceUse:[{stamina:10},{stamina:10},{stamina:10},{stamina:20}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1,alchemy:100},{intelligence:8e3,waterLore:100,woodLore:10,alchemy:1e4},{intelligence:1e5,waterLore:1e3,woodLore:100,fireLore:10,alchemy:1e6}],unlocked:!1,skipApprenticeshipLevel:2},this.Merchant={level:0,name:["Hawking Wares","Vending","Shopkeeping","Investing"],location:I.SmallTown,imageBaseName:"merchant",activityType:j.Merchant,description:["Sell your stuff for a little money. You'll need a shopfront of some kind.","Sell your stuff at a markup. You'll need a shopfront of some kind.","Sell your stuff at a large markup. You'll need a shopfront of some kind.","Become a moneylender and make some real money. You'll need a shopfront of some kind."],yinYangEffect:[te.None,te.None,te.None,te.None],consequenceDescription:["Uses 20 Stamina. Trades whatever you have in your shopfront for items available at the store.","Uses 30 Stamina. Sells whatever you have in your shopfront.","Uses 40 Stamina. Sells whatever you have in your shopfront.","Uses 100 Stamina. Sells whatever you have in your shopfront and uses your wealth to make more wealth. It takes money to make money!"],consequence:[()=>{this.characterService.increaseAttribute("charisma",.01),this.characterService.increaseAttribute("intelligence",.01),this.characterService.increaseAttribute("haggling",.01),this.characterService.status.stamina.value-=20},()=>{this.characterService.increaseAttribute("charisma",.02),this.characterService.increaseAttribute("intelligence",.02),this.characterService.increaseAttribute("haggling",.02),this.characterService.status.stamina.value-=30},()=>{this.characterService.increaseAttribute("charisma",.05),this.characterService.increaseAttribute("intelligence",.05),this.characterService.increaseAttribute("haggling",.05),this.characterService.status.stamina.value-=40},()=>{this.characterService.increaseAttribute("charisma",.1),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("haggling",.1),this.characterService.status.stamina.value-=100}],resourceUse:[{stamina:20},{stamina:30},{stamina:40},{stamina:100}],requirements:[{charisma:1e3,intelligence:1e3},{charisma:2e4,intelligence:2e4,haggling:2e4},{charisma:5e6,intelligence:5e6,haggling:5e6},{charisma:1e12,intelligence:1e12,haggling:1e12}],unlocked:!1,skipApprenticeshipLevel:0},this.ChopWood={level:0,name:["Chopping Wood"],location:I.Forest,imageBaseName:"chopping",activityType:j.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.increaseAttribute("strength",.1),this.characterService.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.increaseAttribute("woodLore",.01),this.characterService.yang++}],resourceUse:[{stamina:10}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],location:I.SmallTown,imageBaseName:"woodworking",activityType:j.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],yinYangEffect:[te.Yang,te.Yang,te.Yang,te.Yang],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(j.Woodworking),this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("woodwork",.1),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.intelligence.value)+this.characterService.attributes.woodLore.value;this.familySpecialty===j.Woodworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Woodworking.lastIncome=g,this.characterService.increaseAttribute("woodLore",.001),this.characterService.yang++},()=>{this.checkApprenticeship(j.Woodworking),this.characterService.increaseAttribute("strength",.2),this.characterService.increaseAttribute("intelligence",.2),this.characterService.increaseAttribute("woodwork",.1),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.intelligence.value)+this.characterService.attributes.woodLore.value*2;this.familySpecialty===j.Woodworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Woodworking.lastIncome=g,this.characterService.increaseAttribute("woodLore",.005),this.characterService.yang++},()=>{this.checkApprenticeship(j.Woodworking),this.characterService.increaseAttribute("strength",.5),this.characterService.increaseAttribute("intelligence",.5),this.characterService.increaseAttribute("woodwork",.1),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.intelligence.value)+this.characterService.attributes.woodLore.value*5;this.familySpecialty===j.Woodworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Woodworking.lastIncome=g,this.characterService.increaseAttribute("woodLore",.02),this.characterService.yang++},()=>{this.checkApprenticeship(j.Woodworking),this.characterService.increaseAttribute("strength",1),this.characterService.increaseAttribute("intelligence",1),this.characterService.increaseAttribute("woodwork",.1),this.characterService.status.stamina.value-=40;let g=Math.log2(this.characterService.attributes.strength.value+this.characterService.attributes.intelligence.value)+this.characterService.attributes.woodLore.value*10;this.familySpecialty===j.Woodworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Woodworking.lastIncome=g,this.characterService.increaseAttribute("woodLore",.6),this.pillBoxCounter++,this.pillBoxCounter>1e3&&(this.pillBoxCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillBox)),this.characterService.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1,woodwork:100},{strength:2e3,intelligence:2e3,woodLore:10,woodwork:1e4},{strength:1e4,intelligence:1e4,woodLore:100,woodwork:1e6}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],location:I.SmallTown,imageBaseName:"leatherworking",activityType:j.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],yinYangEffect:[te.Balance,te.Balance,te.Balance,te.Balance],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(j.Leatherworking),this.characterService.increaseAttribute("speed",.1),this.characterService.increaseAttribute("toughness",.1),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.speed.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.earthLore.value;this.familySpecialty===j.Leatherworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Leatherworking.lastIncome=g,this.characterService.increaseAttribute("earthLore",.001),this.characterService.increaseAttribute("leatherwork",.1),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Leatherworking),this.characterService.increaseAttribute("speed",.2),this.characterService.increaseAttribute("toughness",.2),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.speed.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.earthLore.value*2;this.familySpecialty===j.Leatherworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Leatherworking.lastIncome=g,this.characterService.increaseAttribute("earthLore",.005),this.characterService.increaseAttribute("leatherwork",.1),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Leatherworking),this.characterService.increaseAttribute("speed",.5),this.characterService.increaseAttribute("toughness",.5),this.characterService.status.stamina.value-=20;let g=Math.log2(this.characterService.attributes.speed.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.earthLore.value*5;this.familySpecialty===j.Leatherworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Leatherworking.lastIncome=g,this.characterService.increaseAttribute("earthLore",.02),this.characterService.increaseAttribute("leatherwork",.1),this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.Leatherworking),this.characterService.increaseAttribute("speed",1),this.characterService.increaseAttribute("toughness",1),this.characterService.status.stamina.value-=40;let g=Math.log2(this.characterService.attributes.speed.value+this.characterService.attributes.toughness.value)+this.characterService.attributes.earthLore.value*10;this.familySpecialty===j.Leatherworking&&(g+=g*.2),g*=this.incomeMultiplier,g=this.characterService.updateMoney(g),this.Leatherworking.lastIncome=g,this.characterService.increaseAttribute("earthLore",.6),this.characterService.increaseAttribute("leatherwork",.1),this.pillPouchCounter++,this.pillPouchCounter>1e3&&(this.pillPouchCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillPouch)),this.characterService.yin++,this.characterService.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,earthLore:1,leatherwork:100},{speed:2e3,toughness:2e3,earthLore:10,leatherwork:1e4},{speed:1e4,toughness:1e4,earthLore:100,leatherwork:1e6}],unlocked:!1,skipApprenticeshipLevel:2},this.FormationCreation={level:0,name:["Apprentice Formation Creation","Journeyman Formation Creation","Formation Creation","Master Formation Creation"],location:I.SmallTown,imageBaseName:"formationCreation",activityType:j.FormationCreation,description:["Work under a formation master to learn the basics of creating formation flags, talismans, arrays, and other essential parts of kits that can help you in battle.<br><br>This requires expertise in many other professions before you can even begin to practice it.","Practice the essentials in creating formation flags, talismans, arrays, and other parts of kits that can help you in battle.<br><br>This requires expertise in many other professions.","Work on your own in creating formation flags, talismans, arrays, and other essential parts of kits that can help you in battle.<br><br>This requires expertise in many other professions.","Masterfully create formation flags, talismans, arrays, and other essential parts of kits that can help you in battle."],yinYangEffect:[te.Balance,te.Balance,te.Balance,te.Balance],consequenceDescription:["Uses 100 Stamina. If you have a formation workstation, you can make some weak formations kits.","Uses 200 Stamina. If you have a formation workstation, you can make some simple formations kits.","Uses 500 Stamina. If you have a formation workstation, you can make some formations kits.","Uses 1000 Stamina. If you have a formation workstation, you can make some excellent formations kits."],consequence:[()=>{this.checkApprenticeship(j.FormationCreation),this.characterService.increaseAttribute("formationMastery",.1),this.characterService.status.stamina.value-=100,this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.FormationCreation),this.characterService.increaseAttribute("formationMastery",.1),this.characterService.status.stamina.value-=200,this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.FormationCreation),this.characterService.increaseAttribute("formationMastery",.1),this.characterService.status.stamina.value-=500,this.characterService.yin++,this.characterService.yang++},()=>{this.checkApprenticeship(j.FormationCreation),this.characterService.increaseAttribute("formationMastery",.1),this.characterService.status.stamina.value-=1e3,this.characterService.yin++,this.characterService.yang++}],resourceUse:[{stamina:100},{stamina:200},{stamina:500},{stamina:1e3}],requirements:[{smithing:100,cooking:100,alchemy:100,woodwork:100,leatherwork:100},{smithing:1e4,cooking:1e4,alchemy:1e4,woodwork:1e4,leatherwork:1e4,formationMastery:1e3},{smithing:1e6,cooking:1e6,alchemy:1e6,woodwork:1e6,leatherwork:1e6,formationMastery:1e4},{smithing:1e8,cooking:1e8,alchemy:1e8,woodwork:1e8,leatherwork:1e8,formationMastery:1e5}],unlocked:!1,skipApprenticeshipLevel:2},this.Plowing={level:0,name:["Plowing Land"],location:I.SmallTown,imageBaseName:"plowing",activityType:j.Plowing,description:["Plow an unused plot of land into a field for growing crops."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 50 Stamina. Increases strength and speed."],consequence:[()=>{this.farmService.plowPlot(),this.characterService.status.stamina.value-=50,this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("speed",.1),this.characterService.increaseAttribute("woodLore",.001),this.characterService.increaseAttribute("earthLore",.001),this.characterService.yang++}],resourceUse:[{stamina:50}],requirements:[{strength:10,speed:10}],landRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Clearing={level:0,name:["Clearing Land"],location:I.SmallTown,imageBaseName:"clearing",activityType:j.Clearing,description:["Clear a fallow plot of farmland into an empty plot of land."],yinYangEffect:[te.Yin],consequenceDescription:["Uses 50 Stamina. Increases strength and speed."],consequence:[()=>{this.farmService.clearPlot(),this.characterService.status.stamina.value-=50,this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("speed",.1),this.characterService.increaseAttribute("woodLore",.001),this.characterService.increaseAttribute("earthLore",.001),this.characterService.yin++}],resourceUse:[{stamina:50}],requirements:[{strength:10,speed:10}],fallowLandRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Farming={level:0,name:["Farming"],location:I.SmallTown,imageBaseName:"farming",activityType:j.Farming,description:["Cultivate the crops in your fields. This is a waste of time if you don't have planted fields ready to work."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.status.stamina.value-=20;let g=Math.floor(Math.log10(this.characterService.attributes.woodLore.value+this.characterService.attributes.earthLore.value));g<1&&(g=1),this.farmService.workFields(g),this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("speed",.1),this.characterService.increaseAttribute("woodLore",.001),this.characterService.increaseAttribute("earthLore",.001),this.characterService.yang++}],resourceUse:[{stamina:20}],requirements:[{strength:10,speed:10}],farmedLandRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],location:I.SmallTown,imageBaseName:"mining",activityType:j.Mining,description:["Dig in the ground for usable minerals."],yinYangEffect:[te.Yin],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.status.stamina.value-=20,this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("earthLore",.05),this.miningCounter++,this.miningCounter%2===1&&this.inventoryService.addItem(this.itemRepoService.items.coal),this.miningCounter>5&&(this.miningCounter=0,this.inventoryService.addItem(this.inventoryService.getOre())),this.characterService.yin++}],resourceUse:[{stamina:20}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],location:I.SmallTown,imageBaseName:"smelting",activityType:j.Smelting,description:["Smelt metal ores and fuel into usable metal. You can even keep the metal bars if you have a smelter of your own."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{this.characterService.status.stamina.value-=20,this.characterService.increaseAttribute("toughness",.1),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("metalLore",.01),this.characterService.yin++,this.characterService.yang++}],resourceUse:[{stamina:20}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],location:I.Forest,imageBaseName:"hunting",activityType:j.Hunting,description:["Hunt for animals in the nearby woods."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat."],consequence:[()=>{this.characterService.status.stamina.value-=50,this.characterService.increaseAttribute("speed",.1);let g=10;this.homeService.bedroomFurniture.find(S=>S?.id==="dogKennel")&&(g=5),this.characterService.increaseAttribute("animalHandling",.1),this.huntingCounter++,this.huntingCounter>g&&(this.huntingCounter=0,this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.inventoryService.getHide(),Math.floor(this.followerService.jobs.hunter.totalPower/20))),this.characterService.yang++}],resourceUse:[{stamina:50}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],location:I.SmallPond,imageBaseName:"fishing",activityType:j.Fishing,description:["Grab your net and see if you can catch some fish."],yinYangEffect:[te.Yin],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.status.stamina.value-=30,this.characterService.increaseAttribute("strength",.1),this.characterService.increaseAttribute("intelligence",.1),this.characterService.increaseAttribute("animalHandling",.02),this.characterService.increaseAttribute("waterLore",.01),this.fishingCounter++;let g=10;this.homeService.bedroomFurniture.find(S=>S?.id==="cormorantCage")&&(g=5),this.fishingCounter>g&&(this.fishingCounter=0,this.inventoryService.addItem(this.itemRepoService.items.carp)),this.characterService.yin++}],resourceUse:[{stamina:30}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],location:I.SmallTown,imageBaseName:"burning",activityType:j.Burning,description:["Light things on fire and watch them burn."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.status.stamina.value-=5;let g=this.characterService.increaseAttribute("fireLore",.1);this.characterService.updateMoney(0-g),this.characterService.money<0&&this.characterService.updateMoney(0,!0),this.characterService.yang++}],resourceUse:[{stamina:5}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BalanceChi={level:0,name:["Balance Your Chi"],location:I.Self,imageBaseName:"balance",activityType:j.BalanceChi,description:["Balance the flow of your chi and widen your meridians."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 100 Stamina. Increases your weakest lore."],consequence:[()=>{this.characterService.status.stamina.value-=100;let g="earthLore";for(let P of["metalLore","woodLore","waterLore","fireLore"])this.characterService.attributes[P].value<this.characterService.attributes[g].value&&(g=P);let S=.01;(this.characterService.qiUnlocked||this.characterService.easyMode)&&(S=.1),this.characterService.increaseAttribute(g,S),this.characterService.increaseAttribute("spirituality",.001),this.characterService.yin>this.characterService.yang?this.characterService.yang++:this.characterService.yin++}],resourceUse:[{stamina:100}],requirements:[{strength:1e3,speed:1e3,toughness:1e3,charisma:1e3,intelligence:1e3,earthLore:1e3,metalLore:1e3,woodLore:1e3,waterLore:1e3,fireLore:1e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],location:I.Self,imageBaseName:"bodycultivation",activityType:j.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.characterService.increaseAttribute("strength",1),this.characterService.increaseAttribute("speed",1),this.characterService.increaseAttribute("toughness",1),this.characterService.attributes.strength.aptitude+=.1,this.characterService.attributes.speed.aptitude+=.1,this.characterService.attributes.toughness.aptitude+=.1,this.characterService.increaseAttribute("spirituality",.001),this.characterService.yang++}],resourceUse:[{stamina:100}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],location:I.Self,imageBaseName:"mindcultivation",activityType:j.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],yinYangEffect:[te.Yin],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.characterService.increaseAttribute("intelligence",1),this.characterService.increaseAttribute("charisma",1),this.characterService.attributes.intelligence.aptitude+=.1,this.characterService.attributes.charisma.aptitude+=.1,this.characterService.increaseAttribute("spirituality",.001),this.characterService.yin++}],resourceUse:[{stamina:100}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],location:I.Self,imageBaseName:"corecultivation",activityType:j.CoreCultivation,description:["Focus on the development of your soul core."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your Qi capabilities."],consequence:[()=>{this.characterService.status.stamina.value-=200,this.characterService.qiUnlocked&&(this.coreCultivationCounter++,this.coreCultivationCounter>100&&(this.coreCultivationCounter=0,this.characterService.increaseMaxQi(1),this.characterService.status.qi.value++)),this.characterService.yang++,this.characterService.yin++}],resourceUse:[{stamina:200}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.SoulCultivation={level:0,name:["Soul Cultivation"],location:I.Self,imageBaseName:"soulcultivation",activityType:j.SoulCultivation,description:["Focus on the development of your immortal soul."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 1000 health. An immortal's cultivation technique. Balance your attributes and your lore, and improve yourself in every way."],consequence:[()=>{this.characterService.status.health.value-=1e3;let g="earthLore";for(let S of["metalLore","woodLore","waterLore","fireLore"])this.characterService.attributes[S].value<this.characterService.attributes[g].value&&(g=S);this.characterService.increaseAttribute(g,1),g="strength";for(let S of["speed","toughness","intelligence","charisma"])this.characterService.attributes[S].value<this.characterService.attributes[g].value&&(g=S);this.characterService.increaseAttribute(g,1),this.characterService.increaseAttribute("spirituality",.01),this.characterService.healthBonusSoul++,this.characterService.status.stamina.max++,this.characterService.increaseMaxQi(1),this.characterService.checkOverage(),this.characterService.yin>this.characterService.yang?this.characterService.yang++:this.characterService.yin++}],resourceUse:[{health:1e3}],requirements:[{spirituality:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseEquipment={level:0,name:["Infuse Equipment"],location:I.Self,imageBaseName:"infuseequipment",activityType:j.InfuseEquipment,description:["Infuse the power of a gem into your equipment."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 200 Stamina and 10 Qi. An advanced magical technique."],consequence:[()=>{this.characterService.status.stamina.value-=200,this.characterService.status.qi.value-=10,this.characterService.yang++,this.characterService.yin++}],resourceUse:[{stamina:200,qi:10}],requirements:[{strength:2e7,toughness:2e7,speed:2e7,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],location:I.Self,imageBaseName:"infusebody",activityType:j.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 10 Qi and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.status.stamina.value-=200,this.characterService.qiUnlocked&&this.characterService.status.qi.value>=10&&(this.characterService.status.qi.value-=10,this.characterService.healthBonusMagic++),this.characterService.yang++,this.characterService.yin++}],resourceUse:[{stamina:200,qi:10}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],location:I.Self,imageBaseName:"extendlife",activityType:j.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 20 Qi and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.status.stamina.value-=400,this.characterService.qiUnlocked&&this.characterService.status.qi.value>=20&&(this.characterService.status.qi.value-=20,this.characterService.magicLifespan<36500*(1+this.characterService.qiCompressionLevel)&&(this.characterService.magicLifespan+=10)),this.characterService.yang++,this.characterService.yin++}],resourceUse:[{stamina:400,qi:20}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],location:I.LargeCity,imageBaseName:"recruiting",activityType:j.Recruiting,description:["Look for followers willing to serve you."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{if(this.characterService.status.stamina.value-=100,!this.followerService.followersUnlocked){this.logService.log(w.FOLLOWER,"Every potential follower ignores your recruiting efforts after sensing your low cultivation.");return}if(this.characterService.money<=1e6){this.logService.log(w.FOLLOWER,"You don't have the funds required to recruit anyone.");return}this.characterService.updateMoney(-1e6),this.recruitingCounter++,this.recruitingCounter>100&&(this.recruitingCounter=0,this.followerService.generateFollower()),this.characterService.yang++}],resourceUse:[{stamina:100}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],location:I.LargeCity,imageBaseName:"trainingfollowers",activityType:j.TrainingFollowers,description:["Train your followers to make them more powerful."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 1000 Stamina. Gives one of your followers some experience. They might learn more if you are a better leader."],consequence:[()=>{this.characterService.status.stamina.value-=1e3,this.followerService.trainFollower(10*Math.log10(this.characterService.attributes.charisma.value),!1),this.characterService.yang++}],resourceUse:[{stamina:1e3}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0},this.Taunting={level:0,name:["Looking for Trouble"],location:I.Self,imageBaseName:"taunting",activityType:j.Taunting,description:["Go looking for an enemy and call them out to battle."],yinYangEffect:[te.Yang],consequenceDescription:["Has a chance to incite a fight."],consequence:[()=>{this.tauntCounter++,(this.tauntCounter>20||this.battleService.autoTroubleUnlocked)&&(this.battleService.trouble(),this.tauntCounter=0),this.characterService.yang++}],resourceUse:[{}],requirements:[{strength:100,toughness:100}],unlocked:!1,skipApprenticeshipLevel:0},this.CombatTraining={level:0,name:["Combat Training"],location:I.Self,imageBaseName:"combattraining",activityType:j.CombatTraining,description:["Hone every fiber of your being to martial sepremacy. Your experience in the Hell of Mirrors allowed you to examine your own combat form and understand how to improve it. Now all you need is practice."],yinYangEffect:[te.Balance],consequenceDescription:["Uses 10000 stamina. Trains your Combat Mastery."],consequence:[()=>{this.characterService.status.stamina.value-=1e4,this.characterService.increaseAttribute("combatMastery",.01),this.characterService.yang++,this.characterService.yin++}],resourceUse:[{stamina:1e4}],requirements:[{combatMastery:1}],unlocked:!1,skipApprenticeshipLevel:0},this.PetRecruiting={level:0,name:["Finding Pets"],location:I.Self,imageBaseName:"findingpets",activityType:j.PetRecruiting,description:["Look for animals that want to be your pets."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 100 Stamina and 100,000 food. Gives you a small chance of finding a pet."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.status.stamina.value-=100,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.increaseAttribute("animalHandling",1),this.followerService.followersUnlocked&&(this.petRecruitingCounter++,this.petRecruitingCounter>100&&(this.petRecruitingCounter=0,this.followerService.generateFollower(!0))),this.characterService.yang++))}],resourceUse:[{stamina:100}],requirements:[{animalHandling:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.PetTraining={level:0,name:["Training Pets"],location:I.Self,imageBaseName:"trainingpets",activityType:j.PetTraining,description:["Train your pets to make them more powerful."],yinYangEffect:[te.Yang],consequenceDescription:["Uses 1000 Stamina and 100k food. Gives you a small chance for each pet of increasing their power. They might learn more if you are a better with animals."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.status.stamina.value-=1e3,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.increaseAttribute("animalHandling",1),this.followerService.trainFollower(10*Math.log10(this.characterService.attributes.animalHandling.value),!0),this.characterService.yang++))}],resourceUse:[{stamina:1e3}],requirements:[{animalHandling:1e18}],unlocked:!1,skipApprenticeshipLevel:0},this.PurifyGems={level:0,name:["Purifying Gems"],location:I.Self,imageBaseName:"purifyinggems",activityType:j.PurifyGems,description:["Purify corrupted spirit gems into life gems."],yinYangEffect:[te.None],consequenceDescription:["Uses 100000 Stamina and a corrupted spirit gem."],consequence:[()=>{this.characterService.status.stamina.value-=1e5;let g=this.inventoryService.itemStacks.findIndex(S=>S.item?.type===J&&S.item.subtype===Wi&&S.quantity>=1);if(g!==-1){let S=this.inventoryService.itemStacks[g];S.quantity--,S.quantity===0&&this.inventoryService.setItemEmptyStack(g),this.inventoryService.addItem(this.inventoryService.generateSpiritGem(S.item.value/5,"life"))}}],resourceUse:[{stamina:1e5}],requirements:[{spirituality:1e24}],unlocked:!1,skipApprenticeshipLevel:0},this.SynthesizingGems={level:0,name:["Synthesizing Gems"],location:I.Self,imageBaseName:"synthesizinggems",activityType:j.SynthesizingGems,description:["Use your understanding of creation to generate artificial spirit gems."],yinYangEffect:[te.None],consequenceDescription:["Uses 100000 Stamina and some taels to create a gem."],consequence:[()=>{this.characterService.status.stamina.value-=1e5;let g=1,S=0,P=this.contemplationService.concepts.filter(G=>G.effect.includes(f_));for(let G of P)g+=Math.ceil(Math.log2(2+G.progress)),S+=Math.ceil(Math.log10(10+G.progress));let M=this.inventoryService.generateSpiritGem(g),z=M.value*S*10;this.characterService.money>z&&(this.characterService.updateMoney(0-z),this.inventoryService.addItem(M,S))}],resourceUse:[{stamina:1e5}],requirements:[{}],conceptRequirements:[Qd],unlocked:!1,skipApprenticeshipLevel:0},this.BurnMoney={level:0,name:["Burn Money"],location:I.Hell,activityType:j.BurnMoney,description:["Burn mortal realm money to receive hell money."],yinYangEffect:[te.None],consequenceDescription:["Uses a huge pile of mortal money (one million). Gives you some hell money."],consequence:[()=>{if(this.characterService.money<1e6){this.logService.log(w.EVENT,"You fail to burn the money that you don't have, and feel pretty dumb for trying.");return}this.characterService.updateMoney(-1e6),this.hellService.burnedMoney+=1e6,this.hellService.fasterHellMoney?this.characterService.hellMoney+=10:this.characterService.hellMoney++}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.hellRecruiting={level:0,name:["Recruiting the Damned"],location:I.Hell,activityType:j.HellRecruiting,description:["Look for followers willing to help you."],yinYangEffect:[te.None],consequenceDescription:["Uses 100 Stamina and 1000 hell money. Gives you a small chance of finding a follower."],consequence:[()=>{if(this.characterService.attributes.charisma.value<1e6){this.logService.log(w.EVENT,"You completely fail to catch the attention of any of the damned.");return}if(this.characterService.hellMoney<1e3){this.logService.injury(w.EVENT,"You don't have enough hell money. The damned souls around you team up with the demons to give you a beating."),this.characterService.status.health.value-=this.characterService.status.health.max*.2,this.characterService.status.health.value<=0&&(this.hellService.beaten=!0);return}this.characterService.status.stamina.value-=100,this.characterService.hellMoney-=1e3,Math.random()<.01?(this.followerService.generateFollower(!1,"damned"),this.logService.log(w.EVENT,"Your recruiting efforts seem to infuriate the demons here.")):this.logService.log(w.EVENT,"You pass around some bribes but fail to find any interested followers today.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.Rehabilitation={level:0,name:["Rehabilitate Ruffian"],location:I.Hell,activityType:j.Rehabilitation,description:["You recognize a bunch of the ruffians here as people who used to beat and rob you in your past lives. Perhaps you can give them some some friendly rehabilitation. With your fists."],yinYangEffect:[te.None],consequenceDescription:["Uses 100 Stamina and 10 hell money as bait. Breaks a ruffian out of their basket and picks a fight with them."],consequence:[()=>{this.characterService.status.stamina.value-=100,this.battleService.addEnemy({name:"Ruffian",baseName:"deadruffian",health:100,maxHealth:100,defense:10,defeatEffect:"respawnDouble",loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:10,unlocked:!0}]})}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.HonorAncestors={level:0,name:["Honor Ancestors"],location:I.Hell,activityType:j.HonorAncestors,description:["You look around and realize that you have many family members and ancestors here. You should probably give them some credit for what they have done for you. And some money."],yinYangEffect:[te.None],consequenceDescription:["Uses 1 hell money."],consequence:[()=>{if(this.characterService.hellMoney<1){this.logService.log(w.EVENT,"Your ancestors are not impressed with your lack of financial offerings.");return}this.characterService.hellMoney--,this.inventoryService.addItem(this.itemRepoService.items.tokenOfGratitude)}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.CopperMining={level:0,name:["Copper Mining"],location:I.Hell,activityType:j.CopperMining,description:["The copper pillars here look like they're made of a decent grade of copper. It looks like you have enough slack in your chains to turn and break off some pieces."],yinYangEffect:[te.None],consequenceDescription:["Uses 100,000 stamina and produces one copper bar."],consequence:[()=>{if(this.characterService.attributes.strength.value<1e24){this.logService.log(w.EVENT,"You try to crack into the pillar, but you're not strong enough.");return}this.characterService.status.stamina.value-=1e5,this.inventoryService.addItem(this.itemRepoService.items.copperBar)}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.ForgeHammer={level:0,name:["Forge Hammer"],location:I.Hell,activityType:j.ForgeHammer,description:["Shape a bar of copper into a hammer using your bare hands. This would be so much easier with an anvil and tools."],yinYangEffect:[te.None],consequenceDescription:["Uses 100,000 stamina and produces the worst hammer in the world."],consequence:[()=>{if(this.characterService.attributes.strength.value<1e24){this.logService.log(w.EVENT,"Your weak muscles flinch at the very thought of trying to mold metal by hand.");return}if(this.characterService.status.stamina.value-=1e5,this.inventoryService.consume("metal",1)>0){let g={id:"weapon",imageFile:"copperHammer",name:"Copper Hammer",type:"equipment",slot:"rightHand",value:1,weaponStats:{baseDamage:1,material:"metal",baseName:"hammer"},description:"A crude copper hammer.",shopable:!1};this.inventoryService.addItem(g)}}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.ClimbMountain={level:0,name:["Climb the Mountain"],location:I.Hell,activityType:j.ClimbMountain,description:["Take another step up the mountain. The path before you seems exceptionally jagged. Maybe you shouldn't have killed so very many little spiders."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 stamina and works off some of that murderous karma you have built up."],consequence:[()=>{if(this.characterService.attributes.strength.value<1e24||this.characterService.attributes.toughness.value<1e24){this.logService.log(w.EVENT,"Your legs give out before you can take a single step up the mountain. Maybe if you were stronger and tougher you could climb.");return}this.characterService.status.stamina.value-=1e3,this.hellService.mountainSteps++}],resourceUse:[{stamina:1e3}],requirements:[{strength:1e24,toughness:1e24}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.AttackClimbers={level:0,name:["Attack Climbers"],location:I.Hell,activityType:j.AttackClimbers,description:["The murderers on this mountain look pretty distracted. It wouldn't be hard to knock them down to the bottom."],yinYangEffect:[te.None],consequenceDescription:["Knock a climber off the mountain."],consequence:[()=>{this.hellService.mountainSteps=0}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.MeltMountain={level:0,name:["Melt the Mountain"],location:I.Hell,activityType:j.MeltMountain,description:["The mountain is far to slippery climb. The only way you're getting to the top is to bring the top down to you."],yinYangEffect:[te.None],consequenceDescription:["Focus your connection to fire and melt that sucker down."],consequence:[()=>{if(this.characterService.attributes.fireLore.value<1e16){this.logService.log(w.EVENT,"Your connection to fire isn't nearly as strong as you thought it was.");return}let g=Math.log10(this.characterService.attributes.fireLore.value);for(let S=0;S<g;S++)this.battleService.addEnemy({name:"Ice Golem",baseName:"icegolem",health:1e15,maxHealth:1e15,defense:1e6,loot:[this.itemRepoService.items.iceCore],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.FreezeMountain={level:0,name:["Rock the Lava"],location:I.Hell,activityType:j.FreezeMountain,description:["Swimming in lava is less fun that it seemed like it would be."],yinYangEffect:[te.None],consequenceDescription:["Focus your connection to water and turn that lava back to stone."],consequence:[()=>{if(this.characterService.attributes.waterLore.value<1e16){this.logService.log(w.EVENT,"Your connection to water isn't nearly as strong as you thought it was.");return}let g=Math.log10(this.characterService.attributes.waterLore.value);for(let S=0;S<g;S++)this.battleService.addEnemy({name:"Lava Golem",baseName:"lavagolem",health:1e15,maxHealth:1e15,defense:1e6,loot:[this.itemRepoService.items.fireCore],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.HealAnimals={level:0,name:["Heal Animals"],location:I.Hell,activityType:j.HealAnimals,description:["You notice that not all the animals here are frenzied killers. Some of them are sick, wounded, and miserable. You resolve to do what good you can here."],yinYangEffect:[te.None],consequenceDescription:["Uses 10,000 Qi and 10,000 stamina. Heals an animal."],consequence:[()=>{this.characterService.status.stamina.value-=1e4,this.characterService.status.qi.value-=1e4,this.hellService.animalsHealed++}],resourceUse:[{stamina:1e4,qi:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.LiftBoulder={level:0,name:["Lift the Boulder Higher"],location:I.Hell,activityType:j.LiftBoulder,description:["The boulder is heavy, but you are strong. See how high you can lift it."],yinYangEffect:[te.None],consequenceDescription:["Uses 100,000 stamina."],consequence:[()=>{this.characterService.status.stamina.value-=1e5,this.hellService.boulderHeight++}],resourceUse:[{stamina:1e4,qi:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.HellSwim={level:0,name:["Swim Deeper into the Blood"],location:I.Hell,activityType:j.Swim,description:["Swim down further into the crimson depths."],yinYangEffect:[te.None],consequenceDescription:["Uses 2000 Stamina. Reduce health by 1000."],consequence:[()=>{this.characterService.status.stamina.value-=2e3,this.characterService.status.health.value-=1e3,this.hellService.swimDepth++}],resourceUse:[{stamina:2e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.SearchForExit={level:0,name:["Search for the Exit"],location:I.Hell,activityType:j.SearchForExit,description:["The lost souls here are searching for a way out, and they can't seem to see the portal you came in on. You could help them search for the exit they're seeking."],yinYangEffect:[te.None],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.status.stamina.value-=2e5,this.characterService.attributes.intelligence.value<=1e24){this.logService.log(w.EVENT,"You stumble around completely lost like the rest of the souls here. If only you were smarter.");return}let g=Math.log10(this.characterService.attributes.intelligence.value-1e24)*1e-5;Math.random()<g&&(this.hellService.exitFound=!0)}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.TeachTheWay={level:0,name:["Teach the Way to the Exit"],location:I.Hell,activityType:j.TeachTheWay,description:["If you've discovered the way to the exit, you could teach the other damned souls here the way out."],yinYangEffect:[te.None],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.status.stamina.value-=2e5,!this.hellService.exitFound){this.logService.log(w.EVENT,"You fail miserably at teaching a way you don't know yourself.");return}if(this.characterService.attributes.charisma.value<=1e24){this.logService.log(w.EVENT,"The damned souls completely ignore your attempts at instruction.");return}let g=Math.floor(Math.log10(this.characterService.attributes.charisma.value-1e24));this.hellService.soulsEscaped+=g}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Interrogate={level:0,name:["Interrogate the Damned"],location:I.Hell,activityType:j.Interrogate,description:["Find out where the tomb looters here hid their stolen treasures. You might be able to reverse some of the damage they have done."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.status.stamina.value-=1e3,this.characterService.attributes.charisma.value<=1e24){this.logService.log(w.EVENT,"The damned here completely ignore you attempts.");return}let g=Math.log10(this.characterService.attributes.charisma.value-1e24)*1e-5;Math.random()<g?this.inventoryService.addItem(this.itemRepoService.items.treasureMap):this.logService.log(w.EVENT,"You almost talk a soul into telling you where their treasure is hidden.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.RecoverTreasure={level:0,name:["Recover a Treasure"],location:I.Hell,activityType:j.RecoverTreasure,description:["Recover a stolen relic. You'll need all your wits to find it even if you have one the sketchy maps the damned can provide."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.status.stamina.value-=1e3,this.characterService.attributes.intelligence.value<=1e24){this.logService.log(w.EVENT,"The puzzle your best puzzling but can't figure out how to even start on this relic.");return}let g=Math.log10(this.characterService.attributes.intelligence.value-1e24)*1e-5;Math.random()<g?this.inventoryService.consume("treasureMap")>0&&this.inventoryService.addItem(this.itemRepoService.items.stolenRelic):this.logService.log(w.EVENT,"You think you're getting close to figuring out where this relic is. If only you were more clever.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.ReplaceTreasure={level:0,name:["Replace a Treasure"],location:I.Hell,activityType:j.ReplaceTreasure,description:["Return a stolen relic to the tomb where it came from. You'll need to be quick to avoid the tomb's traps."],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.status.stamina.value-=1e3,this.characterService.attributes.speed.value<=1e24){this.logService.log(w.EVENT,"You are too slow to even attempt replacing a treasure.");return}let g=Math.log10(this.characterService.attributes.speed.value-1e24)*1e-5;Math.random()<g?this.inventoryService.consume("stolenRelic")>0&&this.hellService.relicsReturned++:this.logService.log(w.EVENT,"You make a good effort to run through the tomb, but you fail. Try harder!")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.EndureTheMill={level:0,name:["Endure the Mill"],location:I.Hell,activityType:j.Endure,description:["Trapped under the millstone like this, there's not much you can do but endure the punishment. Fortunately, you probably never went out looking for tiny spiders to squash, right?"],yinYangEffect:[te.None],consequenceDescription:["Uses 1000 stamina. Try not to give up. You can do this!"],consequence:[()=>{this.characterService.status.stamina.value-=1e3;let g=Math.max(1e5-this.characterService.attributes.toughness.value/1e23,100);this.characterService.status.health.value-=g,this.characterService.status.health.value<=0?this.hellService.beaten=!0:this.hellService.timesCrushed++}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.ExamineContracts={level:0,name:["Examine Contracts"],location:I.Hell,activityType:j.ExamineContracts,description:["As if the saw-weilding demons weren't bad enough, this place is a haven for fiendish bureaucrats. Huge piles of paper containing the contracts, covenants, bylaws, stipulations, regulations, and heretofor unspecified legal nonsense for this hell. Maybe if you go through them carefully, you can find a loophole to get yourself an audience with the boss."],yinYangEffect:[te.None],consequenceDescription:["Uses 500,000 stamina because hellish legalese is so incredibly boring."],consequence:[()=>{if(this.characterService.status.stamina.value-=5e5,this.characterService.attributes.intelligence.value<=1e24){this.logService.log(w.EVENT,"You can't even begin to read the complex contracts.");return}let g=Math.log10(this.characterService.attributes.intelligence.value-1e24)*1e-5;Math.random()<g?this.hellService.contractsExamined++:this.logService.log(w.EVENT,"You very nearly make out the meaning of the scrawled contract.")}],resourceUse:[{stamina:5e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.HellOddJobs={level:0,name:["Odd Jobs"],location:I.SmallTown,imageBaseName:"oddjobs",activityType:j.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for an aspiring god, but you can't manage anything more profitable when you're projecting your spirit this far."],yinYangEffect:[te.None],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.increaseAttribute("strength",.02),this.characterService.increaseAttribute("toughness",.02),this.characterService.increaseAttribute("speed",.02),this.characterService.increaseAttribute("intelligence",.02),this.characterService.increaseAttribute("charisma",.02),this.characterService.status.stamina.value-=5;let g=this.characterService.updateMoney(3);this.OddJobs.lastIncome=g,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.escapeHell={level:0,location:I.Hell,name:["Escape from this hell"],activityType:j.EscapeHell,description:["Return to the gates of Lord Yama's realm."],yinYangEffect:[te.None],consequenceDescription:[""],consequence:[()=>{this.battleService.enemies=[],this.battleService.currentEnemy=null;let g=this.hellService.hells[this.currentRealm];g.exitEffect&&g.exitEffect(),this.hellService.moveToHell(ie.Gates)}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0,resourceUse:[]},this.returnToHell={level:0,location:I.Hell,name:["Return to Lord Yama's Realm"],activityType:j.ReturnToHell,description:["Return to Lord Yama's Realm and face the trials of the 18 hells."],yinYangEffect:[te.None],consequenceDescription:[""],consequence:[()=>{this.hellService?.enterTheHells()}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0,resourceUse:[]},this.FinishHell={level:0,name:["Challenge Lord Yama"],location:I.Hell,activityType:j.FinishHell,description:["You've had enough of this place and learned everything these hells can teach you. Your karmic debt is paid. Challenge Lord Yama to prove you deserve your rightful place in the heavens."],yinYangEffect:[te.None],consequenceDescription:[""],consequence:[()=>{this.battleService.enemies.length===0&&(this.battleService.addEnemy({name:"Lord Yama",baseName:"Yama",health:1e40,maxHealth:1e40,defense:1e18,loot:[this.itemRepoService.items.portalKey],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e14,unlocked:!0}]}),this.battleService.addEnemy({name:"Horse Face",baseName:"HorseFace",health:1e39,maxHealth:1e39,defense:5e17,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:5e13,unlocked:!0}]}),this.battleService.addEnemy({name:"Ox Head",baseName:"OxHead",health:1e39,maxHealth:1e39,defense:5e17,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:5e13,unlocked:!0}]}))}],requirements:[{}],resourceUse:[],unlocked:!0,skipApprenticeshipLevel:0},this.bigNumberPipe=this.injector.get(Ve),this.activities=[this.BurnMoney,this.HonorAncestors,this.Rehabilitation,this.CopperMining,this.ForgeHammer,this.ClimbMountain,this.AttackClimbers,this.MeltMountain,this.HealAnimals,this.LiftBoulder,this.SearchForExit,this.TeachTheWay,this.Interrogate,this.RecoverTreasure,this.ReplaceTreasure,this.EndureTheMill,this.FreezeMountain,this.ExamineContracts,this.Swim,this.ForgeChains,this.AttachChains,this.MakeBrick,this.MakeMortar,this.MakeScaffold,this.BuildTower,this.ResearchWind,this.TameWinds,this.LearnToFly,this.OfferDragonFood,this.OfferDragonWealth,this.TalkToDragon,this.GatherArmies,this.ConquerTheNation,this.MoveStars,this.Resting,this.Begging,this.Cooking,this.Blacksmithing,this.Woodworking,this.Leatherworking,this.Alchemy,this.Merchant,this.FormationCreation,this.Plowing,this.Clearing,this.Farming,this.Mining,this.Smelting,this.ChopWood,this.Hunting,this.Fishing,this.GatherHerbs,this.Taunting,this.Burning,this.OddJobs,this.BodyCultivation,this.MindCultivation,this.BalanceChi,this.CoreCultivation,this.InfuseEquipment,this.InfuseBody,this.ExtendLife,this.SoulCultivation,this.SynthesizingGems,this.PurifyGems,this.Recruiting,this.TrainingFollowers,this.PetRecruiting,this.PetTraining,this.CombatTraining],this.portals=[],setTimeout(()=>this.locationService=this.injector.get(An)),setTimeout(()=>this.hellService=this.injector.get(Fe)),setTimeout(()=>this.updateDisplayValues()),s.reincarnateSubject.subscribe(()=>{this.reset()}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1),this.updateDisplayValues()}),s.activityTickSubject.subscribe(()=>{if(this.activityLoop.length===0&&!this.immediateActivity){this.mainLoopService.togglePause(!0);return}if(!this.characterService.dead){if(this.pauseBeforeDeath&&!this.beforeDeathPauseUsed&&this.characterService.age>=this.characterService.lifespan-1&&!this.characterService.immortal()){this.logService.log(w.EVENT,"The end of your natural life is imminent. Game paused."),this.mainLoopService.togglePause(!0),this.beforeDeathPauseUsed=!0,this.mainLoopService.autopauseTriggered=!0;return}if(this.exhaustionDays>0){this.totalExhaustedDays++,this.exhaustionDays--,this.immediateActivity&&this.logService.log(w.EVENT,"You were too exhausted to do "+this.immediateActivity.name[this.immediateActivity.level]+" today, but you are getting better.");return}if(this.immediateActivity){let g=this.immediateActivity;this.autoRestUnlocked&&this.checkResourceUse(g)!==""&&(g=this.Resting),this.lifeActivities[g.activityType]=(this.lifeActivities[g.activityType]||0)+1,g.consequence[g.level](),this.homeService.triggerWorkstations(g.activityType),this.checkExhaustion(),this.checkQiOveruse(),this.activityDeath=!1,this.characterService.status.health.value<=0&&(this.activityDeath=!0),this.handleSpiritActivity(),this.characterService.money>this.characterService.maxMoney&&this.characterService.updateMoney(this.characterService.maxMoney,!0);return}if(this.checkTriggers(),this.currentIndex<this.activityLoop.length){this.currentLoopEntry=this.activityLoop[this.currentIndex];let g=this.getActivityByType(this.currentLoopEntry.activity);if(g===null||this.currentLoopEntry.disabled||this.currentLoopEntry.userDisabled||this.currentLoopEntry.repeatTimes===0){let S=0;for(this.currentIndex<this.activityLoop.length-1&&(S=this.currentIndex+1);S!==this.currentIndex&&(this.activityLoop[S].repeatTimes===0||this.activityLoop[S].disabled||this.activityLoop[S].userDisabled||this.getActivityByType(this.activityLoop[S].activity)===null);)S++,S>=this.activityLoop.length&&(S=0);if(S===this.currentIndex){this.mainLoopService.togglePause(!0);return}else this.currentIndex=S,this.currentLoopEntry=this.activityLoop[this.currentIndex],g=this.getActivityByType(this.currentLoopEntry.activity),this.currentTickCount=0}if(g?(this.autoRestUnlocked&&this.checkResourceUse(g)!==""&&(g=this.Resting),this.lifeActivities[g.activityType]=(this.lifeActivities[g.activityType]||0)+1,g.consequence[g.level](),this.homeService.triggerWorkstations(g.activityType)):console.log("Invalid activity, skipping activity for the day"),this.checkExhaustion(),this.checkQiOveruse(),this.activityDeath=!1,this.characterService.status.health.value<=0&&(this.activityDeath=!0),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes){this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0);let S=this.currentIndex;for(;this.activityLoop[this.currentIndex].repeatTimes===0||this.activityLoop[this.currentIndex].disabled||this.activityLoop[this.currentIndex].userDisabled||this.getActivityByType(this.activityLoop[this.currentIndex].activity)===null;)if(this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0),this.currentIndex===S&&(this.activityLoop[this.currentIndex].repeatTimes===0||this.activityLoop[this.currentIndex].disabled||this.activityLoop[this.currentIndex].userDisabled||this.getActivityByType(this.activityLoop[this.currentIndex].activity)===null)){this.mainLoopService.togglePause(!0);return}}}else this.currentIndex=0;this.handleSpiritActivity(),this.characterService.money>this.characterService.maxMoney&&this.characterService.updateMoney(this.characterService.maxMoney,!0)}}),this.upgradeActivities(!0),this.checkRequirements(!0)}updateDisplayValues(){this.displayCurrentIndex.set(this.currentIndex),this.displayCurrentTickCount.set(this.currentTickCount),this.currentRealmDisplay.set(h_[this.currentRealm]),this.displayedActivitiesCount=0;for(let e=0;e<this.activities.length;e++){let i=this.activities[e];this.displayActivities.length<=e&&this.displayActivities.push({trackField:C(""),name:C(""),displayed:C(!1),projectionOnly:C(!1),locked:C(!1),activityType:C(i.activityType),tooltip:C(""),scheduleTooltip:C(""),apprenticeshipRequired:C(!1),familySpecialty:C(!1),displayLastIncome:C(!1),lastIncomeString:C(""),activity:i,hidden:C(!1),nextRank:C("")});let r=this.displayActivities[e];r.trackField.set(""+i.activityType+i.level+i.lastIncome+i.unlocked+i.discovered);let o=i.discovered||i.unlocked;r.displayed.set(o),o&&this.displayedActivitiesCount++,r.name.set(i.name[i.level]),r.projectionOnly.set(i.projectionOnly||!1),r.locked.set(!i.unlocked||this.battleService.enemies.length>0),r.tooltip.set(this.getActivityTooltip(i,!0)),r.scheduleTooltip.set(this.getActivityTooltip(i,!1)),r.apprenticeshipRequired.set(i.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(i.activityType)),r.familySpecialty.set(this.familySpecialty===i.activityType),i.lastIncome&&i.lastIncome>0?r.displayLastIncome.set(!0):r.displayLastIncome.set(!1),r.lastIncomeString.set("Exactly how much will you make doing this job?<br>It can depend on your attributes, but the last time you did this job you made<br>"+this.bigNumberPipe.transform(i.lastIncome||0)+" taels."),r.nextRank.set(this.getNextRankTooltip(i)),r.hidden.set(this.hiddenActivities.includes(i.activityType))}}getActivityTooltip(e,i){if(e.activityType>=j.Hell||e.activityType===j.EscapeHell)return"";if(e.unlocked){if(i)return"Spend a day doing this activity";{let r="";return this.characterService.qiUnlocked&&(r="<br>Right-click to set this as your spriritual projection activity"),"Add this activity to your schedule<br>Shift- or Ctrl-click to repeat it 10x<br>Shift-Ctrl-click to repeat it 100x<br>Alt-click to add it to the top"+r}}else{let r=["This activity is locked until you have the attributes required for it. You will need:<br>",...Object.entries(e.requirements[0]).map(o=>o[1]?`${this.camelToTitle.transform(o[0])}: ${this.bigNumberPipe.transform(o[1])}`:void 0)].filter(o=>o).join("<br>");return e.landRequirements&&(r+="<br>Land: "+e.landRequirements),e.fallowLandRequirements&&(r+="<br>Fallow Land: "+e.fallowLandRequirements),e.farmedLandRequirements&&(r+="<br>Farmed Land: "+e.farmedLandRequirements),this.locationService.unlockedLocations.includes(e.location)||(r+="<br>Access to "+this.camelToTitle.transform(e.location)),r}}getNextRankTooltip(e){let i="";return this.activityOptionsUnlocked()&&e.level<e.name.length-1&&(i=["The next level of this activity is locked until you have the attributes required for it. You will need:<br>",...Object.entries(e.requirements[e.level+1]).map(r=>r[1]?`${this.camelToTitle.transform(r[0])}: ${this.bigNumberPipe.transform(r[1])}`:void 0)].filter(r=>r).join("<br>")),i}checkTriggers(){if(this.triggerIndex<this.loopChangeTriggers.length){let e=this.loopChangeTriggers[this.triggerIndex];if(e.attribute==="money"){this.characterService.money>=e.value&&(this.triggerIndex++,this.loadActivityLoop(e.scheduleName));return}let i=e.attribute;if(this.characterService.attributes[i]){this.characterService.attributes[i].value>=e.value&&(this.triggerIndex++,this.loadActivityLoop(e.scheduleName));return}let r=e.attribute;this.characterService.status[r].max>=e.value&&(this.triggerIndex++,this.loadActivityLoop(e.scheduleName))}}checkExhaustion(){this.characterService.status.stamina.value<0&&(this.logService.injury(w.EVENT,"You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again."),this.exhaustionDays=5,this.characterService.status.stamina.value=100,this.characterService.status.health.value-=.01*this.characterService.status.health.max)}checkQiOveruse(){this.characterService.status.qi.value<0&&(this.logService.injury(w.EVENT,"You overextend your Qi and damage your Qi channels. It takes you 10 days to recover."),this.characterService.status.qi.max>1&&(this.characterService.status.qi.max-=1),this.exhaustionDays=10,this.characterService.status.health.value-=.01*this.characterService.status.health.max)}checkResourceUse(e,i=!1){if(!e.resourceUse||!e.resourceUse[e.level])return"";if(i&&(e.resourceUse[e.level].qi||(e.resourceUse[e.level].qi=0),this.characterService.status.qi.value<(e.resourceUse[e.level]?.qi??0)+5))return"qi";for(let r in e.resourceUse[e.level])if(this.characterService.status[r].value<(e.resourceUse?.[e.level]?.[r]??0))return r;return""}handleSpiritActivity(){if(this.spiritActivity!==null&&this.characterService.status.qi.value>=5){this.spiritActivityProgress=!0;let e=this.getActivityByType(this.spiritActivity);e!==null&&this.checkResourceUse(e,!0)===""&&e.unlocked?(this.lifeActivities[e.activityType]=(this.lifeActivities[e.activityType]||0)+1,e.consequence[e.level](),this.homeService.triggerWorkstations(e.activityType),this.characterService.status.qi.value-=5):this.spiritActivityProgress=!1}else this.spiritActivityProgress=!1}getYinYangDescription(e){return e===te.Yang?`

Promotes the development of Yang energy.`:e===te.Yin?`

Promotes the development of Yin energy.`:e===te.Balance?`

Promotes a balance of Yin and Yang energies.`:""}getProperties(){let e=[],i=[],r=[];for(let o of this.activities)o.unlocked&&e.push(o.activityType),o.discovered&&i.push(o.activityType);for(let o of this.portals)r.push(o.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,discoveredActivities:i,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoops:this.savedActivityLoops,loopChangeTriggers:this.loopChangeTriggers,triggerIndex:this.triggerIndex,autoRestUnlocked:this.autoRestUnlocked,pauseOnImpossibleFail:this.pauseOnImpossibleFail,totalExhaustedDays:this.totalExhaustedDays,purifyGemsUnlocked:this.purifyGemsUnlocked,lifeActivities:this.lifeActivities,familySpecialty:this.familySpecialty,tauntCounter:this.tauntCounter,researchWindCounter:this.researchWindCounter,miningCounter:this.miningCounter,huntingCounter:this.huntingCounter,fishingCounter:this.fishingCounter,recruitingCounter:this.recruitingCounter,petRecruitingCounter:this.petRecruitingCounter,coreCultivationCounter:this.coreCultivationCounter,beforeDeathPauseUsed:this.beforeDeathPauseUsed,currentRealm:this.currentRealm,oddJobDays:this.oddJobDays,beggingDays:this.beggingDays,incomeMultiplier:this.incomeMultiplier,hiddenActivities:this.hiddenActivities,activityOptionsUnlocked:this.activityOptionsUnlocked(),openPortals:r}}setProperties(e){this.completedApprenticeships=e.completedApprenticeships||[];let i=e.unlockedActivities||[j.OddJobs,j.Resting],r=e.discoveredActivities||[j.OddJobs,j.Resting];for(let o of this.activities)o.unlocked=i.includes(o.activityType),o.discovered||(o.discovered=r.includes(o.activityType)||i.includes(o.activityType));this.portals=[];for(let o of e.openPortals){let a=this.getActivityByType(o);a&&this.portals.push(a)}this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.beforeDeathPauseUsed=e.beforeDeathPauseUsed,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity??null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship,this.savedActivityLoops=e.savedActivityLoops,this.loopChangeTriggers=e.loopChangeTriggers,this.triggerIndex=e.triggerIndex,this.autoRestUnlocked=e.autoRestUnlocked||!1,this.purifyGemsUnlocked=e.purifyGemsUnlocked||!1,this.lifeActivities=e.lifeActivities,this.familySpecialty=e.familySpecialty,e.pauseOnImpossibleFail===void 0?this.pauseOnImpossibleFail=!0:this.pauseOnImpossibleFail=e.pauseOnImpossibleFail,this.totalExhaustedDays=e.totalExhaustedDays||0;for(let o=0;o<5;o++)this.upgradeActivities(!0);this.tauntCounter=e.tauntCounter,this.researchWindCounter=e.researchWindCounter,this.miningCounter=e.miningCounter,this.huntingCounter=e.huntingCounter,this.fishingCounter=e.fishingCounter,this.recruitingCounter=e.recruitingCounter,this.petRecruitingCounter=e.petRecruitingCounter,this.coreCultivationCounter=e.coreCultivationCounter,this.oddJobDays=e.oddJobDays,this.beggingDays=e.beggingDays,this.incomeMultiplier=e.incomeMultiplier,this.checkRequirements(!0),this.currentRealm=e.currentRealm,this.hellService||(this.hellService=this.injector.get(Fe)),this.currentRealm<this.hellService.hells.length&&this.hellService.hells[this.currentRealm].setPortals(),this.hiddenActivities=e.hiddenActivities,this.activityOptionsUnlocked.set(e.activityOptionsUnlocked)}meetsRequirements(e){if(!this.hellService?.inHell()&&this.locationService&&!this.locationService.unlockedLocations.includes(e.location))return e.unlocked=!1,!1;if(e.conceptRequirements)for(let i of e.conceptRequirements){let r=this.contemplationService.concepts.find(o=>o.name===i);if(r&&!r.discovered)return!1}if(this.meetsRequirementsByLevel(e,e.level)){if(e.unlocked=!0,e.discovered)for(let i of this.activityLoop)i.activity===e.activityType&&i.disabled&&(i.disabled=!1);else e.discovered=!0;return!0}return e.relockable&&(e.unlocked=!1),!1}meetsRequirementsByLevel(e,i){if(e.skipApprenticeshipLevel>0&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&!this.completedApprenticeships.includes(e.activityType))return!1;let r=Object.keys(e.requirements[i]);for(let a in r){let s=r[a],l=0;if(e.requirements[i][s]!==void 0&&(l=e.requirements[i][s]??0),this.characterService.attributes[s].value<=l)return!1}let o=e.resourceUse[i];for(let a in o){let s=a,l=e.resourceUse[i][s]||0;if(this.characterService.status[s].max<=l)return!1}return!(e.landRequirements&&this.homeService.land<e.landRequirements||e.fallowLandRequirements&&this.farmService.fallowPlots<e.fallowLandRequirements||e.farmedLandRequirements&&this.farmService.farmedPlots<e.farmedLandRequirements)}checkRequirements(e){for(let i of this.activities){if(i.impossibleTaskIndex!==void 0){i.unlocked=i.impossibleTaskIndex===this.impossibleTaskService.activeTaskIndex,i.discovered=i.impossibleTaskIndex===this.impossibleTaskService.activeTaskIndex;continue}else if(this.impossibleTaskService.activeTaskIndex===fe.Swim){i.unlocked=!1;continue}if(i.projectionOnly=!1,this.hellService?.inHell()){let r=this.hellService?.hells[this.currentRealm];r?.activities.includes(i)?(i.discovered=!0,this.meetsRequirements(i)):r?.projectionActivities.includes(i)?(i.projectionOnly=!0,i.unlocked=!0,i.discovered=!0):(i.unlocked=!1,i.discovered=!1);continue}else if(i.location===I.Hell){i.unlocked=!1,i.discovered=!1;continue}this.meetsRequirements(i)&&!i.unlocked&&(e||this.logService.log(w.EVENT,"A new activity is available. Maybe you should try "+i.name[i.level]+"."))}for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity)?.unlocked||(this.activityLoop[i].disabled=!0)}upgradeActivities(e){for(let i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1)&&(!e&&i.unlocked&&this.logService.log(w.EVENT,"Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1]),i.level++)}getActivityName(e){let i=this.getActivityByType(e);return i?i.name[i.level]:""}reset(){this.beforeDeathPauseUsed=!1;let e=0;for(let i in this.lifeActivities){let r=parseInt(i),o=this.lifeActivities[r]||0;r&&o>e&&this.supportedSpecialties.includes(r)&&(e=o,this.familySpecialty=r)}this.lifeActivities={},this.openApprenticeships=1,this.currentApprenticeship=void 0,this.oddJobDays=0,this.beggingDays=0;for(let i of this.activities)i.level=0,i.unlocked=!1;for(let i=0;i<5;i++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==fe.Swim&&(this.Resting.unlocked=!0,this.OddJobs.unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&!this.characterService.immortal()&&(this.logService.log(w.EVENT,"Your current life has ended. Game paused."),this.mainLoopService.togglePause(!0))):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0,this.triggerIndex=0,this.loopChangeTriggers.length>0&&(this.loadActivityLoop(this.loopChangeTriggers[0].scheduleName),this.triggerIndex++)}getActivityByType(e){for(let i of this.activities)if(i.activityType===e)return i;return e===j.ReturnToHell?this.returnToHell:null}checkApprenticeship(e){if(!this.completedApprenticeships.includes(e)){if(this.currentApprenticeship===e){let i=this.getActivityByType(e);i&&i.level>=i.skipApprenticeshipLevel&&this.completedApprenticeships.push(e)}else if(this.openApprenticeships>0){this.openApprenticeships--,this.currentApprenticeship=e;for(let i of this.activities)i.skipApprenticeshipLevel>0&&(i.unlocked=!1);this.checkRequirements(!0)}}}saveActivityLoop(e=""){let i=this.savedActivityLoops.find(r=>r.name===e);i?i.activities=JSON.parse(JSON.stringify(this.activityLoop)):this.savedActivityLoops.push({name:e,activities:JSON.parse(JSON.stringify(this.activityLoop))})}loadActivityLoop(e){let i=this.savedActivityLoops.find(r=>r.name===e);i&&(this.activityLoop=JSON.parse(JSON.stringify(i.activities)),this.checkRequirements(!0),this.currentIndex=0)}removeActivityLoop(e){let i=this.savedActivityLoops.findIndex(r=>r.name===e);i>=0&&this.savedActivityLoops.splice(i,1);for(let r=this.loopChangeTriggers.length-1;r>=0;r--)this.loopChangeTriggers[r].scheduleName===e&&this.loopChangeTriggers.splice(r,1)}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(ae),L(se),L(Qe),L(yi),L(pe),L(oi),L(it),L(St),L(ut),L(pn),L(pi))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fe=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d){this.logService=e,this.characterService=i,this.activityService=o,this.followersService=a,this.battleService=s,this.inventoryService=l,this.itemRepoService=c,this.contemplationService=d,this.inHell=C(!1),this.hellUnlocked=C(!1),this.completedHellTasks=[],this.completedHellBosses=[],this.beaten=!1,this.mountainSteps=0,this.animalsHealed=0,this.boulderHeight=0,this.daysFasted=0,this.swimDepth=0,this.exitFound=!1,this.soulsEscaped=0,this.relicsReturned=0,this.timesCrushed=0,this.contractsExamined=0,this.atonedKills=0,this.fasterHellMoney=!1,this.burnedMoney=0,this.hellBossBaseHealth=1e36,this.hells=[{name:"Gates of Hell",description:"The gates of Lord Yama's realm.<br>An array of frightening gates allow you to select the various hells and their challenges.<br>If you are overwhelmed by these horrors, you can always escape back to the mortal realm through reincarnation.",index:ie.Gates,setPortals:()=>{this.activityService.portals=[];let u=!0;for(let v of this.hells){if(v.index===ie.Gates)continue;let y="";this.completedHellBosses.includes(v.index)?y="You have proven your mastery over this hell.":(this.completedHellTasks.includes(v.index)&&(y="The Lord of this Hell is available to challenge."),u=!1),this.activityService.portals.push({level:0,name:[v.name],location:I.Hell,activityType:j.Hell+v.index,description:[v.description],yinYangEffect:[te.None],consequenceDescription:[y],consequence:[()=>{this.moveToHell(v.index)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0,resourceUse:[]})}u&&this.activityService.portals.push(this.activityService.FinishHell)},completeEffect:()=>{},activities:[this.activityService.Resting,this.activityService.CombatTraining,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.InfuseBody,this.activityService.PurifyGems,this.activityService.InfuseEquipment],projectionActivities:[],hint:"",progress:()=>this.characterService.god()?1:0,progressMax:()=>1,successCheck:()=>this.characterService.god(),progressCache:0,progressMaxCache:1},{name:"Hell of Tongue-ripping",description:"Torment for gossips and everyone one who made trouble with their words.<br>The demons here reach for your tongue to rip it out.",index:ie.TongueRipping,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.followersService.stashFollowers()},dailyEffect:()=>{this.characterService.attributes.charisma.value*=.9},exitEffect:()=>{this.followersService.restoreFollowers()},completeEffect:()=>{this.logService.log(w.STORY,"Together with your new followers, you have seized control of the Hell of Tongue-ripping. Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.hellRecruiting,this.activityService.TrainingFollowers],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"It's hard to talk with all these demons going for your mouth, but maybe if you can get some help from the other prisoners here you could take control of this place.",progress:()=>{let u=0;for(let v of this.followersService.followers)u+=v.power;return u},progressMax:()=>5e3,successCheck:()=>{let u=0;for(let v of this.followersService.followers)u+=v.power;return u>5e3},progressCache:0,progressMaxCache:1},{name:"Hell of Scissors",description:"Torment for those who ruin marriages.<br>The demons here will cut your fingers right off.",index:ie.Scissors,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},completeEffect:()=>{this.logService.log(w.STORY,"Using nothing but the strength of your body and mind, you have seized control of the Hell of Scissors.<br>Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"These demons don't seem content to just take your fingers. You'd better get ready to defend yourself.",progress:()=>this.inventoryService.getQuantityByName("fingers"),progressMax:()=>100,successCheck:()=>this.inventoryService.getQuantityByName("fingers")>=100,progressCache:0,progressMaxCache:1},{name:"Hell of Trees of Knives",description:"Torment for those who cause trouble between family members.<br>The demons here will tie you to a tree made of sharp knives",index:ie.TreesOfKnives,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.characterService.stashMoney()},dailyEffect:()=>{let u=this.characterService.status.health.value*.1;this.logService.injury(w.COMBAT,"The knives dig into your flesh, causing "+u+" damage."),this.characterService.status.health.value-=u},exitEffect:()=>{this.characterService.restoreMoney()},completeEffect:()=>{this.logService.log(w.STORY,"You have reconciled yourself with all of your family members and satisfied the demands of this hell. Now all that remains is to defeat its lord (while still tied to this tree).")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.HonorAncestors],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"Heal your family bonds.",progress:()=>this.inventoryService.getQuantityByName("token of gratitude"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("token of gratitude")>=1e4,progressCache:0,progressMaxCache:1},{name:"Hell of Mirrors",description:"Torment for those who escaped punishment for their crimes.<br>The mirrors here shine with a terrifying glow.",index:ie.Mirrors,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.followersService.stashFollowers()},exitEffect:()=>{this.followersService.restoreFollowers()},completeEffect:()=>{this.inventoryService.consume("mirrorShard",1e3),this.logService.log(w.STORY,"You piece together the shards of mirror that you have collected to form a new mirror. A dark shape looms beyond it.")},activities:[this.activityService.Resting,this.activityService.CombatTraining,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"Master yourself. All by yourself.",progress:()=>this.inventoryService.getQuantityByName("mirror shard"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("mirror shard")>=1e3,progressCache:0,progressMaxCache:1},{name:"Hell of Steamers",description:"Torment for hypocrites and ruffians.<br>The steam baskets here are just the right size for you.",index:ie.Steamers,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.inventoryService.stashWeapons(),this.inventoryService.stashArmor()},exitEffect:()=>{this.activityService.portals=[this.activityService.escapeHell],this.inventoryService.restoreWeapons(),this.inventoryService.restoreArmor()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let u=this.characterService.status.health.value*.05;this.logService.injury(w.COMBAT,"The steam cooks your skin, causing "+u+" damage."),this.characterService.status.health.value-=u}Math.random()<.2&&(this.logService.log(w.EVENT,"As if the constant scalding steam isn't enough, one of these ruffians stole some money! Why does this feel so familiar?"),this.characterService.hellMoney-=this.characterService.hellMoney*.1)},completeEffect:()=>{this.battleService.clearEnemies(),this.logService.log(w.STORY,"You defeat so many ruffians that the rest all beg to return to their baskets for their regular torment.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.activityService.Rehabilitation],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"There so many ruffians here that deserve some payback from you. I wonder if you can take them all on.",progress:()=>this.battleService.enemies.length,progressMax:()=>100,successCheck:()=>this.battleService.enemies.length>100,progressCache:0,progressMaxCache:1},{name:"Hell of Copper Pillars",description:"Torment for arsonists.<br>The red-hot copper pillars you will be bound to remind you of all those times you played with fire.",index:ie.CopperPillars,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let u=Math.max(this.characterService.status.health.value*.1,20);this.characterService.status.health.value-=u,this.logService.injury(w.COMBAT,"The heat of the pillars burns you for "+u+" damage.")}},completeEffect:()=>{this.logService.log(w.STORY,"You finally forge a hammer powerful enough to break through the chains that bind you to the pillar. The Lord of this Hell comes to investigate all the commotion as the chains fall to the ground.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.CopperMining,this.activityService.ForgeHammer],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"You'll need a really strong hammer to break through these hellsteel chain. Too bad the only material around is copper.",progress:()=>this.characterService.equipment.rightHand?.weaponStats?.baseDamage||0,progressMax:()=>100,successCheck:()=>(this.characterService.equipment.rightHand?.weaponStats?.baseDamage||0)>100,progressCache:0,progressMaxCache:1},{name:"Hell of the Mountain of Knives",description:"Torment for those who killed for pleasure.<br>The mountain of sharp blades looks like it might be rough on footwear.",index:ie.MountainOfKnives,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},dailyEffect:()=>{let u=this.battleService.totalKills/100-this.mountainSteps-this.atonedKills;this.atonedKills++,u<0&&(u=0),this.characterService.status.health.value-=u,u>0&&this.logService.injury(w.COMBAT,"The mountain's blades shred you for "+u+" damage.")},completeEffect:()=>{this.logService.log(w.STORY,"You finally reach the peak. The karmic weight of all the killing you've ever done drops from your shoulders. Now to defeat this hell's lord without taking any pleasure in the act.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.ClimbMountain],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"It seems you've accrued a lot of karma from all the killing you've done over your many lives. The bill is due.",progress:()=>this.mountainSteps,progressMax:()=>this.battleService.totalKills/100,successCheck:()=>this.mountainSteps>=this.battleService.totalKills/100,progressCache:0,progressMaxCache:1},{name:"Hell of the Mountain of Ice",description:"Torment for adulterers and schemers.<br>The chill wind blowing through the gate is so cold it burns.",index:ie.MountainOfIce,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},completeEffect:()=>{this.logService.log(w.STORY,"You realize that the power of the ice cores is all that prevents the heat from the neighboring hells from turning the mountain into slush. With enough of these tucked away in your pack, the mountain dwindles down to a managable size. Now to see who's in charge around here.")},dailyEffect:()=>{this.inventoryService.consume("fireCore")<0&&(this.characterService.status.health.value-=1e3,this.logService.injury(w.COMBAT,"The mountain's ice freezes you for 1000 damage."));let v=.9;this.characterService.attributes.fireLore.value*=v},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.activityService.MeltMountain],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"Burn it down!",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e4,progressCache:0,progressMaxCache:1},{name:"Hell of the Cauldrons of Oil",description:"Torment for rapists and abusers.<br>Next on the menu: deep fried immortal.",index:ie.CauldronsOfOil,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},dailyEffect:()=>{if(!this.completedHellTasks.includes(ie.CauldronsOfOil)){if(this.inventoryService.consume("iceCore")>0){this.logService.injury(w.EVENT,"The ice cores you brought in with you make the oil sputter and pop, baking you in a cloud of superheated steam."),this.characterService.status.health.value-=1e5;return}let u=Math.max(this.characterService.status.health.value*.1,20);this.logService.injury(w.COMBAT,"The oil scorches you, causing "+u+" damage."),this.characterService.status.health.value-=u}if(Math.random()<.1){this.logService.injury(w.COMBAT,"Your weapons slip from your oily hands."),this.inventoryService.autoequipBestEnabled=!1;let u=this.characterService.equipment.rightHand;u&&(this.inventoryService.addItem(u),this.characterService.equipment.rightHand=null),u=this.characterService.equipment.leftHand,u&&(this.inventoryService.addItem(u),this.characterService.equipment.leftHand=null)}},completeEffect:()=>{this.logService.log(w.STORY,"The pile of ice cores you brought in with you make the oil sputter and pop, but you are tough enough to withstand the superheated steam. Out of the cauldron now, you look around for the boss.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"You'd need to be incredibly resilient to survive this place.",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e3&&this.characterService.status.health.value>1e5,progressCache:0,progressMaxCache:1},{name:"Hell of the Cattle Pit",description:"Torment for animal abusers.<br>The cows are looking a little restless.",index:ie.CattlePit,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},completeEffect:()=>{this.contemplationService.discoverConcept(g_),this.logService.log(w.STORY,"The horde of rampaging cattle finally seems to understand that you're not there to hurt them. They back off and leave you alone. All except for that really big cow over there.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.HealAnimals],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"Look at those poor sick cows. And those other cows that for some reason are standing up on two legs and charging you with weapons.",progress:()=>this.animalsHealed,progressMax:()=>1e6,successCheck:()=>this.animalsHealed>1e6,progressCache:0,progressMaxCache:1},{name:"Hell of the Crushing Boulder",description:"Torment for child-killer and abondoners where the damned have to lift giant boulders or be crushed under them.<br>Atlas had it easy compared to these people.",index:ie.CrushingBoulder,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.boulderHeight=0},dailyEffect:()=>{if(this.boulderHeight>100)return;let u=500;this.characterService.status.health.value-=u,this.logService.injury(w.COMBAT,"The boulder crushes you for "+u+" damage."),Math.random()<.1&&this.battleService.addEnemy({name:"An Annoying Imp",baseName:"imp",health:10,maxHealth:10,defense:100,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:100,unlocked:!0}]})},completeEffect:()=>{this.logService.log(w.STORY,"You hoist the boulder high over your head, then throw it high into the air. It lands with a satisfying thud. Unfortunately, it grows arms and legs and walks back to you, and this time it looks angry.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.LiftBoulder],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"It's leg day. No, it's arm day. Must be both! Lift!",progress:()=>this.boulderHeight,progressMax:()=>1e3,successCheck:()=>this.boulderHeight>1e3,progressCache:0,progressMaxCache:1},{name:"Hell of Mortars and Pestles",description:"Torment for food wasters.<br>You didn't really need to eat all those peaches, did you?<br>The diet here is pure hellfire.",index:ie.MortarsAndPestles,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},dailyEffect:()=>{this.daysFasted++},completeEffect:()=>{this.logService.log(w.STORY,"Your righteous asceticism have served you well. The lord of this hell has arrived to deal with you personally.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"You begin to feel remorse for your gluttony across your many lives. Perhaps a nice, long fast would help you feel better. Hopefully you can keep the demons from spoonfeeding you their fiery concoction.",progress:()=>this.daysFasted,progressMax:()=>1e3,successCheck:()=>this.daysFasted>1e3,progressCache:0,progressMaxCache:1},{name:"Hell of the Blood Pool",description:"Torment for those who disrespect others.<br>The pool looks deep, but it's hard to tell with all that blood.",index:ie.BloodPool,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.swimDepth=0},completeEffect:()=>{this.logService.log(w.STORY,"You finally reach the bottom of the pool where you find a massive plug. When you pull it, the pool begins to drain, revealing the source of all this blood.")},activities:[this.activityService.HellSwim],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"Not this again!",progress:()=>this.swimDepth,progressMax:()=>1e4,successCheck:()=>this.swimDepth>1e4,progressCache:0,progressMaxCache:1},{name:"Hell of the Wrongful Dead",description:"Torment for those who gave up their lives too early.<br>Fortunately you've probably never done that.<br>The pounding Rains of Pain and the blowing Winds of Sorrow give unrelenting misery to everyone here.",index:ie.WrongfulDead,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},entryEffect:()=>{this.exitFound&&(this.hells[ie.WrongfulDead].activities.includes(this.activityService.TeachTheWay)||this.hells[ie.WrongfulDead].activities.push(this.activityService.TeachTheWay))},dailyEffect:()=>{this.logService.injury(w.COMBAT,"The constant storm saps you of 500 health and 100 stamina."),this.characterService.status.health.value-=500,this.characterService.status.stamina.value-=100},completeEffect:()=>{this.logService.log(w.STORY,"You sigh in relief as you usher the last of the damned out. The hell is finally empty. Well, empty except for the monstrous Hell Lord coming toward you.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.SearchForExit,this.activityService.TeachTheWay],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"These people don't belong here. Get them out.",progress:()=>this.soulsEscaped,progressMax:()=>1e6,successCheck:()=>this.soulsEscaped>1e6,progressCache:0,progressMaxCache:1},{name:"Hell of Dismemberment",description:"Torment for tomb-raiders and grave-robbers.<br>The demons here look awfully handy with those giant axes.",index:ie.Dismemberment,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},completeEffect:()=>{this.logService.log(w.STORY,"As you help more of the damned here to resolve their crimes, an angry cry sounds through the hell. The lord has arrived.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Interrogate],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney,this.activityService.RecoverTreasure,this.activityService.ReplaceTreasure],hint:"Unloot those tombs.",progress:()=>this.relicsReturned,progressMax:()=>1e4,successCheck:()=>this.relicsReturned>1e4,progressCache:0,progressMaxCache:1},{name:"Hell of the Mountain of Fire",description:"Torment for thieves.<br>The volcano where the poor souls are thrown looks a little toasty for comfort.",index:ie.MountainOfFire,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let u=Math.max(this.characterService.status.health.value*.1,20);this.logService.injury(w.COMBAT,"The oppressive heat of the volcano burns you for "+u+" damage."),this.characterService.status.health.value-=u}},completeEffect:()=>{this.logService.log(w.STORY,"You realize that the power of the fire cores is essential to keeping the lava in the volcano liquid. With enough of these tucked away in your pack, the the surface finally cools enough to turn back to stone. Someone is not happy with this change.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.FreezeMountain],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"How does this volcano stay so hot?",progress:()=>this.inventoryService.getQuantityByName("fire core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("fire core")>=1e4,progressCache:0,progressMaxCache:1},{name:"Hell of Mills",description:"Torment for any who abused their power to oppress the weak.<br>You don't look forward to being ground into immortal flour.",index:ie.Mills,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},completeEffect:()=>{this.logService.log(w.STORY,"Your karmic debt for all the oppression you've ever inflicted is paid off. Now you just need to show the strongest demon here not to pick on the weak.")},activities:[this.activityService.EndureTheMill],projectionActivities:[],hint:"Just endure.",progress:()=>this.timesCrushed,progressMax:()=>this.characterService.totalLives*100,successCheck:()=>this.timesCrushed>this.characterService.totalLives*100,progressCache:0,progressMaxCache:1},{name:"Hell of Saws",description:"Torment for swindlers and business cheats.<br>The demons sharpen their saws and grin at you.<br>You wish now that you'd stayed out of politics.",index:ie.Saws,setPortals:()=>{this.activityService.portals=[this.activityService.escapeHell]},dailyEffect:()=>{this.contractsExamined<=2e4&&(this.logService.injury(w.COMBAT,"The saws tear into your flesh, causing 100 damage."),this.characterService.status.health.value-=100)},completeEffect:()=>{this.logService.log(w.STORY,"You finally find article 131 of bylaw 8888 subsection 42(b)6.42 where paragraph fourty-eight clearly states that you have the right to confront the Hell Lord. Time to party!")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.ExamineContracts],projectionActivities:[this.activityService.OddJobs,this.activityService.BurnMoney],hint:"You read legalese, right?",progress:()=>this.contractsExamined,progressMax:()=>2e4,successCheck:()=>this.contractsExamined>2e4,progressCache:0,progressMaxCache:1}],r.tickSubject.subscribe(()=>{if(this.activityService.currentRealm>=this.hells.length)return;let u=this.hells[this.activityService.currentRealm];u.dailyEffect&&u.dailyEffect(),this.beaten&&(this.beaten=!1,this.logService.injury(w.EVENT,"You fall to your knees, unable to bear more damage. You crawl back through this hell's gate to get a moment of respite at the gates of Lord Yama's realm."),this.battleService.enemies=[],this.battleService.currentEnemy=null,this.moveToHell(ie.Gates)),!this.completedHellTasks.includes(this.activityService.currentRealm)&&u.successCheck()&&(u.completeEffect(),this.completedHellTasks.push(this.activityService.currentRealm))}),r.reincarnateSubject.subscribe(()=>{this.returnToMortalRealm()}),r.longTickSubject.subscribe(()=>{for(let u of this.hells)u.progressCache=u.progress(),u.progressMaxCache=u.progressMax()})}returnToMortalRealm(){if(this.inHell()&&this.activityService.currentRealm<this.hells.length){let e=this.hells[this.activityService.currentRealm];e.exitEffect&&e.exitEffect()}this.inHell.set(!1),this.activityService.portals=[this.activityService.returnToHell],this.activityService.currentRealm=ie.MortalRealm}enterTheHells(){this.inHell.set(!0),this.hellUnlocked.set(!0),this.moveToHell(ie.Gates),this.characterService.updateMoney(0,!0),this.inventoryService.stashInventory(),this.followersService.hellPurge(),this.activityService.checkRequirements(!0)}moveToHell(e){if(this.inHell()&&this.activityService.currentRealm<this.hells.length){let r=this.hells[this.activityService.currentRealm];r.exitEffect&&r.exitEffect()}this.activityService.currentRealm=e;let i=this.hells[this.activityService.currentRealm];i.entryEffect&&i.entryEffect(),i.setPortals(),this.activityService.checkRequirements(!0)}trouble(){if(this.activityService.currentRealm>=this.hells.length)return;let e=this.hells[this.activityService.currentRealm].progress();if(this.activityService.currentRealm===ie.TongueRipping)this.battleService.addEnemy({name:"Tongue Ripper",baseName:"tongueripper",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6+1e4*e,unlocked:!0}]});else if(this.activityService.currentRealm===ie.Scissors)this.battleService.addEnemy({name:"Scissors Demon",baseName:"scissorsdemon",health:1e15+1e14*e,maxHealth:1e15+1e14*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),Wi),this.itemRepoService.items.fingers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6+1e4*e,unlocked:!0}]});else if(this.activityService.currentRealm===ie.TreesOfKnives)this.battleService.addEnemy({name:"Hungry Crow",baseName:"crow",health:1e6,maxHealth:1e6,defense:1e6,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]});else if(this.activityService.currentRealm===ie.Mirrors)this.battleService.addEnemy({name:"Your Reflection",baseName:"mirror",health:this.characterService.status.health.value,maxHealth:this.characterService.status.health.value,defense:this.characterService.defense,loot:[this.itemRepoService.items.mirrorShard],techniques:this.battleService.techniques});else if(this.activityService.currentRealm===ie.CauldronsOfOil)this.battleService.addEnemy({name:"Oiled Demon",baseName:"oileddemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]});else if(this.activityService.currentRealm===ie.CattlePit){if(this.animalsHealed<=1e6)for(let i=0;i<10;i++)this.battleService.addEnemy({name:"Demonic Cow",baseName:"demoniccow",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]})}else this.activityService.currentRealm===ie.MortarsAndPestles?this.battleService.addEnemy({name:"Force Feeder",baseName:"forcefeeder",health:1e6,maxHealth:1e6,defense:1e6,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Force Feeding",ticks:0,ticksRequired:10,baseDamage:1e6,effect:"feeder",hitTracker:0,unlocked:!0}]}):this.activityService.currentRealm===ie.Dismemberment?this.battleService.addEnemy({name:"Axe Demon",baseName:"axedemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]}):this.activityService.currentRealm===ie.Saws&&this.battleService.addEnemy({name:"Saw Demon",baseName:"sawdemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,Wi)],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6,unlocked:!0}]})}fightHellBoss(){this.activityService.currentRealm===ie.TongueRipping?this.battleService.addEnemy({name:"Gorbolash the Gossip Gasher",baseName:"Gorbolash",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownTongueRippers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Scissors?this.battleService.addEnemy({name:"Malgorath the Marriage Masher",baseName:"Malgorath",health:this.hellBossBaseHealth*.001,maxHealth:this.hellBossBaseHealth*.001,defense:1e12,loot:[this.itemRepoService.items.hellCrownScissors],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e11,unlocked:!0}]}):this.activityService.currentRealm===ie.TreesOfKnives?this.battleService.addEnemy({name:"Flamgolus the Family Flayer",baseName:"Flamgolus",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownTreesOfKnives],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Mirrors?this.battleService.addEnemy({name:"Myorshuggath the Mirror Master",baseName:"Myorshuggath",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownMirrors],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Steamers?this.battleService.addEnemy({name:"Stactolus the Steamer",baseName:"Stactolus",health:this.hellBossBaseHealth*.001,maxHealth:this.hellBossBaseHealth*.001,defense:1e12,loot:[this.itemRepoService.items.hellCrownSteamers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.CopperPillars?this.battleService.addEnemy({name:"Ignificor the Forever Burning",baseName:"Ignificor",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownPillars],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.MountainOfKnives?this.battleService.addEnemy({name:"Malignus the Murderer Muncher",baseName:"Malignus",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfKnives],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.MountainOfIce?this.battleService.addEnemy({name:"The Cheat",baseName:"Cheat",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfIce],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.CauldronsOfOil?this.battleService.addEnemy({name:"Nestor the Molestor",baseName:"Nestor",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownCauldronsOfOil],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.CattlePit?this.battleService.addEnemy({name:"The Cow Emperor",baseName:"CowEmperor",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownCattlePit],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.CrushingBoulder?this.battleService.addEnemy({name:"The Crusher",baseName:"Crusher",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownCrushingBoulder],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.MortarsAndPestles?this.battleService.addEnemy({name:"Glorbulskath the Gluttonous",baseName:"Glorbulskath",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownMortarsAndPestles],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.BloodPool?this.battleService.addEnemy({name:"Gnarlyathor the Ever-Bleeding",baseName:"Gnarlyathor",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownBloodPool],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.WrongfulDead?this.battleService.addEnemy({name:"Azoth-Raketh the Storm Master",baseName:"Azoth-Raketh",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownWrongfulDead],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Dismemberment?this.battleService.addEnemy({name:"Druskall the Dismemberer",baseName:"Druskall",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownDismemberment],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.MountainOfFire?this.battleService.addEnemy({name:"Magmar the Lava King",baseName:"Magmar",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownFireMountain],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Mills?this.battleService.addEnemy({name:"Grimstone The Human Grinder",baseName:"Grimstone",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownMills],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]}):this.activityService.currentRealm===ie.Saws&&this.battleService.addEnemy({name:"Crognaslark the Corrupter",baseName:"Crognaslark",health:this.hellBossBaseHealth,maxHealth:this.hellBossBaseHealth,defense:1e12,loot:[this.itemRepoService.items.hellCrownSaws],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10,unlocked:!0}]})}getProperties(){return{inHell:this.inHell(),hellUnlocked:this.hellUnlocked(),completedHellTasks:this.completedHellTasks,completedHellBosses:this.completedHellBosses,mountainSteps:this.mountainSteps,animalsHealed:this.animalsHealed,boulderHeight:this.boulderHeight,daysFasted:this.daysFasted,swimDepth:this.swimDepth,exitFound:this.exitFound,soulsEscaped:this.soulsEscaped,relicsReturned:this.relicsReturned,timesCrushed:this.timesCrushed,contractsExamined:this.contractsExamined,atonedKills:this.atonedKills,fasterHellMoney:this.fasterHellMoney,burnedMoney:this.burnedMoney}}setProperties(e){this.inHell.set(e.inHell),this.hellUnlocked.set(e.hellUnlocked),this.completedHellTasks=e.completedHellTasks||[],this.completedHellBosses=e.completedHellBosses||[],this.mountainSteps=e.mountainSteps||0,this.animalsHealed=e.animalsHealed||0,this.boulderHeight=e.boulderHeight||0,this.daysFasted=e.daysFasted||0,this.swimDepth=e.swimDepth||0,this.exitFound=e.exitFound||!1,this.soulsEscaped=e.soulsEscaped||0,this.relicsReturned=e.relicsReturned||0,this.timesCrushed=e.timesCrushed||0,this.contractsExamined=e.contractsExamined||0,this.atonedKills=e.atonedKills||0,this.fasterHellMoney=e.fasterHellMoney||!1,this.burnedMoney=e.burnedMoney||0}static{this.\u0275fac=function(i){return new(i||t)(L(St),L(ae),L(pe),L(Ue),L(ut),L(it),L(se),L(oi),L(pi))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J="gem",_t="money",rt="hide",X_="fruit",Ji="meat",ic="ore",mu="Right-Handed Weapon",pu="Left-Handed Weapon",gM="Qi Strike",J_="Pyroclasm",eS="Metal Fist",wf="Qi Shield",Cf="Fire Shield",kf="Ice Shield",Ef="Fire Essence",xf="Earth Essence",Tf="Metal Essence",Df="Wood Essence",Mf="Water Essence",Wi="Corruption",lo="Life",co="Poison",Vo="Doom",If="Explosions",nc="Shielding",Af="Piercing",Ms="Haste",Is="Slow",it=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=o,this.inventoryService=a,this.homeService=s,this.contemplationService=l,this.mainLoopService=c,this.titleCasePipe=d,this.camelToTitle=new Pt,this.displayEnemies=[],this.killsByLocation={},this.killsByMonster={},this.autoTroubleUnlocked=!1,this.yearlyMonsterDay=0,this.extraMonsterCounter=0,this.highestDamageTaken=0,this.highestDamageDealt=0,this.totalKills=0,this.godSlayersUnlocked=!1,this.godSlayersEnabled=!1,this.totalEnemies=0,this.battleMessageDismissed=!1,this.techniqueDevelopmentCounter=0,this.maxFamilyTechniques=0,this.statusEffects=[],this.displayStatusEffects=[],this.potionCooldown=20,this.potionThreshold=50,this.foodCooldown=60,this.foodThresholdStatusType="health",this.foodThreshold=50,this.activeFormation="",this.formationDuration=0,this.displayActiveFormation=C(""),this.displayFormationDuration=C(0),this.formationCooldown=0,this.formationPower=0,this.battlesUnlocked=!1,this.lores=["metalLore","earthLore","waterLore","fireLore","woodLore"],this.pouchPotionsUsed=0,this.pouchFoodUsed=0,this.enemyImageFile=C(""),this.enemiesPresent=C(!1),this.timesFled=0,this.techniquePrefixAdjectiveList=[{value:"Northern",description:"Techniques from the Northern lands.",allowed:!0,discovered:!1,concept:zp},{value:"Southern",description:"Techniques from the Southern lands.",allowed:!0,discovered:!1,concept:Hp},{value:"Eastern",description:"Techniques from the Eastern lands.",allowed:!0,discovered:!1,concept:Up},{value:"Western",description:"Techniques from the Western lands.",allowed:!0,discovered:!1,concept:qp},{value:"Brutal",description:"Techniques that focus on their brutality.",allowed:!0,discovered:!1,concept:$l},{value:"Devastating",description:"Techniques that focus on devastating your foes.",allowed:!0,discovered:!1,concept:Kd},{value:"Flowing",description:"Techniques that focus on their flowing form.",allowed:!0,discovered:!1,concept:Vp},{value:"Fierce",description:"Techniques inspired by beasts that focus on fierceness.",allowed:!0,discovered:!1,concept:Bp},{value:"Verdant",description:"Techniques that focus on emulating the verdant natural world.",allowed:!0,discovered:!1,concept:zl},{value:"Stealthy",description:"Techniques that focus on stealthy strikes.",allowed:!0,discovered:!1,concept:Yp},{value:"Dragon's",description:"Techniques inspired by the power of dragons.",allowed:!0,discovered:!1,concept:Ul},{value:"Devilish",description:"Techniques inspired by the wicked strength of devils.",allowed:!0,discovered:!1},{value:"Angelic",description:"Techniques inspired by the holy power of angelic beings.",allowed:!0,discovered:!1},{value:"Fearsome",description:"Techniques that focus on inspiring fear in your foes.",allowed:!0,discovered:!1,concept:jp},{value:"Ancient",description:"Techniques inspired by your study of ancient combat.",allowed:!0,discovered:!1,concept:Zd},{value:"Traditional",description:"Techniques inspired by your people's traditions.",allowed:!0,discovered:!1,concept:Zd},{value:"Lucky",description:"Techniques that focus on lucky strikes.",allowed:!0,discovered:!1},{value:"Imprudent",description:"Techniques that trade a bit of your own life for extra power.",allowed:!0,discovered:!1},{value:"Reckless",description:"Techniques that trade a your own life for extra power.",allowed:!0,discovered:!1},{value:"Wild",description:"Techniques that trade a dangerous amount of your own life for extra power.",allowed:!0,discovered:!1}],this.techniqueEffectsList=[{value:Ef,description:"Techniques infused with the fire element.",allowed:!0,discovered:!1},{value:xf,description:"Techniques infused with the earth element.",allowed:!0,discovered:!1},{value:Tf,description:"Techniques infused with the metal element.",allowed:!0,discovered:!1},{value:Df,description:"Techniques infused with the wood element.",allowed:!0,discovered:!1},{value:Mf,description:"Techniques infused with the water element.",allowed:!0,discovered:!1},{value:co,description:"Techniques that inflict poison.",allowed:!0,discovered:!1},{value:Vo,description:"Techniques that inflict doom.",allowed:!0,discovered:!1},{value:If,description:"Techniques that deliver explosive damage to both you and your foe.",allowed:!0,discovered:!1},{value:nc,description:"Techniques that focus on shielding you from your enemies attacks.",allowed:!0,discovered:!1},{value:Af,description:"Techniques that focus on piercing through your foe's defense.",allowed:!0,discovered:!1},{value:Ms,description:"Techniques that inspire you to strike faster.",allowed:!0,discovered:!1},{value:Is,description:"Techniques that slow your foe's attacks.",allowed:!0,discovered:!1}],this.elementalFactor=2,this.techniques=[{name:"Basic Strike",description:"A very simple strike that even the weakest mortal could perform.",ticksRequired:10,ticks:0,baseDamage:1,unlocked:!0,attribute:"strength",staminaCost:1},{name:mu,description:"A strike from the weapon in your right hand.",ticksRequired:6,ticks:0,baseDamage:2,unlocked:!1,attribute:"strength",staminaCost:10,concept:Gp},{name:pu,description:"A strike from the weapon in your left hand.",ticksRequired:8,ticks:0,baseDamage:2,unlocked:!1,attribute:"strength",staminaCost:10,concept:Wp}],this.displayTechniques=[],this.voidSkipCounter=0,this.voidSkipThreshold=1/0,this.monsterTypes=[{name:"spider",description:"",location:I.SmallTown,basePower:1,lootType:[J],techniques:[{name:"Sting",ticks:0,ticksRequired:15,baseDamage:8,unlocked:!0}]},{name:"rat",description:"",location:I.SmallTown,basePower:2,lootType:[J,rt],techniques:[{name:"Gnaw",ticks:0,ticksRequired:12,baseDamage:10,unlocked:!0}]},{name:"scorpion",description:"",location:I.Desert,basePower:3,lootType:[J],techniques:[{name:"Sting",ticks:0,ticksRequired:20,baseDamage:30,unlocked:!0},{name:"Claw Snap",ticks:0,ticksRequired:6,baseDamage:10,unlocked:!0}],unlocksFurniture:"Scorpion in Amber"},{name:"lizard",description:"",location:I.Desert,basePower:5,lootType:[J,rt]},{name:"snake",description:"",location:I.Desert,basePower:8,element:"fire",lootType:[J,rt]},{name:"jack-o-lantern",description:"",location:I.LargeCity,basePower:10,element:"fire",lootType:[J,_t]},{name:"redcap",description:"",location:I.SmallTown,basePower:12,lootType:[J,_t],techniques:[{name:"Poke",ticks:0,ticksRequired:6,baseDamage:10,unlocked:!0}]},{name:"gnome",description:"",location:I.LargeCity,basePower:15,element:"earth",lootType:[J,_t]},{name:"gremlin",description:"",location:I.SmallTown,basePower:18,lootType:[J,_t],unlocksFurniture:"Ugly Portrait"},{name:"imp",description:"",location:I.LargeCity,basePower:20,element:"water",lootType:[J,_t]},{name:"ooze",description:"",location:I.Forest,basePower:30,lootType:[J],techniques:[{name:"Blorp",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Consume",ticks:0,ticksRequired:30,baseDamage:2,effect:lo,unlocked:!0}]},{name:"jackalope",description:"",location:I.Desert,basePower:40,lootType:[J,rt]},{name:"pixie",description:"",location:I.Forest,basePower:50,lootType:[J,X_]},{name:"goblin",description:"",location:I.Forest,basePower:100,lootType:[J,_t]},{name:"monkey",description:"",location:I.Jungle,basePower:100,element:"metal",lootType:[J,rt,X_],unlocksFurniture:"Lucky Paw"},{name:"boar",description:"",location:I.Forest,basePower:200,element:"water",lootType:[J,rt,Ji],techniques:[{name:"Charge",ticks:0,ticksRequired:60,baseDamage:5,unlocked:!0}]},{name:"skeleton",description:"",location:I.Mine,basePower:300,lootType:[J,_t]},{name:"zombie",description:"",location:I.Dungeon,basePower:400,lootType:[J,_t]},{name:"kelpie",description:"",location:I.SmallPond,basePower:500,element:"water",lootType:[J,rt]},{name:"bunyip",description:"",location:I.SmallPond,basePower:600,element:"water",lootType:[J,rt,Ji]},{name:"hobgoblin",description:"",location:I.LargeCity,basePower:700,lootType:[J,_t]},{name:"kobold",description:"",location:I.Mine,basePower:800,element:"earth",lootType:[J,_t],unlocksFurniture:"Candle"},{name:"chupacabra",description:"",location:I.Desert,basePower:900,lootType:[J,rt,Ji]},{name:"siren",description:"",location:I.SmallPond,basePower:1e3,element:"water",lootType:[J],techniques:[{name:"Drowning Call",ticks:0,ticksRequired:100,baseDamage:100,unlocked:!0}],unlocksFurniture:"Alluring Beauty"},{name:"crocodile",description:"",location:I.SmallPond,basePower:1200,element:"water",lootType:[J,rt,Ji]},{name:"golem",description:"",location:I.LargeCity,basePower:1300,element:"earth",lootType:[J,ic],techniques:[{name:"Stomp",ticks:0,ticksRequired:20,baseDamage:3,unlocked:!0}]},{name:"incubus",description:"",location:I.LargeCity,basePower:1400,lootType:[J,_t]},{name:"succubus",description:"",location:I.LargeCity,basePower:1500,lootType:[J,_t],techniques:[{name:"Seduction",ticks:0,ticksRequired:50,baseDamage:10,effect:lo,unlocked:!0}],unlocksFurniture:"Seductive Beauty"},{name:"jackal",description:"",location:I.Desert,basePower:1800,lootType:[J,rt]},{name:"boogeyman",description:"",location:I.LargeCity,basePower:2e3,lootType:[J,_t]},{name:"basilisk",description:"",location:I.Desert,basePower:2100,element:"earth",lootType:[J,rt]},{name:"mogwai",description:"",location:I.LargeCity,basePower:2500,lootType:[J,_t],unlocksFurniture:"Cute Portrait"},{name:"ghoul",description:"",location:I.Dungeon,basePower:3e3,lootType:[J,_t],techniques:[{name:"Claw",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Devour",ticks:0,ticksRequired:30,baseDamage:2,effect:lo,unlocked:!0}]},{name:"orc",description:"",location:I.LargeCity,basePower:1e3,lootType:[J,_t]},{name:"tiger",description:"",location:I.Jungle,basePower:4e3,element:"wood",lootType:[J,rt]},{name:"hippo",description:"",location:I.SmallPond,basePower:5e3,lootType:[J,rt,Ji],unlocksFurniture:"Hippo Tusk Artwork"},{name:"rakshasa",description:"",location:I.LargeCity,basePower:6e3,element:"wood",lootType:[J,rt,_t],unlocksFurniture:"Scholarly Texts"},{name:"ghost",description:"",location:I.Dungeon,basePower:5e3,lootType:[J],techniques:[{name:"Haunt",ticks:0,ticksRequired:2,baseDamage:.1,unlocked:!0},{name:"Shriek",ticks:0,ticksRequired:10,baseDamage:1.2,unlocked:!0}],unlocksFurniture:"Ephemeral Essence"},{name:"centaur",description:"",location:I.Forest,basePower:8e3,element:"wood",lootType:[J,_t]},{name:"hellhound",description:"",location:I.Desert,basePower:9e3,element:"fire",lootType:[J,rt]},{name:"troll",description:"",location:I.Dungeon,basePower:1e4,lootType:[J,_t],techniques:[{name:"Club Swipe",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Regrowth Bite",ticks:0,ticksRequired:30,baseDamage:2,effect:lo,unlocked:!0}],unlocksFurniture:"Troll Tusk Trophy"},{name:"werewolf",description:"",location:I.Forest,basePower:11e3,lootType:[J,rt]},{name:"ogre",description:"",location:I.Dungeon,basePower:12e3,lootType:[J,_t],techniques:[{name:"Smash",ticks:0,ticksRequired:15,baseDamage:.8,unlocked:!0}]},{name:"manticore",description:"",location:I.Forest,basePower:15e3,element:"wood",lootType:[J,rt,Ji]},{name:"minotaur",description:"",location:I.Dungeon,basePower:18e3,element:"earth",lootType:[J,rt,_t]},{name:"merlion",description:"",location:I.Beach,basePower:2e4,element:"water",lootType:[J,rt]},{name:"mummy",description:"",location:I.Desert,basePower:3e4,lootType:[J,_t]},{name:"landshark",description:"",location:I.Beach,basePower:4e4,lootType:[J,rt],unlocksFurniture:"Leg Day Trainer"},{name:"bugbear",description:"",location:I.Forest,basePower:5e4,lootType:[J,rt]},{name:"cavebear",description:"",location:I.MountainTops,basePower:7e4,element:"earth",lootType:[J,rt,Ji],unlocksFurniture:"Bearskin Rug"},{name:"yeti",description:"",location:I.MountainTops,basePower:8e4,element:"metal",lootType:[J,rt]},{name:"dreameater",description:"",location:I.Dungeon,basePower:1e5,lootType:[J],techniques:[{name:"Nightmare",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0}]},{name:"unicorn",description:"",location:I.Forest,basePower:12e4,element:"wood",lootType:[J,rt,Ji],unlocksFurniture:"Ivory Horn"},{name:"banshee",description:"",location:I.Dungeon,basePower:14e4,lootType:[J],unlocksFurniture:"Wailing Beauty"},{name:"harpy",description:"",location:I.MountainTops,basePower:15e4,lootType:[J]},{name:"phoenix",description:"",location:I.Desert,basePower:18e4,element:"fire",lootType:[J,rt],unlocksFurniture:"Phoenix Down Mattress"},{name:"sphinx",description:"",location:I.Desert,basePower:2e5,element:"fire",lootType:[J,rt,ic]},{name:"oni",description:"",location:I.Dungeon,basePower:3e5,lootType:[J,_t]},{name:"leshy",description:"",location:I.Forest,basePower:3e5,element:"wood",lootType:[J,_t]},{name:"chimaera",description:"",location:I.Dungeon,basePower:4e5,element:"wood",lootType:[J,rt,Ji]},{name:"undine",description:"",location:I.DeepSea,basePower:5e5,element:"water",lootType:[J,_t],techniques:[{name:"Splash",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Drown",ticks:0,ticksRequired:600,baseDamage:1e3,unlocked:!0}],unlocksFurniture:"Beauty of the Depths"},{name:"cyclops",description:"",location:I.MountainTops,basePower:6e5,element:"metal",lootType:[J,_t],techniques:[{name:"Clobber",ticks:0,ticksRequired:20,baseDamage:2,unlocked:!0}]},{name:"nyuk",description:"",location:I.Dungeon,basePower:7e5,lootType:[J,_t]},{name:"wendigo",description:"",location:I.Forest,basePower:8e5,element:"wood",lootType:[J,rt],unlocksFurniture:"Altar of Nature"},{name:"behemoth",description:"",location:I.Desert,basePower:8e5,lootType:[J,rt,Ji]},{name:"dinosaur",description:"",location:I.Jungle,basePower:1e6,lootType:[J,rt,Ji],unlocksFurniture:"Dino Tooth Dagger"},{name:"wyvern",description:"",location:I.MountainTops,basePower:2e6,lootType:[J,rt]},{name:"infernomancer",description:"",location:I.Dungeon,basePower:25e5,element:"fire",techniques:[{name:"Scorch",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Fireball",ticks:0,ticksRequired:40,baseDamage:8,unlocked:!0}],lootType:[J,rt],unlocksFurniture:"Blazing Grimoire"},{name:"doomworm",description:"",location:I.Desert,basePower:3e6,element:"earth",lootType:[J,rt,Ji,ic],techniques:[{name:"Swallow",ticks:0,ticksRequired:200,baseDamage:1e3,unlocked:!0}],unlocksFurniture:"Doom Vault"},{name:"lich",description:"",location:I.Dungeon,basePower:5e6,element:"metal",lootType:[J,_t],techniques:[{name:"Magic Missile",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Lightning Blast",ticks:0,ticksRequired:40,baseDamage:8,unlocked:!0},{name:"Lifesteal",ticks:0,ticksRequired:40,baseDamage:8,effect:lo,unlocked:!0}],unlocksFurniture:"Dark Grimoire"},{name:"thunderbird",description:"",location:I.MountainTops,basePower:8e6,lootType:[J,rt],techniques:[{name:"Zap",ticks:0,ticksRequired:6,baseDamage:.5,unlocked:!0},{name:"Thunderbolt",ticks:0,ticksRequired:40,baseDamage:8,unlocked:!0}]},{name:"vampire",description:"",location:I.Dungeon,basePower:1e7,lootType:[J,_t],techniques:[{name:"Blood Drain",ticks:0,ticksRequired:10,baseDamage:.2,effect:lo,unlocked:!0}]},{name:"beholder",description:"",location:I.Dungeon,basePower:15e6,lootType:[J,_t],techniques:[{name:"Gaze",ticks:0,ticksRequired:4,baseDamage:.5,unlocked:!0},{name:"Magic Blast",ticks:0,ticksRequired:25,baseDamage:3,unlocked:!0}],unlocksFurniture:"Eyestalk Hatstand"},{name:"hydra",description:"",location:I.DeepSea,basePower:2e7,element:"water",lootType:[J,rt,Ji],techniques:[{name:"Chomp!",ticks:0,ticksRequired:3,baseDamage:1,unlocked:!0}]},{name:"roc",description:"",location:I.MountainTops,basePower:4e7,lootType:[J,rt,Ji]},{name:"wyrm",description:"",location:I.MountainTops,basePower:5e7,lootType:[J,rt]},{name:"giant",description:"",location:I.MountainTops,basePower:6e7,element:"earth",lootType:[J,_t],techniques:[{name:"Stomp",ticks:0,ticksRequired:50,baseDamage:10,unlocked:!0}]},{name:"kraken",description:"",location:I.DeepSea,basePower:8e7,element:"water",lootType:[J,rt],techniques:[{name:"Strangulation",ticks:0,ticksRequired:2,baseDamage:.1,unlocked:!0},{name:"Tentacle Lash",ticks:0,ticksRequired:10,baseDamage:1,unlocked:!0}]},{name:"pazuzu",description:"",location:I.MountainTops,basePower:1e8,lootType:[J,rt,_t],techniques:[{name:"Swift Strike",ticks:0,ticksRequired:5,baseDamage:.5,unlocked:!0}]},{name:"titan",description:"",location:I.MountainTops,basePower:2e8,element:"metal",lootType:[J,_t,ic],techniques:[{name:"Gigastomp",ticks:0,ticksRequired:100,baseDamage:100,unlocked:!0}]},{name:"leviathan",description:"",location:I.DeepSea,basePower:5e8,element:"water",lootType:[J,rt,Ji],techniques:[{name:"Wave Slap",ticks:0,ticksRequired:8,baseDamage:1,unlocked:!0},{name:"Tsunami",ticks:0,ticksRequired:1e3,baseDamage:100,unlocked:!0}],unlocksFurniture:"Altar of the Depths"},{name:"stormbringer",description:"",location:I.MountainTops,basePower:1e9,lootType:[J,rt,Ji],techniques:[{name:"Storm Strike",ticks:0,ticksRequired:5,baseDamage:.5,unlocked:!0},{name:"Hurrican Force",ticks:0,ticksRequired:100,baseDamage:10,unlocked:!0}],unlocksFurniture:"Storm Shower"},{name:"lavaLeech",description:"A disgusting creature that sucks the heat and life out of anything it grabs.",element:"fire",location:I.AshenCrater,basePower:4e9,lootType:[J,rt],techniques:[{name:"Heatstealer",ticks:0,ticksRequired:5,baseDamage:.5,unlocked:!0},{name:"Lava Spew",ticks:0,ticksRequired:40,baseDamage:4,unlocked:!0}]},{name:"emberHound",description:"A huge black dog made of smoke and ash, with red eyes and flames leaking from its mouth.",element:"fire",location:I.AshenCrater,basePower:1e10,lootType:[J,rt],techniques:[{name:"Bite",ticks:0,ticksRequired:8,baseDamage:.8,unlocked:!0},{name:"Flame Breath",ticks:0,ticksRequired:20,baseDamage:2,unlocked:!0}]},{name:"magmaGolem",description:"A giant creature made of molten rock and lava. Some say it was created to guard the wealth of a legendary cultivator now long forgotten.",element:"fire",location:I.AshenCrater,basePower:2e10,lootType:[J,ic,_t],techniques:[{name:"Crushing Blow",ticks:0,ticksRequired:25,baseDamage:2.5,unlocked:!0},{name:"Magma Stomp",ticks:0,ticksRequired:50,baseDamage:8,unlocked:!0}]},{name:"ashSerpent",description:"A huge snake-like monster that hides under the ash. Its body is covered in blazing scales.",element:"fire",location:I.AshenCrater,basePower:5e10,lootType:[J,rt],techniques:[{name:"Blazing Strike",ticks:0,ticksRequired:4,baseDamage:.4,unlocked:!0},{name:"Crushing Constriction",ticks:0,ticksRequired:100,baseDamage:20,unlocked:!0}],unlocksFurniture:"Ashen Scale Vault"}],this.monsterQualities=["an infant","a puny","a tiny","a pathetic","a sickly","a starving","a wimpy","a frail","an ill","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a scatterbrained","a mediocre","a typical","an average","a healthy","a big","a tough","a crazy","a strong","a fearsome","a gutsy","a quick","a hefty","a grotesque","a large","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a brutal","a devious","a mighty","a frightening","a massive","a powerful","a noble","a magical","a dangerous","a murderous","a terrifying","a gargantuan","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],setTimeout(()=>this.hellService=this.injector.get(Fe)),setTimeout(()=>this.followerService=this.injector.get(ut)),setTimeout(()=>this.locationService=this.injector.get(An)),setTimeout(()=>this.impossibleTaskService=this.injector.get(pn)),this.bigNumberPipe=this.injector.get(Ve),this.enemies=[],this.currentEnemy=null,this.kills=0,this.godSlayerKills=0,c.tickSubject.subscribe(()=>{if(this.ageFormation(),this.yearlyMonsterDay++,this.extraMonsterCounter++,this.homeService.homeValue===st.SquatterTent&&this.extraMonsterCounter>100?(this.extraMonsterCounter=0,this.logService.injury(w.EVENT,"The shabby tent you live in has attracted some nasty mice."),this.addMouse()):this.homeService.homeValue===st.OwnTent&&this.extraMonsterCounter>150&&(this.extraMonsterCounter=0,this.logService.injury(w.EVENT,"Your increased wealth has attracted a ruffian who's looking to steal your money."),this.addRuffian()),this.yearlyMonsterDay>=365){if(this.yearlyMonsterDay=0,this.activeFormation===""){let u=this.characterService.itemPouches.find(v=>v.item?.type==="formationKit"&&v.item?.effect==="repulsion"&&v.quantity>0);u&&u.item&&(u.quantity--,this.inventoryService.useItem(u.item))}this.activeFormation!=="repulsion"&&this.trouble()}}),c.battleTickSubject.subscribe(()=>{if(this.ageFormation(),!this.characterService.dead){this.usePouchItems();for(let u in this.characterService.status){let v=u,y=this.characterService.status[v];y.value+=y.battleTickRecovery}this.characterService.checkOverage(),this.currentEnemy===null&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.handleYourTechniques(),this.activeFormation!=="stealth"&&this.handleEnemyTechniques(),this.characterService.checkForDeath()&&this.clearEnemies()}}),c.longTickSubject.subscribe(()=>{for(this.currentEnemy?this.enemyImageFile.set("assets/images/monsters/"+this.currentEnemy.baseName+".png"):this.enemyImageFile.set("");this.displayEnemies.length>this.enemies.length;)this.displayEnemies.splice(0,1);for(let v=0;v<this.enemies.length;v++){let y=this.enemies[v];for(this.displayEnemies.length<=v?this.displayEnemies.push({name:C(y.name),health:C(y.health),maxHealth:C(y.maxHealth),healthPercentage:C(Math.floor(100*y.health/y.maxHealth)),defense:C(y.defense),techniques:[],statusEffects:[]}):(this.displayEnemies[v].name.set(y.name),this.displayEnemies[v].health.set(y.health),this.displayEnemies[v].maxHealth.set(y.maxHealth),this.displayEnemies[v].healthPercentage.set(Math.floor(100*y.health/y.maxHealth)),this.displayEnemies[v].defense.set(y.defense));this.displayEnemies[v].techniques.length>y.techniques.length;)this.displayEnemies[v].techniques.splice(0,1);for(let g=0;g<y.techniques.length;g++){let S=y.techniques[g];this.displayEnemies[v].techniques.length<=g?this.displayEnemies[v].techniques.push({name:C(S.name),ticks:C(S.ticks),ticksRequired:C(S.ticksRequired),ticksPercentage:C(Math.floor(100*S.ticks/S.ticksRequired)),trackField:C(S.name+S.ticks),disabled:C(S.disabled||!1),unlocked:C(S.unlocked),description:C(S.description||""),baseDamage:C(S.baseDamage||0),attribute:C(S.attribute||""),extraMultiplier:C(S.extraMultiplier||0),staminaCost:C(S.staminaCost||0),qiCost:C(S.qiCost||0),healthCost:C(S.healthCost||0),effect:C(S.effect||""),familyTechnique:C(S.familyTechnique||!1),concept:C(S.concept||""),technique:S}):(this.displayEnemies[v].techniques[g].name.set(S.name),this.displayEnemies[v].techniques[g].ticks.set(S.ticks),this.displayEnemies[v].techniques[g].ticksRequired.set(S.ticksRequired),this.displayEnemies[v].techniques[g].ticksPercentage.set(Math.floor(100*S.ticks/S.ticksRequired)),this.displayEnemies[v].techniques[g].trackField.set(S.name+S.ticks),this.displayEnemies[v].techniques[g].disabled.set(S.disabled||!1),this.displayEnemies[v].techniques[g].unlocked.set(S.unlocked),this.displayTechniques[v].description.set(S.description||""),this.displayTechniques[v].baseDamage.set(S.baseDamage||0),this.displayTechniques[v].attribute.set(S.attribute||""),this.displayTechniques[v].extraMultiplier.set(S.extraMultiplier||0),this.displayTechniques[v].staminaCost.set(S.staminaCost||0),this.displayTechniques[v].qiCost.set(S.qiCost||0),this.displayTechniques[v].healthCost.set(S.healthCost||0),this.displayTechniques[v].effect.set(S.effect||""),this.displayTechniques[v].familyTechnique.set(S.familyTechnique||!1),this.displayTechniques[v].concept.set(S.concept||""),this.displayEnemies[v].techniques[g].technique=S)}for(;this.displayEnemies[v].statusEffects.length>(y.statusEffects?.length||0);)this.displayEnemies[v].statusEffects.splice(0,1);if(y.statusEffects)for(let g=0;g<y.statusEffects.length;g++){let S=y.statusEffects[g];this.displayEnemies[v].statusEffects.length<=g?this.displayEnemies[v].statusEffects.push({name:C(S.name),description:C(S.description||""),ticksLeft:C(S.ticksLeft),trackField:C(S.name+S.ticksLeft),imageFile:C("assets/images/effects/"+S.name.replace(" ","_")+".png")}):(this.displayEnemies[v].statusEffects[g].name.set(S.name),this.displayEnemies[v].statusEffects[g].description.set(S.description||""),this.displayEnemies[v].statusEffects[g].ticksLeft.set(S.ticksLeft),this.displayEnemies[v].statusEffects[g].trackField.set(S.name+S.ticksLeft),this.displayEnemies[v].statusEffects[g].imageFile.set("assets/images/effects/"+S.name.replace(" ","_")+".png"))}}for(;this.displayTechniques.length>this.techniques.length;)this.displayTechniques.splice(3,1);for(let v=0;v<this.techniques.length;v++){let y=this.techniques[v];this.displayTechniques.length<=v?this.displayTechniques.push({name:C(y.name),ticks:C(y.ticks),ticksRequired:C(y.ticksRequired),ticksPercentage:C(Math.floor(100*y.ticks/y.ticksRequired)),trackField:C(y.name+v),disabled:C(y.disabled||!1),unlocked:C(y.unlocked),description:C(y.description||""),baseDamage:C(y.baseDamage||0),attribute:C(y.attribute||""),extraMultiplier:C(y.extraMultiplier||0),staminaCost:C(y.staminaCost||0),qiCost:C(y.qiCost||0),healthCost:C(y.healthCost||0),effect:C(y.effect||""),familyTechnique:C(y.familyTechnique||!1),concept:C(y.concept||""),technique:y}):(this.displayTechniques[v].name.set(y.name),this.displayTechniques[v].ticks.set(y.ticks),this.displayTechniques[v].ticksRequired.set(y.ticksRequired),this.displayTechniques[v].ticksPercentage.set(Math.floor(100*y.ticks/y.ticksRequired)),this.displayTechniques[v].trackField.set(y.name+v),this.displayTechniques[v].disabled.set(y.disabled||!1),this.displayTechniques[v].unlocked.set(y.unlocked),this.displayTechniques[v].description.set(y.description||""),this.displayTechniques[v].baseDamage.set(y.baseDamage||0),this.displayTechniques[v].attribute.set(y.attribute||""),this.displayTechniques[v].extraMultiplier.set(y.extraMultiplier||0),this.displayTechniques[v].staminaCost.set(y.staminaCost||0),this.displayTechniques[v].qiCost.set(y.qiCost||0),this.displayTechniques[v].healthCost.set(y.healthCost||0),this.displayTechniques[v].effect.set(y.effect||""),this.displayTechniques[v].familyTechnique.set(y.familyTechnique||!1),this.displayTechniques[v].concept.set(y.concept||""),this.displayTechniques[v].technique=y)}for(;this.displayStatusEffects.length>this.statusEffects.length;)this.displayStatusEffects.splice(0,1);for(let v=0;v<this.statusEffects.length;v++){let y=this.statusEffects[v];this.displayStatusEffects.length<=v?this.displayStatusEffects.push({name:C(y.name),description:C(y.description||""),ticksLeft:C(y.ticksLeft),trackField:C(y.name+y.ticksLeft),imageFile:C("assets/images/effects/"+y.name.replace(" ","_")+".png")}):(this.displayStatusEffects[v].name.set(y.name),this.displayStatusEffects[v].description.set(y.description||""),this.displayStatusEffects[v].ticksLeft.set(y.ticksLeft),this.displayStatusEffects[v].trackField.set(y.name+y.ticksLeft),this.displayStatusEffects[v].imageFile.set("assets/images/effects/"+y.name.replace(" ","_")+".png"))}this.activeFormation===""?(this.displayActiveFormation.set(""),this.displayFormationDuration.set(0)):(this.displayActiveFormation.set(this.activeFormation),this.displayFormationDuration.set(this.formationDuration));for(let v of this.characterService.itemPouches)v.item&&v.item.type==="formationKit"&&(v.item.cooldown=this.formationCooldown);this.techniques[1].unlocked=this.characterService.equipment.rightHand!==null,this.techniques[2].unlocked=this.characterService.equipment.leftHand!==null;let u=this.techniques.filter(v=>v.familyTechnique===!0);this.techniqueDevelopmentCounter>2e4*Math.pow(10,u.length)&&u.length<this.maxFamilyTechniques&&(this.developNewTechnique(),this.techniqueDevelopmentCounter=0),this.enemiesPresent.set(this.enemies.length>0),this.updateVoidSkip()}),c.reincarnateSubject.subscribe(()=>{this.reset()})}updateVoidSkip(){if(this.contemplationService.contemplationStarted()){let e=this.contemplationService.concepts.find(i=>i.name===Kp);e?.discovered&&(this.voidSkipThreshold=Math.max(20-Math.log10(10+e.progress),2))}}ageFormation(){this.formationDuration>0&&this.formationDuration--,this.formationCooldown>0&&this.formationCooldown--,this.formationDuration<=0&&(this.activeFormation="",this.formationPower=0,this.formationDuration=0)}reset(){this.clearEnemies(),this.kills=0,this.killsByLocation={},this.godSlayerKills=0,this.yearlyMonsterDay=0;for(let e of this.characterService.itemPouches)e.item&&(e.item.cooldown=0)}getProperties(){let e=[],i=[],r=[],o=[];for(let a of this.techniquePrefixAdjectiveList)a.discovered&&e.push(a.value),a.allowed||i.push(a.value);for(let a of this.techniqueEffectsList)a.discovered&&r.push(a.value),a.allowed||o.push(a.value);return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,killsByLocation:this.killsByLocation,killsByMonster:this.killsByMonster,godSlayerKills:this.godSlayerKills,totalKills:this.totalKills,autoTroubleUnlocked:this.autoTroubleUnlocked,yearlyMonsterDay:this.yearlyMonsterDay,extraMonsterCounter:this.extraMonsterCounter,highestDamageDealt:this.highestDamageDealt,highestDamageTaken:this.highestDamageTaken,godSlayersUnlocked:this.godSlayersUnlocked,godSlayersEnabled:this.godSlayersEnabled,totalEnemies:this.totalEnemies,battleMessageDismissed:this.battleMessageDismissed,techniques:this.techniques,techniqueDevelopmentCounter:this.techniqueDevelopmentCounter,maxFamilyTechniques:this.maxFamilyTechniques,statusEffects:this.statusEffects,potionCooldown:this.potionCooldown,potionThreshold:this.potionThreshold,foodCooldown:this.foodCooldown,foodThresholdStatusType:this.foodThresholdStatusType,foodThreshold:this.foodThreshold,activeFormation:this.activeFormation,formationDuration:this.formationDuration,formationCooldown:this.formationCooldown,formationPower:this.formationPower,battlesUnlocked:this.battlesUnlocked,pouchPotionsUsed:this.pouchPotionsUsed,pouchFoodUsed:this.pouchFoodUsed,timesFled:this.timesFled,discoveredTechniquePrefixes:e,blockedTechniquePrefixes:i,discoveredTechniqueEffects:r,blockedTechniqueEffects:o,voidSkipCounter:this.voidSkipCounter}}setProperties(e){if(this.enemies=e.enemies,this.kills=e.kills,this.killsByLocation=e.killsByLocation,this.killsByMonster=e.killsByMonster,this.godSlayerKills=e.godSlayerKills,this.totalKills=e.totalKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.yearlyMonsterDay=e.yearlyMonsterDay,this.extraMonsterCounter=e.extraMonsterCounter,this.highestDamageDealt=e.highestDamageDealt,this.highestDamageTaken=e.highestDamageTaken,this.godSlayersUnlocked=e.godSlayersUnlocked,this.godSlayersEnabled=e.godSlayersEnabled,this.totalEnemies=e.totalEnemies,this.battleMessageDismissed=e.battleMessageDismissed,this.techniques=e.techniques,this.techniqueDevelopmentCounter=e.techniqueDevelopmentCounter,this.maxFamilyTechniques=e.maxFamilyTechniques,this.statusEffects=e.statusEffects,this.potionCooldown=e.potionCooldown,this.potionThreshold=e.potionThreshold,this.foodCooldown=e.foodCooldown,this.foodThresholdStatusType=e.foodThresholdStatusType,this.foodThreshold=e.foodThreshold,this.activeFormation=e.activeFormation,this.formationDuration=e.formationDuration,this.formationCooldown=e.formationCooldown,this.formationPower=e.formationPower,this.battlesUnlocked=e.battlesUnlocked,this.pouchPotionsUsed=e.pouchPotionsUsed,this.pouchFoodUsed=e.pouchFoodUsed,this.timesFled=e.timesFled,this.voidSkipCounter=e.voidSkipCounter,this.enemies.length>0)for(let i of this.enemies)i.name===e.currentEnemy?.name&&(this.currentEnemy=i);for(let i of this.techniquePrefixAdjectiveList)i.discovered=e.discoveredTechniquePrefixes.includes(i.value),i.allowed=!e.blockedTechniquePrefixes.includes(i.value);for(let i of this.techniqueEffectsList)i.discovered=e.discoveredTechniqueEffects.includes(i.value),i.allowed=!e.blockedTechniqueEffects.includes(i.value)}usePouchItems(){let e=!1;for(let i=0;i<this.characterService.itemPouches.length;i++){let r=this.characterService.itemPouches[i];if(!(!r||!r.item||r.quantity===0||!r.item?.pouchable))if(this.activeFormation===""&&r.item.type==="formationKit"&&r.quantity>0)r.quantity--,this.inventoryService.useItem(r.item);else if((r.item.cooldown||0)<=0){if(r.item.type==="potion"){let o=r.item.effect;this.characterService.status[o].value<this.characterService.status[o].max*(this.potionThreshold/100)&&(this.characterService.status[o].value+=r.item.increaseAmount||1,r.quantity--,r.item.cooldown=this.potionCooldown,this.pouchPotionsUsed++,e=!0)}else if(r.item.type==="food"&&this.characterService.status[this.foodThresholdStatusType].value<this.characterService.status[this.foodThresholdStatusType].max*(this.foodThreshold/100)&&this.inventoryService.foodEatenToday<this.inventoryService.maxFoodPerDay){let o=this.inventoryService.eatFood(r.item,1);o>0&&(r.quantity-=o,r.item.cooldown=this.foodCooldown,this.pouchFoodUsed++,e=!0)}}else r.item.cooldown=(r.item?.cooldown||0)-1}e&&this.characterService.checkOverage()}developNewTechnique(){let e=this.techniquePrefixAdjectiveList.filter(G=>G.allowed);e.length===0&&(e=this.techniquePrefixAdjectiveList);let i=e[Math.floor(Math.random()*e.length)],r=0,o=1;i.value==="Imprudent"?(r=10,o=2):i.value==="Reckless"?(r=100,o=4):i.value==="Wild"&&(r=1e3,o=10),i.discovered=!0;let a=Object.keys(this.characterService.attackPower),s=a[Math.floor(Math.random()*a.length)],l="";s==="strength"?l="Strong":s==="toughness"?l="Tough":s==="speed"?l="Swift":s==="intelligence"?l="Cunning":s==="charisma"?l="Charming":s==="spirituality"?l="Holy":s==="earthLore"?l="Stone":s==="metalLore"?l="Steel":s==="woodLore"?l="Oaken":s==="waterLore"?l="Icy":s==="fireLore"&&(l="Fiery");let c=["Fist","Strike","Kick","Blow","Slam","Slap","Smack","Pumelling","Barrage","Attack"],d=c[Math.floor(Math.random()*c.length)],u=5+Math.floor(Math.random()*10),v=Math.max(Math.floor(Math.random()*20)-5,0),y=Math.max(Math.floor(Math.random()*10)-5,0);y>1&&(o+=y/10);let g=this.techniqueEffectsList.filter(G=>G.allowed);g.length===0&&(g=this.techniqueEffectsList);let S=Math.floor(Math.random()*g.length*5),P,M="";S<g.length&&(P=g[S].value,M=" of "+P,g[S].discovered=!0);let z=i.value+" "+l+" "+d+M;for(;this.techniques.find(G=>G.name===z);)z+="!!";this.techniques.push({name:z,description:"A special family technique that can be passed to your descendants.",ticksRequired:u,ticks:0,baseDamage:1,unlocked:!0,attribute:s,familyTechnique:!0,staminaCost:v,healthCost:r,qiCost:y,extraMultiplier:o,effect:P,concept:i.concept}),this.logService.log(w.EVENT,"Enlightenment! Your combat experience has allowed you to develop a new family technique!")}forsakeTechnique(e){if(!e.familyTechnique)return;let i=this.techniques.indexOf(e);i>2&&this.techniques.splice(i,1)}addQiAttack(){this.techniques.find(e=>e.name===gM)||this.techniques.push({name:gM,description:"Focus your Qi into a concentrated blast. Each use of this ability requires 10 Qi.",ticksRequired:5,ticks:0,baseDamage:2,unlocked:!0,attribute:"intelligence",qiCost:10})}addPyroclasm(){this.techniques.find(e=>e.name===J_)||this.techniques.push({name:J_,description:"Focus your Qi and blast your enemies with heat so intense their children's children will get burned. Each use of this ability requires 10,000 Qi.",ticksRequired:20,ticks:0,baseDamage:1e5,unlocked:!0,attribute:"fireLore",qiCost:1e4})}addMetalFist(){this.techniques.find(e=>e.name===eS)||this.techniques.push({name:eS,description:"Focus your Qi and summon a massive metal fist to crush your enemy. Each use of this ability requires 10,000 Qi.",ticksRequired:20,ticks:0,baseDamage:1e5,unlocked:!0,attribute:"metalLore",qiCost:1e4})}addQiShield(){this.techniques.find(e=>e.name===wf)||this.techniques.push({name:wf,description:"Focus your Qi to form a protective shroud around your body, protecting you and decreasing the damage that you take. Each use of this ability requires 10 Qi.",ticksRequired:5,ticks:0,baseDamage:0,unlocked:!0,attribute:"intelligence",qiCost:10,statusEffect:{name:wf,description:"A shield of concentrated qi that reduces damage taken.",ticksLeft:5,power:1}})}addFireShield(){this.techniques.find(e=>e.name===Cf)||this.techniques.push({name:Cf,description:"Bring forth your inner fire to form a blistering barrier around you. Each use of this ability requires 10,000 Qi.",ticksRequired:10,ticks:0,baseDamage:0,unlocked:!0,attribute:"fireLore",qiCost:1e4,statusEffect:{name:Cf,description:"A blazing shield tha harms your enemies.",ticksLeft:10,power:1}})}addIceShield(){this.techniques.find(e=>e.name===kf)||this.techniques.push({name:kf,description:"Bring forth the ice inside you to form a freezing barrier around you that will stop your enemy's next attack. Each use of this ability requires 10,000 Qi.",ticksRequired:10,ticks:0,baseDamage:0,unlocked:!0,attribute:"waterLore",qiCost:1e4,statusEffect:{name:kf,description:"A frozen shield that will negate damage from the next enemy attack.",ticksLeft:10,power:1}})}handleEnemyTechniques(){for(let e of this.enemies){let i;if(e.statusEffects)for(let o=e.statusEffects.length-1;o>=0;o--)e.statusEffects[o].ticksLeft<=0?e.statusEffects.splice(o,1):(e.statusEffects[o].name===co?e.health-=e.health*.01:e.statusEffects[o].name===Is&&(i=e.statusEffects[o]),e.statusEffects[o].ticksLeft--);let r=!1;for(let o of e.techniques)o.ticks>=o.ticksRequired?r||(this.enemyAttack(o,e),o.ticks=0,r=!0):i?i.ticksLeft-=2:o.ticks++}}enemyAttack(e,i){if(this.voidSkipCounter>=this.voidSkipThreshold){this.voidSkipCounter=0,this.logService.log(w.COMBAT,"The power of your understanding of the void cancels the enemy's "+e.name);return}this.voidSkipCounter++;let r=e.baseDamage;r-=r*(this.characterService.yinYangBalance/2);let o=!1;for(let c=this.statusEffects.length-1;c>=0;c--)if(this.statusEffects[c].name===wf)r/=2;else if(this.statusEffects[c].name===nc)r/=2;else if(this.statusEffects[c].name===Cf){let d=Math.log(this.characterService.attributes.fireLore.value)/Math.log(100);d<1&&(d=1),d>10&&(d=10),r/=d,this.characterService.status.qi.value-=1e4,o=!0}else this.statusEffects[c].name===kf?(r=0,this.statusEffects.splice(c,1)):this.statusEffects[c].name===Wi&&(r*=10);let a=this.characterService.defense;if(this.activeFormation==="defense"){let c=this.formationPower+"";a*=Math.ceil(c.length/2)}a>=1&&(r=r/(Math.pow(a,.5)+Math.pow(1e6,(-r+a)/a))),this.characterService.attributes.justice.value>0&&(r/=this.characterService.attributes.justice.value+1);let s=this.contemplationService.concepts.filter(c=>c.effect.includes(m_));for(let c of s)r/=Math.log10(10+c.progress);let l=this.titleCasePipe.transform(i.name);if(r>0&&(this.logService.injury(w.COMBAT,"Ow! "+l+" hit you for "+this.bigNumberPipe.transform(r)+" damage"),this.characterService.increaseAttribute("toughness",.01),o&&this.damageEnemy(r,"Your shield strikes back! "+l+" receives "+r+" damage.")),r>this.highestDamageTaken&&(this.highestDamageTaken=r),this.characterService.status.health.value-=r,e.effect){if(e.effect==="feeder"&&this.hellService)if(e.hitTracker!==void 0&&e.hitTracker<2)e.hitTracker++;else{this.hellService.daysFasted=0;let c=this.characterService.status.health.value/4;this.logService.injury(w.COMBAT,"The hellfire burns as it goes down, damaging you for "+c+" extra damage."),this.characterService.status.health.value-=c}else if(e.effect==="theft")this.characterService.updateMoney(0-this.characterService.money/10);else if(e.effect===lo)i.health+=r*.1;else if(e.effect==="kamikaze"){e.hitTracker||(e.hitTracker=0);let c=(e.hitTracker+1)*.1;c>.9&&(c=.9),i.health*=c,e.hitTracker++}}this.activeFormation==="survival"&&this.characterService.status.health.value<=0&&(this.activeFormation="",this.formationDuration=0,this.formationPower=0,this.characterService.status.health.value=1)}handleYourTechniques(){if(this.enemies.length<=0)return;let e=0;for(let r=this.statusEffects.length-1;r>=0;r--)this.statusEffects[r].ticksLeft--,this.statusEffects[r].ticksLeft<=0?this.statusEffects.splice(r,1):this.statusEffects[r].name===Ms&&(e=this.statusEffects[r].power);let i=0;for(let r of this.techniques)if(r.familyTechnique&&i++,r.unlocked&&!r.disabled)if(r.ticks>=r.ticksRequired){if(r.familyTechnique&&r.baseDamage++,this.youAttack(r),this.activeFormation==="stealth"&&(this.activeFormation="",this.formationDuration=0),this.enemies.length===0){for(let o of this.techniques)o.ticks=0;this.statusEffects=[];return}r.ticks=0}else r.ticks+=1+e;i<this.maxFamilyTechniques&&this.techniqueDevelopmentCounter++}youAttack(e){if(this.currentEnemy&&!e.disabled){if(e.qiCost){if(this.characterService.status.qi.value<e.qiCost)return;this.characterService.status.qi.value-=e.qiCost}if(e.staminaCost){if(this.characterService.status.stamina.value<e.staminaCost)return;this.characterService.status.stamina.value-=e.staminaCost}if(e.healthCost){if(this.characterService.status.health.value<=e.healthCost)return;this.characterService.status.health.value-=e.healthCost}if(e.statusEffect&&this.statusEffects.push({name:e.statusEffect.name,description:e.statusEffect.description,ticksLeft:e.statusEffect.ticksLeft,power:e.statusEffect.power}),this.currentEnemy&&this.characterService.status.health.value>0){let i=this.characterService.attackPower.strength||1;e.attribute&&(this.lores.includes(e.attribute)?i+=(this.characterService.attackPower[e.attribute]||1)*100:i=this.characterService.attackPower[e.attribute]||1);let r=e.effect;e.name===mu?(r=this.characterService.equipment.rightHand?.effect,this.characterService.equipment.rightHand&&(i=Math.floor(i*Math.sqrt(this.characterService.equipment.rightHand.weaponStats?.baseDamage||1))||1)):e.name===pu&&(r=this.characterService.equipment.leftHand?.effect,this.characterService.equipment.leftHand&&(i=Math.floor(i*Math.sqrt(this.characterService.equipment.leftHand.weaponStats?.baseDamage||1))||1));let o=i*e.baseDamage,a=this.currentEnemy.defense;if(this.characterService.status.nutrition.value>this.characterService.status.nutrition.max*.8&&(o*=1.2),(e.qiCost||0)>0&&(o*=1+this.characterService.qiCompressionLevel),e.extraMultiplier&&(o*=e.extraMultiplier),r===Wi){o*=10;let u={name:Wi,description:"Your corruption has left you vulnerable.",ticksLeft:10,power:1},v=this.statusEffects.find(y=>y.name===Wi);v?v.ticksLeft+=u.ticksLeft:this.statusEffects.push(u)}else if(r===lo){let u=o*.01;this.logService.log(w.COMBAT,"Your attack healed you for "+u+" as you struck the enemy."),this.characterService.status.health.value+=u,this.characterService.checkOverage()}else if(r===Ef)this.currentEnemy.element&&(this.currentEnemy.element==="metal"||this.currentEnemy.element==="wood"?o*=this.elementalFactor:(this.currentEnemy.element==="water"||this.currentEnemy.element==="earth")&&(o/=this.elementalFactor));else if(r===Df)this.currentEnemy.element&&(this.currentEnemy.element==="water"||this.currentEnemy.element==="earth"?o*=this.elementalFactor:(this.currentEnemy.element==="metal"||this.currentEnemy.element==="fire")&&(o/=this.elementalFactor));else if(r===Mf)this.currentEnemy.element&&(this.currentEnemy.element==="fire"||this.currentEnemy.element==="metal"?o*=this.elementalFactor:(this.currentEnemy.element==="wood"||this.currentEnemy.element==="earth")&&(o/=this.elementalFactor));else if(r===Tf)this.currentEnemy.element&&(this.currentEnemy.element==="wood"||this.currentEnemy.element==="earth"?o*=this.elementalFactor:(this.currentEnemy.element==="fire"||this.currentEnemy.element==="water")&&(o/=this.elementalFactor));else if(r===xf)this.currentEnemy.element&&(this.currentEnemy.element==="water"||this.currentEnemy.element==="fire"?o*=this.elementalFactor:(this.currentEnemy.element==="wood"||this.currentEnemy.element==="metal")&&(o/=this.elementalFactor));else if(r===co)if(this.currentEnemy.immunities&&this.currentEnemy.immunities.includes(co))this.logService.log(w.COMBAT,"Your "+co+" effect is blocked by your enemy's immunity.");else{let u={name:co,description:"Poison is sapping away at this creature's health.",ticksLeft:10,power:1};if(this.currentEnemy.statusEffects){let v=this.currentEnemy.statusEffects.find(y=>y.name===co);v?v.ticksLeft+=u.ticksLeft:this.currentEnemy.statusEffects.push(u)}else this.currentEnemy.statusEffects=[u]}else if(r===Vo)if(this.currentEnemy.immunities&&this.currentEnemy.immunities.includes(Vo))this.logService.log(w.COMBAT,"Your "+Vo+" effect is blocked by your enemy's immunity.");else{let u={name:Vo,description:"Doom is coming for this creature.",ticksLeft:1e3,power:1};if(this.currentEnemy.statusEffects){let v=this.currentEnemy.statusEffects.find(y=>y.name===Vo);v?(v.power+=v.power*.2,v.power>2&&(o*=v.power)):this.currentEnemy.statusEffects.push(u)}else this.currentEnemy.statusEffects=[u]}else if(r===If)o*=1e3,this.characterService.status.health.value-=o,e.name===mu?this.characterService.equipment.rightHand=null:e.name===pu&&(this.characterService.equipment.leftHand=null);else if(r===nc){let u={name:nc,description:"Your shielding technique is protecting you.",ticksLeft:10,power:1},v=this.statusEffects.find(y=>y.name===Wi);v?v.ticksLeft+=u.ticksLeft:this.statusEffects.push(u)}else if(r===Af)a*=.5;else if(r===Ms){let u={name:Ms,description:"Your attacks strike more quickly, with less time between them.",ticksLeft:10,power:1},v=this.statusEffects.find(y=>y.name===Ms);v?v.ticksLeft+=u.ticksLeft:this.statusEffects.push(u)}else if(r===Is){let u={name:Is,description:"This creature is slowed.",ticksLeft:1e3,power:1};if(this.currentEnemy.statusEffects){let v=this.currentEnemy.statusEffects.find(y=>y.name===Is);v?v.ticksLeft+=u.ticksLeft:this.currentEnemy.statusEffects.push(u)}else this.currentEnemy.statusEffects=[u]}if(this.activeFormation==="power"){let u=this.formationPower+"";o*=Math.ceil(u.length/2)}let s=this.contemplationService.concepts.filter(u=>u.effect.includes($p)||e.concept&&u.effect.includes(e.concept));for(let u of s)a/=Math.log10(10+u.progress);a>=1&&(o=o/(Math.pow(a,.2)+Math.pow(2e4,(-o+a)/a))),o<1&&(o=1);let l=!1;if(e.name===eS){let u=Math.log(this.characterService.attributes.metalLore.value)/Math.log(50);u<1&&(u=1),u>100&&(u=100),o*=u}if(e.name===J_){let u=Math.log(this.characterService.attributes.fireLore.value)/Math.log(100);u<1&&(u=1),u>10&&(u=10),o*=u,l=!0}o+=o*this.characterService.yinYangBalance,o>this.highestDamageDealt&&(this.highestDamageDealt=o),e.attribute&&this.characterService.increaseAttribute(e.attribute,.01),this.characterService.attributes.wrath.value>0&&(o*=this.characterService.attributes.wrath.value+1);let c=this.contemplationService.concepts.filter(u=>u.effect.includes(Np)||e.concept&&u.effect.includes(e.concept));for(let u of c)o*=Math.log10(10+u.progress);let d=this.damageEnemy(o);if(l)for(;d>0&&this.enemies.length>0;)this.currentEnemy=this.enemies[0],d=this.damageEnemy(d)}}}damageEnemy(e,i=""){if(!this.currentEnemy)return 0;let r=this.currentEnemy.health;return this.currentEnemy.health=Math.floor(this.currentEnemy.health-e),i===""&&(i="You attack "+this.titleCasePipe.transform(this.currentEnemy.name)+" for "+this.bigNumberPipe.transform(e)+" damage"),e-=r,this.currentEnemy.health<=0?(this.killCurrentEnemy(),(e-r)/2):(this.logService.log(w.COMBAT,i),0)}killCurrentEnemy(){if(!this.currentEnemy)return;this.kills++,this.totalKills++,this.killsByLocation[this.locationService.troubleTarget]=(this.killsByLocation[this.locationService.troubleTarget]||0)+1,this.killsByMonster[this.currentEnemy.baseName]=(this.killsByMonster[this.currentEnemy.baseName]||0)+1,this.logService.log(w.COMBAT,"You manage to kill "+this.titleCasePipe.transform(this.currentEnemy.name)),this.currentEnemy.name==="Death itself"&&!this.characterService.immortal&&this.mainLoopService.toast("HURRAY! Check your inventory. You just got something special!",0);for(let i of this.currentEnemy.loot){let r=this.itemRepoService.getItemById(i.id),o=1;if(this.activeFormation==="greed"){let a=this.formationPower+"";o+=Math.ceil(a.length/3)}r?this.inventoryService.addItem(r,o):this.inventoryService.addItem(i,o)}this.defeatEffect(this.currentEnemy);let e=this.enemies.indexOf(this.currentEnemy);if(this.enemies.splice(e,1),this.currentEnemy=null,this.enemies.length===0)for(let i of this.characterService.itemPouches)i.item&&(i.item.cooldown=0)}addEnemy(e){this.totalEnemies++,this.logService.log(w.COMBAT,"A new enemy comes to battle: "+this.titleCasePipe.transform(e.name));let i=0;for(let r of this.enemies)r.baseName===e.baseName&&r.index!==void 0&&r.index>=i&&(i=r.index+1);i>0&&(e.name=e.name+" #"+(i+1)),e.index=i,this.enemies.push(e),this.currentEnemy===null&&(this.currentEnemy=this.enemies[0])}clearEnemies(){this.enemies=[],this.currentEnemy=null;for(let e of this.techniques)e.ticks=0}flee(){this.timesFled++,this.handleEnemyTechniques(),this.handleEnemyTechniques(),this.handleEnemyTechniques(),this.clearEnemies(),this.impossibleTaskService&&this.impossibleTaskService.activeTaskIndex===fe.Swim&&(this.impossibleTaskService.taskProgress[fe.Swim].progress-=100,this.impossibleTaskService.taskProgress[fe.Swim].progress<0&&(this.impossibleTaskService.taskProgress[fe.Swim].progress=0)),this.logService.log(w.COMBAT,"You have fled from battle like a coward. How shameful."),this.followerService.dismissYoungestFollower()}trouble(){if(this.enemies.length!==0)return;if(this.hellService&&this.hellService.inHell()){this.hellService.trouble();return}if(!this.locationService)return;let e=this.locationService.troubleTarget,i=this.monsterTypes.filter(P=>e===P.location),r=i[(this.killsByLocation[e]||0)%i.length],o=((r.basePower+"").length+3)*5,a=((this.killsByLocation[e]||0)+1)/o,s=Math.floor(a);s>=this.monsterQualities.length&&(s=this.monsterQualities.length-1);let l=r.basePower*a,c=this.monsterQualities[s]+" "+this.camelToTitle.transform(r.name),d=l*l,u=l,v=l/10,y=[];if(r.lootType){let P=Math.floor(Math.log2(l+2));r.lootType.includes(J)&&y.push(this.inventoryService.generateSpiritGem(P,r.element)),r.lootType.includes(rt)&&y.push(this.inventoryService.getHide(P)),r.lootType.includes(ic)&&y.push(this.inventoryService.getOre(P)),r.lootType.includes(X_)&&y.push(this.itemRepoService.items.pear),r.lootType.includes(Ji)&&y.push(this.inventoryService.getWildMeat(P)),r.lootType.includes(_t)&&y.push(this.inventoryService.getCoinPurse(Math.floor(l)))}let g=[];if(r.techniques)for(let P of r.techniques)g.push({name:P.name,ticks:P.ticks,ticksRequired:P.ticksRequired,baseDamage:u*P.baseDamage*.5,unlocked:P.unlocked});else g.push({name:"Attack",ticks:0,ticksRequired:10,baseDamage:u,unlocked:!0});let S=d;this.characterService.attributes.presence.value>0&&(S/=this.characterService.attributes.presence.value),this.addEnemy({name:c,baseName:r.name,health:S,maxHealth:d,defense:v,loot:y,techniques:g,unlocksFurniture:r.unlocksFurniture})}addMouse(){this.addEnemy({name:"a gang of nasty mice",baseName:"mouse",health:8,maxHealth:8,defense:0,loot:[],techniques:[{name:"Gnawing Swarm",ticks:0,ticksRequired:8,baseDamage:13,unlocked:!0}]})}addRuffian(){this.addEnemy({name:"a ruffian",baseName:"ruffian",health:20,maxHealth:20,defense:0,loot:[],techniques:[{name:"Mugging",ticks:0,ticksRequired:20,baseDamage:1,effect:"theft",unlocked:!0}]})}addWolf(){this.addEnemy({name:"a hungry wolf",baseName:"wolf",health:20,maxHealth:20,defense:5,loot:[this.inventoryService.getHide()],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:3,unlocked:!0}]})}addArmy(){this.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,defense:1e7,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e7,unlocked:!0}]})}addDeath(){this.addEnemy({name:"Death itself",baseName:"death",health:1e28,maxHealth:1e28,defense:3e12,loot:[this.itemRepoService.items.immortality],unique:!0,techniques:[{name:"Scythe Strike",ticks:0,ticksRequired:10,baseDamage:3e10,unlocked:!0},{name:"Death Glare",ticks:0,ticksRequired:25,baseDamage:1e12,unlocked:!0},{name:"Absolute Destruction",ticks:0,ticksRequired:3e3,baseDamage:5e50,effect:"kamikaze",hitTracker:0,unlocked:!0}],immunities:[Vo,co]})}defeatEffect(e){e.unlocksFurniture&&this.inventoryService.unlockFurniture(e.unlocksFurniture),e.defeatEffect&&e.defeatEffect==="respawnDouble"&&(this.logService.log(w.COMBAT,"They just keep coming! Two more "+this.titleCasePipe.transform(e.name)+" appear!"),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot,techniques:e.techniques}),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot,techniques:e.techniques}))}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(St),L(ae),L(oi),L(se),L(Qe),L(pi),L(pe),L(yt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ar=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(ar||{}),tS=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ar.HIDDEN;constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},vM=Yl({passive:!0,capture:!0}),iS=class{_events=new Map;addHandler(n,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,vM)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,vM)))}_delegateEventHandler=n=>{let e=fi(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}},fu={enterDuration:225,exitDuration:150},NH=800,yM=Yl({passive:!0,capture:!0}),bM=["mousedown","touchstart"],_M=["mouseup","mouseleave","touchend","touchcancel"],BH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),gu=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new iS;constructor(n,e,i,r,o){this._target=n,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Ci(i)),o&&o.get(fn).load(BH)}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=W(W({},fu),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||VH(n,e,r),s=n-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-a}px`,d.style.top=`${l-a}px`,d.style.height=`${a*2}px`,d.style.width=`${a*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),v=u.transitionProperty,y=u.transitionDuration,g=v==="none"||y==="0s"||y==="0s, 0s"||r.width===0&&r.height===0,S=new tS(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",S.state=ar.FADING_IN,i.persistent||(this._mostRecentTransientRipple=S);let P=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>{P&&(P.fallbackTimer=null),clearTimeout(G),this._finishRippleTransition(S)},z=()=>this._destroyRipple(S),G=setTimeout(z,c+100);d.addEventListener("transitionend",M),d.addEventListener("transitioncancel",z),P={onTransitionEnd:M,onTransitionCancel:z,fallbackTimer:G}}),this._activeRipples.set(S,P),(g||!c)&&this._finishRippleTransition(S),S}fadeOutRipple(n){if(n.state===ar.FADING_OUT||n.state===ar.HIDDEN)return;let e=n.element,i=W(W({},fu),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=ar.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=Ci(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,bM.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_M.forEach(e=>{this._triggerElement.addEventListener(e,this,yM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===ar.FADING_IN?this._startFadeOutTransition(n):n.state===ar.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=ar.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=ar.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=_s(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+NH;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Ss(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===ar.VISIBLE||n.config.terminateOnPointerUp&&n.state===ar.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(bM.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(_M.forEach(e=>n.removeEventListener(e,this,yM)),this._pointerUpEventsRegistered=!1))}};function VH(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var Pf=new K("mat-ripple-global-options"),vu=(()=>{class t{_elementRef=_(ve);_animationsDisabled=ri();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=_(ce),i=_(kt),r=_(Pf,{optional:!0}),o=_(le);this._globalOptions=r||{},this._rippleRenderer=new gu(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:W(W(W({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,W(W({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,W(W({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&We("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var jH={capture:!0},HH=["focus","mousedown","mouseenter","touchstart"],nS="mat-ripple-loader-uninitialized",rS="mat-ripple-loader-class-name",SM="mat-ripple-loader-centered",Rf="mat-ripple-loader-disabled",wM=(()=>{class t{_document=_(Ee);_animationsDisabled=ri();_globalRippleOptions=_(Pf,{optional:!0});_platform=_(kt);_ngZone=_(ce);_injector=_(le);_eventCleanups;_hosts=new Map;constructor(){let e=_(si).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>HH.map(i=>e.listen(this._document,i,this._onInteraction,jH)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(nS,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(rS))&&e.setAttribute(rS,i.className||""),i.centered&&e.setAttribute(SM,""),i.disabled&&e.setAttribute(Rf,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(Rf,""):e.removeAttribute(Rf)}_onInteraction=e=>{let i=fi(e);if(i instanceof HTMLElement){let r=i.closest(`[${nS}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(rS)),e.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??fu.enterDuration,a=this._animationsDisabled?0:r?.animation?.exitDuration??fu.exitDuration,s={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(Rf),rippleConfig:{centered:e.hasAttribute(SM),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},l=new gu(s,this._ngZone,i,this._platform,this._injector),c=!s.rippleDisabled;c&&l.setupTriggerEvents(e),this._hosts.set(e,{target:s,renderer:l,hasSetUpEvents:c}),e.removeAttribute(nS)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var qH=["mat-icon-button",""],UH=["*"],zH=new K("MAT_BUTTON_CONFIG");function CM(t){return t==null?void 0:Dn(t)}var oS=(()=>{class t{_elementRef=_(ve);_ngZone=_(ce);_animationsDisabled=ri();_config=_(zH,{optional:!0});_focusMonitor=_(Oo);_cleanupClick;_renderer=_(Mt);_rippleLoader=_(wM);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){_(fn).load(rc);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(Te("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Cr(r.color?"mat-"+r.color:""),We("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",He],disabled:[2,"disabled","disabled",He],ariaDisabled:[2,"aria-disabled","ariaDisabled",He],disabledInteractive:[2,"disabledInteractive","disabledInteractive",He],tabIndex:[2,"tabIndex","tabIndex",CM],_tabindex:[2,"tabindex","_tabindex",CM]}})}return t})(),aS=(()=>{class t extends oS{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[It],attrs:qH,ngContentSelectors:UH,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Kt(),Ce(0,"span",0),mt(1),Ce(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var Ff=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt]})}return t})();var $H=["matButton",""],GH=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],WH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var kM=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),EM=(()=>{class t extends oS{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=YH(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?kM.get(this._appearance):null,o=kM.get(e);r&&i.remove(...r),i.add(...o),this._appearance=e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[It],attrs:$H,ngContentSelectors:WH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Kt(GH),Ce(0,"span",0),mt(1),O(2,"span",1),mt(3,1),F(),mt(4,2),Ce(5,"span",2)(6,"span",3)),i&2&&We("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function YH(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var sS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[Ff,zt]})}return t})();function QH(t,n){if(t&1){let e=U();m(0,"div",1)(1,"button",2),D("click",function(){k(e);let r=b();return E(r.action())}),p(2),f()()}if(t&2){let e=b();h(2),N(" ",e.data.action," ")}}var ZH=["label"];function XH(t,n){}var JH=Math.pow(2,31)-1,yu=class{_overlayRef;instance;containerInstance;_afterDismissed=new Z;_afterOpened=new Z;_onAction=new Z;_durationTimeoutId;_dismissedByAction=!1;constructor(n,e){this._overlayRef=e,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,JH))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},xM=new K("MatSnackBarData"),oc=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},eq=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),tq=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),iq=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),nq=(()=>{class t{snackBarRef=_(yu);data=_(xM);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0),p(1),f(),x(2,QH,3,1,"div",1)),i&2&&(h(),N(" ",r.data.message,`
`),h(),T(r.hasAction?2:-1))},dependencies:[EM,eq,tq,iq],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return t})(),lS="_mat-snack-bar-enter",cS="_mat-snack-bar-exit",rq=(()=>{class t extends Ca{_ngZone=_(ce);_elementRef=_(ve);_changeDetectorRef=_(At);_platform=_(kt);_animationsDisabled=ri();snackBarConfig=_(oc);_document=_(Ee);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=_(le);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Z;_onExit=new Z;_onEnter=new Z;_animationState="void";_live;_label;_role;_liveElementId=_(gi).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===cS?this._completeExit():e===lS&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Xt(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(lS)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(lS)},200)))}exit(){return this._destroyed?Le(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Xt(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(cS)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(cS),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(pt(Fr,7),pt(ZH,7)),i&2){let o;Pe(o=Re())&&(r._portalOutlet=o.first),Pe(o=Re())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&D("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&We("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[It],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(m(0,"div",1)(1,"div",2,0)(3,"div",3),Jt(4,XH,0,0,"ng-template",4),f(),H(5,"div"),f()()),i&2&&(h(5),Te("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Fr],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})(),oq=new K("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new oc}),Of=(()=>{class t{_live=_(ou);_injector=_(le);_breakpointObserver=_(nu);_parentSnackBar=_(t,{optional:!0,skipSelf:!0});_defaultConfig=_(oq);_animationsDisabled=ri();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=nq;snackBarContainerComponent=rq;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let o=W(W({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=le.create({parent:r||this._injector,providers:[{provide:oc,useValue:i}]}),a=new Rr(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){let r=W(W(W({},new oc),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new yu(a,o);if(e instanceof Si){let l=new nr(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new Rr(e,void 0,l),d=a.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(sM.HandsetPortrait).pipe(Ze(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new No;i.direction=e.direction;let r=Ea(this._injector),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Ts(this._injector,i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return le.create({parent:r||this._injector,providers:[{provide:yu,useValue:i},{provide:xM,useValue:e.data}]})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bu=25,pe=(()=>{class t{constructor(e){this.injector=e,this.longTickIntervalMS=100,this.tickSubject=new Z,this.homeTickSubject=new Z,this.inventoryTickSubject=new Z,this.activityTickSubject=new Z,this.battleTickSubject=new Z,this.reincarnateSubject=new Z,this.doneReincarnatingSubject=new Z,this.longTickSubject=new Z,this.yearOrLongTickSubject=new Z,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.topDivider=10,this.unlockAgeSpeed=!1,this.unlockPlaytimeSpeed=!1,this.lastTime=new Date().getTime(),this.bankedTicks=0,this.displayBankedTicks=C(0),this.offlineDivider=10,this.useBankedTicks=!0,this.scientificNotation=!1,this.earnedTicks=0,this.playMusic=!1,this.timeUnlocked=!1,this.importing=!1,this.gameLoading=!0,this.reincarnating=!1,this.daysSinceLongTick=0,this.daysSinceYearOrLongTick=0,this.lastUsedTickTime=0,this.autopauseTriggered=!1,this.nowPlaying="",this.audioTracks=["Sir Bastion - Chaos Of The West","Sir Bastion - Cultivation Life","Sir Bastion - Cultivators Lament","Sir Bastion - Cultivator's Melancholy","Sir Bastion - Defiance of Fate","Sir Bastion - Defy The Heavens","Sir Bastion - Face Tribulation Lightning","Sir Bastion - Immortal Kingdom","Sir Bastion - I've Learned to Fly","Sir Bastion - Journey of 1000 Lives","Sir Bastion - Mortal Longings","Sir Bastion - Mountain In The Sky","Sir Bastion - My Immortal Path","Sir Bastion - Taught by A Dragon","Sir Bastion - The Dragon Dance","Sir Bastion - The Endless Path","Sir Bastion - Young Immortal's Throne","Shaolin Dub - Rising Sun Beat","Shaolin Dub - Kick Dis","Shaolin Dub - Conquests","Shaolin Dub - Slap Trap"],this.audioTrackIndex=0,this.snackBar=this.injector.get(Of),setTimeout(()=>this.battleService=this.injector.get(it)),this.audio=new Audio("./assets/music/"+this.audioTracks[0]+".mp3"),this.nowPlaying=this.audioTracks[0],this.audio.volume=.2,this.audio.addEventListener("ended",()=>{this.nextTrack()})}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,unlockAgeSpeed:this.unlockAgeSpeed,unlockPlaytimeSpeed:this.unlockPlaytimeSpeed,offlineDivider:this.offlineDivider,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks,scientificNotation:this.scientificNotation,playMusic:this.playMusic,timeUnlocked:this.timeUnlocked,daysSinceLongTick:this.daysSinceLongTick,daysSinceYearOrLongTick:this.daysSinceYearOrLongTick,audioTrack:this.audioTrackIndex,audioVolume:this.audio.volume}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.topDivider=10,this.unlockFastestSpeed?this.topDivider=1:this.unlockFasterSpeed?this.topDivider=2:this.unlockFastSpeed&&(this.topDivider=5),this.unlockAgeSpeed=e.unlockAgeSpeed,this.unlockPlaytimeSpeed=e.unlockPlaytimeSpeed,this.tickDivider=e.tickDivider,this.offlineDivider=e.offlineDivider,this.lastTime=e.lastTime;let i=new Date().getTime();this.earnedTicks=(i-this.lastTime)/(bu*this.offlineDivider),this.bankedTicks=e.bankedTicks+this.earnedTicks,this.lastTime=i,this.totalTicks=e.totalTicks,this.useBankedTicks=e.useBankedTicks,this.scientificNotation=e.scientificNotation,this.playMusic=e.playMusic,this.timeUnlocked=e.timeUnlocked,this.daysSinceLongTick=e.daysSinceLongTick,this.daysSinceYearOrLongTick=e.daysSinceYearOrLongTick,this.gameLoading?(this.pause=!0,this.gameLoading=!1):this.pause=e.pause,this.audio.volume=e.audioVolume,this.audioTrackIndex=e.audioTrack,this.playAudio()}playAudio(){this.playMusic?(this.audio.src="./assets/music/"+this.audioTracks[this.audioTrackIndex]+".mp3",this.nowPlaying=this.audioTracks[this.audioTrackIndex],this.audio.play()):this.audio.pause()}start(){this.characterService||(this.characterService=this.injector.get(ae)),setTimeout(()=>this.handleTimeout(),bu),setTimeout(()=>this.handleLongTickTimeout(),this.longTickIntervalMS)}handleLongTickTimeout(){this.longTickSubject.next(this.daysSinceLongTick),this.daysSinceLongTick=0,this.yearOrLongTickSubject.next(this.daysSinceYearOrLongTick),this.daysSinceYearOrLongTick=0,this.displayBankedTicks.set(this.bankedTicks),setTimeout(()=>this.handleLongTickTimeout(),this.longTickIntervalMS)}handleTimeout(){let e=new Date().getTime(),i=e-this.lastTime;this.lastTime=e,this.bankedTicks+=i/bu;let r=0;!this.pause&&this.lastUsedTickTime<e-this.tickDivider*bu&&(this.useBankedTicks&&this.tickDivider<40?(r=Math.floor(20/this.tickDivider),this.bankedTicks>this.tickDivider*r?this.bankedTicks-=this.tickDivider*r:(r=1,this.bankedTicks-=this.tickDivider)):(this.bankedTicks-=this.tickDivider,r=1));for(let o=0;o<r;o++)if(this.pause){this.bankedTicks+=(r-1)*this.tickDivider;break}else this.tick(),this.lastUsedTickTime=e;setTimeout(()=>this.handleTimeout(),bu)}tick(){if(this.battleService&&this.battleService.enemies.length>0)this.battleTickSubject.next(1);else{if(this.daysSinceLongTick++,this.daysSinceYearOrLongTick++,this.daysSinceYearOrLongTick>=365&&(this.yearOrLongTickSubject.next(this.daysSinceYearOrLongTick),this.daysSinceYearOrLongTick=0),this.totalTicks++,this.activityTickSubject.next(1),this.autopauseTriggered){this.autopauseTriggered=!1;return}this.inventoryTickSubject.next(1),this.homeTickSubject.next(1),this.tickSubject.next(1)}this.reincarnating&&(this.reincarnateSubject.next(1),this.reincarnating=!1,this.doneReincarnatingSubject.next(1))}togglePause(e=null){e!==null&&(this.pause=!e),this.pause?(this.pause=!1,this.tickDivider===1?this.longTickIntervalMS=500:this.tickDivider===2?this.longTickIntervalMS=250:this.longTickIntervalMS=100):(this.pause=!0,this.longTickIntervalMS=100)}pauseClick(){this.pause?this.tick():(this.pause=!0,this.longTickIntervalMS=100)}slowClick(){this.tickDivider===40&&!this.pause?this.pause=!0:(this.pause=!1,this.tickDivider=40),this.longTickIntervalMS=100}standardClick(){this.tickDivider===10&&!this.pause?this.pause=!0:(this.pause=!1,this.tickDivider=10),this.longTickIntervalMS=100}fastClick(){this.tickDivider===5&&!this.pause?this.pause=!0:(this.pause=!1,this.tickDivider=5),this.longTickIntervalMS=100}fasterClick(){this.tickDivider===2&&!this.pause?(this.pause=!0,this.longTickIntervalMS=100):(this.pause=!1,this.tickDivider=2,this.longTickIntervalMS=250)}fastestClick(){this.tickDivider===1&&!this.pause?this.pause=!0:(this.pause=!1,this.tickDivider=1,this.longTickIntervalMS=500)}previousTrack(){this.audioTrackIndex--,this.audioTrackIndex<0&&(this.audioTrackIndex=this.audioTracks.length-1),this.playAudio()}nextTrack(){this.audioTrackIndex++,this.audioTrackIndex>=this.audioTracks.length&&(this.audioTrackIndex=0),this.playAudio()}toast(e,i=5e3){let r=this.snackBar.open(e,"Close",{duration:i,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["snackBar","darkMode"]});this.snackBarObservable=r.onAction().subscribe(()=>{this.snackBarObservable?.unsubscribe()})}static{this.\u0275fac=function(i){return new(i||t)(L(le))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dS=(function(t){return t.Standard="STANDARD",t.Injury="INJURY",t})(dS||{}),w=(function(t){return t.STORY="Story",t.EVENT="Event",t.COMBAT="Combat",t.CRAFTING="Crafting",t.FOLLOWER="Follower",t})(w||{}),St=(()=>{class t{constructor(e){this.topicProperties=Object.values(w).reduce((i,r)=>Ie(W({},i),{[r]:{enabled:[w.STORY,w.EVENT].includes(r),hasNewMessages:!1}}),{}),this.logs=Object.values(w).reduce((i,r)=>Ie(W({},i),{[r]:[]}),{}),this.currentLog=[],this.startingStoryLogEntries=["Once in a very long while, a soul emerges from the chaos that is destined for immortality.","You are such a soul.","Your journey to immortality begins as a humble youth leaves home to experience the world.","Choose the activities that will help you cultivate the attributes of an immortal.","Be careful, the world can be a dangerous place.","It may take you many reincarnations before you achieve your goals.","With each new life you will rise with greater aptitudes that allow you to learn and grow faster.","Destiny cannot be denied.","One day, you will be immortal!"],this.longTickCounter=0,e.longTickSubject.subscribe(()=>{if(this.startingStoryLogEntries.length>0){if(this.longTickCounter>10)this.longTickCounter=0;else{this.longTickCounter++;return}this.log(w.STORY,this.startingStoryLogEntries[0]),this.startingStoryLogEntries.splice(0,1)}setTimeout(()=>this.updateLogTopics())})}log(e,i){setTimeout(()=>this.fullLog(e,dS.Standard,i))}injury(e,i){setTimeout(()=>this.fullLog(e,dS.Injury,i))}fullLog(e,i,r){let o=this.logs[e],a=Date.now(),s=r.replaceAll("<br>"," ");o.length===0||s!==o[o.length-1].message?o.push({message:s,type:i,topic:e,timestamp:a,repeat:1}):o[o.length-1].repeat++,this.topicProperties[e].enabled||(this.topicProperties[e].hasNewMessages=!0)}getProperties(){return{logTopics:Object.entries(this.topicProperties).filter(e=>e[1].enabled).map(e=>e[0]).map(e=>e.toUpperCase()),storyLog:this.logs[w.STORY],startingStoryLogEntries:this.startingStoryLogEntries}}setProperties(e){this.logs[w.STORY]=e.storyLog,e.logTopics.forEach(i=>{this.topicProperties[w[i]].enabled=!0}),this.startingStoryLogEntries=e.startingStoryLogEntries,this.updateLogTopics()}enableLogTopic(e,i){this.topicProperties[e].enabled=i,this.updateLogTopics()}updateLogTopics(){Object.values(w).forEach(e=>{e!==w.STORY&&(this.logs[e]=this.logs[e].slice(-300)),this.topicProperties[e].enabled&&(this.topicProperties[e].hasNewMessages=!1)}),this.currentLog=Object.keys(this.logs).map(e=>e).filter(e=>this.topicProperties[e].enabled).flatMap(e=>this.logs[e]).sort((e,i)=>i.timestamp-e.timestamp).slice(0,299)}static{this.\u0275fac=function(i){return new(i||t)(L(pe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function aq(t,n){t&1&&(O(0,"div",1)(1,"span"),p(2,"Don't worry. Each mortal life is just a drop of time in the vast ocean of eternity. You are destined for immortality, and immortality you will achieve! Your experiences in your previous life will let you learn faster and grow stronger in the next life."),F()())}function sq(t,n){if(t&1&&(O(0,"div",1)(1,"span"),p(2),F()()),t&2){let e=b();h(2),he(e.tip)}}var TM=(()=>{class t{constructor(e,i,r,o,a,s){this.data=e,this.characterService=i,this.activityService=r,this.inventoryService=o,this.followerSerivce=a,this.impossibleTaskService=s,this.causeOfDeath="",this.attributeGains="",this.tip="",this.causeOfDeath=e.causeOfDeath,this.attributeGains=e.attributeGains,this.tip="",this.characterService.age<25*365?this.tip="Life for an aspiring immortal can be brutal in the beginning. You may need to swallow your pride and do whatever is necessary to survive. A better home goes a long way toward keeping you safe.":this.characterService.age<35*365&&this.characterService.attributes.intelligence.value<200?this.tip="Life for an aspiring immortal can be frustratingly short. Perhaps increasing your intelligence might open up new avenues for extending your life.":this.characterService.age<50*365?this.tip="Life for an aspiring immortal can be frustratingly short. Farming some healthy food might give you just what you need.":this.activityService.completedApprenticeships.length<4&&this.characterService.attributes.spirituality.value<=0?this.tip="Blacksmithing, alchemy, woodworking, and leatherworking are all essential trades for an aspiring immortal. You should master them all.":this.characterService.attributes.spirituality.value<=0?this.tip="Balance is important to aspiring immortals. You'll need to develop all of your attributes if you want to progress in your journey.":this.characterService.attributes.spirituality.value<=10?this.tip="Developing your spirituality is essential. Focusing on your spiritual development will help you on your way to immortality.":this.inventoryService.autoWeaponMergeUnlocked?this.inventoryService.autoArmorMergeUnlocked?this.characterService.bloodlineRank<1||this.characterService.soulCoreRank()<1||this.characterService.meridianRank()<1?this.tip="Ascension provides a pathway to the power you'll need to achieve immortality. Each ascension technique benefits you in unique and important ways.":this.characterService.qiUnlocked?this.characterService.status.stamina.max<200?this.tip="Building up your stamina requires proper meals. Cooking food can provide you the nourishment you need to take on more challenging tasks.":this.followerSerivce.followers.length<5?this.tip="Recruiting more followers will help you advance toward immortality. Perhaps its time to build up the charm you'll need to recruit them.":this.followerSerivce.highestLevel<=1?this.tip="Your followers are too weak to give you the help you need. Perhaps its time to build up the charm you'll need to train them to be stronger.":this.impossibleTaskService.impossibleTasksUnlocked?this.characterService.immortal()||(this.tip="You're so close now. If you could only manage to do the impossible, you know you would achieve immortality."):this.tip="Ascensions are the key to your progress now. Push forward!":this.tip="Magic will be required for your journey to immortality. Only by balancing your mastery of the five elements will you be able to access magical powers.":this.tip="Your quest toward immortality will require battling mighty foes. Reliable armor will be critical to surviving.":this.tip="Your quest toward immortality will require battling mighty foes. Powerful weapons will be critical to defeating them."}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.showLifeSummary=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(Bo),R(ae),R(Ue),R(se),R(ut),R(pn))}}static{this.\u0275cmp=$({type:t,selectors:[["app-life-summary"]],decls:22,vars:5,consts:[[1,"darkMode","lifeSummary"],[1,"textDiv"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"A New Life Begins"),F(),Ce(3,"hr")(4,"br"),O(5,"div",1)(6,"span"),p(7),F()(),Ce(8,"br"),x(9,aq,3,0,"div",1),Ce(10,"br"),O(11,"div",1)(12,"span"),p(13),F()(),Ce(14,"br"),x(15,sq,3,1,"div",1),Ce(16,"br"),O(17,"div",1)(18,"span")(19,"input",2),ct("change",function(a){return r.showLifeSummaryChange(a)}),F(),O(20,"label",3),p(21,"Show this summary at the start of each life"),F()()()()),i&2&&(h(7),N(" ",r.causeOfDeath," "),h(2),T(r.characterService.immortal()?-1:9),h(4),he(r.attributeGains),h(2),T(r.characterService.showTips?15:-1),h(4),ht("checked",r.characterService.showLifeSummary))},styles:[".textDiv[_ngcontent-%COMP%]{white-space:pre-wrap}.lifeSummary[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}}return t})();var DM=18*365,jo="Basic Attributes",uS="Spiritual Attributes",uo="Divine Attributes",As="Lore",Gn="Skills",ae=(()=>{class t{constructor(e,i,r,o,a){this.injector=e,this.mainLoopService=i,this.logService=r,this.contemplationService=o,this.dialog=a,this.camelToTitlePipe=new Pt,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip=C(""),this.maxMoney=99999e19,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=5*Math.pow(1.5,9),this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=1e3,this.bloodlineRank=0,this.qiUnlocked=!1,this.qiCompressionLevel=0,this.attackPower={strength:0,toughness:0,speed:0,intelligence:0,charisma:0,spirituality:0,earthLore:0,metalLore:0,woodLore:0,waterLore:0,fireLore:0},this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.healthBonusSoul=0,this.empowermentPillsTaken=0,this.empowermentMult=1,this.empowermentMax=99,this.imperial=!1,this.immortal=C(!1),this.god=C(!1),this.easyMode=!1,this.ascensionUnlocked=!1,this.yinYangBoosted=!1,this.yin=1,this.yang=1,this.displayYin=C(1),this.displayYang=C(1),this.yinYangBalance=0,this.righteousWrathUnlocked=!1,this.bonusMuscles=!1,this.bonusBrains=!1,this.bonusHealth=!1,this.showLifeSummary=!0,this.showTips=!1,this.showUpdateAnimations=!0,this.dialogRef=null,this.moneyUpdates=0,this.statusToFlash=[],this.fengshuiScore=0,this.startingStaminaBoost=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,displayKey:C("strength"),displayValue:C(1),lifeStartValue:1,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"fitness_center",attributeGroup:jo},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,displayKey:C("toughness"),displayValue:C(1),lifeStartValue:1,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"castle",attributeGroup:jo},speed:{description:"An immortal must be quick of foot and hand.",value:1,displayKey:C("speed"),displayValue:C(1),lifeStartValue:1,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"directions_run",attributeGroup:jo},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,displayKey:C("intelligence"),displayValue:C(1),lifeStartValue:1,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"local_library",attributeGroup:jo},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,displayKey:C("charisma"),displayValue:C(1),lifeStartValue:1,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"forum",attributeGroup:jo},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,displayKey:C("spirituality"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"self_improvement",attributeGroup:uS},wisdom:{description:"A true deity must have a depth of understanding that exceeds that of mere mortals.",value:0,displayKey:C("wisdom"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"cognition",attributeGroup:uo},justice:{description:"A true deity must have a deep sense of what is fair and right.",value:0,displayKey:C("justice"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"balance",attributeGroup:uo},mercy:{description:"A true deity must have compassion on lesser beings.",value:0,displayKey:C("mercy"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"volunteer_activism",attributeGroup:uo},wrath:{description:"A true deity is capable of fierce anger far beyond mortal capability.",value:0,displayKey:C("wrath"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"swords",attributeGroup:uo},presence:{description:"A true deity projects an aura of commands and majesty.",value:0,displayKey:C("presence"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"settings_accessibility",attributeGroup:uo},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,displayKey:C("earthLore"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"landslide",attributeGroup:As},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,displayKey:C("metalLore"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"view_module",attributeGroup:As},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,displayKey:C("woodLore"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"forest",attributeGroup:As},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,displayKey:C("waterLore"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"water",attributeGroup:As},fireLore:{description:"Burn! Burn! BURN!!!",value:0,displayKey:C("fireLore"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"local_fire_department",attributeGroup:As},combatMastery:{description:"Mastery of combat skills.",value:0,displayKey:C("combatMastery"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"sports_martial_arts",attributeGroup:Gn},magicMastery:{description:"Mastery of magical skills.",value:0,displayKey:C("magicMastery"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"auto_awesome",attributeGroup:Gn},animalHandling:{description:"Skill in working with animals and monsters.",value:0,displayKey:C("animalHandling"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"cruelty_free",attributeGroup:Gn},performance:{description:"Skill in manipulating others with your voice.",value:0,displayKey:C("performance"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"record_voice_over",attributeGroup:Gn},smithing:{description:"Skill with the forge and anvil.",value:0,displayKey:C("smithing"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"hardware",attributeGroup:Gn},alchemy:{description:"Mastery of potions and pills.",value:0,displayKey:C("alchemy"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"emoji_food_beverage",attributeGroup:Gn},woodwork:{description:"Skill with saws and chisels.",value:0,displayKey:C("woodwork"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"carpenter",attributeGroup:Gn},leatherwork:{description:"Skill shaping hides into useful items.",value:0,displayKey:C("leatherwork"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"pets",attributeGroup:Gn},formationMastery:{description:"Experience creating formation flags.",value:0,displayKey:C("formationMastery"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"flag",attributeGroup:Gn},cooking:{description:"Mastery of the wok and other kitchen essentials.",value:0,displayKey:C("cooking"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"soup_kitchen",attributeGroup:Gn},haggling:{description:"Mastery of financial matters.",value:0,displayKey:C("haggling"),displayValue:C(0),lifeStartValue:0,aptitude:1,displayAptitude:C(1),aptitudeMult:1,icon:"money_bag",attributeGroup:Gn}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,displayValue:C(100),max:100,displayMax:C(100),battleTickRecovery:0},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,displayValue:C(100),max:100,displayMax:C(100),battleTickRecovery:1},qi:{description:"Magical energy required for mysterious spiritual activities.",value:0,displayValue:C(0),max:0,displayMax:C(0),battleTickRecovery:0},nutrition:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food, you will automatically spend some money on cheap scraps each day.",value:30,displayValue:C(30),max:30,displayMax:C(30),battleTickRecovery:0}},this.money=0,this.displayMoney=C(this.money),this.stashedMoney=0,this.hellMoney=0,this.age=DM,this.displayAge=C(this.age/365),this.displayAgeYears=C(Math.floor(this.age/365)),this.displayAgeDays=C(this.age%365),this.baseLifespan=30*365,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.hygieneLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan+this.hygieneLifespan,this.displayLifespan=C(this.lifespan),this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.stashedEquipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.itemPouches=[],this.highestMoney=0,this.highestAge=0,this.highestHealth=0,this.highestStamina=0,this.highestQi=0,this.keepPouchItems=!1,setTimeout(()=>this.hellService=this.injector.get(Fe)),setTimeout(()=>this.activityService=this.injector.get(Ue)),setTimeout(()=>this.achievementService=this.injector.get(rr)),this.bigNumberPipe=this.injector.get(Ve),this.highestAttributes={};let s=Object.keys(this.attributes);for(let l in s)this.highestAttributes[s[l]]=C(0);i.tickSubject.subscribe(()=>{this.dead||this.age++,this.checkForDeath()}),i.longTickSubject.subscribe(l=>{this.bloodlineRank>=9&&this.activityService?.currentRealm===ie.MortalRealm&&this.increaseAptitudeDaily(l),this.displayMoney.set(this.money),this.displayAge.set(this.age/365),this.displayAgeYears.set(Math.floor(this.age/365)),this.displayAgeDays.set(this.age%365),this.displayLifespan.set(this.lifespan/365),this.displayYin.set(this.yin),this.displayYang.set(this.yang);let c=Object.keys(this.status);for(let u of c){let v=u;this.status[v].displayValue.set(this.status[v].value),this.status[v].displayMax.set(this.status[v].max)}let d=Object.keys(this.attributes);for(let u of d){let v=u;this.attributes[v].displayValue.set(this.attributes[v].value),this.attributes[v].displayAptitude.set(this.attributes[v].aptitude)}if(this.highestMoney<this.money&&(this.highestMoney=this.money),this.highestAge<this.age&&(this.highestAge=this.age),this.highestHealth<this.status.health.value&&(this.highestHealth=this.status.health.value),this.highestStamina<this.status.stamina.value&&(this.highestStamina=this.status.stamina.value),this.highestQi<this.status.qi.value&&(this.highestQi=this.status.qi.value),!this.dead){if(this.recalculateDerivedStats(),this.activityService.currentRealm===ie.CrushingBoulder&&!this.hellService.completedHellTasks.includes(ie.CrushingBoulder))for(let u in this.attackPower){let v=u;this.attackPower[v]=1}this.setLifespanTooltip()}}),i.doneReincarnatingSubject.subscribe(()=>{this.dead=!1})}checkForDeath(){let e="";if(this.forceRebirth)e="You release your soul from your body at the age of "+this.formatAge()+".";else if(this.age>=this.lifespan&&!this.immortal())e="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".";else if(this.status.nutrition.value<=0)if(this.status.nutrition.value=0,this.attributes.spirituality.value>0){let i=Math.max(this.status.health.value*.2,20);this.logService.injury(w.COMBAT,"You take "+this.bigNumberPipe.transform(i)+" damage from starvation."),this.status.health.value-=i,this.status.health.value<0&&(this.status.health.value=0),this.increaseAttribute("spirituality",.1),this.status.health.value<=0&&(this.immortal()?this.hellService?.inHell()&&(this.hellService.beaten=!0):e="You starve to death at the age of "+this.formatAge()+".")}else this.immortal()||(e="You starve to death at the age of "+this.formatAge()+".");else this.status.health.value<=0&&!this.immortal()?this.activityService.activityDeath?e="You die from overwork at the age of "+this.formatAge()+".":e="You succumb to your wounds and die at the age of "+this.formatAge()+".":this.immortal()&&this.status.health.value<0&&(this.status.health.value=0);return e!==""?(this.immortal()||(this.logService.injury(w.EVENT,e),this.forceRebirth||this.logService.log(w.EVENT,"You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.")),this.dead=!0,this.showLifeSummary||this.mainLoopService.toast("A new life begins."),this.reincarnate(e),this.mainLoopService.reincarnating=!0,this.forceRebirth=!1,this.immortal()?this.logService.log(w.EVENT,"You are born anew, still an immortal but with the fresh vigor of youth."):(this.logService.log(w.EVENT,"Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.totalLives+" will be the one."),this.logService.log(w.EVENT,"It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!")),!0):!1}formatAge(){let e=Math.floor(this.age/365),i=this.age%365;return e+" years, "+i+" days"}setLifespanTooltip(){if(this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan+this.hygieneLifespan<=0){this.lifespanTooltip.set("You have done nothing to extend your lifespan.");return}let e="Your base lifespan of "+this.yearify(this.baseLifespan)+" is extended by";this.immortal()&&(e="You are immortal. If you had remained mortal, your base lifespan of "+this.yearify(this.baseLifespan)+" would be extended by"),this.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.foodLifespan)),this.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.alchemyLifespan)),this.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.statLifespan)),this.spiritualityLifespan>0&&(e+="<br>Spirituality and Balance: "+this.yearify(this.spiritualityLifespan)),this.magicLifespan>0&&(e+="<br>Magic: "+this.yearify(this.magicLifespan)),this.hygieneLifespan>0&&(e+="<br>Hygiene: "+this.yearify(this.hygieneLifespan)),this.lifespanTooltip.set(e)}yearify(e){return e<365?"< 1 year":e<730?"1 year":this.bigNumberPipe.transform(Math.floor(e/365))+" years"}resetAptitudes(){let e=Object.keys(this.attributes);for(let i in e){let r=this.attributes[e[i]];r.lifeStartValue=0,r.attributeGroup!==uo&&(r.aptitude=1+r.aptitude/this.aptitudeGainDivider),r.attributeGroup===jo?r.value=1:r.value=0}this.activityService.checkRequirements(!0),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.aptitudeGainDivider<=5||(this.logService.log(w.STORY,"Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger."),this.logService.log(w.STORY,"You now gain additional aptitude each time you reincarnate."),this.condenseSoulCoreCost*=10,this.aptitudeGainDivider/=1.5,this.resetAptitudes())}soulCoreRank(){return Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)}reinforceMeridians(){this.attributeScalingLimit>=10240||(this.logService.log(w.STORY,"The pathways that carry your chi through your body have been strengthened and reinforced."),this.logService.log(w.STORY,"Your aptitudes can now give you a greater increase when gaining attributes."),this.reinforceMeridiansCost*=10,this.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){return Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)}upgradeBloodline(){this.bloodlineRank>=9||(this.logService.log(w.STORY,"You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants."),this.logService.log(w.STORY,"You will be reborn into your own family line and reap greater benefits from your previous lives."),this.bloodlineCost*=100,this.bloodlineRank++,this.resetAptitudes())}stashWeapons(){this.stashedEquipment.rightHand=this.equipment.rightHand,this.stashedEquipment.leftHand=this.equipment.leftHand,this.equipment.rightHand=null,this.equipment.leftHand=null}restoreWeapons(){this.equipment.rightHand=this.stashedEquipment.rightHand,this.equipment.leftHand=this.stashedEquipment.leftHand,this.stashedEquipment.rightHand=null,this.stashedEquipment.leftHand=null}stashArmor(){this.stashedEquipment.head=this.equipment.head,this.stashedEquipment.body=this.equipment.body,this.stashedEquipment.legs=this.equipment.legs,this.stashedEquipment.feet=this.equipment.feet,this.equipment.head=null,this.equipment.body=null,this.equipment.legs=null,this.equipment.feet=null}restoreArmor(){this.equipment.head=this.stashedEquipment.head,this.equipment.body=this.stashedEquipment.body,this.equipment.legs=this.stashedEquipment.legs,this.equipment.feet=this.stashedEquipment.feet,this.stashedEquipment.head=null,this.stashedEquipment.body=null,this.stashedEquipment.legs=null,this.stashedEquipment.feet=null}stashMoney(){this.stashedMoney=this.money,this.updateMoney(0,!0)}restoreMoney(){this.updateMoney(this.stashedMoney,!0),this.stashedMoney=0}reincarnate(e){this.totalLives++;let i="",r=Object.keys(this.attributes);for(let a in r)if(this.attributes[r[a]].value>0&&this.attributes[r[a]].attributeGroup!==uo){let s=(this.attributes[r[a]].value-(this.attributes[r[a]].lifeStartValue||0))/this.aptitudeGainDivider;if(s>0){this.attributes[r[a]].aptitude+=s;let l="Your aptitude for "+this.camelToTitlePipe.transform(r[a])+" increased by "+this.bigNumberPipe.transform(s)+`
    New aptitude: `+this.bigNumberPipe.transform(this.attributes[r[a]].aptitude);this.logService.log(w.EVENT,l),i+=l+`
    New starting value: `+this.bigNumberPipe.transform(this.getAttributeStartingValue(this.attributes[r[a]].value,this.attributes[r[a]].aptitude))+`
`}this.attributes[r[a]].value=this.getAttributeStartingValue(this.attributes[r[a]].value,this.attributes[r[a]].aptitude),this.attributes[r[a]].lifeStartValue=this.attributes[r[a]].value}this.showLifeSummary&&(this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialog.open(TM,{width:"600px",data:{causeOfDeath:e,attributeGains:i},autoFocus:!1})),this.status.health.value=100,this.status.health.max=100,this.startingStaminaBoost?(this.status.stamina.value=1e3,this.status.stamina.max=1e3):(this.status.stamina.value=100,this.status.stamina.max=100),this.status.nutrition.value=30,this.status.nutrition.max=30,this.qiUnlocked?(this.status.qi.max=1,this.status.qi.value=1):(this.status.qi.max=0,this.status.qi.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=DM,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.hygieneLifespan=0;let o=0;o+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(o/5),this.bloodlineRank<5?this.statLifespan*=.1:this.statLifespan*=5,this.money<0&&this.updateMoney(0,!0),this.bloodlineRank<3?this.updateMoney(0,!0):this.bloodlineRank<4?this.updateMoney(this.money/8,!0):this.updateMoney(4*this.money,!0),this.money>this.maxMoney&&this.updateMoney(this.maxMoney,!0),this.hellMoney=0,this.recalculateDerivedStats(),this.bloodlineRank===0?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null),this.yin=1,this.yang=1}getAttributeStartingValue(e,i){return e<=0?0:(i<0&&(i=0),e<1?e/10:i<this.attributeSoftCap?1+i/10:this.attributeSoftCap/10+Math.log2(i-(this.attributeSoftCap-1)))}recalculateDerivedStats(){let e=1;this.bonusHealth&&(e=5);let i=this.contemplationService.concepts.filter(d=>d.effect.includes("life"));for(let d of i)e*=Math.log10(10+d.progress);e+=this.fengshuiScore/20,this.status.health.max=(100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+this.healthBonusSoul+Math.floor(Math.log2(this.attributes.toughness.value+2)*5))*e,this.money>this.maxMoney&&this.updateMoney(this.maxMoney,!0),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney);let r=Object.keys(this.attributes);for(let d in r){this.attributes[r[d]].aptitudeMult=this.getAptitudeMultipier(this.attributes[r[d]].aptitude,!1,this.attributes[r[d]].attributeGroup===uo);let u=this.contemplationService.concepts.filter(v=>v.effect.includes(r[d]));for(let v of u)this.attributes[r[d]].aptitudeMult*=Math.log10(10+v.progress);(r[d]==="strength"||r[d]==="speed"||r[d]==="toughness")&&this.bonusMuscles&&(this.attributes[r[d]].aptitudeMult*=1e3),(r[d]==="intelligence"||r[d]==="charisma")&&this.bonusBrains&&(this.attributes[r[d]].aptitudeMult*=1e3),this.highestAttributes[r[d]]()<this.attributes[r[d]].value&&this.highestAttributes[r[d]].set(this.attributes[r[d]].value)}this.spiritualityLifespan=this.getAptitudeMultipier(this.attributes.spirituality.value,!0)*5,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan+this.hygieneLifespan;let o=1,a=1,s=1,l=1;this.equipment.head&&(o=this.equipment.head.armorStats?.defense||1),this.equipment.body&&(a=this.equipment.body.armorStats?.defense||1),this.equipment.legs&&(s=this.equipment.legs.armorStats?.defense||1),this.equipment.feet&&(l=this.equipment.feet.armorStats?.defense||1);for(let d in this.attackPower){let u=d,v=Math.sqrt(this.attributes[u].value)||1;this.attackPower[u]=Math.floor(v)||1,this.attributes.combatMastery.value>1&&(this.attackPower[u]*=Math.log(this.attributes.combatMastery.value+100)/4.605170185988092),this.righteousWrathUnlocked&&(this.attackPower[u]*=2)}let c=Math.sqrt(this.attributes.toughness.value)||1;this.defense=Math.floor(c*(o+a+s+l))||1,this.righteousWrathUnlocked&&(this.defense*=2),this.yinYangBoosted?this.yinYangBalance=Math.max(10-10*Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0):this.yinYangBalance=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0),this.empowermentMult=this.getEmpowermentMult()}getEmpowermentMult(){let e=this.empowermentMax,i=this.empowermentPillsTaken*.01,r=1+2*e/(1+Math.pow(1.02,-i/3))-e;return this.easyMode&&(r*=100),r}getAptitudeMultipier(e,i=!1,r=!1){e<0&&(e=0);let o=i||r?1:this.empowermentMult,a=1;if(e<this.attributeScalingLimit)a=e*o;else if(e<this.attributeScalingLimit*10)a=(this.attributeScalingLimit+(e-this.attributeScalingLimit)/4)*o;else if(e<this.attributeScalingLimit*100)a=(this.attributeScalingLimit+this.attributeScalingLimit*9/4+(e-this.attributeScalingLimit*10)/20)*o;else if(e<=this.attributeSoftCap)a=(this.attributeScalingLimit+this.attributeScalingLimit*9/4+this.attributeScalingLimit*90/20+(e-this.attributeScalingLimit*100)/100)*o;else{let l=this.attributeScalingLimit+this.attributeScalingLimit*9/4+this.attributeScalingLimit*90/20+(this.attributeSoftCap-this.attributeScalingLimit*100)/100;a=(Math.pow((e-this.attributeSoftCap)*Math.pow(this.attributeScalingLimit/1e13,.15),.5)+l)*o}if(this.bloodlineRank>=8)return this.attributes.wisdom.value>0&&!r&&(a*=this.attributes.wisdom.value+1),a;let s=365e3;return this.yinYangBoosted?s+=this.yinYangBalance*s:s+=this.yinYangBalance*s*.1,s=s/(-1-Math.log((a+s)/s))+s,this.attributes.wisdom.value>0&&!r&&(s*=this.attributes.wisdom.value+1),s}updateMoney(e,i=!1){if(i)this.showUpdateAnimations&&(this.moneyUpdates=e-this.money),this.money=e;else{if(e>0){let r=1+Math.pow(this.fengshuiScore,1.5)/100;e*=r}else{let r=10-9*Math.exp(-.1*Math.log10(this.attributes.haggling.value));r<1&&(r=1),e/=r}this.money+=e,this.showUpdateAnimations&&(this.moneyUpdates+=e)}return e}flashStatus(e){this.statusToFlash.includes(e)||this.statusToFlash.push(e)}increaseAttribute(e,i){let r=i*(1+this.achievementService.unlockedAchievements.length*.02);return r*=this.attributes[e].aptitudeMult,this.attributes[e].value+=r,r}increaseAptitudeDaily(e){for(let i in this.attributes){let r=i,o=this.attributes[r];o.attributeGroup===jo&&(o.aptitude+=o.value/1e7*e)}}checkOverage(){this.healthBonusFood>19e3&&(this.healthBonusFood=19e3),this.healthBonusBath>8e4&&(this.healthBonusBath=8e4);let e=1e6*(1+this.qiCompressionLevel),i=2e6;this.yinYangBoosted&&(e+=2*this.yinYangBalance*e,i+=2*this.yinYangBalance*i),this.healthBonusMagic>e&&(this.healthBonusMagic=e),this.healthBonusSoul>i&&(this.healthBonusSoul=i),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.nutrition.max>1e3&&(this.status.nutrition.max=1e3),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nutrition.value>this.status.nutrition.max&&(this.status.nutrition.value=this.status.nutrition.max),this.status.qi.value>this.status.qi.max&&(this.status.qi.value=this.status.qi.max),this.money>this.maxMoney&&this.updateMoney(this.maxMoney,!0),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney)}increaseMaxQi(e){this.status.qi.max+=e/(1+this.qiCompressionLevel);let i=Math.pow(10,this.qiCompressionLevel+4);this.status.qi.max>i&&(this.status.qi.max=i)}getProperties(){let e=JSON.parse(JSON.stringify(this.attributes));for(let o in e){let a=o;delete e[a].description,delete e[a].displayKey,delete e[a].displayValue,delete e[a].displayAptitude,delete e[a].icon,delete e[a].attributeGroup}let i={},r=Object.keys(this.attributes);for(let o in r)i[r[o]]=this.highestAttributes[r[o]]();return{attributes:e,money:this.money,stashedMoney:this.stashedMoney,hellMoney:this.hellMoney,equipment:this.equipment,stashedEquipment:this.stashedEquipment,itemPouches:this.itemPouches,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,hygieneLifespan:this.hygieneLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineRank:this.bloodlineRank,qiUnlocked:this.qiUnlocked,qiCompressionLevel:this.qiCompressionLevel,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,healthBonusSoul:this.healthBonusSoul,empowermentPillsTaken:this.empowermentPillsTaken,empowermentMax:this.empowermentMax,immortal:this.immortal(),god:this.god(),easyMode:this.easyMode,highestMoney:this.highestMoney,highestAge:this.highestAge,highestHealth:this.highestHealth,highestStamina:this.highestStamina,highestQi:this.highestQi,highestAttributeValues:i,yinYangBoosted:this.yinYangBoosted,yin:this.yin,yang:this.yang,righteousWrathUnlocked:this.righteousWrathUnlocked,bonusMuscles:this.bonusMuscles,bonusBrains:this.bonusBrains,bonusHealth:this.bonusHealth,showLifeSummary:this.showLifeSummary,showTips:this.showTips,showUpdateAnimations:this.showUpdateAnimations,startingStaminaBoost:this.startingStaminaBoost,keepPouchItems:this.keepPouchItems}}setProperties(e){for(let i in e.attributes){let r=i;this.attributes[r].aptitude=e.attributes[r].aptitude,this.attributes[r].aptitudeMult=e.attributes[r].aptitudeMult,this.attributes[r].value=e.attributes[r].value,this.attributes[r].lifeStartValue=e.attributes[r].lifeStartValue,this.highestAttributes[r].set(e.highestAttributeValues[r]||0)}this.updateMoney(e.money,!0),this.stashedMoney=e.stashedMoney,this.hellMoney=e.hellMoney,this.money>this.maxMoney&&this.updateMoney(this.maxMoney,!0),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney),this.equipment=e.equipment,this.stashedEquipment=e.stashedEquipment,this.itemPouches=e.itemPouches,this.age=e.age,this.status=e.status,this.baseLifespan=e.baseLifespan,this.foodLifespan=e.foodLifespan,this.alchemyLifespan=e.alchemyLifespan,this.statLifespan=e.statLifespan,this.spiritualityLifespan=e.spiritualityLifespan,this.magicLifespan=e.magicLifespan,this.hygieneLifespan=e.hygieneLifespan,this.condenseSoulCoreCost=e.condenseSoulCoreCost,this.aptitudeGainDivider=5*Math.pow(1.5,9-Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)),this.reinforceMeridiansCost=e.reinforceMeridiansCost,this.attributeScalingLimit=10*Math.pow(2,Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)),this.attributeSoftCap=e.attributeSoftCap,this.bloodlineRank=e.bloodlineRank,this.bloodlineCost=1e3*Math.pow(100,this.bloodlineRank),this.qiUnlocked=e.qiUnlocked,this.qiCompressionLevel=e.qiCompressionLevel,this.totalLives=e.totalLives,this.healthBonusFood=e.healthBonusFood,this.healthBonusBath=e.healthBonusBath,this.healthBonusMagic=e.healthBonusMagic,this.healthBonusSoul=e.healthBonusSoul,this.empowermentPillsTaken=e.empowermentPillsTaken,this.empowermentMax=e.empowermentMax,this.immortal.set(e.immortal),this.god.set(e.god),this.easyMode=e.easyMode,this.highestMoney=e.highestMoney,this.highestAge=e.highestAge,this.highestHealth=e.highestHealth,this.highestStamina=e.highestStamina,this.highestQi=e.highestQi,this.yinYangBoosted=e.yinYangBoosted,this.yin=e.yin,this.yang=e.yang,this.righteousWrathUnlocked=e.righteousWrathUnlocked,this.bonusMuscles=e.bonusMuscles,this.bonusBrains=e.bonusBrains,this.bonusHealth=e.bonusHealth,this.showLifeSummary=e.showLifeSummary,this.showTips=e.showTips,this.showUpdateAnimations=e.showUpdateAnimations,this.startingStaminaBoost=e.startingStaminaBoost,this.keepPouchItems=e.keepPouchItems,this.recalculateDerivedStats()}static{this.\u0275fac=function(i){return new(i||t)(L(le),L(pe),L(St),L(pi),L(et))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ac=(()=>{class t{constructor(){this.mainLoopService=_(pe),this.characterService=_(ae),this.yinColor="#000000",this.yangColor="#ffffff",this.balanceString="perfect",this.flashHealth=!1,this.flashStamina=!1,this.flashQi=!1,this.flashNutrition=!1,this.moneyUpdates=[],this.popupCounter=0,this.mainLoopService.longTickSubject.subscribe(()=>{if(this.flashHealth=this.characterService.statusToFlash.includes("health"),this.flashStamina=this.characterService.statusToFlash.includes("stamina"),this.flashQi=this.characterService.statusToFlash.includes("qi"),this.flashNutrition=this.characterService.statusToFlash.includes("nutrition"),this.characterService.statusToFlash=[],this.popupCounter<1){this.popupCounter++;return}this.popupCounter=0,this.characterService.moneyUpdates!==0&&(this.moneyUpdates.push(this.characterService.moneyUpdates),this.characterService.moneyUpdates=0),this.updateYinYang()})}updateYinYang(){let e=this.characterService.yang,i=this.characterService.yin;if(i<1&&(i=1),e<1&&(e=1),e>=i){this.yangColor="#ffffff";let l=(255-Math.round(i/e*255)).toString(16);this.yinColor="#"+l+l+l}else{this.yinColor="#000000";let l=Math.round(e/i*255).toString(16);this.yangColor="#"+l+l+l}let r=["perfect","exceptional","excellent","good","fair","poor","terrible","abysmal","non-existent"],o=Math.max(Math.abs(e-i)/((e+i)/2)*1e4,1),a=Math.min(Math.floor(Math.log(o)/Math.log(5)),r.length-1);this.balanceString=r[a]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MM=(()=>{class t{constructor(){this.text=""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-tooltip"]],inputs:{text:"text"},decls:1,vars:3,consts:[[3,"innerHTML"]],template:function(i,r){i&1&&Ce(0,"div",0),i&2&&(ht("innerHTML",X(r.text),Do),A("@tooltip",void 0))},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{background-color:#292929;border:1px solid white;color:#fff;padding:.5rem 1rem;border-radius:4px}"],data:{animation:[gs("tooltip",[va(":enter",[an({opacity:0}),ga(300,an({opacity:1}))]),va(":leave",[ga(300,an({opacity:0}))])])]}})}}return t})();var hS=!1,ye=(()=>{class t{constructor(e,i,r){this.overlay=e,this.overlayPositionBuilder=i,this.elementRef=r,this.text="",this.timeoutId=0,this.delay=300}ngOnDestroy(){this.timeoutId&&clearTimeout(this.timeoutId),this.overlayRef.detach(),this.overlayRef.dispose()}ngOnInit(){let e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-8},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:8}]);this.overlayRef=this.overlay.create({positionStrategy:e})}show(e){hS||e.buttons&&e.buttons>0||(hS=!0,window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{if(this.text.trim().length!==0){let i=this.overlayRef.attach(new Rr(MM));i.instance.text=this.text}},this.delay))}hide(){hS=!1,this.timeoutId&&window.clearTimeout(this.timeoutId),this.overlayRef.detach()}maybeHide(e){e.buttons&&e.buttons>0&&this.hide()}static{this.\u0275fac=function(i){return new(i||t)(R(ff),R(pf),R(ve))}}static{this.\u0275dir=we({type:t,selectors:[["","tooltip",""]],hostBindings:function(i,r){i&1&&D("mouseover",function(a){return r.show(a)})("touchstart",function(a){return r.show(a)})("mouseout",function(){return r.hide()})("mouseleave",function(){return r.hide()})("touchend",function(){return r.hide()})("touchcancel",function(){return r.hide()})("change",function(){return r.hide()})("click",function(){return r.hide()})("drag",function(){return r.hide()})("invalid",function(){return r.hide()})("unload",function(){return r.hide()})("mousemove",function(a){return r.maybeHide(a)})},inputs:{text:[0,"tooltip","text"]}})}}return t})();var Lf=(()=>{class t{constructor(){this.characterService=_(ae),this.healthService=_(ac)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-yin-yang"]],decls:12,vars:16,consts:[[1,"yinYang",3,"tooltip"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 250 250"],["id","f"],["stdDeviation","3.5"],["cx","125","cy","125","r","116.6","fill","#7f7f7f","opacity","0.5","filter","url(#f)"],["cx","125","cy","125","r","113.2"],["d","m125,11.8 a56.6,56.6 0 0 1 0,113.2 56.6,56.6 0 0 0 0,113.2 113.2,113.2 0 0 0 0,-226.4"],["cx","125","cy","68.4","r","17.6"],["cx","125","cy","181.6","r","17.6"]],template:function(i,r){i&1&&(m(0,"div",0),B(1,"bigNumber"),B(2,"bigNumber"),Cl(),m(3,"svg",1)(4,"defs")(5,"filter",2),H(6,"feGaussianBlur",3),f()(),H(7,"circle",4)(8,"circle",5)(9,"path",6)(10,"circle",7)(11,"circle",8),f()()),i&2&&(A("tooltip",Pd("Yang: ",V(1,12,r.characterService.displayYang()),`<br>
    Yin: `,V(2,14,r.characterService.displayYin()),`<br>
    Your balance is `,r.healthService.balanceString,`.<br>
    A proper balance of Yin and Yang will strengthen you in combat and allow you develop your aptitudes more effectively.`)),h(3),Je("fill",r.healthService.yinColor),h(5),Je("fill",r.healthService.yangColor),h(2),Je("fill",r.healthService.yinColor),h(),Je("fill",r.healthService.yangColor))},dependencies:[ye,Ve],styles:[".yinYang[_ngcontent-%COMP%]{width:var(--yin-yang-size);max-width:var(--yin-yang-size);height:var(--yin-yang-size);max-height:var(--yin-yang-size);overflow:hidden}"]})}}return t})();var lq=(t,n)=>({popupTextColor:t,popupTextNegativeColor:n});function cq(t,n){t&1&&(m(0,"div",2),H(1,"app-yin-yang",17)(2,"div",18),f())}function dq(t,n){t&1&&(m(0,"div"),p(1,"You expect to live forever."),f())}function uq(t,n){if(t&1&&(m(0,"div"),p(1),B(2,"bigNumber"),f()),t&2){let e=b(2);h(),N("You expect to live ",V(2,1,e.characterService.displayLifespan())," years.")}}function hq(t,n){if(t&1&&(m(0,"div",19)(1,"mat-icon",20),p(2,"timer"),f(),m(3,"div")(4,"span"),p(5),B(6,"bigNumber"),f()()(),m(7,"div",21),x(8,dq,2,0,"div")(9,uq,3,3,"div"),f()),t&2){let e=b();h(),A("tooltip",X(e.characterService.lifespanTooltip())),h(4),N("Age: ",V(6,4,e.characterService.displayAge())," years."),h(3),T(e.characterService.immortal()?8:9)}}function mq(t,n){t&1&&p(0," Forever ")}function pq(t,n){if(t&1&&(p(0),B(1,"bigNumber")),t&2){let e=b(2);N(" ",V(1,1,e.characterService.displayLifespan())," ")}}function fq(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"bigNumber"),x(3,mq,1,0)(4,pq,2,3),f()),t&2){let e=b();h(),N(" ",V(2,2,e.characterService.displayAge())," / "),h(2),T(e.characterService.immortal()?3:4)}}function gq(t,n){t&1&&(m(0,"div",5),p(1,"Wealth"),f())}function vq(t,n){t&1&&(m(0,"span"),p(1,"+"),f())}function yq(t,n){if(t&1){let e=U();m(0,"span",8),D("@popupText.done",function(){k(e);let r=b();return E(r.animationDoneEvent())}),x(1,vq,2,0,"span"),p(2),B(3,"bigNumber"),f()}if(t&2){let e=n.$implicit;A("ngClass",mi(6,lq,e>0,e<0))("@popupText",e),h(),T(e>0?1:-1),h(),N(" ",V(3,4,e)," ")}}function bq(t,n){if(t&1&&(m(0,"div",9),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),N(" ",V(2,1,e.characterService.hellMoney)," Hell Money ")}}function _q(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),Qt("",V(2,2,e.homeService.land)," Empty ",e.homeService.land===1?"Plot":"Plots"," of Land")}}function Sq(t,n){t&1&&(m(0,"div",5),p(1,"Health"),f())}function wq(t,n){t&1&&(m(0,"div",5),p(1,"Stamina"),f())}function Cq(t,n){t&1&&(m(0,"div",5),p(1,"Nutrition"),f())}function kq(t,n){t&1&&(m(0,"div",5),p(1,"Qi"),f())}var IM=(()=>{class t{constructor(){this.characterService=_(ae),this.healthService=_(ac),this.homeService=_(Qe),this.Math=Math,this.isCollapsed=!1}animationDoneEvent(){for(;this.healthService.moneyUpdates.length>0;)this.healthService.moneyUpdates.pop()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-health"]],decls:46,vars:56,consts:[[1,"healthContainer",3,"click"],[1,"upper-row"],[1,"yin-yang-container"],[1,"statusRow","top"],[1,"flexColumn"],[1,"label"],[1,"moneyContainer"],[1,"moneyColumn"],[1,"popupText",3,"ngClass"],["tooltip","Money accepted as legal tender in hell.",1,"moneyColumn"],[1,"statusRow","progress-bars-row"],[1,"status-column"],[1,"statusCell","barCell","health",3,"tooltip"],[1,"progress-bar",3,"ngClass"],[1,"statusCell","barCell","stamina",3,"tooltip"],[1,"statusCell","barCell","nutrition",3,"tooltip"],[1,"statusCell","barCell","qi",3,"tooltip"],[1,"yin-yang-dimensions"],[1,"yin-yang-overlay","yin-yang-dimensions"],[1,"statusCell","age"],[3,"tooltip"],[1,"statusCell"]],template:function(i,r){i&1&&(m(0,"div",0),D("click",function(){return r.isCollapsed=!r.isCollapsed}),m(1,"div",1),x(2,cq,3,0,"div",2),m(3,"div",3)(4,"div",4),x(5,hq,10,6)(6,fq,5,4,"span"),f(),m(7,"div",4),x(8,gq,2,0,"div",5),m(9,"div",6)(10,"div",7)(11,"div"),ne(12,yq,4,9,"span",8,vt),m(14,"span"),p(15),B(16,"bigNumber"),f()(),x(17,bq,3,3,"div",9),x(18,_q,3,4,"span"),f()()()()(),m(19,"div",10)(20,"div",11)(21,"div",12),x(22,Sq,2,0,"div",5),m(23,"div",13),B(24,"bigNumber"),B(25,"bigNumber"),H(26,"span"),f()(),m(27,"div",14),x(28,wq,2,0,"div",5),m(29,"div",13),B(30,"bigNumber"),B(31,"bigNumber"),H(32,"span"),f()()(),m(33,"div",11)(34,"div",15),x(35,Cq,2,0,"div",5),m(36,"div",13),B(37,"bigNumber"),B(38,"bigNumber"),H(39,"span"),f()(),m(40,"div",16),x(41,kq,2,0,"div",5),m(42,"div",13),B(43,"bigNumber"),B(44,"bigNumber"),H(45,"span"),f()()()()()),i&2&&(h(2),T(r.isCollapsed?-1:2),h(3),T(r.isCollapsed?6:5),h(3),T(r.isCollapsed?-1:8),h(4),re(r.healthService.moneyUpdates),h(3),N("",V(16,38,r.characterService.displayMoney())," Taels"),h(2),T(r.characterService.hellMoney>0?17:-1),h(),T(r.homeService.land>0?18:-1),h(3),A("tooltip",X(r.characterService.status.health.description)),h(),T(r.isCollapsed?-1:22),h(),A("ngClass",r.healthService.flashHealth?"flash":""),Te("value",V(24,40,r.Math.floor(r.characterService.immortal()&&r.characterService.status.health.displayValue()<0?0:r.characterService.status.health.displayValue())))("max",V(25,42,r.Math.floor(r.characterService.status.health.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.immortal()&&r.characterService.status.health.displayValue()<0?0:r.characterService.status.health.displayValue())/r.Math.floor(r.characterService.status.health.displayMax()),"%"),h(),A("tooltip",X(r.characterService.status.stamina.description)),h(),T(r.isCollapsed?-1:28),h(),A("ngClass",r.healthService.flashStamina?"flash":""),Te("value",V(30,44,r.Math.floor(r.characterService.immortal()&&r.characterService.status.stamina.displayValue()<0?0:r.characterService.status.stamina.displayValue())))("max",V(31,46,r.Math.floor(r.characterService.status.stamina.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.immortal()&&r.characterService.status.stamina.displayValue()<0?0:r.characterService.status.stamina.displayValue())/r.Math.floor(r.characterService.status.stamina.displayMax()),"%"),h(2),A("tooltip",X(r.characterService.status.nutrition.description)),h(),T(r.isCollapsed?-1:35),h(),A("ngClass",r.healthService.flashNutrition?"flash":""),Te("value",V(37,48,r.Math.floor(r.characterService.status.nutrition.displayValue())))("max",V(38,50,r.Math.floor(r.characterService.status.nutrition.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.status.nutrition.displayValue())/r.Math.floor(r.characterService.status.nutrition.displayMax()),"%"),h(),A("tooltip",X(r.characterService.status.qi.description)),h(),T(r.isCollapsed?-1:41),h(),A("ngClass",r.healthService.flashNutrition?"flash":""),Te("value",V(43,52,r.Math.floor(r.characterService.status.qi.displayValue())))("max",V(44,54,r.Math.floor(r.characterService.status.qi.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.status.qi.displayValue())/r.Math.floor(r.characterService.status.qi.displayMax()),"%"))},dependencies:[ji,gt,sn,De,ye,Lf,Ve],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:-.4em;margin-left:4px;margin-right:4px;flex-grow:1;width:unset}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nutrition[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.qi[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--qiColor)}.statusRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:2px}.statusRow.top[_ngcontent-%COMP%]{justify-content:space-between;position:relative;z-index:1}.status-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:4px}.statusCell[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}.barCell[_ngcontent-%COMP%]{display:flex;flex-direction:column}td[_ngcontent-%COMP%]{font-size:12px}.flash[_ngcontent-%COMP%]{box-shadow:0 0 5px 5px #48abe0;transition:box-shadow ease-out .5s}.healthContainer[_ngcontent-%COMP%]{overflow-y:hidden;display:flex;flex-direction:column;flex-grow:1}.popupTextColor[_ngcontent-%COMP%]{color:var(--popupTextColor)}.popupTextNegativeColor[_ngcontent-%COMP%]{color:red}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);translate:-10px;z-index:10000;font-size:x-small}.yin-yang-container[_ngcontent-%COMP%]{position:absolute;width:100%;display:flex;justify-content:center}app-yin-yang[_ngcontent-%COMP%]{box-shadow:0 0 10px 10px light-dark(white,#333333);width:fit-content;height:fit-content}.yin-yang-dimensions[_ngcontent-%COMP%]{margin:10px;border-radius:50%}.yin-yang-overlay[_ngcontent-%COMP%]{background:light-dark(#ffffffc9,#333333c9);position:absolute;height:var(--yin-yang-size);width:var(--yin-yang-size)}.upper-row[_ngcontent-%COMP%]{position:relative}.age[_ngcontent-%COMP%]{display:flex;align-items:center}.progress-bars-row[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[gs("popupText",[Vd("in",an({position:"fixed"})),va(":leave",[ga(1e3,jd([an({transform:"translate(0%, 0%)"}),an({transform:"translate(0%, -150%)"})]))])])]}})}}return t})();var AM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-changelog-panel"]],decls:11,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Change Log"),F(),Ce(3,"hr"),O(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8,"v2.0.0"),F(),O(9,"td"),p(10,"A whole new version of the game."),F()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}td[_ngcontent-%COMP%]{vertical-align:top}"]})}}return t})();var mS=class{_box;_destroyed=new Z;_resizeSubject=new Z;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Oe(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(je(e=>e.some(i=>i.target===n)),zh({bufferSize:1,refCount:!0}),Ze(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Nf=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=_(ce);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new mS(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yS=["*"];function Eq(t,n){t&1&&mt(0)}var xq=["tabListContainer"],Tq=["tabList"],Dq=["tabListInner"],Mq=["nextPaginator"],Iq=["previousPaginator"],Aq=["content"];function Pq(t,n){}var Rq=["tabBodyWrapper"],Fq=["tabHeader"];function Oq(t,n){}function Lq(t,n){if(t&1&&Jt(0,Oq,0,0,"ng-template",12),t&2){let e=b().$implicit;A("cdkPortalOutlet",e.templateLabel)}}function Nq(t,n){if(t&1&&p(0),t&2){let e=b().$implicit;he(e.textLabel)}}function Bq(t,n){if(t&1){let e=U();m(0,"div",7,2),D("click",function(){let r=k(e),o=r.$implicit,a=r.$index,s=b(),l=xn(1);return E(s._handleClick(o,l,a))})("cdkFocusChange",function(r){let o=k(e).$index,a=b();return E(a._tabFocusChanged(r,o))}),H(2,"span",8)(3,"div",9),m(4,"span",10)(5,"span",11),x(6,Lq,1,1,null,12)(7,Nq,1,1),f()()()}if(t&2){let e=n.$implicit,i=n.$index,r=xn(1),o=b();Cr(e.labelClass),We("mdc-tab--active",o.selectedIndex===i),A("id",o._getTabLabelId(e,i))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),Te("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),h(3),A("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),h(3),T(e.templateLabel?6:7)}}function Vq(t,n){t&1&&mt(0)}function jq(t,n){if(t&1){let e=U();m(0,"mat-tab-body",13),D("_onCentered",function(){k(e);let r=b();return E(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){k(e);let o=b();return E(o._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){k(e);let o=b();return E(o._bodyCentered(r))}),f()}if(t&2){let e=n.$implicit,i=n.$index,r=b();Cr(e.bodyClass),A("id",r._getTabContentId(i))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Te("tabindex",r.contentTabIndex!=null&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,i))("aria-hidden",r.selectedIndex!==i)}}var Hq=new K("MatTabContent"),qq=(()=>{class t{template=_(Si);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","matTabContent",""]],features:[Ut([{provide:Hq,useExisting:t}])]})}return t})(),Uq=new K("MatTabLabel"),OM=new K("MAT_TAB"),bS=(()=>{class t extends $D{_closestTab=_(OM,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ut([{provide:Uq,useExisting:t}]),It]})}return t})(),LM=new K("MAT_TAB_GROUP"),Ho=(()=>{class t{_viewContainerRef=_(Pi);_closestTabGroup=_(LM,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Z;position=null;origin=null;isActive=!1;constructor(){_(fn).load(rc)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new nr(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(i&1&&(ei(o,bS,5),ei(o,qq,7,Si)),i&2){let a;Pe(a=Re())&&(r.templateLabel=a.first),Pe(a=Re())&&(r._explicitContent=a.first)}},viewQuery:function(i,r){if(i&1&&pt(Si,7),i&2){let o;Pe(o=Re())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(i,r){i&2&&Te("id",null)},inputs:{disabled:[2,"disabled","disabled",He],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[Ut([{provide:OM,useExisting:t}]),li],ngContentSelectors:yS,decls:1,vars:0,template:function(i,r){i&1&&(Kt(),dp(0,Eq,1,0,"ng-template"))},encapsulation:2})}return t})(),pS="mdc-tab-indicator--active",PM="mdc-tab-indicator--no-transition",fS=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let e=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){let r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},zq=(()=>{class t{_elementRef=_(ve);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(pS);return}let r=i.getBoundingClientRect(),o=e.width/r.width,a=e.left-r.left;i.classList.add(PM),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(PM),i.classList.add(pS),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(pS)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",He]}})}return t})();var NM=(()=>{class t extends zq{elementRef=_(ve);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){i&2&&(Te("aria-disabled",!!r.disabled),We("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",He]},features:[It]})}return t})(),RM={passive:!0},$q=650,Gq=100,Wq=(()=>{class t{_elementRef=_(ve);_changeDetectorRef=_(At);_viewportRuler=_($n);_dir=_(wi,{optional:!0});_ngZone=_(ce);_platform=_(kt);_sharedResizeObserver=_(Nf);_injector=_(le);_renderer=_(Mt);_animationsDisabled=ri();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Z;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Z;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new ue;indexFocused=new ue;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),RM),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),RM))}ngAfterContentInit(){let e=this._dir?this._dir.change:Le("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(jn(32),Ze(this._destroyed)),r=this._viewportRuler.change(150).pipe(Ze(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new su(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),Xt(o,{injector:this._injector}),Nt(e,r,i,this._items.changes,this._itemsResized()).pipe(Ze(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?qi:this._items.changes.pipe(Tt(this._items),Bt(e=>new Oe(i=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Ua(1),je(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!$i(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement,s,l;this._getLayoutDirection()=="ltr"?(s=o,l=s+a):(l=this._tabListInner.nativeElement.offsetWidth-o,s=l-a);let c=this.scrollDistance,d=this.scrollDistance+r;s<c?this.scrollDistance-=c-s:l>d&&(this.scrollDistance+=Math.min(l-d,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,r=e-i>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),Ha($q,Gq).pipe(Ze(Nt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",He],selectedIndex:[2,"selectedIndex","selectedIndex",Dn]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),Yq=(()=>{class t extends Wq{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new fS(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275cmp=$({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(i&1&&ei(o,NM,4),i&2){let a;Pe(a=Re())&&(r._items=a)}},viewQuery:function(i,r){if(i&1&&(pt(xq,7),pt(Tq,7),pt(Dq,7),pt(Mq,5),pt(Iq,5)),i&2){let o;Pe(o=Re())&&(r._tabListContainer=o.first),Pe(o=Re())&&(r._tabList=o.first),Pe(o=Re())&&(r._tabListInner=o.first),Pe(o=Re())&&(r._nextPaginator=o.first),Pe(o=Re())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){i&2&&We("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",He]},features:[It],ngContentSelectors:yS,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(i&1){let o=U();Kt(),m(0,"div",5,0),D("click",function(){return k(o),E(r._handlePaginatorClick("before"))})("mousedown",function(s){return k(o),E(r._handlePaginatorPress("before",s))})("touchend",function(){return k(o),E(r._stopInterval())}),H(2,"div",6),f(),m(3,"div",7,1),D("keydown",function(s){return k(o),E(r._handleKeydown(s))}),m(5,"div",8,2),D("cdkObserveContent",function(){return k(o),E(r._onContentChanges())}),m(7,"div",9,3),mt(9),f()()(),m(10,"div",10,4),D("mousedown",function(s){return k(o),E(r._handlePaginatorPress("after",s))})("click",function(){return k(o),E(r._handlePaginatorClick("after"))})("touchend",function(){return k(o),E(r._stopInterval())}),H(12,"div",6),f()}i&2&&(We("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),A("matRippleDisabled",r._disableScrollBefore||r.disableRipple),h(3),We("_mat-animation-noopable",r._animationsDisabled),h(2),Te("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),h(5),We("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),A("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[vu,AD],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return t})(),Kq=new K("MAT_TABS_CONFIG"),FM=(()=>{class t extends Fr{_host=_(gS);_ngZone=_(ce);_centeringSub=qe.EMPTY;_leavingSub=qe.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Tt(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","matTabBodyHost",""]],features:[It]})}return t})(),gS=(()=>{class t{_elementRef=_(ve);_dir=_(wi,{optional:!0});_ngZone=_(ce);_injector=_(le);_renderer=_(Mt);_diAnimationsDisabled=ri();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=qe.EMPTY;_position;_previousPosition;_onCentering=new ue;_beforeCentering=new ue;_afterLeavingCenter=new ue;_onCentered=new ue(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=_(At);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),Xt(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,i=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",i),this._renderer.listen(e,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),Xt(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(i&1&&(pt(FM,5),pt(Aq,5)),i&2){let o;Pe(o=Re())&&(r._portalHost=o.first),Pe(o=Re())&&(r._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,r){i&2&&Te("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){i&1&&(m(0,"div",1,0),Jt(2,Pq,0,0,"ng-template",2),f()),i&2&&We("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[FM,Xl],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return t})(),Da=(()=>{class t{_elementRef=_(ve);_changeDetectorRef=_(At);_ngZone=_(ce);_tabsSubscription=qe.EMPTY;_tabLabelSubscription=qe.EMPTY;_tabBodySubscription=qe.EMPTY;_diAnimationsDisabled=ri();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new _r;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ue;focusChange=new ue;animationDone=new ue;selectedTabChange=new ue(!0);_groupId;_isServer=!_(kt).isBrowser;constructor(){let e=_(Kq,{optional:!0});this._groupId=_(gi).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Tt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new vS;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Nt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,i){return e.id||`${this._groupId}-label-${i}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let i=this._lastFocusedTabIndex??this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}_bodyCentered(e){e&&this._tabBodies?.forEach((i,r)=>i._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(i&1&&ei(o,Ho,5),i&2){let a;Pe(a=Re())&&(r._allTabs=a)}},viewQuery:function(i,r){if(i&1&&(pt(Rq,5),pt(Fq,5),pt(gS,5)),i&2){let o;Pe(o=Re())&&(r._tabBodyWrapper=o.first),Pe(o=Re())&&(r._tabHeader=o.first),Pe(o=Re())&&(r._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,r){i&2&&(Te("mat-align-tabs",r.alignTabs),Cr("mat-"+(r.color||"primary")),Je("--mat-tab-animation-duration",r.animationDuration),We("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",He],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",He],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",He],selectedIndex:[2,"selectedIndex","selectedIndex",Dn],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Dn],disablePagination:[2,"disablePagination","disablePagination",He],disableRipple:[2,"disableRipple","disableRipple",He],preserveContent:[2,"preserveContent","preserveContent",He],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ut([{provide:LM,useExisting:t}])],ngContentSelectors:yS,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,r){if(i&1){let o=U();Kt(),m(0,"mat-tab-header",3,0),D("indexFocused",function(s){return k(o),E(r._focusChanged(s))})("selectFocusedIndex",function(s){return k(o),E(r.selectedIndex=s)}),ne(2,Bq,8,17,"div",4,vt),f(),x(4,Vq,1,0),m(5,"div",5,1),ne(7,jq,1,10,"mat-tab-body",6,vt),f()}i&2&&(A("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),gp("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),h(2),re(r._tabs),h(2),T(r._isServer?4:-1),h(),We("_mat-animation-noopable",r._animationsDisabled()),h(2),re(r._tabs))},dependencies:[Yq,NM,k_,vu,Fr,gS],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return t})(),vS=class{index;tab};var BM=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt]})}return t})();function Qq(t,n){t&1&&(m(0,"span",4),p(1,"The Game"),f())}function Zq(t,n){t&1&&(m(0,"span",4),p(1,"Attributes and Activities"),f())}function Xq(t,n){t&1&&(m(0,"span",4),p(1,"Status"),f())}function Jq(t,n){t&1&&(m(0,"span",4),p(1,"Your Home"),f())}function e3(t,n){t&1&&(m(0,"span",4),p(1,"Food"),f())}function t3(t,n){t&1&&(m(0,"span",4),p(1,"Achievements"),f())}function i3(t,n){t&1&&(m(0,"span",4),p(1,"Good Luck!"),f())}var VM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-tutorial-panel"]],decls:41,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"],["mat-tab-label",""],[1,"tutorialSection"],[1,"tab-label"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3"),p(2,"Tutorial"),f(),H(3,"hr"),m(4,"div",1)(5,"mat-tab-group")(6,"mat-tab"),Jt(7,Qq,2,0,"ng-template",2),m(8,"div",3)(9,"span"),p(10," Immortality Idle 2 is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),f()()(),m(11,"mat-tab"),Jt(12,Zq,2,0,"ng-template",2),m(13,"div",3)(14,"span"),p(15," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),f()()(),m(16,"mat-tab"),Jt(17,Xq,2,0,"ng-template",2),m(18,"div",3)(19,"span"),p(20," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),f()()(),m(21,"mat-tab"),Jt(22,Jq,2,0,"ng-template",2),m(23,"div",3)(24,"span"),p(25," Once you've played for a few days, A panel for your home will unlock. Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),f()()(),m(26,"mat-tab"),Jt(27,e3,2,0,"ng-template",2),m(28,"div",3)(29,"span"),p(30," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food, but you have money, you will spend a tael to buy enough scraps to keep you from starving. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),f()()(),m(31,"mat-tab"),Jt(32,t3,2,0,"ng-template",2),m(33,"div",3)(34,"span"),p(35," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),f()()(),m(36,"mat-tab"),Jt(37,i3,2,0,"ng-template",2),m(38,"div",3)(39,"span"),p(40," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. If you find the game too difficult, an easy mode is available in the options panel. Now, it's time to develop your potential for immortality. Get to it! "),f()()()()()())},dependencies:()=>[Da,Ho,bS],styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:600px}[_nghost-%COMP%]     .mat-mdc-tab-group{flex-direction:row}[_nghost-%COMP%]     .mat-mdc-tab-header{border-bottom:none}[_nghost-%COMP%]     .mat-mdc-tab-header-pagination{display:none!important}[_nghost-%COMP%]     .mat-mdc-tab-labels{flex-direction:column}[_nghost-%COMP%]     .mat-mdc-ink-bar{height:100%;left:98%!important}[_nghost-%COMP%]     .mat-mdc-tab-body-wrapper{flex:1 1 auto}.tutorialSection[_ngcontent-%COMP%]{margin:8px}"]})}}return t})();var n3=(t,n)=>({selectedItem:t,autobuyItem:n}),r3=(t,n,e)=>({selectedItem:t,ownedItem:n,autobuyItem:e}),o3=(t,n)=>n.id+n.value;function a3(t,n){if(t&1&&H(0,"img",4),t&2){let e=b();A("ngSrc",bt("assets/images/items/",e.landItem.imageFile,".png"))}}function s3(t,n){if(t&1&&H(0,"img",4),t&2){let e=b().$implicit;A("ngSrc",bt("assets/images/items/",e.imageFile,".png"))}}function l3(t,n){if(t&1){let e=U();m(0,"div")(1,"div",3),D("click",function(){let r=k(e).$implicit,o=b();return E(o.slotClicked(r))}),m(2,"div"),x(3,s3,1,2,"img",4),f(),m(4,"div"),p(5),B(6,"titlecase"),f(),m(7,"div"),p(8),B(9,"bigNumber"),f()()()}if(t&2){let e=n.$implicit,i=b();h(),A("tooltip",X(e.description))("ngClass",Db(10,r3,e===i.storeService.selectedItem,e.owned&&e.owned(),e.id===i.homeService.merchantAutobuyItem)),h(2),T(e.imageFile?3:-1),h(2),he(V(6,6,e.name)),h(3),N("$ ",V(9,8,e.value*2))}}var jM=(()=>{class t{constructor(e,i,r,o,a,s,l){this.storeService=e,this.homeService=i,this.inventoryService=r,this.characterService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0,this.landItem={id:"land",name:"land",description:"A plot of empty land, suitable for building a home on or plowing into a farm field.<br>Price increases with each plot purchased",value:100,type:"land",imageFile:"land",shopable:!1},this.purchaseQuantity=1,this.landItem.value=this.homeService.landPrice,this.buyDisabled=!0,this.storeService.selectedItem=null,l.reincarnateSubject.subscribe(()=>{this.landItem.value=this.homeService.landPrice}),l.longTickSubject.subscribe(()=>{this.landItem.value=this.homeService.landPrice})}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!1)}buyItem(){let e=this.storeService.selectedItem;if(e)if(e===this.landItem)this.homeService.buyLand(this.purchaseQuantity),this.landItem.value=this.homeService.landPrice;else{let i=this.purchaseQuantity*e.value*10;this.characterService.money>i&&(this.inventoryService.addItem(e,this.purchaseQuantity),this.characterService.updateMoney(0-i))}}autobuyItem(){let e=this.storeService.selectedItem;e&&(this.homeService.merchantAutobuyItem===e.id?this.homeService.merchantAutobuyItem=null:this.homeService.merchantAutobuyItem=e.id)}purchaseQuantityChange(e){e.target instanceof HTMLInputElement&&(this.purchaseQuantity=Math.floor(parseFloat(e.target.value)),this.purchaseQuantity<1&&(this.purchaseQuantity=1))}static{this.\u0275fac=function(i){return new(i||t)(R(Fi),R(Qe),R(se),R(ae),R(oi),R(nt),R(pe))}}static{this.\u0275cmp=$({type:t,selectors:[["app-store-modal"]],decls:30,vars:17,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","ngClass","tooltip"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc"],[1,"buttonDiv"],[1,"flexGrow"],[1,"flexGrow",3,"click","disabled"],["min","0","type","number",1,"inputBox",3,"change","value"],["tooltip","Automatically buy this item when working one of your shopfronts.",1,"flexGrow",3,"click","disabled"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Regular People Shop"),f(),H(3,"hr"),m(4,"div",1)(5,"div",2)(6,"div")(7,"div",3),D("click",function(){return r.slotClicked(r.landItem)}),m(8,"div"),x(9,a3,1,2,"img",4),f(),m(10,"div"),p(11),B(12,"titlecase"),f(),m(13,"div"),p(14),B(15,"bigNumber"),f()()(),ne(16,l3,10,14,"div",null,o3),f()(),m(18,"div",5)(19,"span",6)(20,"button",7),D("click",function(){return r.buyItem()}),p(21," Buy "),f()(),m(22,"span",6),p(23," Quantity\xA0"),m(24,"input",8),D("change",function(a){return r.purchaseQuantityChange(a)}),f()()(),m(25,"div",5)(26,"span",6)(27,"button",9),D("click",function(){return r.autobuyItem()}),p(28," Automatically Buy "),f()(),H(29,"span",6),f()()),i&2&&(h(7),A("tooltip",X(r.landItem.description))("ngClass",mi(14,n3,r.landItem===r.storeService.selectedItem,r.landItem.id===r.homeService.merchantAutobuyItem)),h(2),T(r.landItem.imageFile?9:-1),h(2),he(V(12,10,r.landItem.name)),h(3),N("$ ",V(15,12,r.landItem.value)),h(2),re(r.storeService.regularStoreItems),h(4),A("disabled",r.buyDisabled),h(4),A("value",X(r.purchaseQuantity)),h(3),A("disabled",r.buyDisabled))},dependencies:()=>[gt,ye,In,yt,Ve],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.autobuyItem[_ngcontent-%COMP%]{border:1px solid red}.buttonDiv[_ngcontent-%COMP%]{padding-top:4px;padding-left:20px;padding-right:20px;display:flex}.flexGrow[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-basis:0;justify-content:center}"]})}}return t})();var c3=(t,n)=>({selectedItem:t,ownedItem:n}),d3=(t,n)=>n.id;function u3(t,n){if(t&1&&(m(0,"div"),p(1),B(2,"bigNumber"),f()),t&2){let e=b().$implicit;h(),N("$ ",V(2,1,e.value))}}function h3(t,n){t&1&&(m(0,"div"),p(1,"OWNED"),f())}function m3(t,n){if(t&1){let e=U();m(0,"div")(1,"div",4),D("click",function(){let r=k(e).$implicit,o=b();return E(o.slotClicked(r))}),m(2,"div")(3,"mat-icon"),p(4,"menu_book"),f()(),m(5,"div"),p(6),B(7,"titlecase"),f(),x(8,u3,3,3,"div"),x(9,h3,2,0,"div"),f()()}if(t&2){let e=n.$implicit,i=b();h(),A("tooltip",X(e.description))("ngClass",mi(8,c3,e===i.storeService.selectedItem,e.owned&&e.owned())),h(5),he(V(7,6,e.name)),h(2),T(e.owned&&!e.owned()?8:-1),h(),T(e.owned&&e.owned()?9:-1)}}var HM=(()=>{class t{constructor(e){this.storeService=e,this.buyDisabled=!0,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,e.owned&&e.owned()?this.buyDisabled=!0:this.buyDisabled=!1)}static{this.\u0275fac=function(i){return new(i||t)(R(Fi))}}static{this.\u0275cmp=$({type:t,selectors:[["app-store-modal"]],decls:10,vars:1,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],[3,"click","disabled"],["tabindex","0",1,"itemSlot",3,"click","ngClass","tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Manuals Shop"),f(),H(3,"hr"),m(4,"div",1)(5,"div",2),ne(6,m3,10,11,"div",null,d3),f()(),m(8,"button",3),D("click",function(){return r.storeService.buyManual()}),p(9," Buy "),f()()),i&2&&(h(6),re(r.storeService.manuals),h(2),A("disabled",r.buyDisabled))},dependencies:()=>[gt,De,ye,yt,Ve],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}"]})}}return t})();var p3=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(R(Mt),R(ve))};static \u0275dir=we({type:t})}return t})(),KM=(()=>{class t extends p3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,features:[It]})}return t})(),QM=new K("");function wS(t){return t==null||CS(t)===0}function CS(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ZM=new K(""),XM=new K(""),f3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vf=class{static min(n){return g3(n)}static max(n){return v3(n)}static required(n){return y3(n)}static requiredTrue(n){return b3(n)}static email(n){return _3(n)}static minLength(n){return S3(n)}static maxLength(n){return w3(n)}static pattern(n){return C3(n)}static nullValidator(n){return JM()}static compose(n){return oI(n)}static composeAsync(n){return aI(n)}};function g3(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function v3(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function y3(t){return wS(t.value)?{required:!0}:null}function b3(t){return t.value===!0?null:{required:!0}}function _3(t){return wS(t.value)||f3.test(t.value)?null:{email:!0}}function S3(t){return n=>{let e=n.value?.length??CS(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function w3(t){return n=>{let e=n.value?.length??CS(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function C3(t){if(!t)return JM;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(wS(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function JM(t){return null}function eI(t){return t!=null}function tI(t){return ha(t)?Ht(t):t}function iI(t){let n={};return t.forEach(e=>{n=e!=null?W(W({},n),e):n}),Object.keys(n).length===0?null:n}function nI(t,n){return n.map(e=>e(t))}function k3(t){return!t.validate}function rI(t){return t.map(n=>k3(n)?n:e=>n.validate(e))}function oI(t){if(!t)return null;let n=t.filter(eI);return n.length==0?null:function(e){return iI(nI(e,n))}}function kS(t){return t!=null?oI(rI(t)):null}function aI(t){if(!t)return null;let n=t.filter(eI);return n.length==0?null:function(e){let i=nI(e,n).map(tI);return Yc(i).pipe(Se(iI))}}function ES(t){return t!=null?aI(rI(t)):null}function qM(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function sI(t){return t._rawValidators}function lI(t){return t._rawAsyncValidators}function _S(t){return t?Array.isArray(t)?t:[t]:[]}function jf(t,n){return Array.isArray(t)?t.includes(n):t===n}function UM(t,n){let e=_S(n);return _S(t).forEach(r=>{jf(e,r)||e.push(r)}),e}function zM(t,n){return _S(n).filter(e=>!jf(t,e))}var Hf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=kS(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ES(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},uc=class extends Hf{name;get formDirective(){return null}get path(){return null}},qf=class extends Hf{_parent=null;name=null;valueAccessor=null};var _u="VALID",Bf="INVALID",cc="PENDING",Su="DISABLED",Ma=class{},Uf=class extends Ma{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Cu=class extends Ma{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},ku=class extends Ma{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},dc=class extends Ma{status;source;constructor(n,e){super(),this.status=n,this.source=e}},zf=class extends Ma{source;constructor(n){super(),this.source=n}},$f=class extends Ma{source;constructor(n){super(),this.source=n}};function cI(t){return(Qf(t)?t.validators:t)||null}function E3(t){return Array.isArray(t)?kS(t):t||null}function dI(t,n){return(Qf(n)?n.asyncValidators:t)||null}function x3(t){return Array.isArray(t)?ES(t):t||null}function Qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function T3(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new ee(1e3,"");if(!i[e])throw new ee(1001,"")}function D3(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new ee(1002,"")})}var Gf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(n){Ii(()=>this.statusReactive.set(n))}_status=Tn(()=>this.statusReactive());statusReactive=C(void 0);get valid(){return this.status===_u}get invalid(){return this.status===Bf}get pending(){return this.status==cc}get disabled(){return this.status===Su}get enabled(){return this.status!==Su}errors;get pristine(){return Ii(this.pristineReactive)}set pristine(n){Ii(()=>this.pristineReactive.set(n))}_pristine=Tn(()=>this.pristineReactive());pristineReactive=C(!0);get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(n){Ii(()=>this.touchedReactive.set(n))}_touched=Tn(()=>this.touchedReactive());touchedReactive=C(!1);get untouched(){return!this.touched}_events=new Z;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(UM(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(UM(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(zM(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(zM(n,this._rawAsyncValidators))}hasValidator(n){return jf(this._rawValidators,n)}hasAsyncValidator(n){return jf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Ie(W({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new ku(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new ku(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Ie(W({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Cu(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new Cu(!0,i))}markAsPending(n={}){this.status=cc;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new dc(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Ie(W({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Su,this.errors=null,this._forEachChild(r=>{r.disable(Ie(W({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Uf(this.value,i)),this._events.next(new dc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(W({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=_u,this._forEachChild(i=>{i.enable(Ie(W({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Ie(W({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_u||this.status===cc)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Uf(this.value,e)),this._events.next(new dc(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Ie(W({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Su:_u}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=cc,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let i=tI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new dc(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?Su:this.errors?Bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cc)?cc:this._anyControlsHaveStatus(Bf)?Bf:_u}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new Cu(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new ku(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Qf(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=E3(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=x3(this._rawAsyncValidators)}},Wf=class extends Gf{constructor(n,e,i){super(cI(e),dI(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){D3(this,!0,n),Object.keys(n).forEach(i=>{T3(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,Ie(W({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new $f(this))}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var xS=new K("",{factory:()=>TS}),TS="always";function SS(t,n,e=TS){DS(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),I3(t,n),P3(t,n),A3(t,n),M3(t,n)}function $M(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Kf(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Yf(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function M3(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function DS(t,n){let e=sI(t);n.validator!==null?t.setValidators(qM(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=lI(t);n.asyncValidator!==null?t.setAsyncValidators(qM(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Yf(n._rawValidators,r),Yf(n._rawAsyncValidators,r)}function Kf(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=sI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=lI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Yf(n._rawValidators,i),Yf(n._rawAsyncValidators,i),e}function I3(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uI(t,n)})}function A3(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uI(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function uI(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P3(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function hI(t,n){t==null,DS(t,n)}function R3(t,n){return Kf(t,n)}function mI(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function F3(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var O3={provide:uc,useExisting:zr(()=>MS)},wu=Promise.resolve(),MS=(()=>{class t extends uc{callSetDisabledState;get submitted(){return Ii(this.submittedReactive)}_submitted=Tn(()=>this.submittedReactive());submittedReactive=C(!1);_directives=new Set;form;ngSubmit=new ue;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new Wf({},kS(e),ES(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wu.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),SS(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wu.then(()=>{let i=this._findContainer(e.path),r=new Wf({});hI(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){wu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),mI(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new zf(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||t)(R(ZM,10),R(XM,10),R(xS,8))};static \u0275dir=we({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&D("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ut([O3]),It]})}return t})();function GM(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function WM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var L3=class extends Gf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(cI(e),dI(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(WM(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new $f(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){GM(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){GM(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){WM(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var N3=t=>t instanceof L3;var B3=(()=>{class t extends uc{callSetDisabledState;get submitted(){return Ii(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Tn(()=>this._submittedReactive());_submittedReactive=C(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let i=this.form.get(e.path);return SS(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){$M(e.control||null,e,!1),F3(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,i){this.form.get(e.path).setValue(i)}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,mI(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new zf(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&($M(i||null,e),N3(r)&&(SS(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);hI(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&R3(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DS(this.form,this),this._oldForm&&Kf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(R(ZM,10),R(XM,10),R(xS,8))};static \u0275dir=we({type:t,features:[It,li]})}return t})();var V3={provide:uc,useExisting:zr(()=>IS)},IS=(()=>{class t extends B3{form=null;ngSubmit=new ue;get control(){return this.form}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&D("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ut([V3]),It]})}return t})(),j3={provide:QM,useExisting:zr(()=>fI),multi:!0};function pI(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function H3(t){return t.split(":")[0]}var fI=(()=>{class t extends KM{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=_(rn).injector;destroyRef=_(nn);cdr=_(At);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xt({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=pI(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=H3(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&D("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ut([j3]),It]})}return t})(),gI=(()=>{class t{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(pI(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||t)(R(ve),R(Mt),R(fI,9))};static \u0275dir=we({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),q3={provide:QM,useExisting:zr(()=>vI),multi:!0};function YM(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function U3(t){return t.split(":")[0]}var vI=(()=>{class t extends KM{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=i.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=U3(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275dir=we({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ut([q3]),It]})}return t})(),yI=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(YM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(YM(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(R(ve),R(Mt),R(vI,9))};static \u0275dir=we({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var z3=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();var hc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xS,useValue:e.callSetDisabledState??TS}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[z3]})}return t})();function G3(t,n){t&1&&(O(0,"span"),p(1," \xA0\xA0Only starting your journey to immortality from the beginning again (Hard Reset) will prove you never took the easy path. "),F())}var bI=(()=>{class t{constructor(e,i,r,o,a,s,l,c){this.homeService=e,this.farmService=i,this.characterService=r,this.inventoryService=o,this.gameStateService=a,this.followerService=s,this.mainLoopService=l,this.dialog=c}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&prompt(`For real, this will reset the whole game as if you've never played it. If you're really sure, type "RESET" to start all the way over.`)?.toLowerCase()==="reset"&&this.gameStateService.hardReset()}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}easyModeChange(e){if(e.target instanceof HTMLInputElement)if(e.preventDefault(),e.stopPropagation(),this.characterService.easyMode)this.characterService.easyMode=!1;else{if(!this.gameStateService.easyModeEver)if(confirm("This will enable easy mode and mark your save permanently. Are you sure?"))this.gameStateService.easyModeEver=!0;else{e.target.checked=!1;return}this.characterService.easyMode=!0}}playMusicChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.playMusic=e.target.checked,this.mainLoopService.playAudio())}playMusicChangeVolume(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.audio.volume=parseFloat(e.target.value))}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.showLifeSummary=e.target.checked)}showTipsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.showTips=e.target.checked)}showUpdateAnimationsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.showUpdateAnimations=e.target.checked)}scientificNotationChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.scientificNotation=e.target.checked,this.gameStateService.savetoLocalStorage(),window.location.href=window.location.href)}importGameFileClick(e){let r=e.target?.files?.[0];if(r){let o=new FileReader,a=this.gameStateService,s=this.mainLoopService;o.readAsText(r,"UTF-8"),o.onload=function(){typeof o.result=="string"&&(s.importing=!0,a.importGame(o.result),a.savetoLocalStorage(),setTimeout(()=>{window.location.reload()},10))}}}exportGameFileClick(){let e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getGameExport())}`),e.setAttribute("download",`Immortality_Idle_${this.gameStateService.isExperimental?"Experimental":"v"+us.appVersion}_${new Date().toISOString()}.txt`);let i=new MouseEvent("click");e.dispatchEvent(i)}importLayoutFileClick(e){let r=e.target?.files?.[0];if(r){let o=new FileReader,a=this.gameStateService;o.readAsText(r,"UTF-8"),o.onload=function(){typeof o.result=="string"&&(a.importLayout(o.result),a.savetoLocalStorage())}}}exportLayoutFileClick(){let e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getLayoutExport())}`),e.setAttribute("download",`Immortality_Idle_Layout_${this.gameStateService.isExperimental?"Experimental":"v"+us.appVersion}_${new Date().toISOString()}.txt`);let i=new MouseEvent("click");e.dispatchEvent(i)}autoSaveInterval(e){e.target instanceof HTMLInputElement&&this.gameStateService.changeAutoSaveInterval(parseInt(e.target.value))}static{this.\u0275fac=function(i){return new(i||t)(R(Qe),R(yi),R(ae),R(se),R(nt),R(ut),R(pe),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-options-modal"]],decls:75,vars:11,consts:[["importLayoutFile",""],["importGameFile",""],[1,"darkMode","optionsDiv"],[1,"optionField"],["tooltip",`This game is much too hard and takes much too long to play to the end.<br>Click this to make it easier and allow you to rush through the game.<br>
      Be warned:<br>you will forever be known as a cultivator who took the easy path to immortality.`],["type","checkbox","id","easyMode",3,"change","checked"],["for","easyMode"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"],["type","checkbox","id","showTips",3,"change","checked"],["for","showTips"],["type","checkbox","id","showUpdateAnimations",3,"change","checked"],["for","showUpdateAnimations"],["type","checkbox","id","scientificNotation",3,"change","checked"],["for","scientificNotation"],[1,"spaced","warning"],["tooltip","Enable background music (this allows the game to run in the background without throttling on some browsers)."],["type","checkbox","id","backgroundMusic",3,"change","checked"],["for","backgroundMusic"],["tooltip","Set volume for background music."],["type","range","id","backgroundMusicVolume","min","0","max","1","step","0.01",3,"change","value"],["for","backgroundMusicVolume"],["for","autoSaveInterval"],["type","number","min","1","max","900","step","1","id","autoSaveInterval",3,"change","value"],["tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["type","checkbox","id","darkMode",3,"change","checked"],["for","darkMode"],["type","file","id","importLayoutFile",3,"change"],[3,"click"],["type","file","id","importGameFile",3,"change"],["tooltip","Completely restart your journey toward immortality.",1,"warning",3,"click"]],template:function(i,r){if(i&1){let o=U();O(0,"div",2)(1,"span"),p(2,"Game Options"),F(),Ce(3,"hr"),O(4,"div",3)(5,"span",4)(6,"input",5),ct("change",function(s){return k(o),E(r.easyModeChange(s))}),F(),O(7,"label",6),p(8,"Easy Mode"),F()(),x(9,G3,2,0,"span"),F(),O(10,"div",3)(11,"span")(12,"input",7),ct("change",function(s){return k(o),E(r.showLifeSummaryChange(s))}),F(),O(13,"label",8),p(14,"Show a previous life summary at the start of each life"),F()()(),O(15,"div",3)(16,"span")(17,"input",9),ct("change",function(s){return k(o),E(r.showTipsChange(s))}),F(),O(18,"label",10),p(19,"Include tips in the life summary. Warning, this can spoil the fun of discovering things for yourself."),F()()(),O(20,"div",3)(21,"span")(22,"input",11),ct("change",function(s){return k(o),E(r.showUpdateAnimationsChange(s))}),F(),O(23,"label",12),p(24,"Show animated updates when money values change."),F()()(),O(25,"div",3)(26,"span")(27,"input",13),ct("change",function(s){return k(o),E(r.scientificNotationChange(s))}),F(),O(28,"label",14),p(29,"Turn on numbers with scientific notation."),F(),p(30,"\xA0 "),O(31,"span",15),p(32,"Changing this will save and reload immediately."),F()()(),O(33,"div",3)(34,"span",16)(35,"input",17),ct("change",function(s){return k(o),E(r.playMusicChange(s))}),F(),O(36,"label",18),p(37,"Background Music (also improves background play)"),F()()(),O(38,"div",3)(39,"span",19)(40,"input",20),ct("change",function(s){return k(o),E(r.playMusicChangeVolume(s))}),F(),O(41,"label",21),p(42,"Background Music Volume"),F()()(),O(43,"div",3)(44,"span")(45,"label",22),p(46,"Change how often the game autosaves (in seconds) "),F(),O(47,"input",23),ct("change",function(s){return k(o),E(r.autoSaveInterval(s))}),F(),p(48,"\xA0 "),F()(),O(49,"div",3)(50,"button",24),ct("click",function(s){return k(o),E(r.rebirthClicked(s))}),p(51," Reincarnate "),F()(),O(52,"div",3)(53,"span")(54,"input",25),ct("change",function(){return k(o),E(r.darkModeToggle())}),F(),O(55,"label",26),p(56,"Dark Mode"),F()()(),O(57,"div",3)(58,"div")(59,"input",27,0),ct("change",function(s){return k(o),E(r.importLayoutFileClick(s))}),F(),O(61,"button",28),ct("click",function(){k(o);let s=xn(60);return E(s.click())}),p(62,"Import Layout File"),F(),O(63,"button",28),ct("click",function(){return k(o),E(r.exportLayoutFileClick())}),p(64,"Export Layout File"),F()(),O(65,"div")(66,"input",29,1),ct("change",function(s){return k(o),E(r.importGameFileClick(s))}),F(),O(68,"button",28),ct("click",function(){k(o);let s=xn(67);return E(s.click())}),p(69,"Import Game File"),F(),O(70,"button",28),ct("click",function(){return k(o),E(r.exportGameFileClick())}),p(71,"Export Game File"),F()()(),O(72,"div",3)(73,"button",30),ct("click",function(s){return k(o),E(r.hardResetClicked(s))}),p(74,"Hard Reset"),F()()()}i&2&&(h(6),ht("checked",r.characterService.easyMode),h(3),T(r.gameStateService.easyModeEver?9:-1),h(3),ht("checked",r.characterService.showLifeSummary),h(5),ht("checked",r.characterService.showTips),h(5),ht("checked",r.characterService.showUpdateAnimations),h(5),ht("checked",r.mainLoopService.scientificNotation),h(8),ht("checked",r.mainLoopService.playMusic),h(5),ht("value",r.mainLoopService.audio.volume),h(7),ht("value",X(r.gameStateService.saveInterval)),h(7),ht("checked",r.gameStateService.isDarkMode))},dependencies:()=>[hc],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}#importLayoutFile[_ngcontent-%COMP%], #importGameFile[_ngcontent-%COMP%]{display:none}"]})}}return t})();function W3(t,n){if(t&1&&(O(0,"span"),p(1),B(2,"bigNumber"),F()),t&2){let e=b();h(),kr(" Next rank requires ",V(2,3,e.characterService.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," spirit gem",e.storeService.soulCoreRank>2?" of each element":"",". ")}}function Y3(t,n){t&1&&(O(0,"span"),p(1," Max Rank "),F())}function K3(t,n){if(t&1&&(O(0,"span"),p(1),B(2,"bigNumber"),F()),t&2){let e=b();h(),kr(" Next rank requires ",V(2,3,e.characterService.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," spirit gem",e.storeService.meridianRank>2?" of each element":"",". ")}}function Q3(t,n){t&1&&(O(0,"span"),p(1," Max Rank "),F())}function Z3(t,n){if(t&1&&(O(0,"span"),p(1),B(2,"bigNumber"),F()),t&2){let e=b();h(),Qt(" Next rank requires ",V(2,2,e.characterService.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function X3(t,n){t&1&&(O(0,"span"),p(1," Max Rank "),F())}function J3(t,n){if(t&1&&(O(0,"span"),p(1),B(2,"bigNumber"),F()),t&2){let e=b();h(),N(" Next rank requires ",V(2,1,e.storeService.qiCompressionCost)," maximum Qi. ")}}function eU(t,n){t&1&&(O(0,"span"),p(1," Your Qi is compressed as far as possible. "),F())}function tU(t,n){if(t&1&&(O(0,"span"),p(1),B(2,"number"),B(3,"number"),F()),t&2){let e=b();h(),Qt(" You have consumed ",zn(2,2,e.characterService.empowermentPillsTaken,"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",zn(3,5,e.characterService.empowermentMult,"1.0-3"),". You will always keep this bonus, even after ascending. ")}}var _I=(()=>{class t{constructor(e,i){this.storeService=e,this.characterService=i}static{this.\u0275fac=function(i){return new(i||t)(R(Fi),R(ae))}}static{this.\u0275cmp=$({type:t,selectors:[["app-ascension-store-modal"]],decls:54,vars:14,consts:[[1,"darkMode"],[1,"ascensionContainer"],[3,"click","disabled"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div")(2,"span"),p(3,"Ascension Techniques"),F()(),Ce(4,"hr"),O(5,"div")(6,"span"),p(7,"Ascension techniques are powerful steps that can permanently increase your potential. Be warned: after ascending, you will find yourself temporarily weakened and vulnerable to all sorts of threats. Wise sages have warned that you may even need to seek more humble dwellings and avoid stronger monsters until you have regained your full strength."),F()(),Ce(8,"hr"),O(9,"div",1)(10,"table")(11,"tr")(12,"td")(13,"button",2),ct("click",function(){return r.storeService.condenseSoulCore()}),p(14,"Condense Soul Core"),F()(),O(15,"td"),p(16," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),Ce(17,"br"),p(18),Ce(19,"br"),x(20,W3,3,5,"span")(21,Y3,2,0,"span"),F()(),O(22,"tr")(23,"td")(24,"button",2),ct("click",function(){return r.storeService.reinforceMeridians()}),p(25,"Reinforce Meridians"),F()(),O(26,"td"),p(27," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the power of your aptitudes to improve your attribute gains. "),Ce(28,"br"),p(29),Ce(30,"br"),x(31,K3,3,5,"span")(32,Q3,2,0,"span"),F()(),O(33,"tr")(34,"td")(35,"button",2),ct("click",function(){return r.storeService.upgradeBloodline()}),p(36,"Enhance Bloodline"),F()(),O(37,"td"),p(38),Ce(39,"br"),p(40),Ce(41,"br"),x(42,Z3,3,4,"span")(43,X3,2,0,"span"),F()(),O(44,"tr")(45,"td")(46,"button",2),ct("click",function(){return r.storeService.upgradeQiCompression()}),p(47,"Compress Qi"),F()(),O(48,"td"),p(49),Ce(50,"br"),x(51,J3,3,3,"span")(52,eU,2,0,"span"),F()()(),x(53,tU,4,8,"span"),F()()),i&2&&(h(13),ht("disabled",r.storeService.soulCoreRank>8),h(5),N(" Current Rank: ",r.storeService.soulCoreRank," "),h(2),T(r.storeService.soulCoreRank<9?20:21),h(4),ht("disabled",r.storeService.meridianRank>8),h(5),N(" Current Rank: ",r.storeService.meridianRank," "),h(2),T(r.storeService.meridianRank<9?31:32),h(4),ht("disabled",r.characterService.bloodlineRank>=9),h(3),N(" ",r.storeService.bloodlineDescription," "),h(2),N(" Current Rank: ",r.characterService.bloodlineRank," "),h(2),T(r.characterService.bloodlineRank<9?42:43),h(4),ht("disabled",r.characterService.qiCompressionLevel>=9),h(3),N(" ",r.storeService.qiCompressionDescription," "),h(2),T(r.characterService.qiCompressionLevel<9?51:52),h(2),T(r.characterService.empowermentPillsTaken>0?53:-1))},dependencies:()=>[ms,Ve],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}.ascensionContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}}return t})();var Zf=(()=>{class t{constructor(e){this.daysPerSecond=0,e.longTickSubject.pipe(zv(),Se(r=>r.value/(r.interval/1e3)),Vv(5e3),Se(r=>r.reduce((o,a)=>o+a,0)/r.length)).subscribe(r=>{this.daysPerSecond=r})}static{this.\u0275fac=function(i){return new(i||t)(L(pe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wI=(t,n)=>n.key;function iU(t,n){if(t&1&&(O(0,"tr")(1,"td"),p(2),B(3,"camelToTitle"),F(),O(4,"td"),p(5),F()()),t&2){let e=n.$implicit,i=b();h(2),N(" Days of ",V(3,2,i.getActivityName(e.key))," "),h(3),N(" ",e.value," ")}}function nU(t,n){if(t&1&&(O(0,"tr")(1,"td"),p(2),B(3,"camelToTitle"),F(),O(4,"td"),p(5),B(6,"bigNumber"),F()()),t&2){let e=n.$implicit;h(2),N(" Highest ",V(3,2,e.key)," "),h(3),N(" ",V(6,4,e.value())," ")}}var CI=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d,u,v){this.mainLoopService=e,this.storeService=i,this.inventoryService=r,this.homeService=o,this.farmService=a,this.followerService=s,this.characterService=l,this.battleService=c,this.activityService=d,this.achievementService=u,this.statisticsService=v,this.originalOrder=()=>0}getActivityName(e){return this.activityService.getActivityName(parseInt(e))}static{this.\u0275fac=function(i){return new(i||t)(R(pe),R(Fi),R(se),R(Qe),R(yi),R(ut),R(ae),R(it),R(Ue),R(rr),R(Zf))}}static{this.\u0275cmp=$({type:t,selectors:[["app-statistics-panel"]],decls:264,vars:81,consts:[[1,"darkMode"],[1,"statisticsDiv"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Statistics"),F(),Ce(3,"hr"),O(4,"div",1),Ce(5,"br")(6,"br"),O(7,"span"),p(8,"This Life's Activities"),F(),Ce(9,"br"),O(10,"table"),ne(11,iU,6,4,"tr",null,wI),B(13,"keyvalue"),F(),Ce(14,"br"),O(15,"table")(16,"tr")(17,"td"),p(18," Enemies killed this life: "),F(),O(19,"td"),p(20),F()(),O(21,"tr")(22,"td"),p(23," Non-food items used this life: "),F(),O(24,"td"),p(25),F()(),O(26,"tr")(27,"td"),p(28," Healthy Food Eaten: "),F(),O(29,"td"),p(30),F()(),O(31,"tr")(32,"td"),p(33," Days you gorged yourself silly: "),F(),O(34,"td"),p(35),F()(),O(36,"tr")(37,"td"),p(38," Items sold: "),F(),O(39,"td"),p(40),F()(),O(41,"tr")(42,"td"),p(43," Potions used: "),F(),O(44,"td"),p(45),F()(),O(46,"tr")(47,"td"),p(48," Pills used: "),F(),O(49,"td"),p(50),F()(),O(51,"tr")(52,"td"),p(53," Gems sold: "),F(),O(54,"td"),p(55),F()()(),Ce(56,"br")(57,"br"),O(58,"span"),p(59,"Across All Lives"),F(),Ce(60,"br"),O(61,"table")(62,"tr")(63,"td"),p(64," Game days per real second: "),F(),O(65,"td"),p(66),B(67,"number"),F()(),O(68,"tr")(69,"td"),p(70," Game years per real minute: "),F(),O(71,"td"),p(72),B(73,"number"),F()(),O(74,"tr")(75,"td"),p(76," Game years per real hour: "),F(),O(77,"td"),p(78),B(79,"number"),F()(),O(80,"tr")(81,"td"),p(82," Total days lived: "),F(),O(83,"td"),p(84),B(85,"bigNumber"),F()(),O(86,"tr")(87,"td"),p(88," Total lives lived: "),F(),O(89,"td"),p(90),F()(),O(91,"tr")(92,"td"),p(93," Total enemies killed: "),F(),O(94,"td"),p(95),F()(),O(96,"tr")(97,"td"),p(98," Enemies killed this life: "),F(),O(99,"td"),p(100),F()(),O(101,"tr")(102,"td"),p(103," Manuals discovered: "),F(),O(104,"td"),p(105),F()(),O(106,"tr")(107,"td"),p(108," Inventory Capacity: "),F(),O(109,"td"),p(110),F()(),O(111,"tr")(112,"td"),p(113," Automatically sold items: "),F(),O(114,"td"),p(115),F()(),O(116,"tr")(117,"td"),p(118," Automatically used items: "),F(),O(119,"td"),p(120),F()(),O(121,"tr")(122,"td"),p(123," Automatically balanced items: "),F(),O(124,"td"),p(125),F()(),O(126,"tr")(127,"td"),p(128," Items overflowed: "),F(),O(129,"td"),p(130),F()(),O(131,"tr")(132,"td"),p(133," Unlocked Achievements: "),F(),O(134,"td"),p(135),F()(),O(136,"tr")(137,"td"),p(138," Most land owned: "),F(),O(139,"td"),p(140),B(141,"bigNumber"),F()(),O(142,"tr")(143,"td"),p(144," Highest land price: "),F(),O(145,"td"),p(146),B(147,"bigNumber"),F()(),O(148,"tr")(149,"td"),p(150," Most fields owned: "),F(),O(151,"td"),p(152),B(153,"bigNumber"),F()(),O(154,"tr")(155,"td"),p(156," Best home owned: "),F(),O(157,"td"),p(158),F()(),O(159,"tr")(160,"td"),p(161," Follower recruited: "),F(),O(162,"td"),p(163),F()(),O(164,"tr")(165,"td"),p(166," Followers recruited lately: "),F(),O(167,"td"),p(168),F()(),O(169,"tr")(170,"td"),p(171," Followers died: "),F(),O(172,"td"),p(173),F()(),O(174,"tr")(175,"td"),p(176," Followers dismissed: "),F(),O(177,"td"),p(178),F()(),O(179,"tr")(180,"td"),p(181," Highest follower level: "),F(),O(182,"td"),p(183),F()(),O(184,"tr")(185,"td"),p(186," Most money: "),F(),O(187,"td"),p(188),B(189,"bigNumber"),F()(),O(190,"tr")(191,"td"),p(192," Oldest age: "),F(),O(193,"td"),p(194),F()(),ne(195,nU,7,6,"tr",null,wI),B(197,"keyvalue"),O(198,"tr")(199,"td"),p(200," Highest health: "),F(),O(201,"td"),p(202),B(203,"bigNumber"),F()(),O(204,"tr")(205,"td"),p(206," Highest stamina: "),F(),O(207,"td"),p(208),B(209,"bigNumber"),F()(),O(210,"tr")(211,"td"),p(212," Highest qi: "),F(),O(213,"td"),p(214),B(215,"bigNumber"),F()(),O(216,"tr")(217,"td"),p(218," Highest damage dealt: "),F(),O(219,"td"),p(220),B(221,"bigNumber"),F()(),O(222,"tr")(223,"td"),p(224," Highest damage taken: "),F(),O(225,"td"),p(226),B(227,"bigNumber"),F()(),O(228,"tr")(229,"td"),p(230," Days spent exhausted "),F(),O(231,"td"),p(232),B(233,"bigNumber"),F()(),O(234,"tr")(235,"td"),p(236," Completed Apprenticeships "),F(),O(237,"td"),p(238),F()(),O(239,"tr")(240,"td"),p(241," Open apprenticeships: "),F(),O(242,"td"),p(243),F()(),O(244,"tr")(245,"td"),p(246," Consecutive harvest days: "),F(),O(247,"td"),p(248),F()(),O(249,"tr")(250,"td"),p(251," Pieces of equipment created: "),F(),O(252,"td"),p(253),F()(),O(254,"tr")(255,"td"),p(256," Equipped potions used: "),F(),O(257,"td"),p(258),F()(),O(259,"tr")(260,"td"),p(261," Equipped food used: "),F(),O(262,"td"),p(263),F()()()()()),i&2&&(h(11),re(zn(13,45,r.activityService.lifeActivities,r.originalOrder)),h(9),N(" ",r.battleService.kills," "),h(5),N(" ",r.inventoryService.lifetimeUsedItems," "),h(5),N(" ",r.inventoryService.lifetimeUsedFood," "),h(5),N(" ",r.inventoryService.daysGorged," "),h(5),N(" ",r.inventoryService.lifetimeSoldItems," "),h(5),N(" ",r.inventoryService.lifetimePotionsUsed," "),h(5),N(" ",r.inventoryService.lifetimePillsUsed," "),h(5),N(" ",r.inventoryService.lifetimeGemsSold," "),h(11),N(" ",zn(67,48,r.statisticsService.daysPerSecond,"1.0-2")," "),h(6),N(" ",zn(73,51,r.statisticsService.daysPerSecond*60/365,"1.0-2")," "),h(6),N(" ",zn(79,54,r.statisticsService.daysPerSecond*60*60/365,"1.0-2")," "),h(6),N(" ",V(85,57,r.mainLoopService.totalTicks)," "),h(6),N(" ",r.characterService.totalLives," "),h(5),N(" ",r.battleService.totalKills," "),h(5),N(" ",r.battleService.kills," "),h(5),N(" ",r.storeService.manuals.length," "),h(5),N(" ",r.inventoryService.maxItems," "),h(5),N(" ",r.inventoryService.autoSellEntries.length," "),h(5),N(" ",r.inventoryService.autoUseEntries.length," "),h(5),N(" ",r.inventoryService.autoBalanceItems.length," "),h(5),N(" ",r.inventoryService.thrownAwayItems," "),h(5),N(" ",r.achievementService.unlockedAchievements.length," "),h(5),N(" ",V(141,59,r.homeService.highestLand)," "),h(6),N(" ",V(147,61,r.homeService.highestLandPrice)," "),h(6),N(" ",V(153,63,r.farmService.mostFields)," "),h(6),N(" ",r.homeService.homesList[r.homeService.bestHome].name," "),h(5),N(" ",r.followerService.totalRecruited," "),h(5),N(" ",r.followerService.followersRecruited," "),h(5),N(" ",r.followerService.totalDied," "),h(5),N(" ",r.followerService.totalDismissed," "),h(5),N(" ",r.followerService.highestLevel," "),h(5),N(" ",V(189,65,r.characterService.highestMoney)," "),h(6),N(" ",r.characterService.yearify(r.characterService.highestAge)," "),h(),re(V(197,67,r.characterService.highestAttributes)),h(7),N(" ",V(203,69,r.characterService.highestHealth)," "),h(6),N(" ",V(209,71,r.characterService.highestStamina)," "),h(6),N(" ",V(215,73,r.characterService.highestQi)," "),h(6),N(" ",V(221,75,r.battleService.highestDamageDealt)," "),h(6),N(" ",V(227,77,r.battleService.highestDamageTaken)," "),h(6),N(" ",V(233,79,r.activityService.totalExhaustedDays)," "),h(6),N(" ",r.activityService.completedApprenticeships.length," "),h(5),N(" ",r.activityService.openApprenticeships," "),h(5),N(" ",r.farmService.consecutiveHarvests," "),h(5),N(" ",r.inventoryService.equipmentCreated," "),h(5),N(" ",r.battleService.pouchPotionsUsed," "),h(5),N(" ",r.battleService.pouchFoodUsed," "))},dependencies:()=>[ms,hs,Pt,Ve],styles:["table[_ngcontent-%COMP%]{width:100%}.statisticsDiv[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto}td[_ngcontent-%COMP%]{width:45%;border-bottom:1px solid var(--tableDividerColor)}"]})}}return t})();var rU=(t,n)=>t+""+n.unlocked;function oU(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),he(e.displayName)}}function aU(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),he(e.name)}}function sU(t,n){if(t&1&&(m(0,"div",3),x(1,oU,2,1,"div"),x(2,aU,2,1,"div"),f()),t&2){let e=b().$implicit;A("tooltip",X(e.description)),h(),T(e.displayName?1:-1),h(),T(e.displayName?-1:2)}}function lU(t,n){if(t&1&&(m(0,"div",4),p(1," ? "),f()),t&2){let e=b().$implicit;A("tooltip",X(e.hint))}}function cU(t,n){if(t&1&&(m(0,"div"),x(1,sU,3,4,"div",3)(2,lU,2,2,"div",4),f()),t&2){let e=n.$implicit;h(),T(e.unlocked?1:2)}}var kI=(()=>{class t{constructor(e){this.achievementService=e}static{this.\u0275fac=function(i){return new(i||t)(R(rr))}}static{this.\u0275cmp=$({type:t,selectors:[["app-achievement-panel"]],decls:12,vars:3,consts:[[1,"darkMode"],[1,"achievementContainer"],[1,"achievementGrid"],["tabindex","0",1,"itemSlot",3,"tooltip"],[1,"itemSlot",3,"tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3"),p(2),f(),H(3,"hr"),m(4,"div",1)(5,"div",2),ne(6,cU,3,1,"div",null,rU),f()(),m(8,"div")(9,"span"),p(10),f()()(),H(11,"br")),i&2&&(h(2),Qt("Achievements (",r.achievementService.unlockedAchievements.length," / ",r.achievementService.achievements.length,")"),h(4),re(r.achievementService.achievements),h(4),N("Your achievements increase attribute growth by ",r.achievementService.unlockedAchievements.length*2,"%"))},dependencies:()=>[ye],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}.achievementContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}}return t})();var EI=(()=>{class t{constructor(e){this.gameStateService=e}static{this.\u0275fac=function(i){return new(i||t)(R(nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-credits-modal"]],decls:46,vars:0,consts:[[1,"darkMode"],[1,"creditsContainer"],["href","https://github.com/immortalityidle/immortalityidle.github.io","target","_blank"],["href","https://freemusicarchive.org/music/Shaolin_Dub/"],["href","https://freemusicarchive.org/music/sir-bastion/"],["href","https://creativecommons.org/licenses/by-nc-nd/4.0/","target","_blank"],["href","https://a.co/d/j9fztjO","target","_blank",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Credits"),F(),Ce(3,"hr"),O(4,"div",1)(5,"div")(6,"span"),p(7," Hi! My name is Christian Bradley, and I made this game for you. I write boring old regular software by day, but by night I write sci-fi and fantasy novels and create this cultivation idle game. "),F()(),Ce(8,"br"),O(9,"div")(10,"span"),p(11," Everything involved in this project (the game, the code, the art, and the music) is all open source and free. "),F()(),Ce(12,"br"),O(13,"div")(14,"span"),p(15," The code for the game is hosted on github "),O(16,"a",2),p(17,"here"),F(),p(18,", and they also host the playable game. "),F()(),Ce(19,"br"),O(20,"div")(21,"span"),p(22," A bunch of friendly people have contributed to the game's code on github, including my brother James (jimboradley), who helped me with the initial design of the game and made the current version's mobile support possible. Other contributors include: Patriot, Myakot, Caldwell-74, VladFurman, slaymaker1907, LiquidAlmond, vhaldemar, kagejohn, Hornsoup, OneMoreGuy, KneeAwnn, jmrd98, 1234abcdcba4321, WilliamDickerson, ghost, PotatoArt, tobbez, Ch1pless, Croebh, owenpearson, ChandlerFerry, Kleptichron, illo210, and Lamphobic. I'd like to give a big thanks to all of them and everyone from the game's Discord who contributed ideas and helped test and make this game what it is today. "),F()(),Ce(23,"br"),O(24,"div")(25,"span"),p(26," The background music includes songs from "),O(27,"a",3),p(28,"Shaolin Dub"),F(),p(29," and "),O(30,"a",4),p(31,"Sir Bastion"),F(),p(32,", released for free under the "),O(33,"a",5),p(34,"Creative Commons License"),F(),p(35,". "),F()(),Ce(36,"br"),O(37,"div")(38,"span"),p(39," Want to support and encourage me in this and my other creative efforts? Tell a friend about the game! My motivation in creating this game is making people happy, and I'd like as many people to enjoy it as possible. "),F()(),Ce(40,"br"),O(41,"div")(42,"span"),p(43," Really, really want to support me and enjoy reading? "),O(44,"a",6),ct("click",function(){return r.gameStateService.supportClicked=!0}),p(45,"Give my books a shot."),F()()()()())},encapsulation:2})}}return t})();var mc=(()=>{class t{constructor(){this.dialog=_(et),this.mainLoopService=_(pe),this.gameStateService=_(nt),this.storeService=_(Fi)}changelogClicked(){this.dialog.open(AM,{autoFocus:!1})}tutorialClicked(){this.dialog.open(VM,{autoFocus:!1})}storeClicked(){this.dialog.open(jM,{width:"600px",autoFocus:!1})}manualStoreClicked(){this.dialog.open(HM,{width:"600px",autoFocus:!1})}optionsClicked(){this.dialog.open(bI,{autoFocus:!1})}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(_I,{autoFocus:!1})}statisticsClicked(){this.dialog.open(CI,{autoFocus:!1})}achievementsClicked(){this.dialog.open(kI,{autoFocus:!1})}saveClicked(){this.gameStateService.savetoLocalStorage(),this.mainLoopService.toast("Manual Save Complete")}creditsClicked(){this.gameStateService.creditsClicked=!0,this.dialog.open(EI,{autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xI=(()=>{class t{_animationsDisabled=ri();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&We("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return t})();var dU=["text"],uU=[[["mat-icon"]],"*"],hU=["mat-icon","*"];function mU(t,n){if(t&1&&H(0,"mat-pseudo-checkbox",1),t&2){let e=b();A("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function pU(t,n){if(t&1&&H(0,"mat-pseudo-checkbox",3),t&2){let e=b();A("disabled",e.disabled)}}function fU(t,n){if(t&1&&(m(0,"span",4),p(1),f()),t&2){let e=b();h(),N("(",e.group.label,")")}}var PS=new K("MAT_OPTION_PARENT_COMPONENT"),RS=new K("MatOptgroup");var AS=class{source;isUserInput;constructor(n,e=!1){this.source=n,this.isUserInput=e}},ho=(()=>{class t{_element=_(ve);_changeDetectorRef=_(At);_parent=_(PS,{optional:!0});group=_(RS,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=_(gi).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=C(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ue;_text;_stateChanges=new Z;constructor(){let e=_(fn);e.load(rc),e.load(Xp),this._signalDisableRipple=!!this._parent&&cs(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!$i(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new AS(this,e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&pt(dU,7),i&2){let o;Pe(o=Re())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&D("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(ht("id",r.id),Te("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),We("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",He]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:hU,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(Kt(uU),x(0,mU,1,2,"mat-pseudo-checkbox",1),mt(1),m(2,"span",2,0),mt(4,1),f(),x(5,pU,1,1,"mat-pseudo-checkbox",3),x(6,fU,2,1,"span",4),H(7,"div",5)),i&2&&(T(r.multiple?0:-1),h(5),T(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),h(),T(r.group&&r.group._inert?6:-1),h(),A("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[xI,vu],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function TI(t,n,e){if(e.length){let i=n.toArray(),r=e.toArray(),o=0;for(let a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}function DI(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}var gU=["notch"],vU=["matFormFieldNotchedOutline",""],yU=["*"],MI=["iconPrefixContainer"],II=["textPrefixContainer"],AI=["iconSuffixContainer"],PI=["textSuffixContainer"],bU=["textField"],_U=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],SU=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function wU(t,n){t&1&&H(0,"span",21)}function CU(t,n){if(t&1&&(m(0,"label",20),mt(1,1),x(2,wU,1,0,"span",21),f()),t&2){let e=b(2);A("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Te("for",e._control.disableAutomaticLabeling?null:e._control.id),h(2),T(!e.hideRequiredMarker&&e._control.required?2:-1)}}function kU(t,n){if(t&1&&x(0,CU,3,5,"label",20),t&2){let e=b();T(e._hasFloatingLabel()?0:-1)}}function EU(t,n){t&1&&H(0,"div",7)}function xU(t,n){}function TU(t,n){if(t&1&&Jt(0,xU,0,0,"ng-template",13),t&2){b(2);let e=xn(1);A("ngTemplateOutlet",e)}}function DU(t,n){if(t&1&&(m(0,"div",9),x(1,TU,1,1,null,13),f()),t&2){let e=b();A("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),h(),T(e._forceDisplayInfixLabel()?-1:1)}}function MU(t,n){t&1&&(m(0,"div",10,2),mt(2,2),f())}function IU(t,n){t&1&&(m(0,"div",11,3),mt(2,3),f())}function AU(t,n){}function PU(t,n){if(t&1&&Jt(0,AU,0,0,"ng-template",13),t&2){b();let e=xn(1);A("ngTemplateOutlet",e)}}function RU(t,n){t&1&&(m(0,"div",14,4),mt(2,4),f())}function FU(t,n){t&1&&(m(0,"div",15,5),mt(2,5),f())}function OU(t,n){t&1&&H(0,"div",16)}function LU(t,n){t&1&&(m(0,"div",18),mt(1,6),f())}function NU(t,n){if(t&1&&(m(0,"mat-hint",22),p(1),f()),t&2){let e=b(2);A("id",e._hintLabelId),h(),he(e.hintLabel)}}function BU(t,n){if(t&1&&(m(0,"div",19),x(1,NU,2,2,"mat-hint",22),mt(2,7),H(3,"div",23),mt(4,8),f()),t&2){let e=b();h(),T(e.hintLabel?1:-1)}}var FS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["mat-label"]]})}return t})(),VU=new K("MatError");var OS=(()=>{class t{align="start";id=_(gi).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(ht("id",r.id),Te("align",null),We("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),jU=new K("MatPrefix");var HU=new K("MatSuffix");var VI=new K("FloatingLabelParent"),RI=(()=>{class t{_elementRef=_(ve);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(Nf);_ngZone=_(ce);_parent=_(VI);_resizeSubscription=new qe;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return qU(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&We("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function qU(t){let n=t;if(n.offsetParent!==null)return n.scrollWidth;let e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var FI="mdc-line-ripple--active",Xf="mdc-line-ripple--deactivating",OI=(()=>{class t{_elementRef=_(ve);_cleanupTransitionEnd;constructor(){let e=_(ce),i=_(Mt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Xf),e.add(FI)}deactivate(){this._elementRef.nativeElement.classList.add(Xf)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Xf);e.propertyName==="opacity"&&r&&i.remove(FI,Xf)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),LI=(()=>{class t{_elementRef=_(ve);_ngZone=_(ce);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,i=e.querySelector(".mdc-floating-label");i?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let i=this._notch.nativeElement;!this.open||!e?i.style.width="":i.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&pt(gU,5),i&2){let o;Pe(o=Re())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&We("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:vU,ngContentSelectors:yU,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Kt(),Ce(0,"div",1),O(1,"div",2,0),mt(3),F(),Ce(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),LS=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t})}return t})();var NS=new K("MatFormField"),UU=new K("MAT_FORM_FIELD_DEFAULT_OPTIONS"),NI="fill",zU="auto",BI="fixed",$U="translateY(-50%)",jI=(()=>{class t{_elementRef=_(ve);_changeDetectorRef=_(At);_platform=_(kt);_idGenerator=_(gi);_ngZone=_(ce);_defaults=_(UU,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=io("iconPrefixContainer");_textPrefixContainerSignal=io("textPrefixContainer");_iconSuffixContainerSignal=io("iconSuffixContainer");_textSuffixContainerSignal=io("textSuffixContainer");_prefixSuffixContainers=Tn(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=vT(FS);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Or(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||zU}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let i=e||this._defaults?.appearance||NI;this._appearanceSignal.set(i)}_appearanceSignal=C(NI);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||BI}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||BI}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Z;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=ri();constructor(){let e=this._defaults,i=_(wi);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),xl(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Tn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Tt([void 0,void 0]),Se(()=>[i.errorState,i.userAriaDescribedBy]),Uh(),je(([[o,a],[s,l]])=>o!==s||a!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ze(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Nt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){CT({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Tn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,a=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||e;r=e.concat(i.filter(a=>a&&!o.includes(a)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=e?.getBoundingClientRect().width??0,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",u=`${a+s}px`,y=`calc(${d} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,g=`var(--mat-mdc-form-field-label-transform, ${$U} translateX(${y}))`,S=a+s+l+c;return[g,S]}_writeOutlinedLabelStyles(e){if(e!==null){let[i,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(xb(o,r._labelChild,FS,5),ei(o,LS,5),ei(o,jU,5),ei(o,HU,5),ei(o,VU,5),ei(o,OS,5)),i&2){ma();let a;Pe(a=Re())&&(r._formFieldControl=a.first),Pe(a=Re())&&(r._prefixChildren=a),Pe(a=Re())&&(r._suffixChildren=a),Pe(a=Re())&&(r._errorChildren=a),Pe(a=Re())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(wr(r._iconPrefixContainerSignal,MI,5),wr(r._textPrefixContainerSignal,II,5),wr(r._iconSuffixContainerSignal,AI,5),wr(r._textSuffixContainerSignal,PI,5),pt(bU,5),pt(MI,5),pt(II,5),pt(AI,5),pt(PI,5),pt(RI,5),pt(LI,5),pt(OI,5)),i&2){ma(4);let o;Pe(o=Re())&&(r._textField=o.first),Pe(o=Re())&&(r._iconPrefixContainer=o.first),Pe(o=Re())&&(r._textPrefixContainer=o.first),Pe(o=Re())&&(r._iconSuffixContainer=o.first),Pe(o=Re())&&(r._textSuffixContainer=o.first),Pe(o=Re())&&(r._floatingLabel=o.first),Pe(o=Re())&&(r._notchedOutline=o.first),Pe(o=Re())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&We("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ut([{provide:NS,useExisting:t},{provide:VI,useExisting:t}])],ngContentSelectors:SU,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=U();Kt(_U),Jt(0,kU,1,1,"ng-template",null,0,Ib),m(2,"div",6,1),D("click",function(s){return k(o),E(r._control.onContainerClick(s))}),x(4,EU,1,0,"div",7),m(5,"div",8),x(6,DU,2,2,"div",9),x(7,MU,3,0,"div",10),x(8,IU,3,0,"div",11),m(9,"div",12),x(10,PU,1,1,null,13),mt(11),f(),x(12,RU,3,0,"div",14),x(13,FU,3,0,"div",15),f(),x(14,OU,1,0,"div",16),f(),m(15,"div",17),x(16,LU,2,0,"div",18)(17,BU,5,1,"div",19),f()}if(i&2){let o;h(2),We("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),h(2),T(!r._hasOutline()&&!r._control.disabled?4:-1),h(2),T(r._hasOutline()?6:-1),h(),T(r._hasIconPrefix?7:-1),h(),T(r._hasTextPrefix?8:-1),h(2),T(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),h(2),T(r._hasTextSuffix?12:-1),h(),T(r._hasIconSuffix?13:-1),h(),T(r._hasOutline()?-1:14),h(),We("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();h(),T((o=a)==="error"?16:o==="hint"?17:-1)}},dependencies:[RI,LI,Wb,OI,OS],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return t})();var Eu=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Z;constructor(n=!1,e,i=!0,r){this._multiple=n,this._emitChanges=i,this.compareWith=r,e&&e.length&&(n?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);let e=this.selected,i=new Set(n.map(o=>this._getConcreteValue(o)));n.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();let e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){n.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(n,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(n,i))return i;return n}else return n}};var HI=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jf=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,e,i,r,o){this._defaultMatcher=n,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let n=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==n&&(this.errorState=o,this._stateChanges.next())}};var qI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt]})}return t})();var BS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[Ff,qI,ho,zt]})}return t})();var UI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[ef,jI,zt]})}return t})();var GU=["trigger"],WU=["panel"],YU=[[["mat-select-trigger"]],"*"],KU=["mat-select-trigger","*"];function QU(t,n){if(t&1&&(m(0,"span",4),p(1),f()),t&2){let e=b();h(),he(e.placeholder)}}function ZU(t,n){t&1&&mt(0)}function XU(t,n){if(t&1&&(m(0,"span",11),p(1),f()),t&2){let e=b(2);h(),he(e.triggerValue)}}function JU(t,n){if(t&1&&(m(0,"span",5),x(1,ZU,1,0)(2,XU,2,1,"span",11),f()),t&2){let e=b();h(),T(e.customTrigger?1:2)}}function e5(t,n){if(t&1){let e=U();m(0,"div",12,1),D("keydown",function(r){k(e);let o=b();return E(o._handleKeydown(r))}),mt(2,1),f()}if(t&2){let e=b();Cr(bt("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),We("mat-select-panel-animations-enabled",!e._animationsDisabled),A("ngClass",e.panelClass),Te("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var t5=new K("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(le);return()=>du(t)}}),i5=new K("MAT_SELECT_CONFIG"),n5=new K("MatSelectTrigger"),VS=class{source;value;constructor(n,e){this.source=n,this.value=e}},pc=(()=>{class t{_viewportRuler=_($n);_changeDetectorRef=_(At);_elementRef=_(ve);_dir=_(wi,{optional:!0});_idGenerator=_(gi);_renderer=_(Mt);_parentFormField=_(NS,{optional:!0});ngControl=_(qf,{self:!0,optional:!0});_liveAnnouncer=_(ou);_defaultOptions=_(i5,{optional:!0});_animationsDisabled=ri();_initialized=new Z;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=TI(e,this.options,this.optionGroups),a=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=DI(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new VS(this,e)}_scrollStrategyFactory=_(t5);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Z;_errorStateTracker;stateChanges=new Z;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=C(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Vf.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Vn(()=>{let e=this.options;return e?e.changes.pipe(Tt(e),Bt(()=>Nt(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(Bt(()=>this.optionSelectionChanges))});openedChange=new ue;_openedStream=this.openedChange.pipe(je(e=>e),Se(()=>{}));_closedStream=this.openedChange.pipe(je(e=>!e),Se(()=>{}));selectionChange=new ue;valueChange=new ue;constructor(){let e=_(HI),i=_(MS,{optional:!0}),r=_(IS,{optional:!0}),o=_(new pa("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Jf(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Eu(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ze(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ze(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tt(null),Ze(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Ot(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&I_(this._trackedModal,"aria-owns",i),UD(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;I_(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&o&&!$i(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&i.activeItem&&!$i(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!$i(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof ec?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Nt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ze(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Nt(...this.options.map(i=>i._stateChanges)).pipe(Ze(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let i=this._elementRef.nativeElement;e.length?i.setAttribute("aria-describedby",e.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(e){let i=fi(e),r=this._overlayDir.overlayRef?.hostElement;(!i||!r||!r.contains(i))&&(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&(ei(o,n5,5),ei(o,ho,5),ei(o,RS,5)),i&2){let a;Pe(a=Re())&&(r.customTrigger=a.first),Pe(a=Re())&&(r.options=a),Pe(a=Re())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&(pt(GU,5),pt(WU,5),pt(gf,5)),i&2){let o;Pe(o=Re())&&(r.trigger=o.first),Pe(o=Re())&&(r.panel=o.first),Pe(o=Re())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(i,r){i&1&&D("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Te("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),We("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",He],disableRipple:[2,"disableRipple","disableRipple",He],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Dn(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",He],placeholder:"placeholder",required:[2,"required","required",He],multiple:[2,"multiple","multiple",He],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",He],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Dn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",He]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ut([{provide:LS,useExisting:t},{provide:PS,useExisting:t}]),li],ngContentSelectors:KU,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=U();Kt(YU),m(0,"div",2,0),D("click",function(){return k(o),E(r.open())}),m(3,"div",3),x(4,QU,2,1,"span",4)(5,JU,3,1,"span",5),f(),m(6,"div",6)(7,"div",7),Cl(),m(8,"svg",8),H(9,"path",9),f()()()(),Jt(10,e5,3,10,"ng-template",10),D("detach",function(){return k(o),E(r.close())})("backdropClick",function(){return k(o),E(r.close())})("overlayKeydown",function(s){return k(o),E(r._handleOverlayKeydown(s))})}if(i&2){let o=xn(1);h(3),Te("id",r._valueId),h(),T(r.empty?4:5),h(6),A("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[ec,gf,gt],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return t})();var fc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[xa,BS,zt,Lo,UI,BS]})}return t})();var HS=(t,n)=>n.name;function r5(t,n){if(t&1){let e=U();m(0,"input",11),D("change",function(r){k(e);let o=b();return E(o.pauseOnDeath(r))}),f()}if(t&2){let e=b();A("checked",e.activityService.pauseOnDeath)}}function o5(t,n){t&1&&(m(0,"label",3),p(1,"Pause on Death"),f())}function a5(t,n){if(t&1){let e=U();m(0,"input",14),D("change",function(r){k(e);let o=b(2);return E(o.pauseBeforeDeath(r))}),f(),m(1,"label",15),p(2,"Pause Before Death - This will pause one day before the end of your expected lifespan."),f()}if(t&2){let e=b(2);A("checked",e.activityService.pauseBeforeDeath)}}function s5(t,n){if(t&1){let e=U();m(0,"div")(1,"span")(2,"input",12),D("change",function(r){k(e);let o=b();return E(o.autoPauseThugs(r))}),f(),m(3,"label",13),p(4,"Automatically pause if you can't afford your home."),f()()(),m(5,"div")(6,"span"),x(7,a5,3,1),f()()}if(t&2){let e=b();h(2),A("checked",e.homeService.thugPause),h(5),T(e.activityService.autoRestart?7:-1)}}function l5(t,n){if(t&1){let e=U();m(0,"div",9)(1,"span",16),p(2),f(),m(3,"button",17),D("click",function(){let r=k(e).$implicit,o=b();return E(o.loadActivityLoop(r.name))}),p(4," Load "),f(),m(5,"button",18),D("click",function(){let r=k(e).$implicit,o=b();return E(o.removeActivityLoop(r.name))}),p(6," Remove "),f()()}if(t&2){let e=n.$implicit;h(2),he(e.name)}}function c5(t,n){t&1&&(m(0,"div")(1,"span"),p(2," No saved schedules to trigger "),f()())}function d5(t,n){if(t&1&&(m(0,"mat-option",21),p(1),f()),t&2){let e=n.$implicit;A("value",X(e.name)),h(),he(e.name)}}function u5(t,n){if(t&1){let e=U();m(0,"div",9)(1,"span",6),p(2,"On rebirth, load"),f(),m(3,"mat-select",20),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.scheduleName,r)||(o.scheduleName=r),E(r)}),ne(4,d5,2,3,"mat-option",21,HS),f(),m(6,"mat-icon",22),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.removeTrigger(r))}),p(7," close "),f()()}if(t&2){let e=b().$implicit,i=b(2);h(3),er("value",e.scheduleName),h(),re(i.activityService.savedActivityLoops)}}function h5(t,n){if(t&1&&(m(0,"mat-option",21),p(1),B(2,"camelToTitle"),f()),t&2){let e=n.$implicit;A("value",X(e)),h(),he(V(2,3,e))}}function m5(t,n){if(t&1&&(m(0,"mat-option",21),p(1),B(2,"camelToTitle"),f()),t&2){let e=n.$implicit;A("value",X(e)),h(),N("Max ",V(2,3,e))}}function p5(t,n){if(t&1&&(m(0,"mat-option",21),p(1),f()),t&2){let e=n.$implicit;A("value",X(e.name)),h(),he(e.name)}}function f5(t,n){if(t&1){let e=U();m(0,"div",9)(1,"span",6),p(2,"When"),f(),m(3,"mat-select",20),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.attribute,r)||(o.attribute=r),E(r)}),ne(4,h5,3,5,"mat-option",21,vt),ne(6,m5,3,5,"mat-option",21,vt),m(8,"mat-option",23),p(9,"Money"),f()(),m(10,"span",6),p(11," reaches "),f(),m(12,"input",24),D("change",function(r){k(e);let o=b().$implicit,a=b(2);return E(a.triggerValueChange(r,o))}),f(),m(13,"span",6),p(14," then load "),f(),m(15,"mat-select",20),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.scheduleName,r)||(o.scheduleName=r),E(r)}),ne(16,p5,2,3,"mat-option",21,HS),f(),m(18,"mat-icon",22),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.removeTrigger(r))}),p(19," close "),f()()}if(t&2){let e=b().$implicit,i=b(2);h(3),er("value",e.attribute),h(),re(i.attributeKeys),h(2),re(i.statusMaxes),h(6),A("value",X(e.value)),h(3),er("value",e.scheduleName),h(),re(i.activityService.savedActivityLoops)}}function g5(t,n){if(t&1&&x(0,u5,8,1,"div",9)(1,f5,20,4,"div",9),t&2){let e=n.$index;T(e===0?0:1)}}function v5(t,n){if(t&1){let e=U();m(0,"button",19),D("click",function(){k(e);let r=b();return E(r.addTrigger())}),p(1," Add a Trigger "),f(),ne(2,g5,2,1,null,null,vt)}if(t&2){let e=b();h(2),re(e.activityService.loopChangeTriggers)}}var gc=(()=>{class t{constructor(e,i,r){this.activityService=e,this.homeService=i,this.characterService=r,this.inputSave="Saved Schedule #1",this.attributeKeys=Object.keys(this.characterService.attributes),this.statusMaxes=Object.keys(this.characterService.status)}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}autoPauseThugs(e){e.target instanceof HTMLInputElement&&(this.homeService.thugPause=!this.homeService.thugPause)}inputSaveChange(e){e.target instanceof HTMLInputElement&&(this.inputSave=e.target.value)}saveActivityLoop(){this.activityService.saveActivityLoop(this.inputSave)}loadActivityLoop(e){this.activityService.loadActivityLoop(e)}removeActivityLoop(e){this.activityService.removeActivityLoop(e)}triggerValueChange(e,i){e.target instanceof HTMLInputElement&&(i.value=parseInt(e.target.value))}removeTrigger(e){let i=this.activityService.loopChangeTriggers.indexOf(e);this.activityService.loopChangeTriggers.splice(i,1)}addTrigger(){this.activityService.loopChangeTriggers.push({attribute:"strength",value:100,scheduleName:""})}static{this.\u0275fac=function(i){return new(i||t)(R(Ue),R(Qe),R(ae))}}static{this.\u0275cmp=$({type:t,selectors:[["app-time-options-panel"]],decls:25,vars:6,consts:[[1,"darkMode"],["label","Auto-Pause"],["type","checkbox","id","pauseOnDeath",3,"checked"],["for","pauseOnDeath"],["label","Saved Schedules"],["tooltip","Save your current schedule of activities.",1,"saveButton",3,"click"],[1,"spacedSpan"],["min","0","type","text",1,"inputBox",3,"change","value"],["tooltip","Clear your current schedule of actviities.",1,"saveButton",3,"click"],[1,"optionsRow"],["label","Schedule Triggers"],["type","checkbox","id","pauseOnDeath",3,"change","checked"],["type","checkbox","id","autoBuyFood",3,"change","checked"],["for","autoBuyFood"],["type","checkbox","id","pauseBeforeDeath",3,"change","checked"],["for","pauseBeforeDeath"],[1,"grower"],["tooltip","Load this saved schedule of actviities.",1,"saveButton",3,"click"],["tooltip","Remove this saved schedule of actviities.",1,"saveButton",3,"click"],["tooltip","Add a trigger to change schedules automatically.<br>Triggers are activated in order, once per lifetime, as the selected attributes reach the chosen values.",1,"saveButton",3,"click"],[1,"selectSave",3,"valueChange","value"],[3,"value"],["tooltip","Remove this schedule trigger.",1,"iconButton",3,"click"],["value","money"],["min","0","type","number",1,"smallInputBox",3,"change","value"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Schedule Options"),f(),m(3,"mat-tab-group")(4,"mat-tab",1)(5,"div")(6,"span"),x(7,r5,1,1,"input",2),x(8,o5,2,0,"label",3),f()(),x(9,s5,8,2),f(),m(10,"mat-tab",4)(11,"div")(12,"button",5),D("click",function(){return r.saveActivityLoop()}),p(13," Save Current Schedule "),f(),m(14,"span",6),p(15,"as"),f(),m(16,"input",7),D("change",function(a){return r.inputSaveChange(a)}),f()(),m(17,"div")(18,"button",8),D("click",function(){return r.activityService.activityLoop=[]}),p(19," Clear Current Schedule "),f()(),ne(20,l5,7,1,"div",9,HS),f(),m(22,"mat-tab",10),x(23,c5,3,0,"div")(24,v5,4,0),f()()()),i&2&&(h(7),T(r.activityService.autoRestart?7:-1),h(),T(r.activityService.autoRestart?8:-1),h(),T(r.activityService.autoPauseUnlocked?9:-1),h(7),A("value",X(r.inputSave)),h(4),re(r.activityService.savedActivityLoops),h(3),T(r.activityService.savedActivityLoops.length===0?23:24))},dependencies:()=>[De,fc,pc,ho,Da,Ho,ye,Pt],styles:[".saveButton[_ngcontent-%COMP%]{height:30px;margin:4px}.selectSave[_ngcontent-%COMP%]{width:300px;color:var(--bodyText);border:1px solid var(--bodyText);font-size:small;margin:4px}.smallInputBox[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]     .mat-mdc-select-arrow{color:var(--bodyText)!important}.optionsRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-basis:0;border-top:1px solid var(--panelBorder);align-items:center}.grower[_ngcontent-%COMP%]{flex-grow:1;align-content:center}.spacedSpan[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;align-content:center}"]})}}return t})();var vc=t=>({iconActive:t});function y5(t,n){if(t&1){let e=U();m(0,"mat-icon",8),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fastClick())}),p(1," fast_forward "),f()}if(t&2){let e=b();A("ngClass",ft(1,vc,e.mainLoopService.tickDivider===5&&!e.mainLoopService.pause))}}function b5(t,n){if(t&1){let e=U();m(0,"mat-icon",9),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fasterClick())}),p(1," skip_next "),f()}if(t&2){let e=b();A("ngClass",ft(1,vc,e.mainLoopService.tickDivider===2&&!e.mainLoopService.pause))}}function _5(t,n){if(t&1){let e=U();m(0,"mat-icon",10),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fastestClick())}),p(1," bolt "),f()}if(t&2){let e=b();A("ngClass",ft(1,vc,e.mainLoopService.tickDivider===1&&!e.mainLoopService.pause))}}function S5(t,n){if(t&1){let e=U();m(0,"mat-icon",11),D("click",function(){k(e);let r=b();return E(r.timeOptions())}),p(1," settings "),f()}}var zI=(()=>{class t{constructor(){this.commonButtonsService=_(mc),this.activityService=_(Ue),this.dialog=_(et),this.mainLoopService=_(pe)}timeOptions(){this.dialog.open(gc,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-time-buttons"]],decls:11,vars:13,consts:[[1,"main-btns"],["tooltip",`Pause the game.<br>
      Hotkey: Alt-0 to pause or spacebar to toggle.<br>
      Clicking this again while paused will step time forward a single day.<br>
      When paused, you can also advance one day by pressing the Enter key.`,"aria-label","Pause","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Slow Game Speed (1 day/sec).<br>
      Hotkey: Alt-1`,"aria-label","Slow Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Standard Game Speed.<br>
      Hotkey: Alt-2`,"aria-label","Standard Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip","Fast Game Speed.<br>Hotkey: Alt-3","aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip",`Faster Game Speed.<br>
      Hotkey: Alt-4`,"aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip",`Fastest Game Speed.<br>
      Hotkey: Alt-5`,"aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton"],["tooltip","Fast Game Speed.<br>Hotkey: Alt-3","aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Faster Game Speed.<br>
      Hotkey: Alt-4`,"aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Fastest Game Speed.<br>
      Hotkey: Alt-5`,"aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"mat-icon",1),D("click",function(){return r.mainLoopService.pauseClick()}),p(2," pause "),f(),m(3,"mat-icon",2),D("click",function(){return r.mainLoopService.slowClick()}),p(4," slow_motion_video "),f(),m(5,"mat-icon",3),D("click",function(){return r.mainLoopService.standardClick()}),p(6," play_arrow "),f(),x(7,y5,2,3,"mat-icon",4),x(8,b5,2,3,"mat-icon",5),x(9,_5,2,3,"mat-icon",6),f(),x(10,S5,2,0,"mat-icon",7)),i&2&&(h(),A("ngClass",ft(7,vc,r.mainLoopService.pause)),h(2),A("ngClass",ft(9,vc,r.mainLoopService.tickDivider===40&&!r.mainLoopService.pause)),h(2),A("ngClass",ft(11,vc,r.mainLoopService.tickDivider===10&&!r.mainLoopService.pause)),h(2),T(r.mainLoopService.unlockFastSpeed?7:-1),h(),T(r.mainLoopService.unlockFasterSpeed?8:-1),h(),T(r.mainLoopService.unlockFastestSpeed?9:-1),h(),T(r.activityService.autoRestart?10:-1))},dependencies:[ji,gt,sn,De,ye],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.main-btns[_ngcontent-%COMP%]{display:flex;gap:1px}mat-icon[_ngcontent-%COMP%]{font-size:44px;width:min-content;height:min-content}"]})}}return t})();var $I=["*"],w5=["content"],C5=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],k5=["mat-drawer","mat-drawer-content","*"];function E5(t,n){if(t&1){let e=U();m(0,"div",1),D("click",function(){k(e);let r=b();return E(r._onBackdropClicked())}),f()}if(t&2){let e=b();We("mat-drawer-shown",e._isShowingBackdrop())}}function x5(t,n){t&1&&(m(0,"mat-drawer-content"),mt(1,2),f())}var T5=new K("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:()=>!1}),GI=new K("MAT_DRAWER_CONTAINER"),xu=(()=>{class t extends Xl{_platform=_(kt);_changeDetectorRef=_(At);_container=_(US);constructor(){let e=_(ve),i=_(wa),r=_(ce);super(e,i,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){i&2&&(Je("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),We("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[Ut([{provide:Xl,useExisting:t}]),It],ngContentSelectors:$I,decls:1,vars:0,template:function(i,r){i&1&&(Kt(),mt(0))},encapsulation:2,changeDetection:0})}return t})(),qS=(()=>{class t{_elementRef=_(ve);_focusTrapFactory=_(ru);_focusMonitor=_(Oo);_platform=_(kt);_ngZone=_(ce);_renderer=_(Mt);_interactivityChecker=_(Kl);_doc=_(Ee);_container=_(GI,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Or(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Or(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(Or(e))}_opened=C(!1);_openedVia;_animationStarted=new Z;_animationEnd=new Z;openedChange=new ue(!0);_openedStream=this.openedChange.pipe(je(e=>e),Se(()=>{}));openedStart=this._animationStarted.pipe(je(()=>this.opened),Hh(void 0));_closedStream=this.openedChange.pipe(je(e=>!e),Se(()=>{}));closedStart=this._animationStarted.pipe(je(()=>!this.opened),Hh(void 0));_destroyed=new Z;onPositionChanged=new ue;_content;_modeChanged=new Z;_injector=_(le);_changeDetectorRef=_(At);constructor(){this.openedChange.pipe(Ze(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;Di(e,"keydown").pipe(je(i=>i.keyCode===27&&!this.disableClose&&!$i(i)),Ze(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Xt(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ot(1)).subscribe(a=>o(a?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&pt(w5,5),i&2){let o;Pe(o=Re())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&2&&(Te("align",null)("tabIndex",r.mode!=="side"?"-1":null),Je("visibility",!r._container&&!r.opened?"hidden":null),We("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:$I,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(Kt(),m(0,"div",1,0),mt(2),f())},dependencies:[Xl],encapsulation:2,changeDetection:0})}return t})(),US=(()=>{class t{_dir=_(wi,{optional:!0});_element=_(ve);_ngZone=_(ce);_changeDetectorRef=_(At);_animationDisabled=ri();_transitionsEnabled=!1;_allDrawers;_drawers=new _r;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Or(e)}_autosize=_(T5);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Or(e)}_backdropOverride;backdropClick=new ue;_start;_end;_left;_right;_destroyed=new Z;_doCheckSubject=new Z;_contentMargins={left:null,right:null};_contentMarginChanges=new Z;get scrollable(){return this._userContent||this._content}_injector=_(le);constructor(){let e=_(kt),i=_($n);this._dir?.change.pipe(Ze(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Ze(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Tt(this._allDrawers),Ze(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Tt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(jn(10),Ze(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ze(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Ze(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(Ze(this._drawers.changes)).subscribe(()=>{Xt({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(Ze(Nt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(i&1&&(ei(o,xu,5),ei(o,qS,5)),i&2){let a;Pe(a=Re())&&(r._content=a.first),Pe(a=Re())&&(r._allDrawers=a)}},viewQuery:function(i,r){if(i&1&&pt(xu,5),i&2){let o;Pe(o=Re())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&We("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ut([{provide:GI,useExisting:t}])],ngContentSelectors:k5,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(Kt(C5),x(0,E5,1,2,"div",0),mt(1),mt(2,1),x(3,x5,2,0,"mat-drawer-content")),i&2&&(T(r.hasBackdrop?0:-1),h(3),T(r._content?-1:3))},dependencies:[xu],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return t})();var WI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[Lo,zt,Lo]})}return t})();var YI=(()=>{class t{get vertical(){return this._vertical}set vertical(e){this._vertical=Or(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Or(e)}_inset=!1;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){i&2&&(Te("aria-orientation",r.vertical?"vertical":"horizontal"),We("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return t})(),KI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({imports:[zt]})}return t})();var I5=t=>({highlighted:t});function A5(t,n){if(t&1){let e=U();m(0,"div",0),D("click",function(){k(e);let r=b();return E(r.commonButtonsService.ascensionStoreClicked())}),m(1,"mat-icon",9),p(2," keyboard_double_arrow_up "),f(),p(3,` Ascension Techniques
`),f()}}var QI=(()=>{class t{constructor(){this.commonButtonsService=_(mc),this.characterService=_(ae),this.storeService=_(Fi)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-drawer"]],decls:29,vars:4,consts:[[1,"menu-item",3,"click"],["tooltip","Confused?<br>Click here for a tutorial.","aria-label","Tutorial","aria-hidden","false",1,"iconButton"],["tooltip","Statistics!","aria-label","Statistics","aria-hidden","false",1,"iconButton"],["tooltip","Regular People Shop<br>A store that sells regular stuff for regular mortals.<br>You are destined for immortality, but you might want some stuff from here anyway.","aria-label","Store","aria-hidden","false",1,"iconButton"],["tooltip","Manuals Shop<br>A store that sells special manuals for aspiring immortals.","aria-label","Manual Store","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip","Game Options","aria-label","Options","aria-hidden","false",1,"iconButton"],["tooltip","Achievements!","aria-label","Achievements","aria-hidden","false",1,"iconButton"],[1,"menu-item"],["tooltip","Save<br>The game autosaves every few minutes, but click here if you want to manually save the game right now.","aria-label","Save","aria-hidden","false",1,"iconButton"],["tooltip","Ascension Techniques.","aria-label","Ascension","aria-hidden","false",1,"iconButton"]],template:function(i,r){i&1&&(m(0,"div",0),D("click",function(){return r.commonButtonsService.tutorialClicked()}),m(1,"mat-icon",1),p(2," help "),f(),p(3,` Tutorial
`),f(),m(4,"div",0),D("click",function(){return r.commonButtonsService.statisticsClicked()}),m(5,"mat-icon",2),p(6," format_list_numbered_rtl "),f(),p(7,` Statistics
`),f(),m(8,"div",0),D("click",function(){return r.commonButtonsService.storeClicked()}),m(9,"mat-icon",3),p(10," store "),f(),p(11,` Regular People Shop
`),f(),m(12,"div",0),D("click",function(){return r.commonButtonsService.manualStoreClicked()}),m(13,"mat-icon",4),p(14," local_library "),f(),p(15,` Manuals Shop
`),f(),m(16,"div",0),D("click",function(){return r.commonButtonsService.optionsClicked()}),m(17,"mat-icon",5),p(18," settings "),f(),p(19,` Game Options
`),f(),m(20,"div",0),D("click",function(){return r.commonButtonsService.achievementsClicked()}),m(21,"mat-icon",6),p(22," military_tech "),f(),p(23,` Achievements
`),f(),x(24,A5,4,0,"div",7),m(25,"div",0),D("click",function(){return r.commonButtonsService.saveClicked()}),m(26,"mat-icon",8),p(27," save "),f(),p(28,` Save
`),f()),i&2&&(h(13),A("ngClass",ft(2,I5,r.storeService.isManualAvailable())),h(11),T(r.characterService.ascensionUnlocked?24:-1))},dependencies:[ji,gt,sn,De,ye],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:8px;gap:8px}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})}}return t})();function GS(t){return typeof t=="number"}function zS(t){return typeof t=="string"}function eg(t){return typeof t=="boolean"}function ZI(t){return Object.prototype.toString.call(t)==="[object Object]"}function ci(t){return Math.abs(t)}function WS(t){return Math.sign(t)}function Du(t,n){return ci(t-n)}function P5(t,n){if(t===0||n===0||ci(t)<=ci(n))return 0;let e=Du(ci(t),ci(n));return ci(e/t)}function R5(t){return Math.round(t*100)/100}function Mu(t){return Iu(t).map(Number)}function Nr(t){return t[Pu(t)]}function Pu(t){return Math.max(0,t.length-1)}function YS(t,n){return n===Pu(t)}function XI(t,n=0){return Array.from(Array(t),(e,i)=>n+i)}function Iu(t){return Object.keys(t)}function JI(t,n){return[t,n].reduce((e,i)=>(Iu(i).forEach(r=>{let o=e[r],a=i[r],s=ZI(o)&&ZI(a);e[r]=s?JI(o,a):a}),e),{})}function $S(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function F5(t,n){let e={start:i,center:r,end:o};function i(){return 0}function r(l){return o(l)/2}function o(l){return n-l}function a(l,c){return zS(t)?e[t](l):t(n,l,c)}return{measure:a}}function Au(){let t=[];function n(r,o,a,s={passive:!0}){let l;if("addEventListener"in r)r.addEventListener(o,a,s),l=()=>r.removeEventListener(o,a,s);else{let c=r;c.addListener(a),l=()=>c.removeListener(a)}return t.push(l),i}function e(){t=t.filter(r=>r())}let i={add:n,clear:e};return i}function O5(t,n,e,i){let r=Au(),o=1e3/60,a=null,s=0,l=0;function c(){r.add(t,"visibilitychange",()=>{t.hidden&&g()})}function d(){y(),r.clear()}function u(P){if(!l)return;a||(a=P,e(),e());let M=P-a;for(a=P,s+=M;s>=o;)e(),s-=o;let z=s/o;i(z),l&&(l=n.requestAnimationFrame(u))}function v(){l||(l=n.requestAnimationFrame(u))}function y(){n.cancelAnimationFrame(l),a=null,s=0,l=0}function g(){a=null,s=0}return{init:c,destroy:d,start:v,stop:y,update:e,render:i}}function L5(t,n){let e=n==="rtl",i=t==="y",r=i?"y":"x",o=i?"x":"y",a=!i&&e?-1:1,s=d(),l=u();function c(g){let{height:S,width:P}=g;return i?S:P}function d(){return i?"top":e?"right":"left"}function u(){return i?"bottom":e?"left":"right"}function v(g){return g*a}return{scroll:r,cross:o,startEdge:s,endEdge:l,measureSize:c,direction:v}}function Ps(t=0,n=0){let e=ci(t-n);function i(c){return c<t}function r(c){return c>n}function o(c){return i(c)||r(c)}function a(c){return o(c)?i(c)?t:n:c}function s(c){return e?c-e*Math.ceil((c-n)/e):c}return{length:e,max:n,min:t,constrain:a,reachedAny:o,reachedMax:r,reachedMin:i,removeOffset:s}}function eA(t,n,e){let{constrain:i}=Ps(0,t),r=t+1,o=a(n);function a(v){return e?ci((r+v)%r):i(v)}function s(){return o}function l(v){return o=a(v),u}function c(v){return d().set(s()+v)}function d(){return eA(t,s(),e)}let u={get:s,set:l,add:c,clone:d};return u}function N5(t,n,e,i,r,o,a,s,l,c,d,u,v,y,g,S,P,M,z){let{cross:G,direction:Y}=t,ge=["INPUT","SELECT","TEXTAREA"],me={passive:!1},de=Au(),be=Au(),oe=Ps(50,225).constrain(y.measure(20)),tt={mouse:300,touch:400},wt={mouse:500,touch:600},di=g?43:25,Cn=!1,Ln=0,Nn=0,_e=!1,ke=!1,Me=!1,at=!1;function ti(Be){if(!z)return;function Gt(vn){(eg(z)||z(Be,vn))&&Pa(vn)}let Ti=n;de.add(Ti,"dragstart",vn=>vn.preventDefault(),me).add(Ti,"touchmove",()=>{},me).add(Ti,"touchend",()=>{}).add(Ti,"touchstart",Gt).add(Ti,"mousedown",Gt).add(Ti,"touchcancel",ai).add(Ti,"contextmenu",ai).add(Ti,"click",ui,!0)}function bi(){de.clear(),be.clear()}function xi(){let Be=at?e:n;be.add(Be,"touchmove",xt,me).add(Be,"touchend",ai).add(Be,"mousemove",xt,me).add(Be,"mouseup",ai)}function gn(Be){let Gt=Be.nodeName||"";return ge.includes(Gt)}function Ct(){return(g?wt:tt)[at?"mouse":"touch"]}function $o(Be,Gt){let Ti=u.add(WS(Be)*-1),vn=d.byDistance(Be,!g).distance;return g||ci(Be)<oe?vn:P&&Gt?vn*.5:d.byIndex(Ti.get(),0).distance}function Pa(Be){let Gt=$S(Be,i);at=Gt,Me=g&&Gt&&!Be.buttons&&Cn,Cn=Du(r.get(),a.get())>=2,!(Gt&&Be.button!==0)&&(gn(Be.target)||(_e=!0,o.pointerDown(Be),c.useFriction(0).useDuration(0),r.set(a),xi(),Ln=o.readPoint(Be),Nn=o.readPoint(Be,G),v.emit("pointerDown")))}function xt(Be){if(!$S(Be,i)&&Be.touches.length>=2)return ai(Be);let Ti=o.readPoint(Be),vn=o.readPoint(Be,G),Hr=Du(Ti,Ln),vo=Du(vn,Nn);if(!ke&&!at&&(!Be.cancelable||(ke=Hr>vo,!ke)))return ai(Be);let Ra=o.pointerMove(Be);Hr>S&&(Me=!0),c.useFriction(.3).useDuration(.75),s.start(),r.add(Y(Ra)),Be.preventDefault()}function ai(Be){let Ti=d.byDistance(0,!1).index!==u.get(),vn=o.pointerUp(Be)*Ct(),Hr=$o(Y(vn),Ti),vo=P5(vn,Hr),Ra=di-10*vo,Go=M+vo/50;ke=!1,_e=!1,be.clear(),c.useDuration(Ra).useFriction(Go),l.distance(Hr,!g),at=!1,v.emit("pointerUp")}function ui(Be){Me&&(Be.stopPropagation(),Be.preventDefault(),Me=!1)}function Ki(){return _e}return{init:ti,destroy:bi,pointerDown:Ki}}function B5(t,n){let i,r;function o(u){return u.timeStamp}function a(u,v){let g=`client${(v||t.scroll)==="x"?"X":"Y"}`;return($S(u,n)?u:u.touches[0])[g]}function s(u){return i=u,r=u,a(u)}function l(u){let v=a(u)-a(r),y=o(u)-o(i)>170;return r=u,y&&(i=u),v}function c(u){if(!i||!r)return 0;let v=a(r)-a(i),y=o(u)-o(i),g=o(u)-o(r)>170,S=v/y;return y&&!g&&ci(S)>.1?S:0}return{pointerDown:s,pointerMove:l,pointerUp:c,readPoint:a}}function V5(){function t(e){let{offsetTop:i,offsetLeft:r,offsetWidth:o,offsetHeight:a}=e;return{top:i,right:r+o,bottom:i+a,left:r,width:o,height:a}}return{measure:t}}function j5(t){function n(i){return t*(i/100)}return{measure:n}}function H5(t,n,e,i,r,o,a){let s=[t].concat(i),l,c,d=[],u=!1;function v(P){return r.measureSize(a.measure(P))}function y(P){if(!o)return;c=v(t),d=i.map(v);function M(z){for(let G of z){if(u)return;let Y=G.target===t,ge=i.indexOf(G.target),me=Y?c:d[ge],de=v(Y?t:i[ge]);if(ci(de-me)>=.5){P.reInit(),n.emit("resize");break}}}l=new ResizeObserver(z=>{(eg(o)||o(P,z))&&M(z)}),e.requestAnimationFrame(()=>{s.forEach(z=>l.observe(z))})}function g(){u=!0,l&&l.disconnect()}return{init:y,destroy:g}}function q5(t,n,e,i,r,o){let a=0,s=0,l=r,c=o,d=t.get(),u=0;function v(){let me=i.get()-t.get(),de=!l,be=0;return de?(a=0,e.set(i),t.set(i),be=me):(e.set(t),a+=me/l,a*=c,d+=a,t.add(a),be=d-u),s=WS(be),u=d,ge}function y(){let me=i.get()-n.get();return ci(me)<.001}function g(){return l}function S(){return s}function P(){return a}function M(){return G(r)}function z(){return Y(o)}function G(me){return l=me,ge}function Y(me){return c=me,ge}let ge={direction:S,duration:g,velocity:P,seek:v,settled:y,useBaseFriction:z,useBaseDuration:M,useFriction:Y,useDuration:G};return ge}function U5(t,n,e,i,r){let o=r.measure(10),a=r.measure(50),s=Ps(.1,.99),l=!1;function c(){return!(l||!t.reachedAny(e.get())||!t.reachedAny(n.get()))}function d(y){if(!c())return;let g=t.reachedMin(n.get())?"min":"max",S=ci(t[g]-n.get()),P=e.get()-n.get(),M=s.constrain(S/a);e.subtract(P*M),!y&&ci(P)<o&&(e.set(t.constrain(e.get())),i.useDuration(25).useBaseFriction())}function u(y){l=!y}return{shouldConstrain:c,constrain:d,toggleActive:u}}function z5(t,n,e,i,r){let o=Ps(-n+t,0),a=u(),s=d(),l=v();function c(g,S){return Du(g,S)<=1}function d(){let g=a[0],S=Nr(a),P=a.lastIndexOf(g),M=a.indexOf(S)+1;return Ps(P,M)}function u(){return e.map((g,S)=>{let{min:P,max:M}=o,z=o.constrain(g),G=!S,Y=YS(e,S);return G?M:Y||c(P,z)?P:c(M,z)?M:z}).map(g=>parseFloat(g.toFixed(3)))}function v(){if(n<=t+r)return[o.max];if(i==="keepSnaps")return a;let{min:g,max:S}=s;return a.slice(g,S)}return{snapsContained:l,scrollContainLimit:s}}function $5(t,n,e){let i=n[0],r=e?i-t:Nr(n);return{limit:Ps(r,i)}}function G5(t,n,e,i){let o=n.min+.1,a=n.max+.1,{reachedMin:s,reachedMax:l}=Ps(o,a);function c(v){return v===1?l(e.get()):v===-1?s(e.get()):!1}function d(v){if(!c(v))return;let y=t*(v*-1);i.forEach(g=>g.add(y))}return{loop:d}}function W5(t){let{max:n,length:e}=t;function i(o){let a=o-n;return e?a/-e:0}return{get:i}}function Y5(t,n,e,i,r){let{startEdge:o,endEdge:a}=t,{groupSlides:s}=r,l=u().map(n.measure),c=v(),d=y();function u(){return s(i).map(S=>Nr(S)[a]-S[0][o]).map(ci)}function v(){return i.map(S=>e[o]-S[o]).map(S=>-ci(S))}function y(){return s(c).map(S=>S[0]).map((S,P)=>S+l[P])}return{snaps:c,snapsAligned:d}}function K5(t,n,e,i,r,o){let{groupSlides:a}=r,{min:s,max:l}=i,c=d();function d(){let v=a(o),y=!t||n==="keepSnaps";return e.length===1?[o]:y?v:v.slice(s,l).map((g,S,P)=>{let M=!S,z=YS(P,S);if(M){let G=Nr(P[0])+1;return XI(G)}if(z){let G=Pu(o)-Nr(P)[0]+1;return XI(G,Nr(P)[0])}return g})}return{slideRegistry:c}}function Q5(t,n,e,i,r){let{reachedAny:o,removeOffset:a,constrain:s}=i;function l(g){return g.concat().sort((S,P)=>ci(S)-ci(P))[0]}function c(g){let S=t?a(g):s(g),P=n.map((z,G)=>({diff:d(z-S,0),index:G})).sort((z,G)=>ci(z.diff)-ci(G.diff)),{index:M}=P[0];return{index:M,distance:S}}function d(g,S){let P=[g,g+e,g-e];if(!t)return g;if(!S)return l(P);let M=P.filter(z=>WS(z)===S);return M.length?l(M):Nr(P)-e}function u(g,S){let P=n[g]-r.get(),M=d(P,S);return{index:g,distance:M}}function v(g,S){let P=r.get()+g,{index:M,distance:z}=c(P),G=!t&&o(P);if(!S||G)return{index:M,distance:g};let Y=n[M]-z,ge=g+d(Y,0);return{index:M,distance:ge}}return{byDistance:v,byIndex:u,shortcut:d}}function Z5(t,n,e,i,r,o,a){function s(u){let v=u.distance,y=u.index!==n.get();o.add(v),v&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(e.set(n.get()),n.set(u.index),a.emit("select"))}function l(u,v){let y=r.byDistance(u,v);s(y)}function c(u,v){let y=n.clone().set(u),g=r.byIndex(y.get(),v);s(g)}return{distance:l,index:c}}function X5(t,n,e,i,r,o,a,s){let l={passive:!0,capture:!0},c=0;function d(y){if(!s)return;function g(S){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;let z=e.findIndex(G=>G.includes(S));GS(z)&&(r.useDuration(0),i.index(z,0),a.emit("slideFocus"))}o.add(document,"keydown",u,!1),n.forEach((S,P)=>{o.add(S,"focus",M=>{(eg(s)||s(y,M))&&g(P)},l)})}function u(y){y.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Tu(t){let n=t;function e(){return n}function i(l){n=a(l)}function r(l){n+=a(l)}function o(l){n-=a(l)}function a(l){return GS(l)?l:l.get()}return{get:e,set:i,add:r,subtract:o}}function tA(t,n){let e=t.scroll==="x"?a:s,i=n.style,r=null,o=!1;function a(v){return`translate3d(${v}px,0px,0px)`}function s(v){return`translate3d(0px,${v}px,0px)`}function l(v){if(o)return;let y=R5(t.direction(v));y!==r&&(i.transform=e(y),r=y)}function c(v){o=!v}function d(){o||(i.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function J5(t,n,e,i,r,o,a,s,l){let d=Mu(r),u=Mu(r).reverse(),v=M().concat(z());function y(de,be){return de.reduce((oe,tt)=>oe-r[tt],be)}function g(de,be){return de.reduce((oe,tt)=>y(oe,be)>0?oe.concat([tt]):oe,[])}function S(de){return o.map((be,oe)=>({start:be-i[oe]+.5+de,end:be+n-.5+de}))}function P(de,be,oe){let tt=S(be);return de.map(wt=>{let di=oe?0:-e,Cn=oe?e:0,Ln=oe?"end":"start",Nn=tt[wt][Ln];return{index:wt,loopPoint:Nn,slideLocation:Tu(-1),translate:tA(t,l[wt]),target:()=>s.get()>Nn?di:Cn}})}function M(){let de=a[0],be=g(u,de);return P(be,e,!1)}function z(){let de=n-a[0]-1,be=g(d,de);return P(be,-e,!0)}function G(){return v.every(({index:de})=>{let be=d.filter(oe=>oe!==de);return y(be,n)<=.1})}function Y(){v.forEach(de=>{let{target:be,translate:oe,slideLocation:tt}=de,wt=be();wt!==tt.get()&&(oe.to(wt),tt.set(wt))})}function ge(){v.forEach(de=>de.translate.clear())}return{canLoop:G,clear:ge,loop:Y,loopPoints:v}}function e4(t,n,e){let i,r=!1;function o(l){if(!e)return;function c(d){for(let u of d)if(u.type==="childList"){l.reInit(),n.emit("slidesChanged");break}}i=new MutationObserver(d=>{r||(eg(e)||e(l,d))&&c(d)}),i.observe(t,{childList:!0})}function a(){i&&i.disconnect(),r=!0}return{init:o,destroy:a}}function t4(t,n,e,i){let r={},o=null,a=null,s,l=!1;function c(){s=new IntersectionObserver(g=>{l||(g.forEach(S=>{let P=n.indexOf(S.target);r[P]=S}),o=null,a=null,e.emit("slidesInView"))},{root:t.parentElement,threshold:i}),n.forEach(g=>s.observe(g))}function d(){s&&s.disconnect(),l=!0}function u(g){return Iu(r).reduce((S,P)=>{let M=parseInt(P),{isIntersecting:z}=r[M];return(g&&z||!g&&!z)&&S.push(M),S},[])}function v(g=!0){if(g&&o)return o;if(!g&&a)return a;let S=u(g);return g&&(o=S),g||(a=S),S}return{init:c,destroy:d,get:v}}function i4(t,n,e,i,r,o){let{measureSize:a,startEdge:s,endEdge:l}=t,c=e[0]&&r,d=g(),u=S(),v=e.map(a),y=P();function g(){if(!c)return 0;let z=e[0];return ci(n[s]-z[s])}function S(){if(!c)return 0;let z=o.getComputedStyle(Nr(i));return parseFloat(z.getPropertyValue(`margin-${l}`))}function P(){return e.map((z,G,Y)=>{let ge=!G,me=YS(Y,G);return ge?v[G]+d:me?v[G]+u:Y[G+1][s]-z[s]}).map(ci)}return{slideSizes:v,slideSizesWithGaps:y,startGap:d,endGap:u}}function n4(t,n,e,i,r,o,a,s,l){let{startEdge:c,endEdge:d,direction:u}=t,v=GS(e);function y(M,z){return Mu(M).filter(G=>G%z===0).map(G=>M.slice(G,G+z))}function g(M){return M.length?Mu(M).reduce((z,G,Y)=>{let ge=Nr(z)||0,me=ge===0,de=G===Pu(M),be=r[c]-o[ge][c],oe=r[c]-o[G][d],tt=!i&&me?u(a):0,wt=!i&&de?u(s):0,di=ci(oe-wt-(be+tt));return Y&&di>n+l&&z.push(G),de&&z.push(M.length),z},[]).map((z,G,Y)=>{let ge=Math.max(Y[G-1]||0);return M.slice(ge,z)}):[]}function S(M){return v?y(M,e):g(M)}return{groupSlides:S}}function r4(t,n,e,i,r,o,a){let{align:s,axis:l,direction:c,startIndex:d,loop:u,duration:v,dragFree:y,dragThreshold:g,inViewThreshold:S,slidesToScroll:P,skipSnaps:M,containScroll:z,watchResize:G,watchSlides:Y,watchDrag:ge,watchFocus:me}=o,de=2,be=V5(),oe=be.measure(n),tt=e.map(be.measure),wt=L5(l,c),di=wt.measureSize(oe),Cn=j5(di),Ln=F5(s,di),Nn=!u&&!!z,_e=u||!!z,{slideSizes:ke,slideSizesWithGaps:Me,startGap:at,endGap:ti}=i4(wt,oe,tt,e,_e,r),bi=n4(wt,di,P,u,oe,tt,at,ti,de),{snaps:xi,snapsAligned:gn}=Y5(wt,Ln,oe,tt,bi),Ct=-Nr(xi)+Nr(Me),{snapsContained:$o,scrollContainLimit:Pa}=z5(di,Ct,gn,z,de),xt=Nn?$o:gn,{limit:ai}=$5(Ct,xt,u),ui=eA(Pu(xt),d,u),Ki=ui.clone(),jt=Mu(e),Be=({dragHandler:Ws,scrollBody:hv,scrollBounds:mv,options:{loop:hh}})=>{hh||mv.constrain(Ws.pointerDown()),hv.seek()},Gt=({scrollBody:Ws,translate:hv,location:mv,offsetLocation:hh,previousLocation:AF,scrollLooper:PF,slideLooper:RF,dragHandler:FF,animation:OF,eventHandler:VC,scrollBounds:LF,options:{loop:jC}},HC)=>{let qC=Ws.settled(),NF=!LF.shouldConstrain(),UC=jC?qC:qC&&NF,zC=UC&&!FF.pointerDown();zC&&OF.stop();let BF=mv.get()*HC+AF.get()*(1-HC);hh.set(BF),jC&&(PF.loop(Ws.direction()),RF.loop()),hv.to(hh.get()),zC&&VC.emit("settle"),UC||VC.emit("scroll")},Ti=O5(i,r,()=>Be(uv),Ws=>Gt(uv,Ws)),vn=.68,Hr=xt[ui.get()],vo=Tu(Hr),Ra=Tu(Hr),Go=Tu(Hr),Fa=Tu(Hr),jc=q5(vo,Go,Ra,Fa,v,vn),cv=Q5(u,xt,Ct,ai,Fa),dv=Z5(Ti,ui,Ki,jc,cv,Fa,a),LC=W5(ai),NC=Au(),MF=t4(n,e,a,S),{slideRegistry:BC}=K5(Nn,z,xt,Pa,bi,jt),IF=X5(t,e,BC,dv,jc,NC,a,me),uv={ownerDocument:i,ownerWindow:r,eventHandler:a,containerRect:oe,slideRects:tt,animation:Ti,axis:wt,dragHandler:N5(wt,t,i,r,Fa,B5(wt,r),vo,Ti,dv,jc,cv,ui,a,Cn,y,g,M,vn,ge),eventStore:NC,percentOfView:Cn,index:ui,indexPrevious:Ki,limit:ai,location:vo,offsetLocation:Go,previousLocation:Ra,options:o,resizeHandler:H5(n,a,r,e,wt,G,be),scrollBody:jc,scrollBounds:U5(ai,Go,Fa,jc,Cn),scrollLooper:G5(Ct,ai,Go,[vo,Go,Ra,Fa]),scrollProgress:LC,scrollSnapList:xt.map(LC.get),scrollSnaps:xt,scrollTarget:cv,scrollTo:dv,slideLooper:J5(wt,di,Ct,ke,Me,xi,xt,Go,e),slideFocus:IF,slidesHandler:e4(n,a,Y),slidesInView:MF,slideIndexes:jt,slideRegistry:BC,slidesToScroll:bi,target:Fa,translate:tA(wt,n)};return uv}function o4(){let t={},n;function e(c){n=c}function i(c){return t[c]||[]}function r(c){return i(c).forEach(d=>d(n,c)),l}function o(c,d){return t[c]=i(c).concat([d]),l}function a(c,d){return t[c]=i(c).filter(u=>u!==d),l}function s(){t={}}let l={init:e,emit:r,off:a,on:o,clear:s};return l}var a4={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function s4(t){function n(o,a){return JI(o,a||{})}function e(o){let a=o.breakpoints||{},s=Iu(a).filter(l=>t.matchMedia(l).matches).map(l=>a[l]).reduce((l,c)=>n(l,c),{});return n(o,s)}function i(o){return o.map(a=>Iu(a.breakpoints||{})).reduce((a,s)=>a.concat(s),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:e,optionsMediaQueries:i}}function l4(t){let n=[];function e(o,a){return n=a.filter(({options:s})=>t.optionsAtMedia(s).active!==!1),n.forEach(s=>s.init(o,t)),a.reduce((s,l)=>Object.assign(s,{[l.name]:l}),{})}function i(){n=n.filter(o=>o.destroy())}return{init:e,destroy:i}}function tg(t,n,e){let i=t.ownerDocument,r=i.defaultView,o=s4(r),a=l4(o),s=Au(),l=o4(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=o,{on:v,off:y,emit:g}=l,S=wt,P=!1,M,z=c(a4,tg.globalOptions),G=c(z),Y=[],ge,me,de;function be(){let{container:jt,slides:Be}=G;me=(zS(jt)?t.querySelector(jt):jt)||t.children[0];let Ti=zS(Be)?me.querySelectorAll(Be):Be;de=[].slice.call(Ti||me.children)}function oe(jt){let Be=r4(t,me,de,i,r,jt,l);if(jt.loop&&!Be.slideLooper.canLoop()){let Gt=Object.assign({},jt,{loop:!1});return oe(Gt)}return Be}function tt(jt,Be){P||(z=c(z,jt),G=d(z),Y=Be||Y,be(),M=oe(G),u([z,...Y.map(({options:Gt})=>Gt)]).forEach(Gt=>s.add(Gt,"change",wt)),G.active&&(M.translate.to(M.location.get()),M.animation.init(),M.slidesInView.init(),M.slideFocus.init(Ki),M.eventHandler.init(Ki),M.resizeHandler.init(Ki),M.slidesHandler.init(Ki),M.options.loop&&M.slideLooper.loop(),me.offsetParent&&de.length&&M.dragHandler.init(Ki),ge=a.init(Ki,Y)))}function wt(jt,Be){let Gt=bi();di(),tt(c({startIndex:Gt},jt),Be),l.emit("reInit")}function di(){M.dragHandler.destroy(),M.eventStore.clear(),M.translate.clear(),M.slideLooper.clear(),M.resizeHandler.destroy(),M.slidesHandler.destroy(),M.slidesInView.destroy(),M.animation.destroy(),a.destroy(),s.clear()}function Cn(){P||(P=!0,s.clear(),di(),l.emit("destroy"),l.clear())}function Ln(jt,Be,Gt){!G.active||P||(M.scrollBody.useBaseFriction().useDuration(Be===!0?0:G.duration),M.scrollTo.index(jt,Gt||0))}function Nn(jt){let Be=M.index.add(1).get();Ln(Be,jt,-1)}function _e(jt){let Be=M.index.add(-1).get();Ln(Be,jt,1)}function ke(){return M.index.add(1).get()!==bi()}function Me(){return M.index.add(-1).get()!==bi()}function at(){return M.scrollSnapList}function ti(){return M.scrollProgress.get(M.offsetLocation.get())}function bi(){return M.index.get()}function xi(){return M.indexPrevious.get()}function gn(){return M.slidesInView.get()}function Ct(){return M.slidesInView.get(!1)}function $o(){return ge}function Pa(){return M}function xt(){return t}function ai(){return me}function ui(){return de}let Ki={canScrollNext:ke,canScrollPrev:Me,containerNode:ai,internalEngine:Pa,destroy:Cn,off:y,on:v,emit:g,plugins:$o,previousScrollSnap:xi,reInit:S,rootNode:xt,scrollNext:Nn,scrollPrev:_e,scrollProgress:ti,scrollSnapList:at,scrollTo:Ln,selectedScrollSnap:bi,slideNodes:ui,slidesInView:gn,slidesNotInView:Ct};return tt(n,e),setTimeout(()=>l.emit("init"),0),Ki}tg.globalOptions=void 0;var ig=(()=>{class t{constructor(){this.activityService=_(Ue),this.battleService=_(it),this.dialog=_(et),this.characterService=_(ae),this.logService=_(St),this.mainLoopService=_(pe)}doActivity(e){if(this.battleService.enemies.length>0)return;if(!this.activityService.meetsRequirements(e)){this.logService.log(w.EVENT,e.name[e.level]+" is unavailable now.");return}let i=this.activityService.checkResourceUse(e);if(i!==""){this.characterService.flashStatus(i),this.logService.log(w.EVENT,"You don't meet the requirements to do "+e.name[e.level]+" right now.");return}this.activityService.immediateActivity=e,this.mainLoopService.tick(),this.activityService.immediateActivity=null}showActivity(e,i){e.stopPropagation();let r=i.description[i.level]+`

`+i.consequenceDescription[i.level];r+=this.activityService.getYinYangDescription(i.yinYangEffect[i.level]),i.projectionOnly&&(r+=`

This activity can only be performed by a spiritual projection of yourself back in the mortal realm.`);let o={titleText:i.name[i.level],bodyTextArray:[r],imageFiles:[""]};i.imageBaseName&&(o.imageFiles=["assets/images/activities/"+i.imageBaseName+i.level+".png"]),this.dialog.open(ao,{width:"400px",data:o,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var c4=(t,n)=>({projectionOnly:t,lockedActivity:n}),d4=(t,n)=>n.trackField();function u4(t,n){if(t&1){let e=U();m(0,"mat-icon",13),D("click",function(r){k(e);let o=b(2).$implicit,a=b();return E(a.scheduleActivity(o.activity,r))})("contextmenu",function(r){k(e);let o=b(2).$implicit,a=b();return E(a.rightClick(o.activity,r))}),p(1," event "),f()}if(t&2){let e=b(2).$implicit;A("tooltip",X(e.scheduleTooltip()))}}function h4(t,n){t&1&&(m(0,"mat-icon",9),p(1," model_training "),f())}function m4(t,n){t&1&&(m(0,"mat-icon",10),p(1," supervisor_account "),f())}function p4(t,n){if(t&1&&(m(0,"mat-icon",11),p(1," attach_money "),f()),t&2){let e=b(2).$implicit;A("tooltip",X(e.lastIncomeString()))}}function f4(t,n){if(t&1){let e=U();m(0,"div",4),D("click",function(){k(e);let r=b().$implicit,o=b();return E(o.activityPanelService.doActivity(r.activity))}),m(1,"div",5)(2,"span"),p(3),f()(),m(4,"div",6)(5,"span"),x(6,u4,2,2,"mat-icon",7),f(),m(7,"span",8),x(8,h4,2,0,"mat-icon",9),x(9,m4,2,0,"mat-icon",10),x(10,p4,2,2,"mat-icon",11),m(11,"mat-icon",12),D("click",function(r){k(e);let o=b().$implicit,a=b();return E(a.activityPanelService.showActivity(r,o.activity))}),p(12," help "),f()()()()}if(t&2){let e=b().$implicit,i=b();A("ngClass",mi(9,c4,e.projectionOnly(),e.locked()))("tabindex",0),h(),A("tooltip",X(e.tooltip())),h(2),he(e.name()),h(3),T(i.mainLoopService.timeUnlocked?6:-1),h(2),T(e.apprenticeshipRequired()?8:-1),h(),T(e.familySpecialty()?9:-1),h(),T(e.displayLastIncome()?10:-1)}}function g4(t,n){if(t&1&&x(0,f4,13,12,"div",3),t&2){let e=n.$implicit;T(e.displayed()?0:-1)}}var iA=(()=>{class t{constructor(){this.Math=Math,this.activityService=_(Ue),this.activityPanelService=_(ig),this.battleService=_(it),this.characterService=_(ae),this.hellService=_(Fe),this.mainLoopService=_(pe)}scheduleActivity(e,i){if(i.stopPropagation(),e.projectionOnly){this.activityService.spiritActivity=e.activityType;return}let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}rightClick(e,i){i.preventDefault(),i.stopPropagation(),this.activityService.spiritActivity=e.activityType}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-activities"]],decls:6,vars:0,consts:[[1,"activitiesContainer"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"activityGrid"],[1,"activitySlot",3,"ngClass","tabindex"],[1,"activitySlot",3,"click","ngClass","tabindex"],[1,"activityLabel",3,"tooltip"],[1,"activityButtons"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"tooltip"],[1,"floatRight"],["tooltip","This activity requires that you go through an apprenticeship.<br>You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn.<br>Once you've started, other trades may be closed off until your next life.","aria-label","Requires an apprenticeship","aria-hidden","false"],["tooltip","This activity is a family specialty, and you will do it better than you could if your ancestors hadn't practiced this so much.","aria-label","Family Specialty","aria-hidden","false"],["aria-label","Earns money","aria-hidden","false",3,"tooltip"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"click","contextmenu","tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),ne(3,g4,1,1,null,null,d4),f()()(),H(5,"br")),i&2&&(h(3),re(r.activityService.displayActivities))},dependencies:[ji,gt,sn,De,ye],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-y:auto}td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.activitiesHeader[_ngcontent-%COMP%]{display:flex}.activitiesContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto}.activityGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:calc(50vw - 6px);display:flex;flex-direction:column;gap:4px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--qiColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0;display:flex;justify-content:space-between}.activity-btn-group[_ngcontent-%COMP%]{display:flex}']})}}return t})();var v4=t=>({indeterminate:t}),nA=(t,n)=>({currentRow:t,disabled:n}),y4=(t,n)=>n.activity;function b4(t,n){if(t&1){let e=U();m(0,"div")(1,"span",4),p(2,"BATTLING!!!"),f()(),m(3,"div")(4,"span"),p(5,"Your schedule will resume when the battle is over."),f()(),m(6,"div")(7,"span"),p(8,"Days will not pass, but your perception of time will influence the speed of the battle."),f()(),m(9,"div")(10,"button",5),D("click",function(){k(e);let r=b();return E(r.battleService.battleMessageDismissed=!0)}),p(11,"Got it. Now let me see my schedule anyway during battles."),f()()}}function _4(t,n){if(t&1){let e=U();m(0,"tr")(1,"td"),p(2),f(),m(3,"td")(4,"div",9),H(5,"span"),f()(),m(6,"td")(7,"mat-icon",10),D("click",function(){k(e);let r=b(3);return E(r.removeSpiritActivity())}),p(8,"clear"),f()()()}if(t&2){let e=b(3);h(2),he(e.activityService.getActivityName(e.activityService.spiritActivity)),h(2),A("ngClass",ft(2,v4,e.activityService.spiritActivityProgress&&!e.mainLoopService.pause))}}function S4(t,n){if(t&1&&(m(0,"table",6)(1,"tr")(2,"td",8),p(3," Spiritual Projection "),f()(),x(4,_4,9,4,"tr"),f()),t&2){let e=b(2);h(4),T(e.activityService.spiritActivity!==null?4:-1)}}function w4(t,n){if(t&1){let e=U();m(0,"div",11)(1,"mat-icon",12),D("click",function(r){k(e);let o=b().$implicit,a=b(2);return E(a.showActivity(r,o.activity))}),p(2," help "),f(),m(3,"div",13)(4,"div"),p(5),f(),m(6,"div",14),H(7,"span"),f()()(),m(8,"div",11)(9,"mat-icon",15),D("click",function(r){k(e);let o=b().$implicit,a=b(2);return E(a.onMinusClick(o,r))}),p(10,"remove"),f(),m(11,"mat-icon",16),D("click",function(r){k(e);let o=b().$implicit,a=b(2);return E(a.onPlusClick(o,r))}),p(12,"add"),f(),m(13,"mat-icon",17),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.onDisableClick(r))}),p(14,"cancel"),f(),m(15,"mat-icon",10),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.onRemoveClick(r))}),p(16,"clear"),f()()}if(t&2){let e=b(),i=e.$implicit,r=e.$index,o=b(2);A("id",bt("activityLoopIndex0",r))("ngClass",mi(11,nA,r===o.activityService.currentIndex,i.disabled||i.userDisabled||o.battleService.enemies.length>0)),h(5),kr(" ",o.activityService.getActivityName(i.activity)," (",i.repeatTimes," ",i.repeatTimes===1?"day":"days",") "),h(2),Je("width",100*(r!==o.activityService.currentIndex||i.disabled||i.userDisabled?i.repeatTimes:o.activityService.currentTickCount)/i.repeatTimes,"%"),h(),A("id",bt("activityLoopIndex1",r))("ngClass",mi(14,nA,r===o.activityService.currentIndex,i.disabled||i.userDisabled||o.battleService.enemies.length>0))}}function C4(t,n){if(t&1&&x(0,w4,17,17),t&2){let e=n.$implicit,i=b(2);T(i.activityService.getActivityName(e.activity)!==""?0:-1)}}function k4(t,n){if(t&1){let e=U();m(0,"div",3)(1,"button",5),D("click",function(){k(e);let r=b();return E(r.enableAllClick())}),p(2,"Enable All"),f(),m(3,"button",5),D("click",function(){k(e);let r=b();return E(r.disableAllClick())}),p(4,"Disable All"),f(),x(5,S4,5,1,"table",6),m(6,"div",7),ne(7,C4,1,1,null,null,y4),f()()}if(t&2){let e=b();h(5),T(e.characterService.qiUnlocked?5:-1),h(2),re(e.activityService.activityLoop)}}var rA=(()=>{class t{constructor(){this.activityService=_(Ue),this.battleService=_(it),this.characterService=_(ae),this.mainLoopService=_(pe),this.dialog=_(et)}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}onDisableClick(e){e.userDisabled=!e.userDisabled,e.userDisabled||this.activityService.checkRequirements(!0)}disableAllClick(){for(let e of this.activityService.activityLoop)e.userDisabled=!0}enableAllClick(){for(let e of this.activityService.activityLoop)e.userDisabled=!1}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}showActivity(e,i){e.stopPropagation();let r=this.activityService.getActivityByType(i);if(r===null)return;let o=r.description[r.level]+`

`+r.consequenceDescription[r.level];o+=this.activityService.getYinYangDescription(r.yinYangEffect[r.level]),r.projectionOnly&&(o+=`

This activity can only be performed by a spiritual projection of yourself back in the mortal realm.`);let a={titleText:r.name[r.level],bodyTextArray:[o],imageFiles:[""]};r.imageBaseName&&(a.imageFiles=["assets/images/activities/"+r.imageBaseName+r.level+".png"]),this.dialog.open(ao,{width:"400px",data:a,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-time"]],decls:8,vars:5,consts:[["id","activityDropDiv",1,"dropAccepter"],["type","checkbox","id","useSavedTicks",3,"change","checked"],["for","useSavedTicks"],["cdkDropList","","cdkDropListSortingDisabled","",1,"overflow"],[1,"battleWarning"],[3,"click"],["id","spiritActivity",1,"spiritActivityPanel"],[1,"schedule-grid"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work.<br>Whatever activity you drop here will be completed each day as long as you have enough Qi to support the effort.<br>Requires 5 Qi per day in addition to the regular requirements of the activity.",1,"spiritProjectionLabel"],[1,"progress-bar",3,"ngClass"],["tooltip","Remove this activity from the schedule.","aria-label","Remove Activity","aria-hidden","false",1,"iconButton",3,"click"],[1,"grid-cell",3,"ngClass","id"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",3,"click"],[1,"activity-title-and-bar"],[1,"progress-bar"],["tooltip","Spend fewer days on this.<br>Shift- or Ctrl-click to remove 10x<br>Shift-Ctrl-click to remove 100x","aria-label","Remove Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Spend more days on this.<br>Shift- or Ctrl-click to add 10x<br>Shift-Ctrl-click to add 100x","aria-label","Add Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Disable this activity on the schedule.","aria-label","Disable Activity","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h6")(2,"input",1),D("change",function(a){return r.useSavedTicks(a)}),f(),m(3,"label",2),p(4),B(5,"bigNumber"),f()(),x(6,b4,12,0)(7,k4,9,1,"div",3),f()),i&2&&(h(2),A("checked",r.mainLoopService.useBankedTicks),h(2),N("Use banked time to accelerate reality. ",V(5,3,r.mainLoopService.displayBankedTicks())," banked moments left."),h(2),T(r.battleService.enemies.length>0&&!r.battleService.battleMessageDismissed?6:7))},dependencies:[ji,gt,sn,De,ye,Ve],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%;border-spacing:0}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:32px;min-width:32px;width:32px;font-size:32px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}h6[_ngcontent-%COMP%]{margin-bottom:0}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--qiColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}.disabledSchedule[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.battleWarning[_ngcontent-%COMP%]{color:var(--healthColor);font-size:x-large}.schedule-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto min-content;gap:4px}.grid-cell[_ngcontent-%COMP%]{display:flex;white-space:nowrap;align-items:center}.activity-title-and-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]})}}return t})();var E4=(t,n)=>n.value.displayKey()+n.value.displayValue();function x4(t,n){if(t&1&&(m(0,"div",2)(1,"div",4),B(2,"camelToTitle"),m(3,"mat-icon"),p(4),f(),m(5,"span"),p(6),B(7,"camelToTitle"),f()(),m(8,"div",4),B(9,"bigNumber"),B(10,"camelToTitle"),B(11,"bigNumber"),m(12,"span"),p(13),B(14,"bigNumber"),f()(),m(15,"div",3)(16,"span"),p(17),B(18,"bigNumber"),f()()()),t&2){let e=b().$implicit;h(),A("tooltip",on("",V(2,11,e.value.displayKey()),"<br>",e.value.description)),h(3),he(e.value.icon),h(2),N(" ",V(7,13,e.value.displayKey())," "),h(2),A("tooltip",Pd("Your aptitude of ",V(9,15,e.value.displayAptitude())," multiplies your ",V(10,17,e.key)," gains by ",V(11,19,e.value.aptitudeMult),".")),h(5),N(" ",V(14,21,e.value.displayAptitude())," "),h(4),N(" ",V(18,23,e.value.displayValue())," ")}}function T4(t,n){if(t&1&&x(0,x4,19,25,"div",2),t&2){let e=n.$implicit,i=b(2);T(e.value.displayValue()!==0||i.characterService.highestAttributes[e.key]()?0:-1)}}function D4(t,n){if(t&1&&(m(0,"div",2)(1,"span"),p(2),B(3,"camelToTitle"),f()(),ne(4,T4,1,1,null,null,E4),B(6,"keyvalue")),t&2){let e=n.$implicit,i=b();h(2),N(" ",V(3,1,e)," "),h(2),re(zn(6,3,i.attributesByGroup[e],i.originalOrder))}}var ng=(()=>{class t{constructor(e,i){this.characterService=e,this.mainLoopService=i,this.groups=[jo,uS,uo,As,Gn],this.originalOrder=()=>0,this.attributesByGroup={};for(let r of this.groups)this.attributesByGroup[r]={};for(let r in this.characterService.attributes){let o=r,a=this.characterService.attributes[o];this.attributesByGroup[a.attributeGroup][r]=a}}static{this.\u0275fac=function(i){return new(i||t)(R(ae),R(pe))}}static{this.\u0275cmp=$({type:t,selectors:[["app-attributes-panel"]],decls:13,vars:0,consts:[[1,"attributesContainer"],[1,"attributesTable"],[1,"attributeLine"],[1,"attributeColumn"],[1,"attributeColumn",3,"tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),H(4,"span"),f(),m(5,"div",3)(6,"span"),p(7,"Aptitude"),f()(),m(8,"div",3)(9,"span"),p(10,"Value"),f()()(),ne(11,D4,7,6,null,null,vt),f()()),i&2&&(h(11),re(r.groups))},dependencies:()=>[De,ye,hs,Pt,Ve],styles:["h3[_ngcontent-%COMP%]{width:100%}span[_ngcontent-%COMP%]{font-size:14px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.attributesContainer[_ngcontent-%COMP%]{display:flex;overflow-y:auto;flex:auto;width:100%;height:100%}.attributesTable[_ngcontent-%COMP%]{flex:1;border-collapse:collapse;margin-left:4px;margin-right:4px;display:flex;flex-direction:column}.attributeColumn[_ngcontent-%COMP%]{align-content:center;margin-left:2px;margin-right:2px;flex-grow:1;flex-basis:0;overflow:hidden}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;display:flex;flex-direction:row}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:relative;color:var(--popupTextColor);z-index:10000;font-size:x-small;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}"]})}}return t})();var M4=(t,n)=>n.id;function I4(t,n){t&1&&(m(0,"div"),p(1,"OWNED"),f())}function A4(t,n){if(t&1&&(m(0,"div"),p(1),B(2,"bigNumber"),f()),t&2){let e=b(2).$implicit;h(),N("$ ",V(2,1,e.value))}}function P4(t,n){if(t&1){let e=U();m(0,"div")(1,"div",2),D("click",function(){k(e);let r=b().$implicit,o=b();return E(o.storeService.buyFurniture(r))}),m(2,"div"),p(3),B(4,"titlecase"),f(),x(5,I4,2,0,"div")(6,A4,3,3,"div"),f()()}if(t&2){let e=b().$implicit,i=b();h(),A("tooltip",X(i.homeService.getFurnitureTooltip(e))),h(2),he(V(4,4,e.name)),h(2),T(i.homeService.ownedFurniture.includes(e.id)?5:6)}}function R4(t,n){if(t&1&&x(0,P4,7,6,"div"),t&2){let e=n.$implicit;T(e.locked?-1:0)}}var oA=(()=>{class t{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0}static{this.\u0275fac=function(i){return new(i||t)(R(Fi),R(ae),R(Qe),R(se),R(oi),R(nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-furniture-store-modal"]],decls:8,vars:0,consts:[[1,"darkMode","furnitureModal"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Furniture Shop"),f(),H(3,"hr")(4,"br"),m(5,"div",1),ne(6,R4,1,1,null,null,M4),f()()),i&2&&(h(6),re(r.itemRepoService.furniture))},dependencies:()=>[ye,yt,Ve],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;max-height:600px}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]})}}return t})();var rg=(()=>{class t{constructor(){this.isMobile=C(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function F4(t,n){t&1&&(m(0,"div")(1,"span"),p(2," Your home is a distant memory, and can't help you here in hell. "),f()())}function O4(t,n){if(t&1&&(m(0,"div",5),H(1,"span"),f(),H(2,"span",6)),t&2){let e=b(2);Te("value",e.buildTimeYears()),h(),Je("width",100*e.homeService.houseBuildingProgress,"%")}}function L4(t,n){if(t&1){let e=U();m(0,"mat-icon",7),D("click",function(){k(e);let r=b(2);return E(r.homeService.downgradeHome())}),p(1," keyboard_double_arrow_down "),f()}}function N4(t,n){if(t&1){let e=U();m(0,"mat-icon",8),D("click",function(){k(e);let r=b(2);return E(r.homeService.upgradeToNextHome())}),p(1," add_home "),f(),m(2,"mat-icon",9),D("click",function(){k(e);let r=b(2);return E(r.homeService.buyLand(1))}),p(3," landscape_2 "),f()}if(t&2){let e=b(2);A("tooltip",X(e.homeService.nextHome.upgradeToTooltip))}}function B4(t,n){if(t&1&&(m(0,"div",4)(1,"span"),p(2),B(3,"bigNumber"),f()()),t&2){let e=b(2);h(2),N(" Automatically restores ",V(3,1,e.homeService.displayHome.healthRecovery())," health each night ")}}function V4(t,n){if(t&1&&(m(0,"div",4)(1,"span"),p(2),B(3,"bigNumber"),f()()),t&2){let e=b(2);h(2),N(" Automatically restores ",V(3,1,e.homeService.displayHome.staminaRecovery())," stamina each night ")}}function j4(t,n){if(t&1&&(m(0,"div",4)(1,"span"),p(2),B(3,"bigNumber"),f()()),t&2){let e=b(2);h(2),N(" Automatically restores ",V(3,1,e.homeService.displayHome.qiRecovery())," qi each night ")}}function H4(t,n){if(t&1&&(m(0,"div",4)(1,"span"),p(2),B(3,"bigNumber"),f()()),t&2){let e=b(2);h(2),Qt("It costs ",V(3,2,e.homeService.displayHome.costPerDay())," ",e.homeService.displayHome.costPerDay()===1?"tael":"taels"," per day to maintain your home")}}function q4(t,n){if(t&1&&(m(0,"span"),p(1),f()),t&2){let e=b(3);h(),Qt(" has room for ",e.homeService.openBedroomFurnitureSlots," more piece",e.homeService.openBedroomFurnitureSlots>1?"s":""," of furniture")}}function U4(t,n){t&1&&(m(0,"span"),p(1," (no more room for furniture)"),f())}function z4(t,n){if(t&1){let e=U();H(0,"hr"),m(1,"div")(2,"span"),p(3,"Your Bedroom"),f(),x(4,q4,2,2,"span")(5,U4,2,0,"span"),f(),m(6,"table",10)(7,"tr")(8,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(0))}),p(9),B(10,"titlecase"),f(),m(11,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(1))}),p(12),B(13,"titlecase"),f(),m(14,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(2))}),p(15),B(16,"titlecase"),f(),m(17,"td")(18,"span",12),p(19),f()()(),m(20,"tr")(21,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(3))}),p(22),B(23,"titlecase"),f(),m(24,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(4))}),p(25),B(26,"titlecase"),f(),m(27,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(5))}),p(28),B(29,"titlecase"),f()(),m(30,"tr")(31,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(6))}),p(32),B(33,"titlecase"),f(),m(34,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(7))}),p(35),B(36,"titlecase"),f(),m(37,"td",11),D("click",function(){k(e);let r=b(2);return E(r.selectFurniture(8))}),p(38),B(39,"titlecase"),f()(),m(40,"tr")(41,"td",13),p(42," Door "),f()()()}if(t&2){let e=b(2);h(4),T(e.homeService.openBedroomFurnitureSlots>0?4:5),h(4),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(0))),h(),N(" ",V(10,29,e.homeService.bedroomFurniture[0]==null?null:e.homeService.bedroomFurniture[0].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(1))),h(),N(" ",V(13,31,e.homeService.bedroomFurniture[1]==null?null:e.homeService.bedroomFurniture[1].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(2))),h(),N(" ",V(16,33,e.homeService.bedroomFurniture[2]==null?null:e.homeService.bedroomFurniture[2].name)," "),h(4),N("Feng Shui Score: ",e.characterService.fengshuiScore),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(3))),h(),N(" ",V(23,35,e.homeService.bedroomFurniture[3]==null?null:e.homeService.bedroomFurniture[3].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(4))),h(),N(" ",V(26,37,e.homeService.bedroomFurniture[4]==null?null:e.homeService.bedroomFurniture[4].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(5))),h(),N(" ",V(29,39,e.homeService.bedroomFurniture[5]==null?null:e.homeService.bedroomFurniture[5].name)," "),h(3),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(6))),h(),N(" ",V(33,41,e.homeService.bedroomFurniture[6]==null?null:e.homeService.bedroomFurniture[6].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(7))),h(),N(" ",V(36,43,e.homeService.bedroomFurniture[7]==null?null:e.homeService.bedroomFurniture[7].name)," "),h(2),A("tooltip",X(e.homeService.getFurnitureSlotTooltip(8))),h(),N(" ",V(39,45,e.homeService.bedroomFurniture[8]==null?null:e.homeService.bedroomFurniture[8].name)," ")}}function $4(t,n){if(t&1&&(m(0,"div"),x(1,O4,3,3),m(2,"div",1)(3,"span"),p(4),f(),m(5,"div",2),x(6,L4,2,0,"mat-icon",3),x(7,N4,4,2),f()()(),m(8,"div",4)(9,"span"),p(10),f()(),x(11,B4,4,3,"div",4),x(12,V4,4,3,"div",4),x(13,j4,4,3,"div",4),m(14,"div"),x(15,H4,4,4,"div",4),x(16,z4,43,47),f()),t&2){let e=b();h(),T(e.homeService.upgrading?1:-1),h(3),N(" You live in a ",e.homeService.displayHome.name()," "),h(2),T(e.homeService.displayHome.downgradable()?6:-1),h(),T(e.homeService.displayHome.upgradable()?7:-1),h(3),he(e.homeService.displayHome.description()),h(),T(e.homeService.displayHome.healthRecovery()!==0?11:-1),h(),T(e.homeService.displayHome.staminaRecovery()!==0?12:-1),h(),T(e.homeService.displayHome.qiRecovery()!==0?13:-1),h(2),T(!e.hellService.inHell()&&!e.characterService.god()?15:-1),h(),T(e.homeService.displayHome.hasFurniture()&&(!e.hellService.inHell()||e.homeService.hellHome())?16:-1)}}var og=(()=>{class t{constructor(e,i,r,o,a,s,l){this.characterService=e,this.homeService=i,this.followerService=r,this.hellService=o,this.dialog=a,this.storeService=s,this.bignumber=l,this.Math=Math,this.appService=_(rg)}buildTimeYears(){let e=1+this.followerService.jobs.builder.totalPower;return this.bignumber.transform((1-this.homeService.houseBuildingProgress)*this.homeService.nextHome.daysToBuild/e/365)+" years"}selectFurniture(e){this.homeService.bedroomFurniture[e]?this.homeService.setFurniture(null,e):(this.storeService.setFurnitureIndex(e),this.dialog.open(oA,{width:"600px",data:{someField:"foo"},autoFocus:!1}))}static{this.\u0275fac=function(i){return new(i||t)(R(ae),R(Qe),R(ut),R(Fe),R(et),R(Fi),R(Ve))}}static{this.\u0275cmp=$({type:t,selectors:[["app-home-panel"]],decls:4,vars:1,consts:[[1,"homeContainer","overflow"],[1,"home-row"],[1,"icon-group"],["aria-label","Downgrade Home","aria-hidden","false","tooltip","Is your new home too expensive? Downgrade to your previous home.",1,"iconButton"],[1,"homeInfo"],["tooltip","Upgrading your home.",1,"progress-bar"],[2,"margin-left","4px"],["aria-label","Downgrade Home","aria-hidden","false","tooltip","Is your new home too expensive? Downgrade to your previous home.",1,"iconButton",3,"click"],["aria-label","Upgrade Home","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Purchase Land","aria-hidden","false","tooltip","Purchase Land",1,"iconButton",3,"click"],[1,"furnitureSlots"],[1,"itemSlot",3,"click","tooltip"],["tooltip","The Feng Shui of your home can improve your health and wealth."],[1,"itemSlot","doorText"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,F4,3,0,"div")(2,$4,17,10),f(),H(3,"br")),i&2&&(h(),T(r.hellService.inHell()&&!r.homeService.hellHome()?1:2))},dependencies:()=>[ji,De,ye,yt,Ve],styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:2px;padding-right:2px;flex:auto;overflow:auto}.home-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon-group[_ngcontent-%COMP%]{display:flex;gap:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:2px;margin-bottom:2px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin-top:6px;margin-right:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between;white-space:nowrap}.button-group[_ngcontent-%COMP%]{white-space:nowrap}.furnitureSlots[_ngcontent-%COMP%]{margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{line-height:normal;width:50px;height:50px}.doorText[_ngcontent-%COMP%]{width:50px;height:10px;line-height:normal}.progress-bar[_ngcontent-%COMP%]{width:180px;margin-left:4px;vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.hellDisabled[_ngcontent-%COMP%]{opacity:.3}.inputsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}.inputSlot[_ngcontent-%COMP%]{width:52px;height:52px;display:flex;line-height:normal;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.workstationContainer[_ngcontent-%COMP%]{margin:2px;border:1px solid var(--panelBorder);padding:2px}"]})}}return t})();function G4(t,n){t&1&&(O(0,"span",4),p(1," (new)"),F())}function W4(t,n){if(t&1){let e=U();O(0,"input",2),ct("change",function(r){let o=k(e).$implicit,a=b();return E(a.topicFilter(r,o))}),F(),O(1,"label",3),p(2),x(3,G4,2,0,"span",4),F(),Ce(4,"br")}if(t&2){let e=n.$implicit,i=b();ht("id","filter"+e)("checked",i.logService.topicProperties[e].enabled),h(),ht("htmlFor","filter"+e),h(),N(" Show ",e," Log Entries "),h(),T(i.logService.topicProperties[e].hasNewMessages?3:-1)}}var aA=(()=>{class t{constructor(e){this.logService=e,this.logTopics=Object.values(w),this.LogTopic=w}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(St))}}static{this.\u0275cmp=$({type:t,selectors:[["app-log-filter-panel"]],decls:6,vars:0,consts:[[1,"darkMode"],[1,"filters"],["type","checkbox",3,"change","id","checked"],[3,"for"],[1,"highlightText"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Log Filters"),F(),O(3,"span",1),ne(4,W4,5,5,null,null,vt),F()()),i&2&&(h(4),re(r.logTopics))},encapsulation:2})}}return t})();var Y4=(t,n)=>n.message+n.repeat+n.timestamp;function K4(t,n){if(t&1&&(m(0,"span"),p(1),f()),t&2){let e=b().$implicit;h(),N(" (",e.repeat," times)")}}function Q4(t,n){if(t&1&&(m(0,"div",5)(1,"span"),p(2),f(),x(3,K4,2,1,"span"),f()),t&2){let e=n.$implicit;A("ngClass",e.type),h(2),N(" ",e.message," "),h(),T(e.repeat>1?3:-1)}}var ag=(()=>{class t{constructor(e,i,r){this.logService=e,this.gameStateService=i,this.dialog=r}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}logFilterClicked(){this.dialog.open(aA,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(St),R(nt),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-log-panel"]],decls:10,vars:0,consts:[[1,"log"],["aria-label","Filter Log","aria-hidden","false","tooltip","Manage Log Filters",1,"iconButton","optionsIcon",3,"click"],[1,"headerNote"],[1,"logBoxContainer"],[1,"logBox"],[1,"logEntryDiv",3,"ngClass"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3")(2,"mat-icon",1),D("click",function(){return r.logFilterClicked()}),p(3," filter_alt "),f(),m(4,"span",2),p(5,"Newest messages appear at the top."),f()(),m(6,"div",3)(7,"div",4),ne(8,Q4,4,3,"div",5,Y4),f()()()),i&2&&(h(8),re(r.logService.currentLog))},dependencies:()=>[De,gt,ye],styles:[".log[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;flex-grow:1}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBoxContainer[_ngcontent-%COMP%]{overflow:auto;display:flex;flex-direction:column;flex-grow:1}.logBox[_ngcontent-%COMP%]{overflow-anchor:none;display:flex;flex-direction:column;flex-wrap:nowrap}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}"]})}}return t})();var sA=(()=>{class t{constructor(e,i,r){this.battleService=e,this.characterService=i,this.inventoryService=r}potionThresholdChange(e){e.target instanceof HTMLInputElement&&(this.battleService.potionThreshold=Math.floor(parseFloat(e.target.value)))}foodThresholdChange(e){e.target instanceof HTMLInputElement&&(this.battleService.foodThreshold=Math.floor(parseFloat(e.target.value)))}static{this.\u0275fac=function(i){return new(i||t)(R(it),R(ae),R(se))}}static{this.\u0275cmp=$({type:t,selectors:[["app-battle-options-panel"]],decls:21,vars:7,consts:[[1,"darkMode"],["tooltip","Drink potions in your equipment pouches when the status they restore gets below this percentage."],["min","0","type","number",1,"inputBox",3,"change","value"],[3,"tooltip"],[1,"selectFoodStatus",3,"valueChange","value"],["value","health"],["value","stamina"],["value","qi"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Battle Options"),f(),H(3,"hr"),m(4,"div")(5,"span",1),p(6,"Potion Threshold "),m(7,"input",2),D("change",function(a){return r.potionThresholdChange(a)}),f(),p(8,"% "),f()(),m(9,"div")(10,"span",3),p(11,"Pouch Food Threshold "),m(12,"mat-select",4),tr("valueChange",function(a){return Er(r.battleService.foodThresholdStatusType,a)||(r.battleService.foodThresholdStatusType=a),a}),m(13,"mat-option",5),p(14,"Health"),f(),m(15,"mat-option",6),p(16,"Stamina"),f(),m(17,"mat-option",7),p(18,"Qi"),f()(),m(19,"input",2),D("change",function(a){return r.foodThresholdChange(a)}),f(),p(20,"% "),f()()()),i&2&&(h(7),A("value",X(r.battleService.potionThreshold)),h(3),A("tooltip",bt("Eat Soul Food in your equipment pouches when the selected status gets below this percentage.<br>You are limited to eating ",r.inventoryService.maxFoodPerDay," food per day.")),h(2),er("value",r.battleService.foodThresholdStatusType),h(7),A("value",X(r.battleService.foodThreshold)))},dependencies:()=>[fc,pc,ho,ye],styles:[".selectFoodStatus[_ngcontent-%COMP%]{width:100px;color:var(--bodyText);border:1px solid var(--bodyText);font-size:small;margin:4px}[_nghost-%COMP%]     .mat-mdc-select-arrow{color:var(--bodyText)!important}"]})}}return t})();var sg=(t,n)=>n.trackField(),Z4=(t,n)=>n.name();function X4(t,n){if(t&1&&p(0),t&2){let e=b(2);N(" for ",e.battleService.displayFormationDuration()," ticks ")}}function J4(t,n){if(t&1&&(m(0,"div")(1,"span"),p(2),B(3,"titlecase"),x(4,X4,1,1),f()()),t&2){let e=b();h(2),N(" ",V(3,2,e.battleService.displayActiveFormation())," formation active "),h(2),T(e.battleService.displayFormationDuration()>0?4:-1)}}function ez(t,n){if(t&1){let e=U();m(0,"div",6)(1,"div",7)(2,"input",8),D("change",function(r){k(e);let o=b().$index,a=b();return E(a.techniqueEnableChange(r,o))}),f(),m(3,"span"),p(4),f()(),m(5,"div",9),B(6,"bigNumber"),B(7,"bigNumber"),H(8,"span"),f()()}if(t&2){let e=b().$implicit;h(2),A("checked",!e.disabled()),h(2),he(e.name()),h(),Te("value",V(6,6,e.ticks()))("max",V(7,8,e.ticksRequired())),h(3),Je("width",e.ticksPercentage(),"%")}}function tz(t,n){if(t&1&&x(0,ez,9,10,"div",6),t&2){let e=n.$implicit;T(e.unlocked()?0:-1)}}function iz(t,n){if(t&1&&(m(0,"div",5)(1,"div",7)(2,"span"),p(3),f()()()),t&2){let e=n.$implicit;A("tooltip",X(e.description())),h(3),Qt("",e.name()," ",e.ticksLeft())}}function nz(t,n){if(t&1){let e=U();m(0,"div")(1,"button",10),D("click",function(){k(e);let r=b();return E(r.battleService.flee())}),p(2,"Flee Like A Coward"),f()()}}function rz(t,n){if(t&1&&(m(0,"div",6)(1,"div",7)(2,"span"),p(3),f()(),m(4,"div",9),B(5,"bigNumber"),B(6,"bigNumber"),H(7,"span"),f()()),t&2){let e=n.$implicit;h(3),he(e.name()),h(),Te("value",V(5,5,e.ticks()))("max",V(6,7,e.ticksRequired())),h(3),Je("width",e.ticksPercentage(),"%")}}function oz(t,n){if(t&1&&(m(0,"div",5)(1,"div",15),H(2,"img",16),m(3,"span",17),p(4),f()()()),t&2){let e=n.$implicit;A("tooltip",on("",e.name(),"<br>",e.description())),h(2),A("ngSrc",X(e.imageFile()))("alt",X(e.name())),h(2),N("",e.ticksLeft()," ticks left")}}function az(t,n){if(t&1&&(m(0,"div"),H(1,"img",18),f()),t&2){let e=b(2);h(),A("ngSrc",X(e.battleService.enemyImageFile()))}}function sz(t,n){if(t&1&&(m(0,"div")(1,"span"),p(2,"Fighting "),f(),m(3,"span",11),p(4),f()(),m(5,"div",2)(6,"div",3)(7,"div")(8,"span",12)(9,"mat-icon"),p(10,"shield"),f(),p(11),B(12,"bigNumber"),f()(),m(13,"div",13)(14,"div",14),B(15,"bigNumber"),B(16,"bigNumber"),H(17,"span"),f()(),ne(18,rz,8,9,"div",6,sg),ne(20,oz,5,8,"div",5,sg),f(),m(22,"div",3),x(23,az,2,2,"div"),f()()),t&2){let e=n.$implicit,i=b();h(4),he(e.name()),h(7),he(V(12,7,e.defense())),h(3),Te("value",V(15,9,e.health()))("max",V(16,11,e.maxHealth())),h(3),Je("width",e.healthPercentage(),"%"),h(),re(e.techniques),h(2),re(e.statusEffects),h(3),T(i.battleService.enemyImageFile()!==""?23:-1)}}var lg=(()=>{class t{constructor(e,i,r){this.battleService=e,this.characterService=i,this.dialog=r,this.Math=Math}battleOptions(){this.dialog.open(sA,{width:"700px",data:{someField:"foo"},autoFocus:!1})}techniqueEnableChange(e,i){e.target instanceof HTMLInputElement&&(this.battleService.techniques[i].disabled=!e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(it),R(ae),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-battle-panel"]],decls:24,vars:2,consts:[[1,"battleContainer"],["tooltip","Options","aria-label","Battle Settings","aria-hidden","false",1,"iconButton","rightAligned",3,"click"],[1,"columnDiv"],[1,"splitDiv"],[1,"headerDiv"],[1,"techniqueLine",3,"tooltip"],[1,"techniqueLine"],[1,"techniqueName"],["type","checkbox",3,"change","checked"],[1,"technique-bar"],[3,"click"],[1,"enemyName"],["tooltip","Defense"],[1,"health"],[1,"progress-bar"],[1,"statusRow"],["width","24","height","24","priority","",1,"monsterImage",3,"ngSrc","alt"],[1,"statusText"],["alt","A Monster!","width","80","height","100","priority","",1,"monsterImage",3,"ngSrc"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div")(2,"mat-icon",1),D("click",function(){return r.battleOptions()}),p(3," settings "),f(),m(4,"div",2)(5,"div",3)(6,"div",4)(7,"span"),p(8,"Your Techniques"),f()(),x(9,J4,5,4,"div"),ne(10,tz,1,1,null,null,sg),H(12,"br"),ne(13,iz,4,4,"div",5,sg),H(15,"br"),x(16,nz,3,0,"div"),f(),m(17,"div",3)(18,"div",4)(19,"span"),p(20,"Your Enemies"),f()(),ne(21,sz,24,13,null,null,Z4),f()()()(),H(23,"br")),i&2&&(h(9),T(r.battleService.displayActiveFormation()!==""?9:-1),h(),re(r.battleService.displayTechniques),h(3),re(r.battleService.displayStatusEffects),h(3),T(r.battleService.enemiesPresent()?16:-1),h(5),re(r.battleService.displayEnemies))},dependencies:()=>[De,ye,In,yt,Ve],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.technique-bar[_ngcontent-%COMP%]{vertical-align:-.5em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:2px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{overflow-y:auto;flex-grow:1;margin:4px}.columnDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row}.splitDiv[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;margin-left:2px;margin-right:2px}.headerDiv[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);font-size:large;height:24px;margin-top:6px;margin-bottom:2px}.monsterImage[_ngcontent-%COMP%]{border:3px solid var(--panelBorder);margin-right:4px}.enemyName[_ngcontent-%COMP%]{min-width:200px}.techniqueLine[_ngcontent-%COMP%]{margin-top:2px}.techniqueName[_ngcontent-%COMP%]{margin-right:2px}.statusRow[_ngcontent-%COMP%]{display:flex}.statusText[_ngcontent-%COMP%]{align-content:center}"]})}}return t})();function ZS(t){let n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?dA(t,n):(i==="input"||i==="select"||i==="textarea")&&cA(t,n),lA("canvas",t,n,dA),lA("input, textarea, select",t,n,cA),n}function lA(t,n,e,i){let r=n.querySelectorAll(t);if(r.length){let o=e.querySelectorAll(t);for(let a=0;a<r.length;a++)i(r[a],o[a])}}var lz=0;function cA(t,n){n.type!=="file"&&(n.value=t.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${lz++}`)}function dA(t,n){let e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function nw(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function XS(t,n,e){let{top:i,bottom:r,left:o,right:a}=t;return e>=i&&e<=r&&n>=o&&n<=a}function cz(t,n){let e=n.left<t.left,i=n.left+n.width>t.right,r=n.top<t.top,o=n.top+n.height>t.bottom;return e||i||r||o}function Ou(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function uA(t,n,e,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=t,d=l*n,u=c*n;return i>r-u&&i<a+u&&e>s-d&&e<o+d}var cg=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:nw(e)})})}handleScroll(n){let e=fi(n),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&Ou(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function kA(t,n){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let i=n.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function rw(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];r?t.setProperty(i,r,e?.has(i)?"important":""):t.removeProperty(i)}return t}function yc(t,n){let e=n?"":"none";rw(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function hA(t,n,e){rw(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function dg(t,n){return n&&n!="none"?t+" "+n:t}function mA(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=Lu(n.left,n.top)}function Lu(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function pA(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function dz(t){let n=getComputedStyle(t),e=KS(n,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=KS(n,"transition-duration"),a=KS(n,"transition-delay");return pA(o[r])+pA(a[r])}function KS(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}var uz=new Set(["position"]),JS=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,i,r,o,a,s,l,c,d){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),fA(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return dz(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,i=n?n.template:null,r;if(i&&n){let o=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),r=kA(a,this._document),this._previewEmbeddedView=a,n.matchSize?mA(r,o):r.style.transform=Lu(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=ZS(this._rootElement),mA(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return rw(r.style,{"pointer-events":"none",margin:fA(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},uz),yc(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function fA(t){return"showPopover"in t}var hz={passive:!0},gA={passive:!1},mz={passive:!1,capture:!0},pz=800,vA="cdk-drag-placeholder",yA=new Set(["position"]),ew=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=C(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Z;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=qe.EMPTY;_pointerUpSubscription=qe.EMPTY;_scrollSubscription=qe.EMPTY;_resizeSubscription=qe.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>yc(e,n)))}_disabled=!1;beforeStarted=new Z;started=new Z;released=new Z;ended=new Z;entered=new Z;exited=new Z;dropped=new Z;moved=this._moveEvents;data;constrainPosition;constructor(n,e,i,r,o,a,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new cg(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>Ci(i)),this._handles.forEach(i=>yc(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=Ci(n);if(e!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,gA),i.listen(e,"touchstart",this._pointerDown,hz),i.listen(e,"dragstart",this._nativeDragStart,gA)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Ci(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&cz(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),i=0,r=0;e.left<n.left?i=n.left-e.left:e.right>n.right&&(i=n.right-e.right),e.top<n.top?r=n.top-e.top:e.bottom>n.bottom&&(r=n.bottom-e.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+i,l=a+r;this._rootElement.style.transform=Lu(s,l),this._activeTransform={x:s,y:l},this._passiveTransform={x:s,y:l}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),yc(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),yc(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!s){this._endDragSequence(n);return}(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Ru(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",fz,mz)}),i){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new JS(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),hA(r,!1,yA),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=Ru(e),o=!r&&e.button!==0,a=this._rootElement,s=fi(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+pz>Date.now(),c=r?Ss(e):_s(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){let v=a.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=nw(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){hA(this._rootElement,!0,yA),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(n),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,n,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=s=>{(!s||this._preview&&fi(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=kA(this._placeholderRef,this._document)):i=ZS(this._rootElement),i.style.pointerEvents="none",i.classList.add(vA),i}_getPointerPositionInElement(n,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():n,a=Ru(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-n.left+l,y:o.top-n.top+c}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),i=Ru(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=s.top+a,u=s.bottom-(c-a),v=s.left+o,y=s.right-(l-o);i=bA(i,v,y),r=bA(r,d,u)}return{x:i,y:r}}_updatePointerDirectionDelta(n){let{x:e,y:i}=n,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,yc(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let i=1/this.scale,r=Lu(n*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=dg(r,this._initialTransform)}_applyPreviewTransform(n,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=Lu(n,e);this._preview.setTransform(dg(r,i))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(n+=o),a>0&&(n-=a)):n=0,r.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:Ru(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let i=fi(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Ou(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ws(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let i=this._previewContainer||"global";if(i==="parent")return n;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ci(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}_conditionallyInsertAnchor(n,e,i){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let r=this._anchor??=ZS(this._placeholder);r.classList.remove(vA),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):Ci(e.element).appendChild(r)}}};function bA(t,n,e){return Math.max(n,Math.min(e,t))}function Ru(t){return t.type[0]==="t"}function fz(t){t.preventDefault()}function EA(t,n,e){let i=_A(n,t.length-1),r=_A(e,t.length-1);if(i===r)return;let o=t[i],a=r<i?-1:1;for(let s=i;s!==r;s+=a)t[s]=t[s+a];t[r]=o}function _A(t,n){return Math.max(0,Math.min(n,t))}var ug=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,i,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,i,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(P=>P.drag===n),c=o[a],d=o[l].clientRect,u=c.clientRect,v=l>a?1:-1,y=this._getItemOffsetPx(d,u,v),g=this._getSiblingOffsetPx(l,o,v),S=o.slice();return EA(o,l,a),o.forEach((P,M)=>{if(S[M]===P)return;let z=P.drag===n,G=z?y:g,Y=z?n.getPlaceholderElement():P.drag.getRootElement();P.offset+=G;let ge=Math.round(P.offset*(1/P.drag.scale));s?(Y.style.transform=dg(`translate3d(${ge}px, 0, 0)`,P.initialTransform),Ou(P.clientRect,0,G)):(Y.style.transform=dg(`translate3d(0, ${ge}px, 0)`,P.initialTransform),Ou(P.clientRect,G,0))}),this._previousSwap.overlaps=XS(u,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(n,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,i):r,a=this._activeDraggables,s=a.indexOf(n),l=n.getPlaceholderElement(),c=a[o];if(c===n&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),a.splice(o,0,n)}else this._element.appendChild(l),a.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(e=>e.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{Ou(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:nw(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,e,i){let r=this.orientation==="horizontal",o=r?e.left-n.left:e.top-n.top;return i===-1&&(o+=r?e.width-n.width:e.height-n.height),o}_getSiblingOffsetPx(n,e,i){let r=this.orientation==="horizontal",o=e[n].clientRect,a=e[n+i*-1],s=o[r?"width":"height"]*i;if(a){let l=r?"left":"top",c=r?"right":"bottom";i===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return r?n>=a.right:e>=a.bottom}else{let a=i[0].clientRect;return r?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,i,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===n)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},tw=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(n)}sort(n,e,i,r){let o=this._getItemIndexFromPointerPosition(n,e,i),a=this._previousSwap;if(o===-1||this._activeItems[o]===n)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(n),c=n.getPlaceholderElement(),d=s.getRootElement();o>l?d.after(c):d.before(c),EA(this._activeItems,l,o);let u=this._getRootNode().elementFromPoint(e,i);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:o}}enter(n,e,i,r){let o=this._activeItems.indexOf(n);o>-1&&this._activeItems.splice(o,1);let a=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,i):r;a===-1&&(a=this._getClosestItemIndexToPointer(n,e,i));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,n),s.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===n&&r.nextSibling!==o&&(o===null?n.appendChild(r):o.parentNode===n&&n.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,n)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=ws(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==n){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,i-c);d<r&&(r=d,o=a)}}return o}},SA=.05,xA=.05,sr=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t})(sr||{}),wn=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t})(wn||{}),iw=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Z;entered=new Z;exited=new Z;dropped=new Z;sorted=new Z;receivingStarted=new Z;receivingStopped=new Z;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=qe.EMPTY;_verticalScrollDirection=sr.NONE;_horizontalScrollDirection=wn.NONE;_scrollNode;_stopScrollTimers=new Z;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=Ci(n);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new cg(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,r,o,a,s,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>n.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof ug&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new tw(this._document,this._dragDropRegistry);else{let e=new ug(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=Ci(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,r){if(this.sortingDisabled||!this._domRect||!uA(this._domRect,SA,e,i))return;let o=this._sortStrategy.sort(n,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,r=sr.NONE,o=wn.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||uA(a.clientRect,SA,n,e)&&([r,o]=gz(s,a.clientRect,this._direction,n,e),(r||o)&&(i=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=TA(l,e),o=DA(l,n),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Kc(0,sl).pipe(Ze(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===sr.UP?n.scrollBy(0,-e):this._verticalScrollDirection===sr.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===wn.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===wn.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&XS(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(r=>r._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!XS(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(n,e){let i=this._activeSiblings;!i.has(n)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=ws(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function TA(t,n){let{top:e,bottom:i,height:r}=t,o=r*xA;return n>=e-o&&n<=e+o?sr.UP:n>=i-o&&n<=i+o?sr.DOWN:sr.NONE}function DA(t,n){let{left:e,right:i,width:r}=t,o=r*xA;return n>=e-o&&n<=e+o?wn.LEFT:n>=i-o&&n<=i+o?wn.RIGHT:wn.NONE}function gz(t,n,e,i,r){let o=TA(n,r),a=DA(n,i),s=sr.NONE,l=wn.NONE;if(o){let c=t.scrollTop;o===sr.UP?c>0&&(s=sr.UP):t.scrollHeight-c>t.clientHeight&&(s=sr.DOWN)}if(a){let c=t.scrollLeft;e==="rtl"?a===wn.RIGHT?c<0&&(l=wn.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=wn.LEFT):a===wn.LEFT?c>0&&(l=wn.LEFT):t.scrollWidth-c>t.clientWidth&&(l=wn.RIGHT)}return[s,l]}var Fu={capture:!0},QS={passive:!1,capture:!0},vz=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),MA=(()=>{class t{_ngZone=_(ce);_document=_(Ee);_styleLoader=_(fn);_renderer=_(si).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Z;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=C([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Z;pointerUp=new Z;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,QS)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(vz),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Fu],["selectstart",this._preventDefaultWhileDragging,QS]];r?a.push(["touchend",o,Fu],["touchcancel",o,Fu]):a.push(["mouseup",o,Fu]),r||a.push(["mousemove",s=>this.pointerMove.next(s),QS]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>this._renderer.listen(this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this._scroll];return e&&e!==this._document&&i.push(new Oe(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},Fu);return()=>{o()}}))),Nt(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yz={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ow=(()=>{class t{_document=_(Ee);_ngZone=_(ce);_viewportRuler=_($n);_dragDropRegistry=_(MA);_renderer=_(si).createRenderer(null,null);constructor(){}createDrag(e,i=yz){return new ew(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new iw(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wA=new K("CDK_DRAG_PARENT");var bz=new K("CdkDragHandle");var IA=new K("CDK_DRAG_CONFIG"),AA=new K("CdkDropList"),lr=(()=>{class t{element=_(ve);dropContainer=_(AA,{optional:!0,skipSelf:!0});_ngZone=_(ce);_viewContainerRef=_(Pi);_dir=_(wi,{optional:!0});_changeDetectorRef=_(At);_selfHandle=_(bz,{optional:!0,self:!0});_parentDrag=_(wA,{optional:!0,skipSelf:!0});_dragDropRegistry=_(MA);_destroyed=new Z;_handles=new Zt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new ue;released=new ue;ended=new ue;entered=new ue;exited=new ue;dropped=new ue;moved=new Oe(e=>{let i=this._dragRef.moved.pipe(Se(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=_(le);constructor(){let e=this.dropContainer,i=_(IA,{optional:!0}),r=_(ow);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(Ze(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Xt(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Ci(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:Ar(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Ot(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){e.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=r||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Wt(e=>{let i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Bt(e=>Nt(...e.map(i=>i._stateChanges.pipe(Tt(i))))),Ze(this._destroyed)).subscribe(e=>{let i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&We("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",He],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Dn]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ut([{provide:wA,useExisting:t}]),li]})}return t})(),CA=new K("CdkDropListGroup");var cr=(()=>{class t{element=_(ve);_changeDetectorRef=_(At);_scrollDispatcher=_(wa);_dir=_(wi,{optional:!0});_group=_(CA,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new Z;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=_(gi).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new ue;entered=new ue;exited=new ue;sorted=new ue;_unsortedItems=new Set;constructor(){let e=_(ow),i=_(IA,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,a)=>this.sortPredicate(r,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let i=this._latestSortedRefs.indexOf(e._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Tt(this._dir.value),Ze(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=_a(this.connectedTo).map(r=>{if(typeof r=="string"){let o=t._dropLists.find(a=>a.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{i.indexOf(r)===-1&&i.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Ar(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Nt(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",this.lockAxis=i||null}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){i&2&&(Te("id",r.id),We("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",He],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",He],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",He],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",He]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ut([{provide:CA,useValue:void 0},{provide:AA,useExisting:t}])]})}return t})();var PA=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({providers:[ow],imports:[Lo]})}return t})();function _z(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",4),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldHerbs(r))}),f(),m(3,"label",5),p(4,"Automatically sell lower grade herbs than what current activities produce"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldHerbsEnabled)}}function Sz(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",6),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldWood(r))}),f(),m(3,"label",7),p(4,"Automatically sell lower grade wood than what current activities produce"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldWoodEnabled)}}function wz(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",8),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldOre(r))}),f(),m(3,"label",9),p(4,"Automatically sell lower grade ore than what current activities produce"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldOreEnabled)}}function Cz(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",10),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldBars(r))}),f(),m(3,"label",11),p(4,"Automatically sell lower grade bars than what current activities produce"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldBarsEnabled)}}function kz(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",12),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldHides(r))}),f(),m(3,"label",13),p(4,"Automatically sell lower grade hides than what current activities produce"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldHidesEnabled)}}function Ez(t,n){if(t&1){let e=U();m(0,"div",3)(1,"span")(2,"input",14),D("change",function(r){k(e);let o=b(2);return E(o.autoSellOldGems(r))}),f(),m(3,"label",15),p(4,"Automatically sell lower grade gems than what current monsters drop"),f()()()}if(t&2){let e=b(2);h(2),A("checked",e.inventoryService.autoSellOldGemsEnabled)}}function xz(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2),B(3,"titlecase"),f(),m(4,"span"),p(5," - Reserve \xA0"),m(6,"input",17),D("change",function(r){let o=k(e).$implicit,a=b(3);return E(a.autoSellReserveChange(r,o))}),f(),p(7,"\xA0 "),m(8,"button",18),D("click",function(){let r=k(e).$implicit,o=b(3);return E(o.inventoryService.unAutoSell(r.name))}),p(9,"Stop Selling"),f()()()}if(t&2){let e=n.$implicit;h(2),N(" - ",V(3,3,e.name)," "),h(4),A("value",X(e.reserve))}}function Tz(t,n){if(t&1&&(m(0,"div",3)(1,"span"),p(2," Automatically Sold Items: "),f(),m(3,"div",16),ne(4,xz,10,5,"div",null,vt),f()()),t&2){let e=b(2);h(4),re(e.inventoryService.autoSellEntries)}}function Dz(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2),B(3,"titlecase"),f(),m(4,"span"),p(5," - Reserve \xA0"),m(6,"input",17),D("change",function(r){k(e);let o=b().$implicit,a=b(3);return E(a.autoUseReserveChange(r,o))}),f(),p(7,"\xA0 "),m(8,"button",18),D("click",function(){k(e);let r=b().$implicit,o=b(3);return E(o.inventoryService.unAutoUse(r.name))}),p(9,"Stop Using"),f()()()}if(t&2){let e=b().$implicit;h(2),N(" - ",V(3,3,e.name)," "),h(4),A("value",X(e.reserve))}}function Mz(t,n){if(t&1&&x(0,Dz,10,5,"div"),t&2){let e=n.$implicit;T(e.type!=="food"?0:-1)}}function Iz(t,n){if(t&1&&(m(0,"div",3)(1,"span"),p(2,"Automatically Used Items:"),f(),m(3,"div",16),ne(4,Mz,1,1,null,null,vt),f()()),t&2){let e=b(2);h(4),re(e.inventoryService.autoUseEntries)}}function Az(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2),B(3,"titlecase"),m(4,"input",17),D("change",function(r){let o=k(e).$implicit,a=b(3);return E(a.autoBalanceUseChanged(r,o))}),f(),p(5," then Sell "),m(6,"input",17),D("change",function(r){let o=k(e).$implicit,a=b(3);return E(a.autoBalanceSellChanged(r,o))}),f(),m(7,"button",18),D("click",function(){let r=k(e).$implicit,o=b(3);return E(o.inventoryService.unAutoBalance(r.name))}),p(8,"Stop Balancing"),f()()()}if(t&2){let e=n.$implicit;h(2),N(" -",V(3,5,e.name)," Use "),h(2),A("value",X(e.useNumber)),h(2),A("value",X(e.sellNumber))}}function Pz(t,n){if(t&1&&(m(0,"div",3)(1,"span"),p(2,"Automatically Balanced Items:"),f(),m(3,"div",16),ne(4,Az,9,7,"div",null,vt),f()()),t&2){let e=b(2);h(4),re(e.inventoryService.autoBalanceItems)}}function Rz(t,n){if(t&1&&(m(0,"mat-tab",1),x(1,_z,5,1,"div",3),x(2,Sz,5,1,"div",3),x(3,wz,5,1,"div",3),x(4,Cz,5,1,"div",3),x(5,kz,5,1,"div",3),x(6,Ez,5,1,"div",3),x(7,Tz,6,0,"div",3),x(8,Iz,6,0,"div",3),x(9,Pz,6,0,"div",3),f()),t&2){let e=b();h(),T(e.inventoryService.autoSellOldHerbs?1:-1),h(),T(e.inventoryService.autoSellOldWood?2:-1),h(),T(e.inventoryService.autoSellOldOre?3:-1),h(),T(e.inventoryService.autoSellOldOre?4:-1),h(),T(e.inventoryService.autoSellOldHides?5:-1),h(),T(e.inventoryService.autoSellOldGemsUnlocked?6:-1),h(),T(e.inventoryService.autoSellUnlocked()?7:-1),h(),T(e.inventoryService.autoUseUnlocked()?8:-1),h(),T(e.inventoryService.autoBalanceUnlocked()?9:-1)}}function Fz(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2),B(3,"titlecase"),f(),m(4,"span"),p(5," \xA0 "),m(6,"button",18),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.inventoryService.unAutoUse(r.name))}),p(7,"Stop Wisely Eating"),f()()()}if(t&2){let e=b().$implicit;h(2),N(" - ",V(3,1,e.name)," ")}}function Oz(t,n){if(t&1&&x(0,Fz,8,3,"div"),t&2){let e=n.$implicit;T(e.type==="food"?0:-1)}}function Lz(t,n){if(t&1){let e=U();m(0,"mat-tab",2)(1,"div",3)(2,"span")(3,"input",19),D("change",function(r){k(e);let o=b();return E(o.autoBuyFoodChange(r))}),f(),m(4,"label",20),p(5,"Automatically buy scraps each day if you have no food to avoid starvation."),f()()(),m(6,"div",3)(7,"span"),p(8," When wisely eaten food is available: "),f()(),m(9,"div")(10,"span")(11,"input",21),D("change",function(r){k(e);let o=b();return E(o.autoEatNutritionChanged(r))}),f(),m(12,"label",22),p(13,"Eat until nutrition is full"),f()()(),m(14,"div")(15,"span")(16,"input",23),D("change",function(r){k(e);let o=b();return E(o.autoEatHealthChanged(r))}),f(),m(17,"label",24),p(18,"Eat until Health is full"),f()()(),m(19,"div")(20,"span")(21,"input",25),D("change",function(r){k(e);let o=b();return E(o.autoEatStaminaChanged(r))}),f(),m(22,"label",26),p(23,"Eat until Stamina is full"),f()()(),m(24,"div")(25,"span")(26,"input",27),D("change",function(r){k(e);let o=b();return E(o.autoEatQiChanged(r))}),f(),m(27,"label",28),p(28,"Eat until Qi is full"),f()()(),m(29,"div")(30,"span")(31,"input",29),D("change",function(r){k(e);let o=b();return E(o.autoEatAllChanged(r))}),f(),m(32,"label",30),p(33),f()()(),m(34,"div",3)(35,"div")(36,"span"),p(37,"Wisely Eaten Foods:"),f(),m(38,"div",16),ne(39,Oz,1,1,null,null,vt),f()()()()}if(t&2){let e=b();h(3),A("checked",e.inventoryService.autoBuyFood),h(8),A("checked",e.inventoryService.autoEatNutrition),h(5),A("checked",e.inventoryService.autoEatHealth),h(5),A("checked",e.inventoryService.autoEatStamina),h(5),A("checked",e.inventoryService.autoEatQi),h(5),A("checked",e.inventoryService.autoEatAll),h(2),N("Eat all you can! (Your stomach can handle up to ",e.inventoryService.maxFoodPerDay," meals per day)"),h(6),re(e.inventoryService.autoUseEntries)}}var RA=(()=>{class t{constructor(e,i,r,o,a,s,l,c,d){this.homeService=e,this.farmService=i,this.characterService=r,this.inventoryService=o,this.gameStateService=a,this.followerService=s,this.mainLoopService=l,this.activityService=c,this.dialog=d}autoSellReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoUseReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=Math.floor(parseFloat(e.target.value)),i.useNumber||(i.useNumber=0))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=Math.floor(parseFloat(e.target.value)),i.sellNumber||(i.sellNumber=0))}autoEatNutritionChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatNutrition=e.target.checked)}autoEatHealthChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatHealth=e.target.checked)}autoEatStaminaChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatStamina=e.target.checked)}autoEatQiChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatQi=e.target.checked)}autoEatAllChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatAll=e.target.checked)}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}useCheapestSpiritGemChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useCheapestSpiritGem=e.target.checked)}autoSellOldHerbs(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHerbsEnabled=e.target.checked)}autoSellOldWood(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldWoodEnabled=e.target.checked)}autoSellOldOre(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldOreEnabled=e.target.checked)}autoSellOldBars(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldBarsEnabled=e.target.checked)}autoSellOldHides(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHidesEnabled=e.target.checked)}autoSellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuyFoodChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoBuyFood=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(Qe),R(yi),R(ae),R(se),R(nt),R(ut),R(pe),R(Ue),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-inventory-options-modal"]],decls:6,vars:2,consts:[[1,"darkMode","optionsDiv"],["label","Sales"],["label","Food"],[1,"optionField"],["type","checkbox","id","autosellOldHerbs",3,"change","checked"],["for","autosellOldHerbs"],["type","checkbox","id","autosellOldWood",3,"change","checked"],["for","autosellOldWood"],["type","checkbox","id","autosellOldOre",3,"change","checked"],["for","autosellOldOre"],["type","checkbox","id","autoSellOldBars",3,"change","checked"],["for","autoSellOldBars"],["type","checkbox","id","autosellOldHides",3,"change","checked"],["for","autosellOldHides"],["type","checkbox","id","autosellOldGems",3,"change","checked"],["for","autosellOldGems"],[1,"scrollingDiv"],["min","0","type","number",1,"inputBox",3,"change","value"],[3,"click"],["type","checkbox","id","autoBuyFood",3,"change","checked"],["for","autoBuyFood"],["type","checkbox","id","autoEatNutrition",3,"change","checked"],["for","autoEatNutrition"],["type","checkbox","id","autoEatHealth",3,"change","checked"],["for","autoEatHealth"],["type","checkbox","id","autoEatStamina",3,"change","checked"],["for","autoEatStamina"],["type","checkbox","id","autoEatQi",3,"change","checked"],["for","autoEatQi"],["type","checkbox","id","autoEatAll",3,"change","checked"],["for","autoEatAll"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Inventory Options"),f(),m(3,"mat-tab-group"),x(4,Rz,10,9,"mat-tab",1),x(5,Lz,41,7,"mat-tab",2),f()()),i&2&&(h(4),T(r.inventoryService.autoSellOldHerbs||r.inventoryService.autoSellOldWood||r.inventoryService.autoSellOldOre||r.inventoryService.autoSellOldHides||r.inventoryService.autoSellOldGemsUnlocked||r.inventoryService.autoSellUnlocked()||r.inventoryService.autoUseUnlocked()||r.inventoryService.autoEatUnlocked()||r.inventoryService.autoBalanceUnlocked()?4:-1),h(),T(r.inventoryService.autoEatUnlocked()?5:-1))},dependencies:()=>[Da,Ho,yt],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%]{margin-top:6px}button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}#importLayoutFile[_ngcontent-%COMP%], #importGameFile[_ngcontent-%COMP%]{display:none}"]})}}return t})();var Nz=(t,n)=>({highlighted:t,sortHighlight:n}),FA=t=>({selectedItem:t}),OA=(t,n)=>n.id();function Bz(t,n){if(t&1){let e=U();m(0,"mat-icon",21),D("click",function(){k(e);let r=b(2);return E(r.sell(1))}),p(1," attach_money "),f()}if(t&2){let e=b(2);A("tooltip",on("Sell one ",e.inventoryService.displaySelectedItem.name()," for ",e.inventoryService.displaySelectedItem.value()," taels.<br>Right-click items to sell."))}}function Vz(t,n){if(t&1){let e=U();m(0,"mat-icon",22),D("click",function(){k(e);let r=b(2);return E(r.sellStack())}),p(1," paid "),f()}if(t&2){let e=b(2);A("tooltip",on("Sell all the ",e.inventoryService.displaySelectedItem.name(),"(s) in this inventory slot for ",e.inventoryService.displaySelectedItem.stackValue()," taels.<br>Shift-right-click items to sell the stack."))}}function jz(t,n){if(t&1){let e=U();m(0,"mat-icon",23),D("click",function(){k(e);let r=b(2);return E(r.sellAll())}),p(1," shopping_basket "),f()}if(t&2){let e=b(2);A("tooltip",bt("Sell all the ",e.inventoryService.displaySelectedItem.name(),"(s) in the whole inventory."))}}function Hz(t,n){if(t&1){let e=U();m(0,"mat-icon",24),D("click",function(){k(e);let r=b(2);return E(r.autoSell())}),p(1," currency_exchange "),f()}}function qz(t,n){if(t&1){let e=U();m(0,"mat-icon",25),D("click",function(r){k(e);let o=b(2);return E(o.use(r))}),p(1," auto_awesome "),f()}if(t&2){let e=b(2);A("tooltip",on("",e.inventoryService.displaySelectedItem.useLabel(),".<br>",e.inventoryService.displaySelectedItem.useDescription(),"<br>Shift-click items to use them.<br>Shift-click or Ctrl-click this button to use more of them."))}}function Uz(t,n){if(t&1){let e=U();m(0,"mat-icon",26),D("click",function(){k(e);let r=b(2);return E(r.autoUse())}),p(1," auto_mode "),f()}if(t&2){let e=b(2);A("tooltip",on("Auto-",e.inventoryService.displaySelectedItem.useLabel(),".<br>",e.inventoryService.displaySelectedItem.useDescription(),"<br>You can change this in the options menu later if you change your mind.<br>Ctrl-click items to auto-use."))}}function zz(t,n){if(t&1){let e=U();m(0,"mat-icon",27),D("click",function(){k(e);let r=b(2);return E(r.autoUse())}),p(1," auto_mode "),f()}if(t&2){let e=b(2);A("tooltip",bt("Wisely ",e.inventoryService.displaySelectedItem.useLabel(),".<br>Automatically eat appropriate amounts of this food.<br>You can change settings for this in the options menu."))}}function $z(t,n){if(t&1){let e=U();m(0,"mat-icon",28),D("click",function(){k(e);let r=b(2);return E(r.autoBalance())}),p(1," balance "),f()}}function Gz(t,n){if(t&1){let e=U();m(0,"mat-icon",29),D("click",function(){k(e);let r=b(2);return E(r.equip())}),p(1," shield "),f()}}function Wz(t,n){if(t&1){let e=U();m(0,"mat-icon",30),D("click",function(){k(e);let r=b(2);return E(r.mergeSpiritGem())}),p(1," diamond "),f()}}function Yz(t,n){if(t&1){let e=U();m(0,"mat-icon",31),D("click",function(){k(e);let r=b(2);return E(r.throwAway())}),p(1," delete "),f()}}function Kz(t,n){if(t&1){let e=U();m(0,"mat-icon",32),D("click",function(){k(e);let r=b(2);return E(r.splitStack())}),p(1," call_split "),f()}}function Qz(t,n){if(t&1&&(m(0,"span",5),x(1,Bz,2,3,"mat-icon",9),x(2,Vz,2,3,"mat-icon",10),x(3,jz,2,2,"mat-icon",11),x(4,Hz,2,0,"mat-icon",12),x(5,qz,2,3,"mat-icon",13),x(6,Uz,2,3,"mat-icon",14),x(7,zz,2,2,"mat-icon",15),x(8,$z,2,0,"mat-icon",16),x(9,Gz,2,0,"mat-icon",17),x(10,Wz,2,0,"mat-icon",18),x(11,Yz,2,0,"mat-icon",19),x(12,Kz,2,0,"mat-icon",20),f()),t&2){let e=b();h(),T(e.inventoryService.displaySelectedItem.sellable()&&!e.hellService.inHell()?1:-1),h(),T(e.inventoryService.displaySelectedItem.sellable()&&!e.hellService.inHell()?2:-1),h(),T(e.inventoryService.displaySelectedItem.sellable()&&!e.hellService.inHell()?3:-1),h(),T(e.inventoryService.autoSellUnlocked()&&e.inventoryService.displaySelectedItem.sellable()&&!e.inventoryService.displaySelectedItem.equipment()&&!e.hellService.inHell()?4:-1),h(),T(e.inventoryService.displaySelectedItem.useLabel()!==""?5:-1),h(),T(e.inventoryService.displaySelectedItem.useLabel()!==""&&e.inventoryService.displaySelectedItem.type()!=="food"&&e.inventoryService.autoUseUnlocked()?6:-1),h(),T(e.inventoryService.displaySelectedItem.type()==="food"&&e.inventoryService.autoEatUnlocked()?7:-1),h(),T(e.inventoryService.displaySelectedItem.useLabel()!==""&&e.inventoryService.displaySelectedItem.type()!=="food"&&e.inventoryService.autoBalanceUnlocked()&&e.inventoryService.displaySelectedItem.sellable()&&!e.hellService.inHell()?8:-1),h(),T(e.inventoryService.displaySelectedItem.type()==="equipment"||e.inventoryService.displaySelectedItem.pouchable()?9:-1),h(),T(e.inventoryService.displaySelectedItem.type()===e.gem_type?10:-1),h(),T(e.inventoryService.displaySelectedItem.sellable()?11:-1),h(),T(e.inventoryService.displaySelectedItem.quantity()>1?12:-1)}}function Zz(t,n){if(t&1&&H(0,"img",38),t&2){let e=b(2);Je("border-color",e.inventoryService.displaySelectedItem.imageColor()),A("ngSrc",X(e.inventoryService.displaySelectedItem.imageFile()))}}function Xz(t,n){if(t&1&&(m(0,"div"),x(1,Zz,1,4,"img",33),f(),m(2,"div",34)(3,"div",35)(4,"span"),p(5),B(6,"titlecase"),f()(),m(7,"div",36),H(8,"span",37),f()()),t&2){let e=b();h(),T(e.inventoryService.displaySelectedItem.imageFile()?1:-1),h(4),N(" ",V(6,3,e.inventoryService.displaySelectedItem.name())," "),h(3),A("innerHTML",e.inventoryService.displaySelectedItem.description(),Do)}}function Jz(t,n){t&1&&(H(0,"div",39),m(1,"div",34)(2,"div",35)(3,"span"),p(4," No item selected "),f()(),m(5,"div",36),H(6,"span"),f()())}function e8(t,n){if(t&1&&(H(0,"img",46),B(1,"titlecase")),t&2){let e=b(2).$implicit;Je("border-color",e.imageColor()),A("ngSrc",X(e.imageFile()))("alt",X(V(1,6,e.name())))}}function t8(t,n){if(t&1&&(p(0),B(1,"titlecase")),t&2){let e=b(2).$implicit;N(" ",V(1,1,e.name())," ")}}function i8(t,n){if(t&1&&(m(0,"div",45),p(1),f()),t&2){let e=b(2).$implicit;h(),N("x",e.quantity())}}function n8(t,n){if(t&1){let e=U();m(0,"div")(1,"div",41)(2,"div",42),D("click",function(r){k(e);let o=b().$index,a=b(2);return E(a.slotClicked(o,r))})("cdkDragStarted",function(){k(e);let r=b(3);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(3);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(3);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(3);return E(o.dragReleased(r))})("dblclick",function(r){k(e);let o=b().$index,a=b(2);return E(a.slotDoubleClicked(o,r))})("contextmenu",function(r){k(e);let o=b().$index,a=b(2);return E(a.slotRightClicked(o,r))}),m(3,"div",43),x(4,e8,2,8,"img",44)(5,t8,2,3),f(),x(6,i8,2,1,"div",45),f()()()}if(t&2){let e=b(),i=e.$implicit,r=e.$index,o=e.$index,a=b(2);h(),A("id",bt("itemIndex",r)),h(),A("tooltip",X(i.tooltip()))("tabindex",i.name()===""?"-1":"0")("cdkDragData",o)("cdkDragDisabled",i.name()==="")("ngClass",ft(10,FA,i.id()!==""&&i.id()===a.inventoryService.displaySelectedItem.id())),h(2),T(i.imageFile()!==""?4:5),h(2),T((i.quantity()||0)>1?6:-1)}}function r8(t,n){if(t&1&&x(0,n8,7,12,"div"),t&2){let e=n.$index,i=b(2);T(e<i.inventoryService.heirloomSlots()?0:-1)}}function o8(t,n){if(t&1&&(m(0,"div")(1,"span",40),p(2," Storage Ring "),f()(),m(3,"div",8),ne(4,r8,1,1,null,null,OA),f(),m(6,"div")(7,"span"),p(8," Inventory "),f()()),t&2){let e=b();h(4),re(e.inventoryService.displayItemStacks)}}function a8(t,n){if(t&1&&(H(0,"img",46),B(1,"titlecase")),t&2){let e=b(2).$implicit;Je("border-color",e.imageColor()),A("ngSrc",X(e.imageFile()))("alt",X(V(1,6,e.name())))}}function s8(t,n){if(t&1&&(p(0),B(1,"titlecase")),t&2){let e=b(2).$implicit;N(" ",V(1,1,e.name())," ")}}function l8(t,n){if(t&1&&(m(0,"div",45),p(1),f()),t&2){let e=b(2).$implicit;h(),N("x",e.quantity())}}function c8(t,n){if(t&1){let e=U();m(0,"div")(1,"div",41)(2,"div",42),D("click",function(r){k(e);let o=b().$index,a=b();return E(a.slotClicked(o,r))})("cdkDragStarted",function(){k(e);let r=b(2);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(2);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(2);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(2);return E(o.dragReleased(r))})("dblclick",function(r){k(e);let o=b().$index,a=b();return E(a.slotDoubleClicked(o,r))})("contextmenu",function(r){k(e);let o=b().$index,a=b();return E(a.slotRightClicked(o,r))}),m(3,"div",43),x(4,a8,2,8,"img",44)(5,s8,2,3),f(),x(6,l8,2,1,"div",45),f()()()}if(t&2){let e=b(),i=e.$implicit,r=e.$index,o=e.$index,a=b();h(),A("id",bt("itemIndex",r)),h(),A("tooltip",X(i.tooltip()))("tabindex",i.name()===""?"-1":"0")("cdkDragData",o)("cdkDragDisabled",i.name()==="")("ngClass",ft(10,FA,i.id()!==""&&i.id()===a.inventoryService.displaySelectedItem.id())),h(2),T(i.imageFile()!==""?4:5),h(2),T((i.quantity()||0)>1?6:-1)}}function d8(t,n){if(t&1&&x(0,c8,7,12,"div"),t&2){let e=n.$index,i=b();T(e>=i.inventoryService.heirloomSlots()?0:-1)}}var hg=(()=>{class t{constructor(e,i,r,o,a,s,l,c){this.inventoryService=e,this.characterService=i,this.homeService=r,this.followersService=o,this.hellService=a,this.mainLoopService=s,this.gameStateService=l,this.dialog=c,this.instanceOfEquipment=Ei,this.dragPositionX=0,this.dragPositionY=0,this.gem_type=J,this.equipmentSlots=Object.keys(this.characterService.equipment)}slotClicked(e,i){i.stopPropagation();let r=this.inventoryService.itemStacks[e];if(i.shiftKey||i.altKey){let o=null;o!==r&&(o=this.inventoryService.selectedItem),this.inventoryService.selectedItem=r,this.use(),this.inventoryService.selectedItem=o}else i.ctrlKey||i.metaKey?(this.inventoryService.selectedItem=r,this.autoUse()):this.inventoryService.selectedItem===r?this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack():this.inventoryService.selectedItem=r;this.inventoryService.updateDisplayValues()}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.inventoryService.itemStacks[e];this.inventoryService.selectedItem=r,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()),this.inventoryService.updateDisplayValues()}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.inventoryService.itemStacks[e];this.inventoryService.selectedItem=r,i.ctrlKey||i.metaKey?this.autoSell():i.shiftKey||i.altKey?this.sellStack():this.sell(1),this.inventoryService.updateDisplayValues()}sortClicked(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey||e.metaKey?this.inventoryService.descendingSort.set(!this.inventoryService.descendingSort()):e.shiftKey||e.altKey?this.inventoryService.autoSortEnabled.set(!this.inventoryService.autoSortEnabled()):this.inventoryService.sortInventory()}sellAll(){this.inventoryService.selectedItem?.item&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item),this.inventoryService.updateDisplayValues()}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity),this.inventoryService.updateDisplayValues()}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(e=null){let i=1;e&&(e.shiftKey&&(i*=10),e.ctrlKey&&(i*=100)),this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem,i)}autoUse(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()),this.inventoryService.updateDisplayValues()}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),this.inventoryService.selectedItem.quantity===0&&(this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())),this.inventoryService.updateDisplayValues()}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data,a=this.inventoryService.itemStacks[o];if(!a.item)return;let s=document.elementsFromPoint(i,r);for(let l of s)if(l.id.startsWith("itemIndex")){let c=parseInt(l.id.substring(9));if(c===o)return;this.mergeOrSwapStacks(o,c),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()}else if(l.id.startsWith("pouchIndex")){let c=parseInt(l.id.substring(10));this.inventoryService.moveToPouch(o,c)}else if(l.id.startsWith("wsInputIndex")){let c=l.id.substring(12).split("_");if(c.length!==2)return;let d=parseInt(c[0]),u=parseInt(c[1]);this.homeService.moveItemToWorkstation(o,d,u)}else if(l.id.startsWith("sectInputIndex")){let c=l.id.split("_");if(c.length!==2)return;let d=parseInt(c[1]);this.followersService.moveItemToInput(o,d)}else if(l.id.startsWith("equipmentSlot")){let d=l.id.substring(13);this.characterService.equipment[d]?(!Ei(a.item)||a.item.slot===d)&&(this.inventoryService.mergeEquippedSlot(d,a.item,o),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()):(this.inventoryService.equip(a),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}this.inventoryService.updateDisplayValues()}mergeOrSwapStacks(e,i){if(e>=0&&e<this.inventoryService.itemStacks.length){let r=this.inventoryService.itemStacks[e],o=this.inventoryService.itemStacks[i],a=r?.item,s=o?.item;if(a&&s)if(Ei(a)&&Ei(s)){if(a.slot===s.slot){this.inventoryService.setItemEmptyStack(i),this.inventoryService.setItemEmptyStack(e),this.inventoryService.mergeEquipment(s,a,i);return}}else a.name===s.name?this.inventoryService.mergeItemStacks(r,o,e,i):(this.inventoryService.itemStacks[i]=r,this.inventoryService.itemStacks[e]=o,this.inventoryService.fixId(i),this.inventoryService.fixId(e));else this.inventoryService.itemStacks[i]=r,this.inventoryService.itemStacks[e]=o}this.inventoryService.updateDisplayValues()}throwAway(){this.inventoryService.selectedItem&&this.inventoryService.removeItemStack(this.inventoryService.selectedItem)}splitStack(){this.inventoryService.splitItemStack(this.inventoryService.selectedItem)}optionsClicked(){this.dialog.open(RA,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(se),R(ae),R(Qe),R(ut),R(Fe),R(pe),R(nt),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-inventory-panel"]],decls:18,vars:7,consts:[[1,"inventoryContainer"],[1,"inventoryHeader"],[1,"inventoryLabelColumn"],["tooltip","Click to sort your inventory.<br>Shift-click to toggle autosort.<br>Ctrl-click to toggle descending.","aria-label","Sort Inventory","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip","Options","aria-label","Inventory Options","aria-hidden","false",1,"iconButton","floatRight",3,"click"],[1,"inventoryButtons"],[1,"selectedItemBox"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"inventoryGrid"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"tooltip"],["tooltip","Automatically sell this kind of item whenever you get one.<br>You can change this in the options menu later if you change your mind.<br>Ctrl-right-click items to autosell.",1,"iconButton"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Auto Eat","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Balance","aria-hidden","false","tooltip","Balance between automatically using and selling this item.<br>You can change this in the options menu later if you change your mind.",1,"iconButton"],["aria-label","Equip","aria-hidden","false","tooltip","Equip this.<br>Double-click weapons or armor to equip.",1,"iconButton"],["aria-label","Merge Gem","aria-hidden","false","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton"],["aria-label","Throw Away","aria-hidden","false","tooltip","Throw this stack of items away.",1,"iconButton"],["aria-label","Split Stack","aria-hidden","false","tooltip","Split this stack of items.",1,"iconButton"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["tooltip","Automatically sell this kind of item whenever you get one.<br>You can change this in the options menu later if you change your mind.<br>Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Auto Eat","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Balance","aria-hidden","false","tooltip","Balance between automatically using and selling this item.<br>You can change this in the options menu later if you change your mind.",1,"iconButton",3,"click"],["aria-label","Equip","aria-hidden","false","tooltip","Equip this.<br>Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["aria-label","Merge Gem","aria-hidden","false","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"],["aria-label","Throw Away","aria-hidden","false","tooltip","Throw this stack of items away.",1,"iconButton",3,"click"],["aria-label","Split Stack","aria-hidden","false","tooltip","Split this stack of items.",1,"iconButton",3,"click"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","border-color"],[1,"selectedItemText"],[1,"selectedItemName"],[1,"selectedItemTextBody"],[3,"innerHTML"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc"],[1,"itemImagePlaceholder"],["tooltip","Items in your storage ring can be preserved for your next reincarnation.<br>They also are not used automatically like normal items, so you may need to move them into your inventory if you need to use them now."],[3,"id"],["cdkDrag","",1,"itemSlot",3,"click","cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","contextmenu","tabindex","cdkDragData","cdkDragDisabled","ngClass","tooltip"],[1,"itemName","textOverflow"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","border-color","alt"],[1,"itemQuantity"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","alt"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3",1),H(2,"div",2),m(3,"div")(4,"mat-icon",3),D("click",function(a){return r.sortClicked(a)}),p(5," sort "),f(),m(6,"mat-icon",4),D("click",function(){return r.optionsClicked()}),p(7," settings "),f(),x(8,Qz,13,12,"span",5),f()(),m(9,"div",6),x(10,Xz,9,5)(11,Jz,7,0),f(),m(12,"div",7),x(13,o8,9,0),m(14,"div",8),ne(15,d8,1,1,null,null,OA),f()(),H(17,"br"),f()),i&2&&(h(4),A("ngClass",mi(4,Nz,r.inventoryService.autoSortEnabled(),r.inventoryService.descendingSort())),h(4),T(r.inventoryService.displaySelectedItem.name()!==""?8:-1),h(2),T(r.inventoryService.displaySelectedItem.name()!==""?10:11),h(3),T(r.inventoryService.heirloomSlots()>0?13:-1),h(2),re(r.inventoryService.displayItemStacks))},dependencies:()=>[De,gt,cr,lr,ye,In,yt],styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;overflow-y:auto}.inventoryHeader[_ngcontent-%COMP%]{margin-bottom:4px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;gap:3px;overflow-anchor:none;margin:3px 4px}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px;overflow:hidden;position:relative;padding:0}.heirloomSlot[_ngcontent-%COMP%]{border:1px solid green!important}.sortHighlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--textHighlight) 0%,rgba(0,0,0,0) 100%)}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px;white-space:nowrap}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.selectedItemBox[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:60px;height:60px;max-height:60px;margin-bottom:4px;margin-left:4px;margin-right:4px;border:1px solid var(--panelBorder)}.selectedItemText[_ngcontent-%COMP%]{margin-left:4px;margin-right:2px;font-size:12px;overflow-y:auto;flex-grow:1}.selectedItemName[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder)}.selectedItemTextBody[_ngcontent-%COMP%]{line-height:14px}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.itemImage[_ngcontent-%COMP%]{border:1px solid}.floatRight[_ngcontent-%COMP%]{float:right}"]})}}return t})();var LA=(()=>{class t{constructor(){this.carousel1Selection=C(void 0),this.carousel2Selection=C(void 0)}setCarouselSelection(e,i){this.getCarouselFromName(e).set(i)}getCarouselSelection(e){return this.getCarouselFromName(e)()}getCarouselFromName(e){if(e==="carousel1")return this.carousel1Selection;if(e==="carousel2")return this.carousel2Selection;throw new Error(`Unknown carousel specified: ${e}`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u8(t,n){t&1&&H(0,"app-mobile-activities",1)}function h8(t,n){t&1&&H(0,"app-mobile-time",1)}function m8(t,n){t&1&&H(0,"app-attributes-panel",1)}function p8(t,n){t&1&&H(0,"app-battle-panel",1)}function f8(t,n){t&1&&H(0,"app-home-panel",1)}function g8(t,n){t&1&&H(0,"app-inventory-panel",1)}function v8(t,n){t&1&&H(0,"app-log-panel",1)}var NA=(()=>{class t{constructor(){this.elementRef=_(ve),this.mobileWidgetCarouselService=_(LA),this.carouselName=Od.required(),this.startWidget=Od.required(),this.otherCarouselSelection=Tn(()=>{let e=this.carouselName(),i=this.mobileWidgetCarouselService.carousel1Selection(),r=this.mobileWidgetCarouselService.carousel2Selection();if(e==="carousel1")return r;if(e==="carousel2")return i;throw new Error(`Unknown carousel name: ${e}`)})}ngOnInit(){let e=this.elementRef.nativeElement,i={loop:!0};this.emblaCarousel=tg(e,i),this.emblaCarousel.on("select",()=>{let r=this.getWidgetAt(this.emblaCarousel?.selectedScrollSnap()??-1);this.mobileWidgetCarouselService.setCarouselSelection(this.carouselName(),r)}),this.emblaCarousel.on("slidesChanged",()=>{let r=this.mobileWidgetCarouselService.getCarouselSelection(this.carouselName());for(let o=0;o<(this.emblaCarousel?.slideNodes().length??0);o++)if(this.getWidgetAt(o)===r){this.emblaCarousel?.scrollTo(o,!0);return}}),window.setTimeout(()=>{let r=this.getIndexOf(this.startWidget());this.mobileWidgetCarouselService.setCarouselSelection(this.carouselName(),this.getWidgetAt(r)),this.emblaCarousel?.scrollTo(r,!0)},50)}getWidgetAt(e){let i=this.emblaCarousel?.slideNodes()[e].tagName;switch(i){case"APP-MOBILE-ACTIVITIES":return"activities";case"APP-MOBILE-TIME":return"time";case"APP-ATTRIBUTES-PANEL":return"attributes";case"APP-BATTLE-PANEL":return"battle";case"APP-HOME-PANEL":return"home";case"APP-INVENTORY-PANEL":return"inventory";case"APP-LOG-PANEL":return"log";default:throw new Error(`Unknown widget: ${i}`)}}getIndexOf(e){for(let i=0;i<(this.emblaCarousel?.slideNodes.length??0);i++)if(e===this.getWidgetAt(i))return i;return 0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-widget-carousel"]],inputs:{carouselName:[1,"carouselName"],startWidget:[1,"startWidget"]},decls:8,vars:7,consts:[[1,"embla__container"],[1,"embla__slide"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,u8,1,0,"app-mobile-activities",1),x(2,h8,1,0,"app-mobile-time",1),x(3,m8,1,0,"app-attributes-panel",1),x(4,p8,1,0,"app-battle-panel",1),x(5,f8,1,0,"app-home-panel",1),x(6,g8,1,0,"app-inventory-panel",1),x(7,v8,1,0,"app-log-panel",1),f()),i&2&&(h(),T(r.otherCarouselSelection()!=="activities"?1:-1),h(),T(r.otherCarouselSelection()!=="time"?2:-1),h(),T(r.otherCarouselSelection()!=="attributes"?3:-1),h(),T(r.otherCarouselSelection()!=="battle"?4:-1),h(),T(r.otherCarouselSelection()!=="home"?5:-1),h(),T(r.otherCarouselSelection()!=="inventory"?6:-1),h(),T(r.otherCarouselSelection()!=="log"?7:-1))},dependencies:[iA,rA,ng,og,ag,lg,hg],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-direction:column;flex-basis:50%}.embla__container[_ngcontent-%COMP%]{display:flex;min-height:0}.embla__slide[_ngcontent-%COMP%]{flex:0 0 100%;min-width:0;overflow-y:auto;display:flex;flex-direction:column}"]})}}return t})();var mg=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-mobile-layout"]],decls:17,vars:4,consts:[["drawer",""],[1,"drawer-container"],["mode","over"],[1,"drawer-content"],[1,"app-bar"],["mat-icon-button","",3,"click"],[1,"app-title"],[1,"main-part"],[1,"grow",3,"carouselName","startWidget"]],template:function(i,r){if(i&1){let o=U();m(0,"mat-drawer-container",1)(1,"mat-drawer",2,0),H(3,"app-mobile-drawer"),f(),m(4,"mat-drawer-content",3)(5,"div",4)(6,"button",5),D("click",function(){k(o);let s=xn(2);return E(s.toggle())}),m(7,"mat-icon"),p(8,"menu"),f()(),m(9,"div",6),p(10," Immortality Idle "),f()(),H(11,"app-mobile-health"),m(12,"div",7),H(13,"app-mobile-widget-carousel",8)(14,"mat-divider")(15,"app-mobile-widget-carousel",8),f(),H(16,"app-mobile-time-buttons"),f()()}i&2&&(h(13),A("carouselName","carousel1")("startWidget","activities"),h(2),A("carouselName","carousel2")("startWidget","time"))},dependencies:[WI,qS,US,xu,sS,aS,KI,YI,sn,De,IM,zI,QI,NA],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column;min-width:0}.app-bar[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.app-title[_ngcontent-%COMP%]{font-size:1.5rem}.main-part[_ngcontent-%COMP%]{overflow-y:auto;flex-grow:1;display:flex;flex-direction:column;gap:8px}.grow[_ngcontent-%COMP%]{flex-grow:1}.drawer-container[_ngcontent-%COMP%]{flex-grow:1;background:radial-gradient(circle at 50% 80%,#aaaaaa 0%,var(--bodyBackground) 25px,#ffffff 60px,var(--bodyBackground) 20%,#ffffff);display:flex;flex-direction:column}.drawer-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]})}}return t})();var y8=["resizeElem"],KA=["*"],b8=!1;function _8(t){let n=0,e;for(let i=0,r=t.length;i<r;i++)e=t[i].y+t[i].h,e>n&&(n=e);return n}function S8(t){let n={w:t.w,h:t.h,x:t.x,y:t.y,id:t.id,moved:!!t.moved,static:!!t.static};return t.minW!==void 0&&(n.minW=t.minW),t.maxW!==void 0&&(n.maxW=t.maxW),t.minH!==void 0&&(n.minH=t.minH),t.maxH!==void 0&&(n.maxH=t.maxH),t.isDraggable!==void 0&&(n.isDraggable=t.isDraggable),t.isResizable!==void 0&&(n.isResizable=t.isResizable),n}function fw(t,n){return!(t.id===n.id||t.x+t.w<=n.x||t.x>=n.x+n.w||t.y+t.h<=n.y||t.y>=n.y+n.h)}function ju(t,n,e){let i=k8(t),r=i.length>1;r&&i.sort((s,l)=>s.y+s.h-(l.y+l.h));let o=vg(t,n),a=Array(t.length);for(let s=0,l=o.length;s<l;s++){let c=S8(o[s]);c.static||(c=C8(i,c,n,e,o,r),i.push(c)),a[t.indexOf(o[s])]=c,c.moved=!1}return a}var w8={x:"w",y:"h"};function cw(t,n,e,i,r){let o=w8[i];n[i]+=1;let a=t.map(s=>s.id).indexOf(n.id);for(let s=a+1;s<t.length;s++){let l=t[s];if(!l.static){if(l[i]>(r??e)+n[o])break;fw(n,l)&&(r=cw(t,l,e+n[o],i,r?r+n[o]:void 0))}}return n[i]=e,r}function C8(t,n,e,i,r,o){let a=e==="vertical",s=e==="horizontal";if(a)for(n.y=Math.min(_8(t),n.y);n.y>0&&!Rs(t,n);)n.y--;else if(s)for(;n.x>0&&!Rs(t,n);)n.x--;let l,c;for(o&&t.forEach(d=>{(!c||d.y+d.h>c)&&(c=d.y+d.h)});l=Rs(t,n);)if(s?cw(r,n,l.x+l.w,"x",c):cw(r,n,l.y+l.h,"y",c),s&&n.x+n.w>i)for(n.x=i-n.w,n.y++;n.x>0&&!Rs(t,n);)n.x--;return n.y=Math.max(n.y,0),n.x=Math.max(n.x,0),n}function Rs(t,n){for(let e=0,i=t.length;e<i;e++)if(fw(t[e],n))return t[e];return null}function QA(t,n){return t.filter(e=>fw(e,n))}function k8(t){return t.filter(n=>n.static)}function dw(t,n,e,i,r,o,a,s){if(n.static&&n.isDraggable!==!0||n.y===i&&n.x===e)return t;gg(`Moving element ${n.id} to [${String(e)},${String(i)}] from [${n.x},${n.y}]`);let l=n.x,c=n.y;typeof e=="number"&&(n.x=e),typeof i=="number"&&(n.y=i),n.moved=!0;let d=vg(t,a);(a==="vertical"&&typeof i=="number"?c>=i:a==="horizontal"&&typeof e=="number"?l>=e:!1)&&(d=d.reverse());let v=QA(d,n);if(o&&v.length)return gg(`Collision prevented on ${n.id}, reverting.`),n.x=l,n.y=c,n.moved=!1,t;for(let y=0,g=v.length;y<g;y++){let S=v[y];gg(`Resolving collision between ${n.id} at [${n.x},${n.y}] and ${S.id} at [${S.x},${S.y}]`),!S.moved&&(S.static?t=BA(t,S,n,r,a,s):t=BA(t,n,S,r,a,s))}return t}function BA(t,n,e,i,r,o){let a=r==="horizontal",s=r!=="horizontal",l=n.static;if(i){i=!1;let c={x:a?Math.max(n.x-e.w,0):e.x,y:s?Math.max(n.y-e.h,0):e.y,w:e.w,h:e.h,id:"-1"};if(!Rs(t,c))return gg(`Doing reverse collision on ${e.id} up to [${c.x},${c.y}].`),dw(t,e,a?c.x:void 0,s?c.y:void 0,i,l,r,o)}return dw(t,e,a?e.x+1:void 0,s?e.y+1:void 0,i,l,r,o)}function vg(t,n){return n==="horizontal"?x8(t):E8(t)}function E8(t){return[].concat(t).sort(function(n,e){return n.y>e.y||n.y===e.y&&n.x>e.x?1:n.y===e.y&&n.x===e.x?0:-1})}function x8(t){return[].concat(t).sort(function(n,e){return n.x>e.x||n.x===e.x&&n.y>e.y?1:-1})}function gg(...t){b8&&console.log(...t)}var Nu;function T8(){if(Nu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nu=!0}))}finally{Nu=Nu||!1}return Nu}function _g(t){return T8()?t:!!t.capture}var D8=_g({passive:!0}),ZA=_g({passive:!1}),pg=null;function gw(){if(pg!=null)return pg;let t=/Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent),n=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return pg=t||n,pg}function yg(t){return t.clientX!=null}function Fs(t){return yg(t)?t.clientX:t.touches[0].clientX}function Os(t){return yg(t)?t.clientY:t.touches[0].clientY}function VA(t){return{clientX:yg(t)?t.clientX:t.touches[0].clientX,clientY:yg(t)?t.clientY:t.touches[0].clientY}}function jA(t){return t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse"}function vw(){return!!window.PointerEvent}function M8(t,n=1){return dl(()=>gw(),Di(t,"touchstart",D8).pipe(je(e=>e.touches.length===n)),Di(t,"mousedown",ZA).pipe(je(e=>e.button===0)))}function I8(t,n=1){return Nt(Di(t,"touchend").pipe(je(e=>e.touches.length===n-1)),Di(t,"touchcancel").pipe(je(e=>e.touches.length===n-1)))}function A8(t,n=1){return dl(()=>gw(),I8(t,n),Di(t,"mouseup"))}function fg(t){return vw()?Di(t,"pointerdown",ZA).pipe(je(n=>n.isPrimary&&n.button===0)):M8(t)}function uw(t){return vw()?Di(t,"pointerup").pipe(je(n=>n.isPrimary&&n.button===0)):A8(t)}var P8=!1;function hw(t,n,e,i,r){let o=i==="vertical"?"y":"x";if(n.every(y=>y.l.y===y.y&&y.l.x===y.x))return t;let a=n[0].l.x,s=n[0].l.y,l={};n.forEach(y=>{l[y.l.id]={x:y.l.x,y:y.l.y},typeof y.x=="number"&&(y.l.x=y.x),typeof y.y=="number"&&(y.l.y=y.y),y.l.moved=!0});let c=vg(t,i),d=vg(n.map(y=>y.l),i);(i==="vertical"&&typeof n[0].y=="number"?s>=n[0].y:i==="horizontal"&&typeof n[0].x=="number"?a>=n[0].x:!1)&&(c=c.reverse());let v;return d&&d.length&&(v=d[0][o]),d.forEach(y=>{let g=QA(c,y);for(let S=0,P=g.length;S<P;S++){let M=g[S];XA(`Resolving collision between ${y.id}] and ${M.id} at [${M.x},${M.y}]`),!M.moved&&(M.static&&!y.static?t=HA(t,M,y,v===y[o]?e:!1,i,r):t=HA(t,y,M,v===y[o]?e:!1,i,r))}}),t}function HA(t,n,e,i,r,o){let a=r==="horizontal",s=r!=="horizontal";if(i){i=!1;let l={x:a?Math.max(n.x-e.w,0):e.x,y:s?Math.max(n.y-e.h,0):e.y,w:e.w,h:e.h,id:"-1"};if(!Rs(t,l))return XA(`Doing reverse collision on ${e.id} up to [${l.x},${l.y}].`),hw(t,[{l:e,x:a?l.x:void 0,y:s?l.y:void 0}],i,r,o)}return hw(t,[{l:e,x:a?e.x+1:void 0,y:s?e.y+1:void 0}],i,r,o)}function XA(...t){P8&&console.log(...t)}function Hu(t,n,e){let i=t.reduce((a,s)=>Math.max(a,Math.max(s.y+s.h,0)),0),r=(i-1)*e;return(n-r)/i}function JA(t,n,e,i){if(n<=1)return 0;let r=i*(n-1),a=(e-r)/n+i;return Math.round(t/a)}function eP(t,n,e,i){return Math.round(t/(n+i))}function R8(t,n,e,i){let o=(e-i*(n-1))/n,a=t-o;return Math.round(a/(o+i))+1}function F8(t,n,e,i){let r=t-n;return Math.round(r/(n+i))+1}function O8(t,n,e,i){let{pointerDownEvent:r,pointerDragEvent:o,gridElemClientRect:a,dragElemClientRect:s,scrollDifference:l}=i,c=t.id,d=n.layout.find(tt=>tt.id===c),u=Fs(r),v=Os(r),y=Fs(o),g=Os(o),S=u-s.left,P=v-s.top,M=a.left+l.left,z=a.top+l.top,G=y-M-S,Y=g-z-P,ge=n.rowHeight==="fit"?Hu(n.layout,n.height??a.height,n.gap):n.rowHeight,me=Ie(W({},d),{x:JA(G,n.cols,a.width,n.gap),y:eP(Y,ge,a.height,n.gap)});me.x=Math.max(0,me.x),me.y=Math.max(0,me.y),me.x+me.w>n.cols&&(me.x=Math.max(0,n.cols-me.w));let de=n.layout,be=de.find(tt=>tt.id===c),oe=dw(de,be,me.x,me.y,!0,n.preventCollision,e,n.cols);return oe=ju(oe,e,n.cols),{layout:oe,draggedItemPos:{top:Y,left:G,width:s.width,height:s.height}}}function L8(t,n,e,i){let{pointerDownEvent:r,pointerDragEvent:o,gridElemClientRect:a,dragElementsClientRect:s,scrollDifference:l}=i,c={};t.forEach(oe=>{c[oe.id]=n.layout.find(tt=>tt.id===oe.id)});let d=Fs(r),u=Os(r),v=Fs(o),y=Os(o),g=a.left+l.left,S=a.top+l.top,P=n.rowHeight==="fit"?Hu(n.layout,n.height??a.height,n.gap):n.rowHeight,M={},z={},G=0,Y=0;t.forEach(oe=>{let tt=d-s[oe.id].left,wt=u-s[oe.id].top;z[oe.id]={x:v-g-tt,y:y-S-wt},M[oe.id]=Ie(W({},c[oe.id]),{x:JA(z[oe.id].x,n.cols,a.width,n.gap),y:eP(z[oe.id].y,P,a.height,n.gap)}),0>M[oe.id].x&&G>M[oe.id].x&&(G=M[oe.id].x),0>M[oe.id].y&&Y>M[oe.id].y&&(Y=M[oe.id].y),M[oe.id].x+M[oe.id].w>n.cols&&G<M[oe.id].w+M[oe.id].x-n.cols&&(G=M[oe.id].w+M[oe.id].x-n.cols)}),Object.entries(M).forEach(([oe,tt])=>{M[oe]=Ie(W({},tt),{x:tt.x-G,y:tt.y-Y})});let ge=n.layout,me=t.map(oe=>{let tt=ge.find(wt=>wt.id===oe.id);return tt.static=!0,{l:tt,x:M[oe.id].x,y:M[oe.id].y}}),de=hw(ge,me,!0,e,n.cols);de=ju(de,e,n.cols),t.forEach(oe=>de.find(tt=>tt.id===oe.id).static=!1),de=ju(de,e,n.cols);let be={};return t.forEach(oe=>be[oe.id]={left:z[oe.id].x,top:z[oe.id].y,width:s[oe.id].width,height:s[oe.id].height}),{layout:de,draggedItemPos:be}}function N8(t,n,e,i){let{pointerDownEvent:r,pointerDragEvent:o,gridElemClientRect:a,dragElemClientRect:s,scrollDifference:l}=i,c=t.id,d=Fs(r),u=Os(r),v=Fs(o),y=Os(o),g=s.width-(d-s.left),S=s.height-(u-s.top),P=n.layout.find(me=>me.id===c),M=v+g-(s.left+l.left),z=y+S-(s.top+l.top),G=n.rowHeight==="fit"?Hu(n.layout,n.height??a.height,n.gap):n.rowHeight,Y=Ie(W({},P),{w:R8(M,n.cols,a.width,n.gap),h:F8(z,G,a.height,n.gap)});if(Y.w=qA(Y.w,t.minW??Y.minW,t.maxW??Y.maxW),Y.h=qA(Y.h,t.minH??Y.minH,t.maxH??Y.maxH),Y.x+Y.w>n.cols&&(Y.w=Math.max(1,n.cols-Y.x)),n.preventCollision){let me=Y.w,de=Y.h,be=bc(n.layout,Y),oe;for(;be;)oe=B8(Y,oe),Y[oe]--,be=bc(n.layout,Y);if(oe==="w")for(Y.h=de,be=bc(n.layout,Y);be;)Y.h--,be=bc(n.layout,Y);if(oe==="h")for(Y.w=me,be=bc(n.layout,Y);be;)Y.w--,be=bc(n.layout,Y)}let ge=n.layout.map(me=>me.id===c?Y:me);return{layout:ju(ge,e,n.cols),draggedItemPos:{top:s.top-a.top,left:s.left-a.left,width:M,height:z}}}function bc(t,n){return!!Rs(t,n)}function B8(t,n){return t.h<=1?"w":t.w<=1||n==="w"?"h":"w"}function qA(t,n=1,e=1/0){return Math.min(Math.max(t,n<1?1:n),e)}function V8(t,n){return t.id===n.id&&t.x===n.x&&t.y===n.y&&t.w===n.w&&t.h===n.h}var tP=new K("KtdGridDragHandle"),iP=(()=>{class t{constructor(e){this.element=e}static{this.\u0275fac=function(i){return new(i||t)(R(ve))}}static{this.\u0275dir=we({type:t,selectors:[["","ktdGridDragHandle",""]],hostAttrs:[1,"ktd-grid-drag-handle"],features:[Ut([{provide:tP,useExisting:t}])]})}}return t})(),j8=new K("KtdGridResizeHandle");var H8=new K("KtdGridItemPlaceholder");function bg(t){return t!=null&&`${t}`!="false"}function Vu(t,n=0){return q8(t)?Number(t):n}function q8(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}var nP=new K("GRID_ITEM_GET_RENDER_DATA_TOKEN");function U8(t){return n=>new Oe(e=>t.runOutsideAngular(()=>n.subscribe(e)))}function z8(){return t=>t.pipe(je(()=>!1))}var aw=_g({passive:!1,capture:!0}),yw=(()=>{class t{constructor(e,i){this.ngZone=e,this.document=i,this.touchMoveSubject=new Z,this.touchMove$=this.touchMoveSubject.asObservable(),this.registerTouchMoveSubscription()}ngOnDestroy(){this.touchMoveSubscription.unsubscribe()}mouseOrTouchMove$(e){return vw()?Di(e,"pointermove",aw):dl(()=>gw(),this.touchMove$,Di(e,"mousemove",aw))}registerTouchMoveSubscription(){this.touchMoveSubscription=this.ngZone.runOutsideAngular(()=>Di(this.document,"touchmove",aw).pipe(je(e=>e.touches.length===1)).subscribe(e=>this.touchMoveSubject.next(e)))}static{this.\u0275fac=function(i){return new(i||t)(L(ce),L(Ee))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bw=(()=>{class t{get touchAction(){return this._draggable?"none":"auto"}get id(){return this._id}set id(e){this._id=e}get dragStartThreshold(){return this._dragStartThreshold}set dragStartThreshold(e){this._dragStartThreshold=Vu(e)}get draggable(){return this._draggable}set draggable(e){this._draggable=bg(e),this._draggable$.next(this._draggable)}get resizable(){return this._resizable}set resizable(e){this._resizable=bg(e),this._resizable$.next(this._resizable)}constructor(e,i,r,o,a,s){this.elementRef=e,this.gridService=i,this.renderer=r,this.ngZone=o,this.document=a,this.getItemRenderData=s,this.transition="transform 500ms ease, width 500ms ease, height 500ms ease",this._dragStartThreshold=0,this._draggable=!0,this._draggable$=new Zt(this._draggable),this._manualDragEvents$=new Z,this._resizable=!0,this._resizable$=new Zt(this._resizable),this.dragStartSubject=new Z,this.resizeStartSubject=new Z,this.subscriptions=[],this.dragStart$=this.dragStartSubject.asObservable(),this.resizeStart$=this.resizeStartSubject.asObservable()}ngOnInit(){let e=this.getItemRenderData(this.id);this.setStyles(e)}ngAfterContentInit(){this.subscriptions.push(this._dragStart$().subscribe(this.dragStartSubject),this._resizeStart$().subscribe(this.resizeStartSubject))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}startDragManually(e){this._manualDragEvents$.next(e)}setStyles({top:e,left:i,width:r,height:o}){this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translateX(${i}) translateY(${e})`),this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.renderer.setStyle(this.elementRef.nativeElement,"transition",this.transition),r!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"width",r),o!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"height",o)}_dragStart$(){return Nt(this._manualDragEvents$,this._draggable$.pipe(Bt(e=>e?this._dragHandles.changes.pipe(Tt(this._dragHandles),Bt(i=>dl(()=>i.length>0,Nt(...i.toArray().map(r=>fg(r.element.nativeElement))),fg(this.elementRef.nativeElement)))):ul))).pipe(Qc(e=>{jA(e)&&e.preventDefault();let i=VA(e);return this.gridService.mouseOrTouchMove$(this.document).pipe(Ze(uw(this.document)),U8(this.ngZone),je(r=>{r.preventDefault();let o=VA(r),a=Math.abs(i.clientX-o.clientX),s=Math.abs(i.clientY-o.clientY);return a+s>=this.dragStartThreshold}),Ot(1),Se(()=>e))}))}_resizeStart$(){return this._resizable$.pipe(Bt(e=>e?this._resizeHandles.changes.pipe(Tt(this._resizeHandles),Bt(i=>i.length>0?(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),Nt(...i.toArray().map(r=>fg(r.element.nativeElement)))):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","block"),fg(this.resizeElem.nativeElement))),Wt(i=>{jA(i)&&i.preventDefault()})):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),ul)))}static{this.\u0275fac=function(i){return new(i||t)(R(ve),R(yw),R(Mt),R(ce),R(Ee),R(nP))}}static{this.\u0275cmp=$({type:t,selectors:[["ktd-grid-item"]],contentQueries:function(i,r,o){if(i&1&&(ei(o,H8,5),ei(o,tP,5),ei(o,j8,5)),i&2){let a;Pe(a=Re())&&(r.placeholder=a.first),Pe(a=Re())&&(r._dragHandles=a),Pe(a=Re())&&(r._resizeHandles=a)}},viewQuery:function(i,r){if(i&1&&pt(y8,7,ve),i&2){let o;Pe(o=Re())&&(r.resizeElem=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&Je("touch-action",r.touchAction)},inputs:{minW:"minW",minH:"minH",maxW:"maxW",maxH:"maxH",transition:"transition",id:"id",dragStartThreshold:"dragStartThreshold",draggable:"draggable",resizable:"resizable"},ngContentSelectors:KA,decls:3,vars:0,consts:[["resizeElem",""],[1,"grid-item-resize-icon"]],template:function(i,r){i&1&&(Kt(),mt(0),Ce(1,"div",1,0))},styles:['[_nghost-%COMP%]{display:none;position:absolute;z-index:1;overflow:hidden}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none;z-index:10}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]{cursor:se-resize;width:20px;height:20px;bottom:0;right:0;color:inherit}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid;border-bottom:2px solid}.display-none[_ngcontent-%COMP%]{display:none!important}'],changeDetection:0})}}return t})();function mw(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}var rP=.05;function UA(t,n){t===window?t.scrollBy(0,n):t.scrollTop+=n}function zA(t,n){t===window?t.scrollBy(n,0):t.scrollLeft+=n}function $8(t,n){let{top:e,bottom:i,height:r}=t,o=r*rP;return n>=e-o&&n<=e+o?1:n>=i-o&&n<=i+o?2:0}function G8(t,n){let{left:e,right:i,width:r}=t,o=r*rP;return n>=e-o&&n<=e+o?1:n>=i-o&&n<=i+o?2:0}function W8(t,n,e,i=2){return Kc(0,sl).pipe(Wt(()=>{n===1?UA(t,-i):n===2&&UA(t,i),e===1?zA(t,-i):e===2&&zA(t,i)}),z8())}function Y8(t,n){let e,i,r;if(t===document){e=document.defaultView;let{width:o,height:a}=Q8();i={width:o,height:a,top:0,right:o,bottom:a,left:0},r=Z8()}else e=t,i=mw(t),r=t.scrollWidth;return n=n||{},n.disableHorizontal==null&&r<=i.width&&(n.disableHorizontal=!0),o=>o.pipe(Se(({pointerX:a,pointerY:s})=>{let l=$8(i,s),c=G8(i,a);return n?.disableVertical&&(l=0),n?.disableHorizontal&&(c=0),{verticalScrollDirection:l,horizontalScrollDirection:c}}),hl((a,s)=>a.verticalScrollDirection===s.verticalScrollDirection&&a.horizontalScrollDirection===s.horizontalScrollDirection),Bt(({verticalScrollDirection:a,horizontalScrollDirection:s})=>a||s?W8(e,a,s,n?.scrollStep):ul))}function K8(t){let n;return t===document?n=$A():n={top:t.scrollTop,left:t.scrollLeft},Di(t,"scroll",_g({capture:!0})).pipe(Se(()=>{let e,i;if(t===document){let a=$A();e=a.top,i=a.left}else e=t.scrollTop,i=t.scrollLeft;let r=n.top-e,o=n.left-i;return{top:r,left:o}}))}function Q8(){let t=document.defaultView||window;return{width:t.innerWidth,height:t.innerHeight}}function $A(){let t=document.defaultView||window,n=document.documentElement,e=n.getBoundingClientRect(),i=-e.top||document.body.scrollTop||t.scrollY||n.scrollTop||0,r=-e.left||document.body.scrollLeft||t.scrollX||n.scrollLeft||0;return{top:i,left:r}}function Z8(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)}function GA(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function X8(t){let n=getComputedStyle(t),e=sw(n,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=sw(n,"transition-duration"),a=sw(n,"transition-delay");return GA(o[r])+GA(a[r])}function sw(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}function lw(t,n,e){return{layout:n,layoutItem:n.find(i=>i.id===t.id),gridItemRef:t,selectedItems:e&&e.map(i=>({layoutItem:n.find(r=>r.id===i.id),gridItemRef:i}))}}function J8(t,n){let{cols:e,gap:i}=t;return(n-Math.max(i*(e-1),0))/e}function oP(t,n){let{rowHeight:e,layout:i,gap:r}=t;return e==="fit"?Hu(i,n,r):e}function WA(t,n,e){let{layout:i,gap:r}=t,o=oP(t,e),a=J8(t,n),s={};for(let l of i)s[l.id]={id:l.id,top:l.y*o+r*l.y,left:l.x*a+r*l.x,width:l.w*a+r*Math.max(l.w-1,0),height:l.h*o+r*Math.max(l.h-1,0)};return s}function YA(t,n,e){return t.reduce((i,r)=>Math.max(i,(r.y+r.h)*n+Math.max(r.y+r.h-1,0)*e),0)}function pw(t){return{id:t.id,top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`}}function e$(t){return function(n){return pw(t.getItemRenderData(n))}}function t$(t){return e$(t)}var Bu={borderColor:"#ffa72678",gapColor:"transparent",rowColor:"transparent",columnColor:"transparent",borderWidth:1},Sg=(()=>{class t{get compactOnPropsChange(){return this._compactOnPropsChange}set compactOnPropsChange(e){this._compactOnPropsChange=bg(e)}get preventCollision(){return this._preventCollision}set preventCollision(e){this._preventCollision=bg(e)}get scrollSpeed(){return this._scrollSpeed}set scrollSpeed(e){this._scrollSpeed=Vu(e,2)}get compactType(){return this._compactType}set compactType(e){this._compactType=e}get rowHeight(){return this._rowHeight}set rowHeight(e){this._rowHeight=e==="fit"?e:Math.max(1,Math.round(Vu(e)))}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Vu(e)))}get layout(){return this._layout}set layout(e){this._layout=e}get gap(){return this._gap}set gap(e){this._gap=Math.max(Vu(e),0)}get height(){return this._height}set height(e){this._height=typeof e=="number"?Math.max(e,0):null}get selectedItemsIds(){return this._selectedItemsIds}set selectedItemsIds(e){this._selectedItemsIds=e,e?this.selectedItems=e.map(i=>this._gridItems.find(r=>r.id===i)):this.selectedItems=void 0}get backgroundConfig(){return this._backgroundConfig}set backgroundConfig(e){this._backgroundConfig=e;let i=this.elementRef.nativeElement.classList;this._backgroundConfig!==null?i.add("ktd-grid-background"):i.remove("ktd-grid-background"),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")}get config(){return{cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:this.layout,preventCollision:this.preventCollision,gap:this.gap}}constructor(e,i,r,o,a,s){this.gridService=e,this.elementRef=i,this.viewContainerRef=r,this.renderer=o,this.ngZone=a,this.document=s,this.layoutUpdated=new ue,this.dragStarted=new ue,this.resizeStarted=new ue,this.dragEnded=new ue,this.resizeEnded=new ue,this.gridItemResize=new ue,this.scrollableParent=null,this._compactOnPropsChange=!0,this._preventCollision=!1,this._scrollSpeed=2,this._compactType="vertical",this._rowHeight=100,this._cols=6,this._gap=0,this._height=null,this._backgroundConfig=null,this.placeholderRef={},this.placeholder={},this.subscriptions=[]}ngOnChanges(e){this.rowHeight==="fit"&&this.height==null&&console.warn("KtdGridComponent: The @Input() height should not be null when using rowHeight 'fit'");let i=!1,r=!1;(e.compactType||e.cols||e.layout)&&(i=!0),(i||e.rowHeight||e.height||e.gap||e.backgroundConfig)&&(r=!0),i&&this.compactOnPropsChange&&this.compactLayout(),r&&this.calculateRenderData()}ngAfterContentInit(){this.initSubscriptions()}ngAfterContentChecked(){this.render()}resize(){this.calculateRenderData(),this.render()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}compactLayout(){this.layout=ju(this.layout,this.compactType,this.cols)}getItemsRenderData(){return W({},this._gridItemsRenderData)}getItemRenderData(e){return this._gridItemsRenderData[e]}calculateRenderData(){let e=this.elementRef.nativeElement.getBoundingClientRect();this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?e.height:YA(this.layout,this.rowHeight,this.gap)),this._gridItemsRenderData=WA(this.config,e.width,this.gridCurrentHeight),this.setBackgroundCssVariables(oP(this.config,this.gridCurrentHeight))}render(){this.renderer.setStyle(this.elementRef.nativeElement,"height",`${this.gridCurrentHeight}px`),this.updateGridItemsStyles()}setBackgroundCssVariables(e){let i=this.elementRef.nativeElement.style;this._backgroundConfig?(i.setProperty("--gap",this.gap+"px"),i.setProperty("--row-height",e+"px"),i.setProperty("--columns",`${this.cols}`),i.setProperty("--border-width",(this._backgroundConfig.borderWidth??Bu.borderWidth)+"px"),i.setProperty("--border-color",this._backgroundConfig.borderColor??Bu.borderColor),i.setProperty("--gap-color",this._backgroundConfig.gapColor??Bu.gapColor),i.setProperty("--row-color",this._backgroundConfig.rowColor??Bu.rowColor),i.setProperty("--column-color",this._backgroundConfig.columnColor??Bu.columnColor)):(i.removeProperty("--gap"),i.removeProperty("--row-height"),i.removeProperty("--columns"),i.removeProperty("--border-width"),i.removeProperty("--border-color"),i.removeProperty("--gap-color"),i.removeProperty("--row-color"),i.removeProperty("--column-color"))}updateGridItemsStyles(){this._gridItems.forEach(e=>{let i=this._gridItemsRenderData[e.id];i==null?console.error(`Couldn't find the specified grid item for the id: ${e.id}`):e.setStyles(pw(i))})}setGridBackgroundVisible(e){let i=this.elementRef.nativeElement.classList;e?i.add("ktd-grid-background-visible"):i.remove("ktd-grid-background-visible")}initSubscriptions(){this.subscriptions=[this._gridItems.changes.pipe(Tt(this._gridItems),Bt(e=>Nt(...e.map(i=>i.dragStart$.pipe(Se(r=>({event:r,gridItem:i,type:"drag"})))),...e.map(i=>i.resizeStart$.pipe(Se(r=>({event:r,gridItem:i,type:"resize"}))))).pipe(Qc(({event:i,gridItem:r,type:o})=>{let a=this.selectedItems&&[...this.selectedItems];this.ngZone.run(()=>(o==="drag"?this.dragStarted:this.resizeStarted).emit(lw(r,this.layout,a))),this.setGridBackgroundVisible(this._backgroundConfig?.show==="whenDragging"||this._backgroundConfig?.show==="always");let s=[r];return a&&a.some(l=>l.id===r.id)&&(s=a),this.performDragSequence$(s,i,o).pipe(Se(l=>({layout:l,gridItem:r,type:o,multipleSelection:a})))})))).subscribe(({layout:e,gridItem:i,type:r,multipleSelection:o})=>{this.layout=e,this.calculateRenderData(),(r==="drag"?this.dragEnded:this.resizeEnded).emit(lw(i,e,o)),this.layoutUpdated.emit(e),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")})]}performDragSequence$(e,i,r){return new Oe(o=>{let a=typeof this.scrollableParent=="string"?this.document.getElementById(this.scrollableParent):this.scrollableParent,s=mw(this.elementRef.nativeElement),l={},c={},d={};e.forEach(g=>{l[g.id]=mw(g.elementRef.nativeElement),this.renderer.addClass(g.elementRef.nativeElement,"no-transitions"),this.renderer.addClass(g.elementRef.nativeElement,"ktd-grid-item-dragging");let S=Ie(W({},l[g.id]),{left:l[g.id].left-s.left,top:l[g.id].top-s.top});this.createPlaceholderElement(g.id,S,g.placeholder)});let u,v=this.ngZone.runOutsideAngular(()=>(a?this.gridService.mouseOrTouchMove$(this.document).pipe(Se(g=>({pointerX:Fs(g),pointerY:Os(g)})),Y8(a,{scrollStep:this.scrollSpeed})):ul).pipe(Ze(uw(this.document))).subscribe()),y=this.ngZone.runOutsideAngular(()=>Nt(Qo([this.gridService.mouseOrTouchMove$(this.document),...a?[K8(a).pipe(Tt({top:0,left:0}))]:[Le({top:0,left:0})]])).pipe(Ze(uw(this.document))).subscribe(([g,S])=>{g.preventDefault();let P=u||this.layout;if(r==="drag"&&e.length>1){let{layout:M,draggedItemPos:z}=L8(e,{layout:P,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:i,pointerDragEvent:g,gridElemClientRect:s,dragElementsClientRect:l,scrollDifference:S});u=M,d=z}else{let M=r==="drag"?O8:N8;u=P,e.forEach(z=>{let{layout:G,draggedItemPos:Y}=M(z,{layout:u,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:i,pointerDragEvent:g,gridElemClientRect:s,dragElemClientRect:l[z.id],scrollDifference:S});u=G,d[z.id]=Y})}this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?s.height:YA(u,this.rowHeight,this.gap)),this._gridItemsRenderData=WA({cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:u,preventCollision:this.preventCollision,gap:this.gap},s.width,s.height),e.forEach(M=>{c[M.id]=W({},this._gridItemsRenderData[M.id]);let z=pw(c[M.id]);this.placeholder[M.id].style.width=z.width,this.placeholder[M.id].style.height=z.height,this.placeholder[M.id].style.transform=`translateX(${z.left}) translateY(${z.top})`,this._gridItemsRenderData[M.id]=Ie(W({},d[M.id]),{id:this._gridItemsRenderData[M.id].id})}),this.setBackgroundCssVariables(this.rowHeight==="fit"?Hu(u,s.height,this.gap):this.rowHeight),this.render(),e.forEach(M=>{if(r==="resize"){let z=P.find(Y=>Y.id===M.id),G=u.find(Y=>Y.id===M.id);V8(z,G)||this.gridItemResize.emit({width:c[M.id].width,height:c[M.id].height,gridItemRef:lw(M,u).gridItemRef})}})},g=>o.error(g),()=>{this.ngZone.run(()=>{e.forEach(g=>{this.renderer.removeClass(g.elementRef.nativeElement,"no-transitions"),this.renderer.removeClass(g.elementRef.nativeElement,"ktd-grid-item-dragging"),this.addGridItemAnimatingClass(g).subscribe(),this.destroyPlaceholder(g.id)}),u?o.next(u.map(g=>({id:g.id,x:g.x,y:g.y,w:g.w,h:g.h,minW:g.minW,minH:g.minH,maxW:g.maxW,maxH:g.maxH}))):o.next(this.layout),o.complete()})}));return()=>{v.unsubscribe(),y.unsubscribe()}})}addGridItemAnimatingClass(e){return new Oe(i=>{let r=X8(e.elementRef.nativeElement);if(r===0){i.next(),i.complete();return}this.renderer.addClass(e.elementRef.nativeElement,"ktd-grid-item-animating");let o=l=>{(!l||l.target===e.elementRef.nativeElement&&l.propertyName==="transform")&&(this.renderer.removeClass(e.elementRef.nativeElement,"ktd-grid-item-animating"),s(),clearTimeout(a),i.next(),i.complete())},a=setTimeout(o,r*1.5),s=this.renderer.listen(e.elementRef.nativeElement,"transitionend",o)})}createPlaceholderElement(e,i,r){this.placeholder[e]=this.renderer.createElement("div"),this.placeholder[e].style.width=`${i.width}px`,this.placeholder[e].style.height=`${i.height}px`,this.placeholder[e].style.transform=`translateX(${i.left}px) translateY(${i.top}px)`,this.placeholder[e].classList.add("ktd-grid-item-placeholder"),this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder[e]),r?(this.placeholderRef[e]=this.viewContainerRef.createEmbeddedView(r.templateRef,r.data),this.placeholderRef[e].rootNodes.forEach(o=>this.placeholder[e].appendChild(o)),this.placeholderRef[e].detectChanges()):this.placeholder[e].classList.add("ktd-grid-item-placeholder-default")}destroyPlaceholder(e){this.placeholder[e]?.remove(),this.placeholderRef[e]?.destroy(),this.placeholder[e]=this.placeholderRef[e]=null}static{this.\u0275fac=function(i){return new(i||t)(R(yw),R(ve),R(Pi),R(Mt),R(ce),R(Ee))}}static{this.\u0275cmp=$({type:t,selectors:[["ktd-grid"]],contentQueries:function(i,r,o){if(i&1&&ei(o,bw,5),i&2){let a;Pe(a=Re())&&(r._gridItems=a)}},inputs:{scrollableParent:"scrollableParent",compactOnPropsChange:"compactOnPropsChange",preventCollision:"preventCollision",scrollSpeed:"scrollSpeed",compactType:"compactType",rowHeight:"rowHeight",cols:"cols",layout:"layout",gap:"gap",height:"height",selectedItemsIds:"selectedItemsIds",backgroundConfig:"backgroundConfig"},outputs:{layoutUpdated:"layoutUpdated",dragStarted:"dragStarted",resizeStarted:"resizeStarted",dragEnded:"dragEnded",resizeEnded:"resizeEnded",gridItemResize:"gridItemResize"},features:[Ut([{provide:nP,useFactory:t$,deps:[t]}]),li],ngContentSelectors:KA,decls:1,vars:0,template:function(i,r){i&1&&(Kt(),mt(0))},styles:[`ktd-grid{display:block;position:relative;width:100%}ktd-grid.ktd-grid-background:before{content:"";border:none;position:absolute;inset:0;z-index:0;transition:opacity .2s;opacity:0;background-image:repeating-linear-gradient(var(--border-color) 0 var(--border-width),var(--row-color) var(--border-width) calc(var(--row-height) - var(--border-width)),var(--border-color) calc(var(--row-height) - var(--border-width)) calc(var(--row-height)),var(--gap-color) calc(var(--row-height)) calc(var(--row-height) + var(--gap))),repeating-linear-gradient(90deg,var(--border-color) 0 var(--border-width),var(--column-color) var(--border-width) calc(100% - (var(--border-width) + var(--gap))),var(--border-color) calc(100% - (var(--border-width) + var(--gap))) calc(100% - var(--gap)),var(--gap-color) calc(100% - var(--gap)) 100%);background-size:calc((100% + var(--gap)) / var(--columns)) calc(var(--row-height) + var(--gap));background-position:0 0}ktd-grid.ktd-grid-background.ktd-grid-background-visible:before{opacity:1}ktd-grid ktd-grid-item.ktd-grid-item-dragging,ktd-grid ktd-grid-item.ktd-grid-item-animating{z-index:1000}ktd-grid ktd-grid-item.no-transitions{transition:none!important}ktd-grid .ktd-grid-item-placeholder{position:absolute;z-index:0;transition-property:transform;transition:all .15s ease}ktd-grid .ktd-grid-item-placeholder-default{background-color:#8b0000;opacity:.6}
`],encapsulation:2,changeDetection:0})}}return t})(),aP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ne({type:t})}static{this.\u0275inj=Ae({providers:[yw]})}}return t})();var i$=(t,n)=>n.trackField();function n$(t,n){if(t&1){let e=U();O(0,"input",2),ct("change",function(r){k(e);let o=b().$implicit,a=b();return E(a.entryToggled(r,o))}),F(),O(1,"label",3)(2,"span"),p(3),F()(),Ce(4,"br")}if(t&2){let e=b().$implicit;ht("id","activityOption"+e.name())("checked",!e.hidden()),h(),ht("htmlFor","activityOption"+e.name()),h(2),N("Show ",e.name())}}function r$(t,n){if(t&1&&x(0,n$,5,4),t&2){let e=n.$implicit;T(e.displayed()?0:-1)}}var sP=(()=>{class t{constructor(e){this.activityService=e}entryToggled(e,i){if(e.target instanceof HTMLInputElement)if(e.target.checked){let r=this.activityService.hiddenActivities.indexOf(i.activity.activityType);r!==-1&&this.activityService.hiddenActivities.splice(r,1),i.hidden.set(!1)}else this.activityService.hiddenActivities.includes(i.activity.activityType)||this.activityService.hiddenActivities.push(i.activity.activityType),i.hidden.set(!0)}static{this.\u0275fac=function(i){return new(i||t)(R(Ue))}}static{this.\u0275cmp=$({type:t,selectors:[["app-activity-options-modal"]],decls:6,vars:0,consts:[[1,"darkMode"],[1,"optionsDiv"],["type","checkbox",3,"change","id","checked"],[3,"for"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h3"),p(2,"Activities Panel Options"),F(),O(3,"div",1),ne(4,r$,1,1,null,null,i$),F()()),i&2&&(h(4),re(r.activityService.displayActivities))},styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}"]})}}return t})();var o$=(t,n)=>({projectionOnly:t,lockedActivity:n}),a$=(t,n)=>n.trackField();function s$(t,n){if(t&1){let e=U();m(0,"div")(1,"mat-icon",3),D("click",function(){k(e);let r=b();return E(r.optionsClicked())}),p(2," settings "),f()()}}function l$(t,n){if(t&1){let e=U();m(0,"mat-icon",15),D("click",function(r){k(e);let o=b(2).$implicit,a=b();return E(a.scheduleActivity(o.activity,r))})("contextmenu",function(r){k(e);let o=b(2).$implicit,a=b();return E(a.rightClick(o.activity,r))}),p(1," event "),f()}if(t&2){let e=b(2).$implicit;A("tooltip",X(e.scheduleTooltip()))}}function c$(t,n){t&1&&(m(0,"mat-icon",10),p(1," model_training "),f())}function d$(t,n){t&1&&(m(0,"mat-icon",11),p(1," supervisor_account "),f())}function u$(t,n){if(t&1&&(m(0,"mat-icon",12),p(1," attach_money "),f()),t&2){let e=b(2).$implicit;A("tooltip",X(e.lastIncomeString()))}}function h$(t,n){if(t&1&&(m(0,"mat-icon",13),p(1," upgrade "),f()),t&2){let e=b(2).$implicit;A("tooltip",X(e.nextRank()))}}function m$(t,n){if(t&1){let e=U();m(0,"div",5),D("cdkDragStarted",function(){k(e);let r=b(2);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(2);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(2);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(2);return E(o.dragReleased(r))})("click",function(){k(e);let r=b().$implicit,o=b();return E(o.activityPanelService.doActivity(r.activity))}),m(1,"div",6)(2,"span"),p(3),f()(),m(4,"div",7)(5,"span"),x(6,l$,2,2,"mat-icon",8),f(),m(7,"span",9),x(8,c$,2,0,"mat-icon",10),x(9,d$,2,0,"mat-icon",11),x(10,u$,2,2,"mat-icon",12),x(11,h$,2,2,"mat-icon",13),m(12,"mat-icon",14),D("click",function(r){k(e);let o=b().$implicit,a=b();return E(a.activityPanelService.showActivity(r,o.activity))}),p(13," help "),f()()()()}if(t&2){let e=b().$implicit,i=b();A("ngClass",mi(12,o$,e.projectionOnly(),e.locked()))("tabindex",0)("cdkDragDisabled",e.locked())("cdkDragData",e.activityType()),h(),A("tooltip",X(e.tooltip())),h(2),he(e.name()),h(3),T(i.mainLoopService.timeUnlocked?6:-1),h(2),T(e.apprenticeshipRequired()?8:-1),h(),T(e.familySpecialty()?9:-1),h(),T(e.displayLastIncome()?10:-1),h(),T(e.nextRank()!==""?11:-1)}}function p$(t,n){if(t&1&&x(0,m$,14,15,"div",4),t&2){let e=n.$implicit;T(e.displayed()&&!e.hidden()?0:-1)}}var lP=(()=>{class t{constructor(e,i){this.gameStateService=e,this.dialog=i,this.Math=Math,this.activityService=_(Ue),this.activityPanelService=_(ig),this.battleService=_(it),this.characterService=_(ae),this.hellService=_(Fe),this.mainLoopService=_(pe),this.dragPositionX=0,this.dragPositionY=0}scheduleActivity(e,i){if(i.stopPropagation(),e.projectionOnly){this.activityService.spiritActivity=e.activityType;return}let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}rightClick(e,i){i.preventDefault(),i.stopPropagation(),this.activityService.spiritActivity=e.activityType}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){e.event.preventDefault(),e.event.stopPropagation();let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=document.elementsFromPoint(i,r),a=this.activityService.activityLoop.length,s=!1,l=!1;for(let c of o)c.id==="activityDropDiv"?s=!0:c.id.startsWith("activityLoopIndex")?a=parseInt(c.id.substring(18)):c.id==="spiritActivity"&&(l=!0);if(s){let c=e.source.data;if(this.activityService.getActivityByType(c)?.projectionOnly&&(l=!0),l)this.activityService.spiritActivity=c;else{let d={activity:c,repeatTimes:1};a>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(d):this.activityService.activityLoop.splice(a,0,d)}}}optionsClicked(){this.dialog.open(sP,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(nt),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-activity-panel"]],decls:7,vars:1,consts:[[1,"activitiesContainer"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"activityGrid"],["tooltip","Options","aria-label","Activity Options","aria-hidden","false",1,"iconButton","floatRight",3,"click"],["cdkDrag","",1,"activitySlot",3,"ngClass","tabindex","cdkDragDisabled","cdkDragData"],["cdkDrag","",1,"activitySlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","click","ngClass","tabindex","cdkDragDisabled","cdkDragData"],[1,"activityLabel",3,"tooltip"],[1,"activityButtons"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"tooltip"],[1,"floatRight"],["tooltip","This activity requires that you go through an apprenticeship.<br>You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn.<br>Once you've started, other trades may be closed off until your next life.","aria-label","Requires an apprenticeship","aria-hidden","false"],["tooltip","This activity is a family specialty, and you will do it better than you could if your ancestors hadn't practiced this so much.","aria-label","Family Specialty","aria-hidden","false"],["aria-label","Earns money","aria-hidden","false",3,"tooltip"],["aria-label","Next Rank","aria-hidden","false",3,"tooltip"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"click","contextmenu","tooltip"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,s$,3,0,"div"),m(2,"div",1)(3,"div",2),ne(4,p$,1,1,null,null,a$),f()()(),H(6,"br")),i&2&&(h(),T(r.activityService.activityOptionsUnlocked()?1:-1),h(3),re(r.activityService.displayActivities))},dependencies:()=>[cr,lr,gt,De,ye],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.activitiesHeader[_ngcontent-%COMP%]{display:flex}.activitiesContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:168px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--qiColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}']})}}return t})();var f$=(t,n)=>n.id;function g$(t,n){if(t&1){let e=U();m(0,"div")(1,"div",3),D("click",function(){let r=k(e).$implicit,o=b();return E(o.slotClicked(r))}),m(2,"div"),p(3),B(4,"titlecase"),f(),m(5,"div"),p(6),B(7,"bigNumber"),f()()()}if(t&2){let e=n.$implicit;h(),A("tooltip",X(e.description)),h(2),he(V(4,4,e.id)),h(3),N("$ ",V(7,6,e.setupCost))}}var cP=(()=>{class t{constructor(e,i,r,o){this.dialogRef=e,this.homeService=i,this.characterService=r,this.gameStateService=o}slotClicked(e){this.characterService.money>e.setupCost&&(this.characterService.updateMoney(0-e.setupCost),this.homeService.addWorkstation(e.id),this.dialogRef.close())}static{this.\u0275fac=function(i){return new(i||t)(R(hu),R(Qe),R(ae),R(nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-workstation-selection-modal"]],decls:8,vars:0,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","tooltip"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Select Workstation"),f(),H(3,"hr"),m(4,"div",1)(5,"div",2),ne(6,g$,8,8,"div",null,f$),f()()()),i&2&&(h(6),re(r.homeService.availableWorkstationsList))},dependencies:()=>[ye,yt,Ve],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}"]})}}return t})();function v$(t,n){if(t&1){let e=U();O(0,"div",1)(1,"span")(2,"input",2),ct("change",function(r){k(e);let o=b();return E(o.autoPillChange(r))}),F(),O(3,"label",3),p(4,"Automatically consume all pills"),F()()()}if(t&2){let e=b();h(2),ht("checked",e.inventoryService.autoPillEnabled)}}function y$(t,n){if(t&1){let e=U();O(0,"div",1)(1,"span")(2,"input",4),ct("change",function(r){k(e);let o=b();return E(o.autoequipEnableChange(r))}),F(),O(3,"label",5),p(4,"Automatically equip the best gear you have"),F()()()}if(t&2){let e=b();h(2),ht("checked",e.inventoryService.autoequipBestEnabled)}}function b$(t,n){if(t&1){let e=U();O(0,"div",1)(1,"span")(2,"input",6),ct("change",function(r){k(e);let o=b();return E(o.automergeEquippedChange(r))}),F(),O(3,"label",7),p(4,"Automatically merge onto equipped equipment"),F()()()}if(t&2){let e=b();h(2),ht("checked",e.inventoryService.automergeEquipped)}}var dP=(()=>{class t{constructor(e,i,r,o,a,s,l,c){this.homeService=e,this.farmService=i,this.characterService=r,this.inventoryService=o,this.gameStateService=a,this.followerService=s,this.mainLoopService=l,this.dialog=c}autoPillChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoPillEnabled=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}automergeEquippedChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.automergeEquipped=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(Qe),R(yi),R(ae),R(se),R(nt),R(ut),R(pe),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-crafting-options-modal"]],decls:7,vars:3,consts:[[1,"darkMode","optionsDiv"],[1,"optionField"],["type","checkbox","id","autoPill",3,"change","checked"],["for","autoPill"],["type","checkbox","id","autoequipEnable",3,"change","checked"],["for","autoequipEnable"],["type","checkbox","id","automergeEquipped",3,"change","checked"],["for","automergeEquipped"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"span"),p(2,"Crafting Options"),F(),Ce(3,"hr"),x(4,v$,5,1,"div",1),x(5,y$,5,1,"div",1),x(6,b$,5,1,"div",1),F()),i&2&&(h(4),T(r.inventoryService.autoPillUnlocked?4:-1),h(),T(r.inventoryService.autoequipBestArmor||r.inventoryService.autoequipBestWeapon?5:-1),h(),T(r.inventoryService.autoequipBestArmor&&r.inventoryService.autoArmorMergeUnlocked||r.inventoryService.autoequipBestWeapon&&r.inventoryService.autoWeaponMergeUnlocked?6:-1))},styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}#importLayoutFile[_ngcontent-%COMP%], #importGameFile[_ngcontent-%COMP%]{display:none}"]})}}return t})();var _$=(t,n)=>n.name,S$=(t,n)=>n.id;function w$(t,n){t&1&&(m(0,"div")(1,"span"),p(2," Your crafting stations are a distant memory, and can't help you here in hell. "),f()())}function C$(t,n){if(t&1){let e=U();m(0,"mat-icon",3),D("click",function(){k(e);let r=b(3);return E(r.addWorkstation())}),p(1," hardware "),f(),m(2,"span"),p(3),f()}if(t&2){let e=b(3);h(3),N(" You can add ",e.homeService.home.maxWorkstations-e.homeService.workstations.length," more workstations to this home")}}function k$(t,n){if(t&1&&(H(0,"img",11),B(1,"titlecase")),t&2){let e=b().$implicit;A("ngSrc",bt("assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png"))("alt",X(V(1,4,e==null||e.item==null?null:e.item.name)))}}function E$(t,n){if(t&1&&(p(0),B(1,"titlecase")),t&2){let e=b().$implicit;N(" ",V(1,1,e==null||e.item==null?null:e.item.name)," ")}}function x$(t,n){if(t&1){let e=U();m(0,"div")(1,"div",8)(2,"div",9),B(3,"titlecase"),D("cdkDragStarted",function(){k(e);let r=b(4);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(4);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(4);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(4);return E(o.dragReleased(r))})("dblclick",function(){let r=k(e).$index,o=b().$implicit,a=b(3);return E(a.inputDoubleClicked(o,r))}),m(4,"div",10),x(5,k$,2,6,"img",11)(6,E$,2,3),f(),m(7,"div",12),p(8),f()()()()}if(t&2){let e=n.$implicit,i=n.$index,r=b().$index;h(),A("id",on("wsInputIndex",r,"_",i)),h(),A("tooltip",X(e!=null&&e.item?V(3,10,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):""))("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item)),h(3),T(!(e==null||e.item==null)&&e.item.imageFile?5:6),h(3),N("x",e==null?null:e.quantity)}}function T$(t,n){if(t&1){let e=U();m(0,"div",7)(1,"div")(2,"span"),p(3,"Currently Infusing: "),f()(),m(4,"div")(5,"mat-icon",13),D("click",function(){k(e);let r=b().$implicit,o=b(3);return E(o.homeService.changeWorkstationEquipmentSlot(r))}),p(6," change_circle "),f(),m(7,"span",7),p(8),B(9,"camelToTitle"),f()()()}if(t&2){let e=b().$implicit;h(8),N("",V(9,1,e.equipmentSlot)," Equipment")}}function D$(t,n){if(t&1){let e=U();m(0,"div",7)(1,"div")(2,"span"),p(3,"Currently Creating: "),f()(),m(4,"div")(5,"mat-icon",14),D("click",function(){k(e);let r=b().$implicit,o=b(3);return E(o.homeService.changeWorkstationAlchemyProduct(r))}),p(6," change_circle "),f(),m(7,"span",7),p(8),B(9,"camelToTitle"),f()()()}if(t&2){let e=b().$implicit;h(8),he(V(9,1,e.alchemyProduct))}}function M$(t,n){if(t&1){let e=U();m(0,"div",2)(1,"div")(2,"mat-icon",4),p(3," help "),f(),m(4,"span"),p(5),f(),m(6,"mat-icon",5),D("click",function(){let r=k(e).$implicit,o=b(3);return E(o.homeService.removeWorkstation(r))}),p(7," close "),f()(),m(8,"div")(9,"span"),p(10),B(11,"bigNumber"),f()(),m(12,"div")(13,"span"),p(14,"Inputs:"),f()(),m(15,"div",6),ne(16,x$,9,12,"div",null,S$),f(),m(18,"div"),x(19,T$,10,3,"div",7),x(20,D$,10,3,"div",7),f()()}if(t&2){let e=n.$implicit;h(2),A("tooltip",X(e.description)),h(3),he(e.name),h(5),N("Costs ",V(11,6,e.maintenanceCost)," Taels per day to maintain"),h(6),re(e.inputs),h(3),T(e.equipmentSlot?19:-1),h(),T(e.alchemyProduct?20:-1)}}function I$(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2,"Your Workstations"),f(),m(3,"mat-icon",1),D("click",function(){k(e);let r=b(2);return E(r.craftingOptions())}),p(4," settings "),f()(),m(5,"div"),x(6,C$,4,1),f(),ne(7,M$,21,8,"div",2,_$)}if(t&2){let e=b(2);h(6),T(e.homeService.workstations.length<e.homeService.home.maxWorkstations?6:-1),h(),re(e.homeService.workstations)}}function A$(t,n){if(t&1&&x(0,I$,9,1),t&2){let e=b();T(e.homeService.home.maxWorkstations&&(!e.hellService.inHell()||e.homeService.hellHome())?0:-1)}}var uP=(()=>{class t{constructor(e,i,r,o,a){this.homeService=e,this.hellService=i,this.inventoryService=r,this.dialog=o,this.gameStateService=a,this.Math=Math,this.dragPositionX=0,this.dragPositionY=0}craftingOptions(){this.dialog.open(dP,{width:"700px",data:{someField:"foo"},autoFocus:!1})}inputDoubleClicked(e,i){let r=e.inputs[i].item;r&&(e.inputs[i].quantity>0&&this.inventoryService.addItem(r,e.inputs[i].quantity,0,!0),e.inputs[i]=this.inventoryService.getEmptyItemStack())}addWorkstation(){this.dialog.open(cP,{width:"600px",data:{someField:"foo"},autoFocus:!1})}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data;if(!o)return;let a=null,s=-1;for(let d of this.homeService.workstations)for(let u=0;u<d.inputs.length;u++)d.inputs[u]===o&&(a=d,s=u);if(!a||s===-1)return;if(a.inputs[s].quantity===0){a.inputs[s]=this.inventoryService.getEmptyItemStack();return}let l=-1,c=document.elementsFromPoint(i,r);for(let d of c)d.id.startsWith("itemIndex")&&(l=parseInt(d.id.substring(9)));if(l!==-1){for(let d of c)if(d.id.startsWith("itemIndex")){let u=parseInt(d.id.substring(9));if(u>=0&&u<this.inventoryService.itemStacks.length){let v=this.inventoryService.itemStacks[u];v.item?v.item.name===o.item?.name&&(v.quantity+=o.quantity,this.inventoryService.fixId(u),a.inputs[s]=this.inventoryService.getEmptyItemStack()):(this.inventoryService.addItem(o.item,o.quantity,u,!0),a.inputs[s]=this.inventoryService.getEmptyItemStack())}}this.inventoryService.updateDisplayValues()}}static{this.\u0275fac=function(i){return new(i||t)(R(Qe),R(Fe),R(se),R(et),R(nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-crafting-panel"]],decls:4,vars:1,consts:[[1,"craftingContainer","overflow"],["tooltip","Options","aria-label","Crafting Options","aria-hidden","false",1,"iconButton","floatRight",3,"click"],[1,"workstationContainer"],["aria-label","Add Workstation","aria-hidden","false","tooltip","Add a new Workstation",1,"iconButton",3,"click"],[3,"tooltip"],["tooltip","Remove this workstation",1,"iconButton","floatRight",3,"click"],["cdkDropList","","cdkDropListSortingDisabled","",1,"inputsContainer"],[1,"product"],[3,"id"],["cdkDrag","",1,"inputSlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","tabindex","cdkDragData","cdkDragDisabled","tooltip"],[1,"itemName","textOverflow"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","alt"],[1,"itemQuantity"],["tooltip","Change Equipment Slot","aria-label","Change Equipment Slot","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Change Product","aria-label","Change Product","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,w$,3,0,"div")(2,A$,1,1),f(),H(3,"br")),i&2&&(h(),T(r.hellService.inHell()&&!r.homeService.hellHome()?1:2))},dependencies:()=>[De,cr,lr,ye,In,yt,Pt,Ve],styles:[".craftingContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:2px;padding-right:2px;flex:auto;overflow:auto;margin:4px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between;white-space:nowrap}.button-group[_ngcontent-%COMP%]{white-space:nowrap}.itemSlot[_ngcontent-%COMP%]{line-height:normal;width:50px;height:50px}.overflow[_ngcontent-%COMP%]{overflow:auto}.hellDisabled[_ngcontent-%COMP%]{opacity:.3}.inputsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.inputSlot[_ngcontent-%COMP%]{width:52px;height:52px;display:flex;line-height:normal;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.workstationContainer[_ngcontent-%COMP%]{margin:2px;border:1px solid var(--panelBorder);padding:2px}.floatRight[_ngcontent-%COMP%]{float:right}.product[_ngcontent-%COMP%]{margin-left:4px}"]})}}return t})();var _c=t=>({highlightSlot:t}),P$=t=>({highlightSpan:t}),R$=t=>({cooldown:t}),F$=(t,n)=>n.id;function O$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.head==null?null:e.characterService.equipment.head.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.head==null?null:e.characterService.equipment.head.name)))}}function L$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.rightHand==null?null:e.characterService.equipment.rightHand.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.rightHand==null?null:e.characterService.equipment.rightHand.name)))}}function N$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.body==null?null:e.characterService.equipment.body.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.body==null?null:e.characterService.equipment.body.name)))}}function B$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.leftHand==null?null:e.characterService.equipment.leftHand.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.leftHand==null?null:e.characterService.equipment.leftHand.name)))}}function V$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.legs==null?null:e.characterService.equipment.legs.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.legs==null?null:e.characterService.equipment.legs.name)))}}function j$(t,n){if(t&1&&(H(0,"img",11),B(1,"titlecase")),t&2){let e=b().$implicit;A("ngSrc",bt("assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png"))("alt",X(V(1,4,e==null||e.item==null?null:e.item.name)))}}function H$(t,n){if(t&1&&(p(0),B(1,"titlecase")),t&2){let e=b().$implicit;N(" ",V(1,1,e==null||e.item==null?null:e.item.name)," ")}}function q$(t,n){if(t&1){let e=U();m(0,"div")(1,"div",12)(2,"div",13),B(3,"titlecase"),D("cdkDragStarted",function(){k(e);let r=b();return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b();return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b();return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b();return E(o.dragReleased(r))})("dblclick",function(r){let o=k(e).$index,a=b();return E(a.pouchDoubleClicked(o,r))}),m(4,"div",14),x(5,j$,2,6,"img",11)(6,H$,2,3),f(),m(7,"div",15),p(8),B(9,"bigNumber"),f()()()()}if(t&2){let e=n.$implicit,i=n.$index;h(),A("id",bt("pouchIndex",i)),h(),A("tooltip",on("",e!=null&&e.item?V(3,11,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):"",`
                `,((e==null||e.item==null?null:e.item.cooldown)||0)>0?"<br>Cooldown: "+(e==null||e.item==null?null:e.item.cooldown)+" ticks":""))("ngClass",ft(15,R$,((e==null||e.item==null?null:e.item.cooldown)||0)>0))("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item)),h(3),T(!(e==null||e.item==null)&&e.item.imageFile?5:6),h(3),N("x",V(9,13,(e==null?null:e.quantity)||0))}}function U$(t,n){if(t&1&&(m(0,"div"),H(1,"img",11),B(2,"titlecase"),f()),t&2){let e=b();h(),A("ngSrc",bt("assets/images/items/",e.characterService.equipment.feet==null?null:e.characterService.equipment.feet.imageFile,".png"))("alt",X(V(2,4,e.characterService.equipment.feet==null?null:e.characterService.equipment.feet.name)))}}var hP=(()=>{class t{constructor(e,i,r){this.characterService=e,this.inventoryService=i,this.gameStateService=r,this.dragPositionX=0,this.dragPositionY=0}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.equipment[e]=null,this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()),this.inventoryService.updateDisplayValues()}pouchDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.itemPouches[e];r&&r.item&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r.item,r.quantity,0,!0),this.characterService.itemPouches[e]=this.inventoryService.getEmptyItemStack(),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()),this.inventoryService.updateDisplayValues()}getSelectedItemSlot(){let e=this.inventoryService.selectedItem?.item;return!e||!Ei(e)?null:e?.slot}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data;if(!o)return;let a=-1,s=document.elementsFromPoint(i,r);for(let l of s)l.id.startsWith("itemIndex")&&(a=parseInt(l.id.substring(9)));if(a!==-1){for(let l of s)if(l.id.startsWith("itemIndex")){let c=parseInt(l.id.substring(9));if(c>=0&&c<this.inventoryService.itemStacks.length){let d=this.inventoryService.itemStacks[c];if(d.item){if(Ei(d.item)&&d.item.slot===o.slot)this.inventoryService.setItemEmptyStack(c),this.inventoryService.mergeEquipment(d.item,o,c),this.characterService.equipment[d.item.slot]=null;else if(d.item.name===o.item?.name){let u=this.characterService.itemPouches.indexOf(o);u!==-1&&(d.quantity+=o.quantity,this.inventoryService.fixId(c),this.characterService.itemPouches[u]=this.inventoryService.getEmptyItemStack())}}else if(o.quantity){let u=this.characterService.itemPouches.indexOf(o);u!==-1&&(this.inventoryService.addItem(o.item,o.quantity,c,!0),this.characterService.itemPouches[u]=this.inventoryService.getEmptyItemStack())}else{this.inventoryService.addItem(o,1,c);let u=o.slot;this.characterService.equipment[u]=null}}}this.inventoryService.updateDisplayValues()}}static{this.\u0275fac=function(i){return new(i||t)(R(ae),R(se),R(nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-equipment-panel"]],decls:48,vars:86,consts:[["cdkDropList","","cdkDropListSortingDisabled","",1,"equipmentContainer"],["cdkDrag","","tabindex","0","id","equipmentSlothead",1,"itemSlot","textOverflow",2,"grid-area","head",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotrightHand",1,"itemSlot","textOverflow",2,"grid-area","right",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotbody",1,"itemSlot","textOverflow",2,"grid-area","body",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotleftHand",1,"itemSlot","textOverflow",2,"grid-area","left",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],[2,"grid-area","stats"],["tabindex","0",3,"ngClass","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotlegs",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],[2,"grid-area","pouch"],["cdkDropList","","cdkDropListSortingDisabled","",1,"pouchGrid"],["cdkDrag","","tabindex","0","id","equipmentSlotfeet",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","alt"],[3,"id"],["cdkDrag","",1,"pouchSlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","tabindex","cdkDragData","cdkDragDisabled","tooltip"],[1,"itemName","textOverflow"],[1,"itemQuantity"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1),B(2,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("head",a)}),x(3,O$,3,6,"div"),m(4,"div"),p(5),B(6,"titlecase"),f()(),m(7,"div",2),B(8,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("rightHand",a)}),x(9,L$,3,6,"div"),m(10,"div"),p(11),B(12,"titlecase"),f()(),m(13,"div",3),B(14,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("body",a)}),x(15,N$,3,6,"div"),m(16,"div"),p(17),B(18,"titlecase"),f()(),m(19,"div",4),B(20,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("leftHand",a)}),x(21,B$,3,6,"div"),m(22,"div"),p(23),B(24,"titlecase"),f()(),m(25,"div",5)(26,"span",6)(27,"mat-icon"),p(28,"shield"),f(),p(29),B(30,"bigNumber"),f()(),m(31,"div",7),B(32,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("legs",a)}),x(33,V$,3,6,"div"),m(34,"div"),p(35),B(36,"titlecase"),f()(),m(37,"div",8)(38,"div",9),ne(39,q$,10,17,"div",null,F$),f()(),m(41,"div",10),B(42,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("feet",a)}),x(43,U$,3,6,"div"),m(44,"div"),p(45),B(46,"titlecase"),f()()(),H(47,"br")),i&2&&(h(),A("tooltip",X(r.characterService.equipment.head!==null?V(2,46,r.characterService.equipment.head.name)+".<br>"+r.characterService.equipment.head.description:""))("ngClass",ft(72,_c,r.getSelectedItemSlot()==="head"))("cdkDragData",r.characterService.equipment.head)("cdkDragDisabled",!r.characterService.equipment.head),h(2),T(r.characterService.equipment.head!=null&&r.characterService.equipment.head.imageFile?3:-1),h(2),N(" ",V(6,48,r.characterService.equipment.head==null?null:r.characterService.equipment.head.name)," "),h(2),A("tooltip",X(r.characterService.equipment.rightHand!==null?V(8,50,r.characterService.equipment.rightHand.name)+".<br>"+r.characterService.equipment.rightHand.description:""))("ngClass",ft(74,_c,r.getSelectedItemSlot()==="rightHand"))("cdkDragData",r.characterService.equipment.rightHand)("cdkDragDisabled",!r.characterService.equipment.rightHand),h(2),T(r.characterService.equipment.rightHand!=null&&r.characterService.equipment.rightHand.imageFile?9:-1),h(2),N(" ",V(12,52,r.characterService.equipment.rightHand==null?null:r.characterService.equipment.rightHand.name)," "),h(2),A("tooltip",X(r.characterService.equipment.body!==null?V(14,54,r.characterService.equipment.body.name)+".<br>"+r.characterService.equipment.body.description:""))("ngClass",ft(76,_c,r.getSelectedItemSlot()==="body"))("cdkDragData",r.characterService.equipment.body)("cdkDragDisabled",!r.characterService.equipment.body),h(2),T(r.characterService.equipment.body!=null&&r.characterService.equipment.body.imageFile?15:-1),h(2),N(" ",V(18,56,r.characterService.equipment.body==null?null:r.characterService.equipment.body.name)," "),h(2),A("tooltip",X(r.characterService.equipment.leftHand!==null?V(20,58,r.characterService.equipment.leftHand.name)+".<br>"+r.characterService.equipment.leftHand.description:""))("ngClass",ft(78,_c,r.getSelectedItemSlot()==="leftHand"))("cdkDragData",r.characterService.equipment.leftHand)("cdkDragDisabled",!r.characterService.equipment.leftHand),h(2),T(r.characterService.equipment.leftHand!=null&&r.characterService.equipment.leftHand.imageFile?21:-1),h(2),N(" ",V(24,60,r.characterService.equipment.leftHand==null?null:r.characterService.equipment.leftHand.name)," "),h(3),A("tooltip",bt("Defense.<br>Reduces damage when a monster hits you.<br>Based on your toughness and armor.",r.characterService.righteousWrathUnlocked?"<br>Doubled by the power of your righteous wrath.":""))("ngClass",ft(80,P$,r.characterService.righteousWrathUnlocked)),h(3),he(V(30,62,r.characterService.defense)),h(2),A("tooltip",X(r.characterService.equipment.legs!==null?V(32,64,r.characterService.equipment.legs.name)+".<br>"+r.characterService.equipment.legs.description:""))("ngClass",ft(82,_c,r.getSelectedItemSlot()==="legs"))("cdkDragData",r.characterService.equipment.legs)("cdkDragDisabled",!r.characterService.equipment.legs),h(2),T(r.characterService.equipment.legs!=null&&r.characterService.equipment.legs.imageFile?33:-1),h(2),N(" ",V(36,66,r.characterService.equipment.legs==null?null:r.characterService.equipment.legs.name)," "),h(4),re(r.characterService.itemPouches),h(2),A("tooltip",X(r.characterService.equipment.feet!==null?V(42,68,r.characterService.equipment.feet.name)+".<br>"+r.characterService.equipment.feet.description:""))("ngClass",ft(84,_c,r.getSelectedItemSlot()==="feet"))("cdkDragData",r.characterService.equipment.feet)("cdkDragDisabled",!r.characterService.equipment.feet),h(2),T(r.characterService.equipment.feet!=null&&r.characterService.equipment.feet.imageFile?43:-1),h(2),N(" ",V(46,70,r.characterService.equipment.feet==null?null:r.characterService.equipment.feet.name)," "))},dependencies:()=>[cr,lr,gt,De,ye,In,yt,Ve],styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs pouch" "stats feet pouch";grid-template-columns:1fr 1fr 1fr;gap:2px;overflow-y:auto;width:100%;height:100%}.itemSlot[_ngcontent-%COMP%]{width:125px;height:65px;line-height:12px;display:flex;flex-direction:row}.pouchSlot[_ngcontent-%COMP%]{width:52px;height:52px;line-height:12px;display:flex;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.pouchGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:6px;justify-content:center;gap:3px;overflow-anchor:none;max-width:108px;min-width:108px;width:108px}.itemImage[_ngcontent-%COMP%]{border:1px solid}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.highlightSpan[_ngcontent-%COMP%]{background-color:var(--qiColor)}.cooldown[_ngcontent-%COMP%]{background-color:var(--healthColor)}']})}}return t})();var z$=(t,n)=>n.trackField();function $$(t,n){t&1&&(m(0,"div")(1,"span"),p(2," Your farm is a distant memory, and can't help you here in hell. "),f()())}function G$(t,n){if(t&1){let e=U();m(0,"mat-icon",5),D("click",function(r){k(e);let o=b(2);return E(o.addFieldClicked(r))}),p(1," add "),f()}}function W$(t,n){if(t&1&&H(0,"img",8),t&2){let e=b().$implicit;A("ngSrc",e.imageFile())}}function Y$(t,n){if(t&1){let e=U();m(0,"mat-icon",14),D("click",function(r){k(e);let o=b().$index,a=b(2);return E(a.changeCropClicked(r,o))}),p(1," grass "),f()}}function K$(t,n){if(t&1){let e=U();m(0,"div",4)(1,"div",6)(2,"div")(3,"div"),p(4),B(5,"titlecase"),f(),m(6,"div"),p(7),f(),m(8,"div"),p(9),f(),m(10,"div"),p(11),f(),m(12,"div"),p(13),B(14,"percent"),f(),m(15,"div"),p(16),B(17,"bigNumber"),f()(),m(18,"div",7)(19,"span"),p(20),B(21,"bigNumber"),f()(),x(22,W$,1,1,"img",8),f(),m(23,"div",9)(24,"mat-icon",10),D("click",function(r){let o=k(e).$index,a=b(2);return E(a.removeFieldClicked(r,o))}),p(25," close "),f(),m(26,"mat-icon",11),D("click",function(r){let o=k(e).$index,a=b(2);return E(a.addPlotToFieldClicked(r,o))}),p(27," add "),f(),m(28,"mat-icon",12),D("click",function(r){let o=k(e).$index,a=b(2);return E(a.removePlotFromFieldClicked(r,o))}),p(29," remove "),f(),x(30,Y$,2,0,"mat-icon",13),f()()}if(t&2){let e=n.$implicit,i=b(2);h(4),N("",V(5,9,e.cropName())," Field"),h(3),N("",e.plots()," Plots of Land"),h(2),N("Harvest Quantity: ",e.yield()),h(2),N("Days Until Next Harvest: ",e.daysToHarvest()),h(2),N("Progress to next harvest: ",V(14,11,e.progressToHarvest())),h(3),N("Upkeep Cost: ",V(17,13,e.upkeepCost())),h(4),N("Average harvest of ",V(21,15,e.averageYield())," per day."),h(2),T(e.imageFile()!==""?22:-1),h(8),T(i.farmService.unlockedCrops.length>1?30:-1)}}function Q$(t,n){if(t&1){let e=U();m(0,"div")(1,"span"),p(2," You can set up farm fields to grow various foods. Fields need to have plots assigned and regular farming work to be productive. "),f()(),m(3,"div")(4,"span"),p(5),f()(),m(6,"div"),x(7,G$,2,0,"mat-icon",1),m(8,"mat-icon",2),D("click",function(){k(e);let r=b();return E(r.homeService.buyLand(1))}),p(9," landscape_2 "),f()(),m(10,"div",3),ne(11,K$,31,17,"div",4,z$),f()}if(t&2){let e=b();h(5),Qt(" You have ",e.farmService.displayFallowPlots()," ",e.farmService.displayFallowPlots()===1?"plot":"plots"," of land laying fallow and ready to plant "),h(2),T(e.farmService.displayAddFields()?7:-1),h(4),re(e.farmService.displayFields)}}var mP=(()=>{class t{constructor(e,i,r){this.farmService=e,this.homeService=i,this.hellService=r}addFieldClicked(e){e.preventDefault(),e.stopPropagation(),this.farmService.addField()}removeFieldClicked(e,i){this.farmService.removeField(i)}addPlotToFieldClicked(e,i){e.preventDefault(),e.stopPropagation();let r=1;e&&(e.shiftKey&&(r*=10),e.ctrlKey&&(r*=100)),this.farmService.assignFallowPlots(i,r)}removePlotFromFieldClicked(e,i){e.preventDefault(),e.stopPropagation();let r=1;e&&(e.shiftKey&&(r*=10),e.ctrlKey&&(r*=100)),this.farmService.unassignPlots(i,r)}changeCropClicked(e,i){this.farmService.changeCrop(i)}static{this.\u0275fac=function(i){return new(i||t)(R(yi),R(Qe),R(Fe))}}static{this.\u0275cmp=$({type:t,selectors:[["app-farm-panel"]],decls:4,vars:1,consts:[[1,"farmContainer"],["tooltip","Set up a new field for growing crops.","aria-label","Set up a field","aria-hidden","false",1,"iconButton"],["tooltip","Purchase Land","aria-label","Purchase Land","aria-hidden","false",1,"iconButton",3,"click"],[1,"farmGrid"],[1,"fieldSlot"],["tooltip","Set up a new field for growing crops.","aria-label","Set up a field","aria-hidden","false",1,"iconButton",3,"click"],[1,"flexColumn","flexColumnGrow"],[1,"yieldText"],["priority","","width","32","height","32",1,"itemImage",3,"ngSrc"],[1,"flexColumn"],["tooltip","Clear this field and let its plots go fallow.","aria-label","Clear the field","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Assign a fallow plot to this field.","aria-label","Assign plot","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Remove a plot from this field.","aria-label","Remove plot","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Change the kind of crop you are growing in this field.","aria-label","Change crop","aria-hidden","false",1,"iconButton"],["tooltip","Change the kind of crop you are growing in this field.","aria-label","Change crop","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,$$,3,0,"div")(2,Q$,13,3),f(),H(3,"br")),i&2&&(h(),T(r.hellService.inHell()&&!r.homeService.hellHome()?1:2))},dependencies:()=>[De,ye,In,Kb,yt,Ve],styles:[".farmContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:4px;height:100%}.fieldSlot[_ngcontent-%COMP%]{width:200px;height:120px;padding:2px;line-height:12px;display:flex;flex-direction:row;border-radius:4px;border:1px solid var(--panelBorder);font-size:x-small;border-spacing:0px;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2px}.flexColumnGrow[_ngcontent-%COMP%]{flex-grow:1}.farmGrid[_ngcontent-%COMP%]{margin:2px;display:flex;flex-wrap:wrap;gap:2px;overflow-y:auto}.yieldText[_ngcontent-%COMP%]{height:30px}"]})}}return t})();var _w=(t,n)=>n.name;function Z$(t,n){if(t&1){let e=U();m(0,"tr")(1,"td"),p(2),B(3,"camelToTitle"),f(),m(4,"td"),p(5),f(),m(6,"td",18),p(7,"Keep up to "),m(8,"input",19),D("change",function(r){k(e);let o=b().$implicit,a=b();return E(a.keepValueChanged(r,o.key))}),f()()()}if(t&2){let e=b().$implicit,i=b();h(2),he(V(3,7,e.key)),h(3),he(e.value.description),h(),A("tooltip",on("This value will only apply to new ",i.followerType,"s.<br>You'll have to dismiss current ",i.followerType,"s yourself.")),h(2),A("value",X(i.maxFollowerByType[e.key]===void 0?1e3:i.maxFollowerByType[e.key]))}}function X$(t,n){if(t&1&&x(0,Z$,9,9,"tr"),t&2){let e=n.$implicit,i=b();T(!e.value.hidden&&(e.value.pet===i.pets||!e.value.pet&&!i.pets)?0:-1)}}function J$(t,n){if(t&1){let e=U();m(0,"div",16)(1,"span",20),p(2),f(),m(3,"button",21),D("click",function(){let r=k(e).$implicit,o=b();return E(o.loadAssignments(r.name))}),p(4," Load "),f(),m(5,"button",22),D("click",function(){let r=k(e).$implicit,o=b();return E(o.removeAssignments(r.name))}),p(6," Remove "),f()()}if(t&2){let e=n.$implicit;h(2),he(e.name)}}function eG(t,n){t&1&&(m(0,"div")(1,"span"),p(2," No saved assignments to trigger "),f()())}function tG(t,n){if(t&1&&(m(0,"mat-option",25),p(1),f()),t&2){let e=n.$implicit;A("value",X(e.name)),h(),he(e.name)}}function iG(t,n){if(t&1){let e=U();m(0,"div",16)(1,"span",14),p(2,"On rebirth, load"),f(),m(3,"mat-select",24),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.savedAssignmentsName,r)||(o.savedAssignmentsName=r),E(r)}),ne(4,tG,2,3,"mat-option",25,_w),f(),m(6,"mat-icon",26),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.removeTrigger(r))}),p(7," close "),f()()}if(t&2){let e=b().$implicit,i=b(2);h(3),er("value",e.savedAssignmentsName),h(),re(i.savedAssignments)}}function nG(t,n){if(t&1&&(m(0,"mat-option",25),p(1),B(2,"camelToTitle"),f()),t&2){let e=n.$implicit;A("value",X(e)),h(),he(V(2,3,e))}}function rG(t,n){if(t&1&&(m(0,"mat-option",25),p(1),B(2,"camelToTitle"),f()),t&2){let e=n.$implicit;A("value",X(e)),h(),N("Max ",V(2,3,e))}}function oG(t,n){if(t&1&&(m(0,"mat-option",25),p(1),f()),t&2){let e=n.$implicit;A("value",X(e.name)),h(),he(e.name)}}function aG(t,n){if(t&1){let e=U();m(0,"div",16)(1,"span",14),p(2,"When"),f(),m(3,"mat-select",24),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.attribute,r)||(o.attribute=r),E(r)}),ne(4,nG,3,5,"mat-option",25,vt),ne(6,rG,3,5,"mat-option",25,vt),m(8,"mat-option",27),p(9,"Money"),f()(),m(10,"span",14),p(11," reaches "),f(),m(12,"input",28),D("change",function(r){k(e);let o=b().$implicit,a=b(2);return E(a.triggerValueChange(r,o))}),f(),m(13,"span",14),p(14," then load "),f(),m(15,"mat-select",24),tr("valueChange",function(r){k(e);let o=b().$implicit;return Er(o.savedAssignmentsName,r)||(o.savedAssignmentsName=r),E(r)}),ne(16,oG,2,3,"mat-option",25,_w),f(),m(18,"mat-icon",26),D("click",function(){k(e);let r=b().$implicit,o=b(2);return E(o.removeTrigger(r))}),p(19," close "),f()()}if(t&2){let e=b().$implicit,i=b(2);h(3),er("value",e.attribute),h(),re(i.attributeKeys),h(2),re(i.statusMaxes),h(6),A("value",X(e.value)),h(3),er("value",e.savedAssignmentsName),h(),re(i.savedAssignments)}}function sG(t,n){if(t&1&&x(0,iG,8,1,"div",16)(1,aG,20,4,"div",16),t&2){let e=n.$index;T(e===0?0:1)}}function lG(t,n){if(t&1){let e=U();m(0,"button",23),D("click",function(){k(e);let r=b();return E(r.addTrigger())}),p(1," Add a Trigger "),f(),ne(2,sG,2,1,null,null,vt)}if(t&2){let e=b();h(2),re(e.triggers)}}var wg=(()=>{class t{constructor(e,i,r){this.followerService=i,this.characterService=r,this.changeAll=0,this.pets=!1,this.followerType="Follower",this.inputSave="Saved Assignments #1",this.attributeKeys=Object.keys(this.characterService.attributes),this.statusMaxes=Object.keys(this.characterService.status),this.pets=e.pets,this.followers=i.followers,this.followerCap=i.followerCap,this.maxFollowerByType=i.maxFollowerByType,this.savedAssignments=i.savedFollowerAssignments,this.triggers=i.followerTriggers,this.pets&&(this.followerType="Pet",this.followers=i.pets,this.followerCap=i.petsCap,this.maxFollowerByType=i.maxPetsByType,this.savedAssignments=i.savedPetAssignments,this.triggers=i.petTriggers)}getTotalAssingments(){let e=0;for(let i in this.followerService.jobs)!this.followerService.jobs[i].hidden&&(this.followerService.jobs[i].pet===this.pets||!this.followerService.jobs[i].pet&&!this.pets)&&(this.maxFollowerByType[i]?e+=this.maxFollowerByType[i]:this.maxFollowerByType[i]!==0&&(e+=1e3));return e}changeAllChanged(e){e.target instanceof HTMLInputElement&&(this.changeAll=parseInt(e.target.value))}changeAllClicked(){for(let e in this.followerService.jobs)this.pets&&this.followerService.jobs[e].pet?this.followerService.setMaxPets(e,this.changeAll):!this.pets&&!this.followerService.jobs[e].pet&&this.followerService.setMaxFollowers(e,this.changeAll)}keepValueChanged(e,i){e.target instanceof HTMLInputElement&&(this.pets?this.followerService.setMaxPets(i,parseInt(e.target.value)):this.followerService.setMaxFollowers(i,parseInt(e.target.value)))}sortAscSwitch(){this.followerService.sortAscending=!this.followerService.sortAscending}sortOrderChanged(e){e.target instanceof HTMLSelectElement&&(this.followerService.sortField=e.target.value,this.followerService.sortFollowers(this.followerService.sortAscending,this.pets))}dismissAllClicked(){this.followerService.dismissAllFollowers(void 0,this.pets)}saveAssignments(){this.followerService.saveAssignments(this.inputSave,this.pets),this.updateFollowerVariables()}inputSaveChange(e){e.target instanceof HTMLInputElement&&(this.inputSave=e.target.value)}loadAssignments(e){this.followerService.loadSavedAssignments(e,this.pets),this.updateFollowerVariables()}removeAssignments(e){this.followerService.removeSavedAssignments(e,this.pets),this.updateFollowerVariables()}updateFollowerVariables(){this.pets?(this.savedAssignments=this.followerService.savedPetAssignments,this.maxFollowerByType=this.followerService.maxPetsByType):(this.savedAssignments=this.followerService.savedFollowerAssignments,this.maxFollowerByType=this.followerService.maxFollowerByType)}triggerValueChange(e,i){e.target instanceof HTMLInputElement&&(i.value=parseInt(e.target.value))}removeTrigger(e){let i=this.triggers.indexOf(e);this.triggers.splice(i,1)}addTrigger(){this.triggers.push({attribute:"strength",value:100,savedAssignmentsName:""})}static{this.\u0275fac=function(i){return new(i||t)(R(Bo),R(ut),R(ae))}}static{this.\u0275cmp=$({type:t,selectors:[["app-follower-management-panel"]],decls:57,vars:18,consts:[[1,"darkMode"],["label","Assignments"],[1,"topInfo"],[3,"click"],["tooltip","Set a number to change all of the limits to."],["min","0","max","1000","value","0","type","number",1,"inputBox",3,"change"],["name","sortOrder","id","sortOrder",3,"change"],[3,"selected"],["value","Job",3,"selected"],["type","checkbox","id","followerSort",3,"change","checked"],["for","followerSort"],[1,"scrollingDiv"],["label","Saved Assignments"],["tooltip","Save your current set of assignments.",1,"saveButton",3,"click"],[1,"spacedSpan"],["min","0","type","text",1,"inputBox",3,"change","value"],[1,"optionsRow"],["label","Assignments Triggers"],[3,"tooltip"],["min","0","max","1000","type","number",1,"inputBox",3,"change","value"],[1,"grower"],["tooltip","Load this saved set of assignments.",1,"saveButton",3,"click"],["tooltip","Remove this saved set of assignments.",1,"saveButton",3,"click"],["tooltip","Add a trigger to change assignments automatically.<br>Triggers are activated in order, once per lifetime, as the selected attributes reach the chosen values.",1,"saveButton",3,"click"],[1,"selectSave",3,"valueChange","value"],[3,"value"],["tooltip","Remove this assignment trigger.",1,"iconButton",3,"click"],["value","money"],["min","0","type","number",1,"smallInputBox",3,"change","value"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3"),p(2),f(),H(3,"hr"),m(4,"mat-tab-group")(5,"mat-tab",1)(6,"div",2)(7,"span"),p(8),f(),m(9,"span")(10,"button",3),D("click",function(){return r.dismissAllClicked()}),p(11),f()()(),m(12,"div",2)(13,"span",4),p(14,"Set limit on all to "),m(15,"input",5),D("change",function(a){return r.changeAllChanged(a)}),f(),p(16),m(17,"button",3),D("click",function(){return r.changeAllClicked()}),p(18,"Change All"),f()()(),m(19,"div",2)(20,"span"),p(21," Sort followers by "),m(22,"select",6),D("change",function(a){return r.sortOrderChanged(a)}),m(23,"option",7),p(24,"Name"),f(),m(25,"option",8),p(26,"Type"),f(),m(27,"option",7),p(28,"Age"),f(),m(29,"option",7),p(30,"Power"),f(),m(31,"option",7),p(32,"Remaining Life"),f()(),m(33,"span")(34,"input",9),D("change",function(){return r.sortAscSwitch()}),f(),m(35,"label",10),p(36,"Sort Ascending"),f()()()(),m(37,"div",11)(38,"table"),ne(39,X$,1,1,null,null,vt),B(41,"keyvalue"),f()(),H(42,"br"),m(43,"span"),p(44),f()(),m(45,"mat-tab",12)(46,"div")(47,"button",13),D("click",function(){return r.saveAssignments()}),p(48," Save Current Assignments "),f(),m(49,"span",14),p(50,"as"),f(),m(51,"input",15),D("change",function(a){return r.inputSaveChange(a)}),f()(),ne(52,J$,7,1,"div",16,_w),f(),m(54,"mat-tab",17),x(55,eG,3,0,"div")(56,lG,4,0),f()()()),i&2&&(h(2),N("Manage ",r.followerType,"s"),h(6),kr(" You are currently supporting ",r.followers.length," ",r.followerType,"(s). You can support up to ",r.followerCap,". "),h(3),N("Dismiss All ",r.followerType,"s"),h(5),N(" ",r.followerType,"(s). "),h(7),A("selected",r.followerService.sortField==="Name"),h(2),A("selected",r.followerService.sortField==="Job"),h(2),A("selected",r.followerService.sortField==="Age"),h(2),A("selected",r.followerService.sortField==="Power"),h(2),A("selected",r.followerService.sortField==="Remaining Life"),h(3),A("checked",r.followerService.sortAscending),h(5),re(V(41,16,r.followerService.jobs)),h(5),N("Total assignments: ",r.getTotalAssingments()),h(7),A("value",X(r.inputSave)),h(),re(r.savedAssignments),h(3),T(r.savedAssignments.length===0?55:56))},dependencies:()=>[hc,gI,yI,ye,Da,Ho,De,fc,pc,ho,hs,Pt],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[type=number][_ngcontent-%COMP%]{width:80px}.topInfo[_ngcontent-%COMP%]{margin-top:4px;padding-bottom:4px;border-bottom:1px var(--tableDividerColor) solid}.saveButton[_ngcontent-%COMP%]{height:30px;margin:4px}.selectSave[_ngcontent-%COMP%]{width:300px;color:var(--bodyText);border:1px solid var(--bodyText);font-size:small;margin:4px}.smallInputBox[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]     .mat-mdc-select-arrow{color:var(--bodyText)!important}.optionsRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-basis:0;border-top:1px solid var(--panelBorder);align-items:center}.grower[_ngcontent-%COMP%]{flex-grow:1;align-content:center}.spacedSpan[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;align-content:center}"]})}}return t})();var cG=(t,n)=>n.id;function dG(t,n){if(t&1&&(m(0,"span",0),p(1),f()),t&2){let e=b();h(),N(" ",e.followerService.sectName," ")}}function uG(t,n){if(t&1){let e=U();m(0,"mat-icon",9),D("click",function(){k(e);let r=b();return E(r.followerOptionsClicked())}),p(1," settings "),f()}}function hG(t,n){if(t&1){let e=U();m(0,"mat-icon",10),D("click",function(){k(e);let r=b();return E(r.followerService.renameSect())}),p(1," change_circle "),f()}}function mG(t,n){if(t&1){let e=U();m(0,"mat-icon",14),D("click",function(){k(e);let r=b(2);return E(r.followerService.upgradeHQ())}),p(1," keyboard_double_arrow_up "),f()}if(t&2){let e=b(2);A("tooltip",e.followerService.hqs[e.followerService.hq].upgradeTooltip)}}function pG(t,n){if(t&1){let e=U();m(0,"mat-icon",15),D("click",function(){k(e);let r=b(2);return E(r.followerService.downgradeHQ())}),p(1," keyboard_double_arrow_down "),f()}}function fG(t,n){if(t&1&&(H(0,"img",21),B(1,"titlecase")),t&2){let e=b().$implicit;A("ngSrc",bt("assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png"))("alt",X(V(1,4,e==null||e.item==null?null:e.item.name)))}}function gG(t,n){if(t&1&&(p(0),B(1,"titlecase")),t&2){let e=b().$implicit;N(" ",V(1,1,e==null||e.item==null?null:e.item.name)," ")}}function vG(t,n){if(t&1){let e=U();m(0,"div")(1,"div",18)(2,"div",19),B(3,"titlecase"),D("cdkDragStarted",function(){k(e);let r=b(3);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(3);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(3);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(3);return E(o.dragReleased(r))})("dblclick",function(){let r=k(e).$index,o=b(3);return E(o.inputDoubleClicked(r))}),m(4,"div",20),x(5,fG,2,6,"img",21)(6,gG,2,3),f(),m(7,"div",22),p(8),f()()()()}if(t&2){let e=n.$implicit,i=n.$index;h(),A("id",bt("sectInputIndex_",i)),h(),A("tooltip",X(e!=null&&e.item?V(3,9,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):""))("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item)),h(3),T(!(e==null||e.item==null)&&e.item.imageFile?5:6),h(3),N("x",e==null?null:e.quantity)}}function yG(t,n){if(t&1&&(m(0,"div")(1,"span",16),p(2,"Generous Gifts:"),f()(),m(3,"div",17),ne(4,vG,9,11,"div",null,cG),f()),t&2){let e=b(2);h(4),re(e.followerService.hqInputs)}}function bG(t,n){if(t&1&&(m(0,"div")(1,"span",11),p(2),f(),x(3,mG,2,1,"mat-icon",12),x(4,pG,2,0,"mat-icon",13),f(),x(5,yG,6,0)),t&2){let e=b();h(),A("tooltip",e.followerService.hqs[e.followerService.hq].description),h(),N(" Headquarters: ",e.followerService.hqs[e.followerService.hq].name," "),h(),T(e.followerService.hqs[e.followerService.hq].upgradeMoneyCost!==0?3:-1),h(),T(e.followerService.hq!==0?4:-1),h(),T(e.followerService.hqs[e.followerService.hq].inputs>0?5:-1)}}function _G(t,n){if(t&1&&p(0),t&2){let e=b().$implicit;Qt(" ",e.experience||0," / ",e.power*1e3," ")}}function SG(t,n){t&1&&p(0," MAX ")}function wG(t,n){if(t&1){let e=U();m(0,"div",8),B(1,"titlecase"),B(2,"bigNumber"),B(3,"bigNumber"),B(4,"bigNumber"),m(5,"span",23),p(6),B(7,"titlecase"),f(),m(8,"span",7),p(9),B(10,"camelToTitle"),f(),m(11,"span",7),p(12),f(),m(13,"span",7),x(14,_G,1,2)(15,SG,1,0),f(),m(16,"span",7),p(17),B(18,"bigNumber"),B(19,"bigNumber"),f(),m(20,"mat-icon",24),D("click",function(r){let o=k(e).$implicit,a=b();return E(a.dismissFollower(r,o))}),p(21," cancel "),f()()}if(t&2){let e=n.$implicit,i=b();A("tooltip",Rd("",e.name," is a level ",e.power," ",V(1,16,e.job),".<br>",i.followerService.jobs[e.job].description,`<br>
        `,e.name," has followed you for ",V(2,18,e.age/365)," years and will serve for another ",V(3,20,(e.lifespan-e.age)/365)," more years.<br>Daily cost: ",V(4,22,e.cost))),h(6),N(" ",V(7,24,e.name)," "),h(3),N(" ",V(10,26,e.job)," "),h(3),N(" ",e.power," "),h(2),T(e.power<i.followerService.maxFollowerLevel?14:15),h(3),Qt(" ",V(18,28,e.age/365+18)," / ",V(19,30,e.lifespan/365+18)," "),h(3),A("tooltip",i.followerService.autoDismissUnlocked?`Dismiss this follower.<br>
                Shift-click to automatically dismiss everyone of this job type.<br>
                Ctrl-click to set the current number as the limit without dismissing.`:"Dismiss this follower.")}}var pP=(()=>{class t{constructor(e,i,r,o,a){this.characterService=e,this.dialog=i,this.gameStateService=r,this.followerService=o,this.inventoryService=a,this.popupCounter=0,this.dragPositionX=0,this.dragPositionY=0,this.originalOrder=()=>0}followerOptionsClicked(){this.dialog.open(wg,{width:"700px",data:{pets:!1},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(i):this.followerService.dismissFollower(i)}inputDoubleClicked(e){let i=this.followerService.hqInputs[e].item;i&&(this.followerService.hqInputs[e].quantity>0&&this.inventoryService.addItem(i,this.followerService.hqInputs[e].quantity,0,!0),this.followerService.hqInputs[e]=this.inventoryService.getEmptyItemStack())}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data;if(!o)return;let a=-1;for(let c=0;c<this.followerService.hqInputs.length;c++)this.followerService.hqInputs[c]===o&&(a=c);if(a===-1)return;if(this.followerService.hqInputs[a].quantity===0){this.followerService.hqInputs[a]=this.inventoryService.getEmptyItemStack();return}let s=-1,l=document.elementsFromPoint(i,r);for(let c of l)c.id.startsWith("itemIndex")&&(s=parseInt(c.id.substring(9)));if(s!==-1){for(let c of l)if(c.id.startsWith("itemIndex")){let d=parseInt(c.id.substring(9));if(d>=0&&d<this.inventoryService.itemStacks.length){let u=this.inventoryService.itemStacks[d];u.item?u.item.name===o.item?.name&&(u.quantity+=o.quantity,this.inventoryService.fixId(d),this.followerService.hqInputs[a]=this.inventoryService.getEmptyItemStack()):(this.inventoryService.addItem(o.item,o.quantity,d,!0),this.followerService.hqInputs[a]=this.inventoryService.getEmptyItemStack())}}this.inventoryService.updateDisplayValues()}}static{this.\u0275fac=function(i){return new(i||t)(R(ae),R(et),R(nt),R(ut),R(se))}}static{this.\u0275cmp=$({type:t,selectors:[["app-followers-panel"]],decls:25,vars:7,consts:[[1,"headerLine"],[3,"ngClass"],["aria-label","Manage Followers","aria-hidden","false","tooltip","Manage your followers",1,"iconButton","optionsIcon"],["aria-label","Rename your Sect","aria-hidden","false","tooltip","Rename your Sect",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[1,"followerLine"],[1,"followerCell"],[1,"followerLine",3,"tooltip"],["aria-label","Manage Followers","aria-hidden","false","tooltip","Manage your followers",1,"iconButton","optionsIcon",3,"click"],["aria-label","Rename your Sect","aria-hidden","false","tooltip","Rename your Sect",1,"iconButton","optionsIcon",3,"click"],[1,"headerLine",3,"tooltip"],["aria-label","Upgrade Headquarters","aria-hidden","false",1,"iconButton","optionsIcon",3,"tooltip"],["aria-label","Downgrade Headquarters","aria-hidden","false","tooltip","Downgrade Headquarters",1,"iconButton","optionsIcon"],["aria-label","Upgrade Headquarters","aria-hidden","false",1,"iconButton","optionsIcon",3,"click","tooltip"],["aria-label","Downgrade Headquarters","aria-hidden","false","tooltip","Downgrade Headquarters",1,"iconButton","optionsIcon",3,"click"],["tooltip","As the master of this sect, you can bestow generous gifts on your followers to aid them in their development."],["cdkDropList","","cdkDropListSortingDisabled","",1,"inputsContainer"],[3,"id"],["cdkDrag","",1,"inputSlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","tabindex","cdkDragData","cdkDragDisabled","tooltip"],[1,"itemName","textOverflow"],["priority","","width","48","height","48",1,"itemImage",3,"ngSrc","alt"],[1,"itemQuantity"],[1,"followerName","followerCell"],["aria-label","Dismiss Follower","aria-hidden","false",1,"smallerIcon",3,"click","tooltip"]],template:function(i,r){i&1&&(m(0,"div"),x(1,dG,2,1,"span",0),m(2,"span",1),p(3),f(),x(4,uG,2,0,"mat-icon",2),x(5,hG,2,0,"mat-icon",3),f(),x(6,bG,6,5),m(7,"div"),H(8,"hr"),f(),m(9,"div",4)(10,"div",5)(11,"div",6)(12,"span",7),p(13,"Name"),f(),m(14,"span",7),p(15,"Job"),f(),m(16,"span",7),p(17,"Level"),f(),m(18,"span",7),p(19,"Exp"),f(),m(20,"span",7),p(21,"Age"),f()(),ne(22,wG,22,32,"div",8,vt),f()(),H(24,"br")),i&2&&(h(),T(r.followerService.hqUnlocked?1:-1),h(),A("ngClass",r.followerService.followersMaxed),h(),Qt(" \xA0(",r.followerService.followers.length," / ",r.followerService.followerCap," Followers) "),h(),T(r.followerService.autoDismissUnlocked?4:-1),h(),T(r.followerService.hqUnlocked?5:-1),h(),T(r.followerService.hqUnlocked?6:-1),h(16),re(r.followerService.followers))},dependencies:()=>[gt,De,cr,lr,ye,In,yt,Pt,Ve],styles:["span[_ngcontent-%COMP%]{font-size:14px}.headerLine[_ngcontent-%COMP%]{margin-left:2px}.followersContainer[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.followerCell[_ngcontent-%COMP%]{margin-right:4px;flex-grow:1;flex-basis:0}.followerLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;display:flex;flex-direction:row}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}.itemSlot[_ngcontent-%COMP%]{line-height:normal;width:50px;height:50px}.inputsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}.inputSlot[_ngcontent-%COMP%]{width:52px;height:52px;display:flex;line-height:normal;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}"]})}}return t})();var CG=(t,n)=>({popupTextColor:t,popupTextNegativeColor:n});function kG(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"number"),f(),m(3,"span"),p(4),f()),t&2){let e=b();h(),N("You are ",zn(2,2,e.characterService.displayAgeYears(),"1.0-0")," years"),h(3),N(", ",e.characterService.displayAgeDays()," days")}}function EG(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),N("You are ",V(2,1,e.characterService.displayAge())," years")}}function xG(t,n){t&1&&(m(0,"span"),p(1,"You expect to live forever."),f())}function TG(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),N("You expect to live ",V(2,1,e.characterService.displayLifespan())," years.")}}function DG(t,n){t&1&&(m(0,"span"),p(1,"+"),f())}function MG(t,n){if(t&1){let e=U();m(0,"span",14),D("@popupText.done",function(){k(e);let r=b();return E(r.animationDoneEvent())}),x(1,DG,2,0,"span"),p(2),B(3,"bigNumber"),f()}if(t&2){let e=n.$implicit;A("ngClass",mi(6,CG,e>0,e<0))("@popupText",e),h(),T(e>0?1:-1),h(),he(V(3,4,e))}}function IG(t,n){if(t&1&&(m(0,"div",15),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),N("",V(2,1,e.characterService.hellMoney)," Hell Money")}}function AG(t,n){if(t&1&&(m(0,"span"),p(1),B(2,"bigNumber"),f()),t&2){let e=b();h(),Qt("",V(2,2,e.homeService.land)," Empty ",e.homeService.land===1?"Plot":"Plots"," of Land")}}var fP=(()=>{class t{constructor(){this.healthService=_(ac),this.characterService=_(ae),this.homeService=_(Qe),this.Math=Math}animationDoneEvent(){for(;this.healthService.moneyUpdates.length>0;)this.healthService.moneyUpdates.pop()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-health-panel"]],decls:61,vars:53,consts:[[1,"healthContainer"],[1,"flexColumn"],[1,"statusRow"],[1,"statusCell"],[3,"tooltip"],[1,"statusCell","health",3,"tooltip"],[1,"progress-bar",3,"ngClass"],[1,"statusCell","stamina",3,"tooltip"],[1,"statusCell","nutrition",3,"tooltip"],[1,"statusCell","qi",3,"tooltip"],[1,"flexColumn","lastColumn"],[1,"moneyLabelColumn"],[1,"moneyContainer"],[1,"moneyColumn"],[1,"popupText",3,"ngClass"],["tooltip","Money accepted as legal tender in hell.",1,"moneyColumn"]],template:function(i,r){i&1&&(m(0,"div",0),H(1,"app-yin-yang"),m(2,"div",1)(3,"div",2)(4,"div",3),x(5,kG,5,5)(6,EG,3,3,"span"),m(7,"span"),p(8," old."),f()(),m(9,"div",3),x(10,xG,2,0,"span")(11,TG,3,3,"span"),m(12,"mat-icon",4),p(13,"timer"),f()()(),m(14,"div",2)(15,"div",5)(16,"div")(17,"span"),p(18,"Health"),f()(),m(19,"div",6),B(20,"bigNumber"),B(21,"bigNumber"),H(22,"span"),f()(),m(23,"div",7)(24,"div")(25,"span"),p(26,"Stamina"),f()(),m(27,"div",6),B(28,"bigNumber"),B(29,"bigNumber"),H(30,"span"),f()(),m(31,"div",8)(32,"div")(33,"span"),p(34,"Nutrition"),f()(),m(35,"div",6),B(36,"bigNumber"),B(37,"bigNumber"),H(38,"span"),f()(),m(39,"div",9)(40,"div")(41,"span"),p(42,"Qi"),f()(),m(43,"div",6),B(44,"bigNumber"),B(45,"bigNumber"),H(46,"span"),f()()()(),m(47,"div",10)(48,"div",11)(49,"span"),p(50,"Wealth:"),f()(),m(51,"div",12)(52,"div",13)(53,"div")(54,"span"),p(55),B(56,"bigNumber"),f(),ne(57,MG,4,9,"span",14,vt),f(),x(59,IG,3,3,"div",15),x(60,AG,3,4,"span"),f()()()()),i&2&&(h(5),T(r.characterService.displayAge()<1e4?5:6),h(5),T(r.characterService.immortal()?10:11),h(2),A("tooltip",X(r.characterService.lifespanTooltip())),h(3),A("tooltip",X(r.characterService.status.health.description)),h(4),A("ngClass",r.healthService.flashHealth?"flash":""),Te("value",V(20,35,r.Math.floor(r.characterService.immortal()&&r.characterService.status.health.displayValue()<0?0:r.characterService.status.health.displayValue())))("max",V(21,37,r.Math.floor(r.characterService.status.health.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.immortal()&&r.characterService.status.health.displayValue()<0?0:r.characterService.status.health.displayValue())/r.Math.floor(r.characterService.status.health.displayMax()),"%"),h(),A("tooltip",X(r.characterService.status.stamina.description)),h(4),A("ngClass",r.healthService.flashStamina?"flash":""),Te("value",V(28,39,r.Math.floor(r.characterService.immortal()&&r.characterService.status.stamina.displayValue()<0?0:r.characterService.status.stamina.displayValue())))("max",V(29,41,r.Math.floor(r.characterService.status.stamina.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.immortal()&&r.characterService.status.stamina.displayValue()<0?0:r.characterService.status.stamina.displayValue())/r.Math.floor(r.characterService.status.stamina.displayMax()),"%"),h(),A("tooltip",X(r.characterService.status.nutrition.description)),h(4),A("ngClass",r.healthService.flashNutrition?"flash":""),Te("value",V(36,43,r.Math.floor(r.characterService.status.nutrition.displayValue())))("max",V(37,45,r.Math.floor(r.characterService.status.nutrition.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.status.nutrition.displayValue())/r.Math.floor(r.characterService.status.nutrition.displayMax()),"%"),h(),A("tooltip",X(r.characterService.status.qi.description)),h(4),A("ngClass",r.healthService.flashNutrition?"flash":""),Te("value",V(44,47,r.Math.floor(r.characterService.status.qi.displayValue())))("max",V(45,49,r.Math.floor(r.characterService.status.qi.displayMax()))),h(3),Je("width",100*r.Math.floor(r.characterService.status.qi.displayValue())/r.Math.floor(r.characterService.status.qi.displayMax()),"%"),h(9),N("",V(56,51,r.characterService.displayMoney())," Taels"),h(2),re(r.healthService.moneyUpdates),h(2),T(r.characterService.hellMoney>0?59:-1),h(),T(r.homeService.land>0?60:-1))},dependencies:()=>[De,gt,ye,Lf,ms,Ve],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:-.4em;margin-left:4px;margin-right:4px}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nutrition[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.qi[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--qiColor)}.statusRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:2px}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:4px}.lastColumn[_ngcontent-%COMP%]{flex-grow:1}.statusCell[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}td[_ngcontent-%COMP%]{font-size:12px}.flash[_ngcontent-%COMP%]{box-shadow:0 0 5px 5px #48abe0;transition:box-shadow ease-out .5s}.healthContainer[_ngcontent-%COMP%]{min-height:90px;min-width:600px;overflow-y:hidden;width:100%;height:100%;display:flex;flex-direction:row;flex-grow:1}.popupTextColor[_ngcontent-%COMP%]{color:var(--popupTextColor)}.popupTextNegativeColor[_ngcontent-%COMP%]{color:red}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);z-index:10000;font-size:x-small}"],data:{animation:[gs("popupText",[Vd("in",an({position:"fixed"})),va(":leave",[ga(1e3,jd([an({transform:"translate(0%, 0%)"}),an({transform:"translate(0%, -150%)"})]))])])]}})}}return t})();function PG(t,n){if(t&1&&(m(0,"div")(1,"span"),p(2),f(),m(3,"span")(4,"div",3),H(5,"span"),f()()(),H(6,"br")),t&2){let e=b();h(2),N("Current Task: ",e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].name),h(2),Te("value",e.Math.floor(e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress))("max",e.Math.floor(e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired)),h(),Je("width",100*e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress/e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired,"%")}}function RG(t,n){if(t&1&&(m(0,"span")(1,"mat-icon",5),p(2," help "),f(),p(3),f()),t&2){let e=b().$implicit;h(),A("tooltip",X(e.description)),h(2),N(" ",e.name," ")}}function FG(t,n){t&1&&(m(0,"span"),p(1," ???????????? "),f())}function OG(t,n){if(t&1&&(m(0,"div",4),H(1,"span"),f()),t&2){let e=b().$implicit,i=b();Te("value",i.Math.floor(i.impossibleTaskService.taskProgress[e.taskType].progress))("max",i.Math.floor(e.progressRequired)),h(),Je("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%")}}function LG(t,n){t&1&&(m(0,"span")(1,"mat-icon"),p(2," done "),f()())}function NG(t,n){if(t&1){let e=U();m(0,"span")(1,"button",6),D("click",function(){k(e);let r=b(2);return E(r.impossibleTaskService.stopTask())}),p(2,"Stop"),f()()}}function BG(t,n){if(t&1){let e=U();m(0,"span")(1,"button",6),D("click",function(){k(e);let r=b(2);return E(r.impossibleTaskService.startTask())}),p(2,"Start"),f()()}}function VG(t,n){if(t&1&&(m(0,"tr")(1,"td"),x(2,RG,4,3,"span"),x(3,FG,2,0,"span"),f(),m(4,"td"),x(5,OG,2,4,"div",4),f(),m(6,"td"),x(7,LG,3,0,"span"),x(8,NG,3,0,"span"),x(9,BG,3,0,"span"),f()()),t&2){let e=n.$implicit,i=b();h(2),T(i.impossibleTaskService.nextTask>=e.taskType?2:-1),h(),T(i.impossibleTaskService.nextTask<e.taskType?3:-1),h(2),T(i.impossibleTaskService.nextTask>=e.taskType?5:-1),h(2),T(i.impossibleTaskService.taskProgress[e.taskType].complete?7:-1),h(),T(i.impossibleTaskService.activeTaskIndex===e.taskType?8:-1),h(),T(i.impossibleTaskService.activeTaskIndex===-1&&i.impossibleTaskService.nextTask===e.taskType?9:-1)}}var gP=(()=>{class t{constructor(e,i,r){this.impossibleTaskService=e,this.gameStateService=i,this.activityService=r,this.Math=Math}pauseOnImpossibleFailChange(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnImpossibleFail=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(pn),R(nt),R(Ue))}}static{this.\u0275cmp=$({type:t,selectors:[["app-impossible-task-panel"]],decls:12,vars:2,consts:[[1,"impossibleTasksContainer"],["type","checkbox","id","pauseOnImpossibleFail",3,"change","checked"],["for","pauseOnImpossibleFail"],[1,"progress-bar"],[1,"progress-bar",2,"height","20px"],[3,"tooltip"],[3,"click"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span")(2,"input",1),D("change",function(a){return r.pauseOnImpossibleFailChange(a)}),f(),m(3,"label",2),p(4,"Automatically pause if task related activity fails"),f()(),H(5,"hr"),x(6,PG,7,5),m(7,"div")(8,"table"),ne(9,VG,10,6,"tr",null,vt),f()()(),H(11,"br")),i&2&&(h(2),A("checked",r.activityService.pauseOnImpossibleFail),h(4),T(r.impossibleTaskService.activeTaskIndex>=0?6:-1),h(3),re(r.impossibleTaskService.tasks))},dependencies:()=>[De,ye],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:middle;margin-left:8px}.impossibleTasksContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto}"]})}}return t})();function jG(t,n){t&1&&(m(0,"mat-icon",3),p(1," crisis_alert "),f())}function HG(t,n){if(t&1){let e=U();m(0,"div",2),D("click",function(){k(e);let r=b().$implicit,o=b();return E(o.locationClicked(r))}),x(1,jG,2,0,"mat-icon",3),m(2,"div"),p(3),f(),m(4,"div"),p(5),f()()}if(t&2){let e=b().$implicit,i=b();h(),T(i.locationService.troubleTarget===e?1:-1),h(2),he(i.locationService.locationMap[e].name),h(2),he(i.locationService.locationMap[e].description)}}function qG(t,n){if(t&1&&x(0,HG,6,3,"div",1),t&2){let e=n.$implicit,i=b();T(e!==i.locationTypeSelf?0:-1)}}var vP=(()=>{class t{constructor(e){this.locationService=e,this.locationTypeSelf=I.Self}locationClicked(e){this.locationService.troubleTarget===e?this.locationService.setTroubleLocation(null):this.locationService.setTroubleLocation(e)}static{this.\u0275fac=function(i){return new(i||t)(R(An))}}static{this.\u0275cmp=$({type:t,selectors:[["app-location-panel"]],decls:8,vars:0,consts:[[1,"locationsContainer"],[1,"itemSlot","locationEntry"],[1,"itemSlot","locationEntry",3,"click"],["tooltip","When you look for trouble or herbs, you will look for them here."]],template:function(i,r){i&1&&(m(0,"div",0)(1,"span"),p(2,"Available Locations"),f(),H(3,"br"),m(4,"div"),ne(5,qG,1,1,null,null,vt),f()(),H(7,"br")),i&2&&(h(5),re(r.locationService.unlockedLocations))},dependencies:()=>[De,ye],styles:[".locationsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;overflow-y:auto}.locationEntry[_ngcontent-%COMP%]{overflow:hidden;position:relative;margin:4px;padding:4px}"]})}}return t})();function UG(t,n){if(t&1){let e=U();m(0,"mat-icon",7),D("click",function(){k(e);let r=b();return E(r.followerOptionsClicked())}),p(1," settings "),f()}}function zG(t,n){if(t&1&&p(0),t&2){let e=b().$implicit;Qt(" ",e.experience||0," / ",e.power*1e3," ")}}function $G(t,n){t&1&&p(0," MAX ")}function GG(t,n){if(t&1){let e=U();m(0,"div",6),B(1,"titlecase"),B(2,"bigNumber"),B(3,"bigNumber"),B(4,"bigNumber"),m(5,"span",8),p(6),B(7,"titlecase"),f(),m(8,"span",5),p(9),B(10,"camelToTitle"),f(),m(11,"span",5),p(12),f(),m(13,"span",5),x(14,zG,1,2)(15,$G,1,0),f(),m(16,"span",5),p(17),B(18,"bigNumber"),B(19,"bigNumber"),f(),m(20,"mat-icon",9),D("click",function(r){let o=k(e).$implicit,a=b();return E(a.dismissFollower(r,o))}),p(21," cancel "),f()()}if(t&2){let e=n.$implicit,i=b();A("tooltip",Rd("",e.name," is a level ",e.power," ",V(1,16,e.job),".<br>",i.followerService.jobs[e.job].description,`<br>
        `,e.name," has followed you for ",V(2,18,e.age/365)," years and will serve for another ",V(3,20,(e.lifespan-e.age)/365)," more years.<br>Daily cost: ",V(4,22,e.cost))),h(6),N(" ",V(7,24,e.name)," "),h(3),N(" ",V(10,26,e.job)," "),h(3),N(" ",e.power," "),h(2),T(e.power<i.followerService.maxFollowerLevel?14:15),h(3),Qt(" ",V(18,28,e.age/365+18)," / ",V(19,30,e.lifespan/365+18)," "),h(3),A("tooltip",i.followerService.autoDismissUnlocked?`Dismiss this pet.<br>
                Shift-click to automatically dismiss every pet of this type.<br>
                Ctrl-click to set the current number as the limit without dismissing.`:"Dismiss this pet.")}}var yP=(()=>{class t{constructor(e,i){this.dialog=e,this.followerService=i}followerOptionsClicked(){this.dialog.open(wg,{width:"700px",data:{pets:!0},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(i,!0):this.followerService.dismissFollower(i)}static{this.\u0275fac=function(i){return new(i||t)(R(et),R(ut))}}static{this.\u0275cmp=$({type:t,selectors:[["app-pets-panel"]],decls:22,vars:4,consts:[[3,"ngClass"],["aria-label","Manage Pets","aria-hidden","false","tooltip","Manage your pets",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[1,"followerLine"],[1,"followerCell"],[1,"followerLine",3,"tooltip"],["aria-label","Manage Pets","aria-hidden","false","tooltip","Manage your pets",1,"iconButton","optionsIcon",3,"click"],[1,"followerName","followerCell"],["aria-label","Dismiss Pet","aria-hidden","false",1,"smallerIcon",3,"click","tooltip"]],template:function(i,r){i&1&&(m(0,"div")(1,"span",0),p(2),f(),x(3,UG,2,0,"mat-icon",1),f(),m(4,"div"),H(5,"hr"),f(),m(6,"div",2)(7,"div",3)(8,"div",4)(9,"span",5),p(10,"Name"),f(),m(11,"span",5),p(12,"Job"),f(),m(13,"span",5),p(14,"Level"),f(),m(15,"span",5),p(16,"Exp"),f(),m(17,"span",5),p(18,"Age"),f()(),ne(19,GG,22,32,"div",6,vt),f()(),H(21,"br")),i&2&&(h(),A("ngClass",r.followerService.petsMaxed),h(),Qt(" \xA0(",r.followerService.pets.length," / ",r.followerService.petsCap," Pets) "),h(),T(r.followerService.autoDismissUnlocked?3:-1),h(16),re(r.followerService.pets))},dependencies:()=>[gt,De,ye,yt,Pt,Ve],styles:["span[_ngcontent-%COMP%]{font-size:14px}.followersContainer[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}"]})}}return t})();var WG=t=>({lockedActivity:t}),YG=(t,n)=>n.name+""+n.level;function KG(t,n){if(t&1){let e=U();m(0,"div",5),D("click",function(){k(e);let r=b().$implicit,o=b();return E(o.doActivity(r))}),m(1,"div",6)(2,"span"),p(3),f()(),m(4,"div",7)(5,"span",8)(6,"mat-icon",9),D("click",function(r){k(e);let o=b().$implicit,a=b();return E(a.showActivity(r,o))}),p(7," help "),f()()()()}if(t&2){let e=b().$implicit;A("ngClass",ft(3,WG,!e.unlocked))("tabindex",0),h(3),he(e.name[e.level])}}function QG(t,n){if(t&1&&x(0,KG,8,5,"div",4),t&2){let e=n.$implicit;T(e.discovered||e.unlocked?0:-1)}}var bP=(()=>{class t{constructor(e,i,r,o,a,s,l){this.gameStateService=e,this.activityService=i,this.characterService=r,this.hellService=o,this.impossibleTaskService=a,this.dialog=s,this.mainLoopService=l,this.dragPositionX=0,this.dragPositionY=0,this.Math=Math}doActivity(e){e.consequence[e.level]()}showActivity(e,i){e.stopPropagation();let r=i.description[i.level]+`

`+i.consequenceDescription[i.level],o={titleText:i.name[i.level],bodyTextArray:[r],imageFiles:[""]};i.imageBaseName&&(o.imageFiles=["assets/images/activities/"+i.imageBaseName+i.level+".png"]),this.dialog.open(ao,{width:"400px",data:o,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(nt),R(Ue),R(ae),R(Fe),R(pn),R(et),R(pe))}}static{this.\u0275cmp=$({type:t,selectors:[["app-portal-panel"]],decls:10,vars:3,consts:[[1,"portalsHeader"],[1,"portalsContainer"],[1,"overflow"],[1,"activityGrid"],[1,"activitySlot",3,"ngClass","tabindex"],[1,"activitySlot",3,"click","ngClass","tabindex"],["tooltip","Take this portal",1,"activityLabel"],[1,"activityButtons"],[1,"floatRight"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"h3",0)(1,"span"),p(2),B(3,"camelToTitle"),f()(),m(4,"div",1)(5,"div",2)(6,"div",3),ne(7,QG,1,1,null,null,YG),f()()(),H(9,"br")),i&2&&(h(2),N("Current Realm: ",V(3,1,r.activityService.currentRealmDisplay())," "),h(5),re(r.activityService.portals))},dependencies:()=>[gt,De,ye,Pt],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.portalsHeader[_ngcontent-%COMP%]{display:flex}.portalsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:160px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--qiColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}']})}}return t})();var _P=(t,n)=>n.value;function ZG(t,n){if(t&1){let e=U();m(0,"span",3)(1,"input",4),D("change",function(r){k(e);let o=b().$implicit,a=b();return E(a.entryToggled(r,o))}),f(),m(2,"label",5),p(3),f()(),H(4,"br")}if(t&2){let e=b().$implicit;A("tooltip",e.description),h(),A("id","prefix"+e.value)("checked",e.allowed),h(),A("for","prefix"+e.value),h(),N(" Continue developing ",e.value," techniques ")}}function XG(t,n){if(t&1&&x(0,ZG,5,5),t&2){let e=n.$implicit;T(e.discovered?0:-1)}}function JG(t,n){if(t&1){let e=U();m(0,"span",3)(1,"input",4),D("change",function(r){k(e);let o=b().$implicit,a=b();return E(a.entryToggled(r,o))}),f(),m(2,"label",5),p(3),f()(),H(4,"br")}if(t&2){let e=b().$implicit;A("tooltip",e.description),h(),A("id","prefix"+e.value)("checked",e.allowed),h(),A("for","prefix"+e.value),h(),N(" Continue developing ",e.value," techniques ")}}function eW(t,n){if(t&1&&x(0,JG,5,5),t&2){let e=n.$implicit;T(e.discovered?0:-1)}}var SP=(()=>{class t{constructor(e){this.battleService=e}entryToggled(e,i){e.target instanceof HTMLInputElement&&(i.allowed=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(it))}}static{this.\u0275cmp=$({type:t,selectors:[["app-technique-options-modal"]],decls:9,vars:0,consts:[[1,"darkMode"],[1,"optionsDiv"],[1,"techniqueDevelopmentOptions"],[3,"tooltip"],["type","checkbox",3,"change","id","checked"],[3,"for"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h3"),p(2,"Technique Development Options"),f(),m(3,"div",1)(4,"span",2),ne(5,XG,1,1,null,null,_P),ne(7,eW,1,1,null,null,_P),f()()()),i&2&&(h(5),re(r.battleService.techniquePrefixAdjectiveList),h(2),re(r.battleService.techniqueEffectsList))},dependencies:()=>[ye],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}"]})}}return t})();var tW=(t,n)=>n.trackField();function iW(t,n){if(t&1&&(m(0,"div"),p(1),B(2,"camelToTitle"),f()),t&2){let e=b(2).$implicit;h(),N("Damage increases with ",V(2,1,e.attribute()))}}function nW(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),N("Damage multiplier: ",e.extraMultiplier())}}function rW(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),N("Uses ",e.staminaCost()," stamina")}}function oW(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),N("Uses ",e.qiCost()," Qi")}}function aW(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit;h(),N("Uses ",e.healthCost()," health")}}function sW(t,n){if(t&1&&(m(0,"div"),p(1),f()),t&2){let e=b(2).$implicit,i=b();h(),he(i.effectDescriptions[e.effect()])}}function lW(t,n){if(t&1&&H(0,"div",4),t&2){let e=b(2).$implicit,i=b();A("innerHTML",X(i.conceptDescriptions[e.concept()]),Do)}}function cW(t,n){if(t&1){let e=U();m(0,"button",6),D("click",function(){k(e);let r=b(2).$implicit,o=b();return E(o.battleService.forsakeTechnique(r.technique))}),p(1," Forsake This Family Technique "),f()}}function dW(t,n){if(t&1&&(m(0,"div",2)(1,"div",3),p(2),f(),m(3,"div"),p(4),f(),m(5,"div"),p(6),f(),x(7,iW,3,3,"div"),x(8,nW,2,1,"div"),m(9,"div"),p(10),f(),x(11,rW,2,1,"div"),x(12,oW,2,1,"div"),x(13,aW,2,1,"div"),x(14,sW,2,1,"div"),x(15,lW,1,2,"div",4),m(16,"div"),x(17,cW,2,0,"button",5),f()()),t&2){let e=b().$implicit,i=b();h(2),he(e.name()),h(2),he(e.description()),h(2),N("Base Damage: ",e.baseDamage()),h(),T(e.attribute()!==""?7:-1),h(),T(e.extraMultiplier()!==0?8:-1),h(2),N("Activates every ",e.ticksRequired()," combat ticks"),h(),T(e.staminaCost()!==0?11:-1),h(),T(e.qiCost()?12:-1),h(),T(e.healthCost()?13:-1),h(),T(e.effect()!==""?14:-1),h(),T(e.concept()!==""&&i.contemplationService.contemplationStarted()?15:-1),h(2),T(e.familyTechnique()?17:-1)}}function uW(t,n){if(t&1&&x(0,dW,18,12,"div",2),t&2){let e=n.$implicit;T(e.unlocked()?0:-1)}}var wP=(()=>{class t{constructor(e,i,r){this.battleService=e,this.contemplationService=i,this.dialog=r,this.effectDescriptions={},this.conceptDescriptions={},this.effectDescriptions[Ef]="This technique inflicts fire damage, doing additional damage to wood and metal aspected enemies and less to water and earth aspected enemies.",this.effectDescriptions[xf]="This technique inflicts earth damage, doing additional damage to water and fire aspected enemies and less to metal and wood aspected enemies.",this.effectDescriptions[Tf]="This technique inflicts metal damage, doing additional damage to wood and earth aspected enemies and less to water and fire aspected enemies.",this.effectDescriptions[Df]="This technique inflicts wood damage, doing additional damage to water and earth aspected enemies and less to metal and fire aspected enemies.",this.effectDescriptions[Mf]="This technique inflicts water damage, doing additional damage to fire and metal aspected enemies and less to wood and earth aspected enemies.",this.effectDescriptions[Wi]="This technique inflicts corruption, increasing damage but leaving you vulnerable.",this.effectDescriptions[lo]="This technique restores your life with each strike.",this.effectDescriptions[co]="This technique inflicts poison, sapping your enemy's health over time.",this.effectDescriptions[Vo]="This technique inflicts doom, increasing the damage of subsequent strikes.",this.effectDescriptions[If]="This technique does explosive damage to both you and your enemy.",this.effectDescriptions[nc]="This technique grants you additional protection each time it strikes.",this.effectDescriptions[Af]="This technique punches through enemy armor, making their defenses less effective.",this.effectDescriptions[Ms]="This technique allows all your techniques to strike faster for a short time.",this.effectDescriptions[Is]="This technique slows all your enemy's attacks for a short time.";for(let o of this.contemplationService.techniqueConcepts){this.conceptDescriptions[o]="Strengthened by contemplation of: ";let a=this.contemplationService.concepts.filter(s=>s.effect.includes(o));for(let s of a)this.conceptDescriptions[o]+="<br>"+s.name}}optionsClicked(){this.dialog.open(SP,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(it),R(pi),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-technique-panel"]],decls:8,vars:0,consts:[[1,"techniqueContainer"],["tooltip","Technique Development Options","aria-label","Technique Development Options","aria-hidden","false",1,"iconButton","floatRight",3,"click"],[1,"itemSlot","techniqueEntry"],[1,"techniqueName"],[3,"innerHTML"],["tooltip","Forsake this technique to make room in your heart to develop another."],["tooltip","Forsake this technique to make room in your heart to develop another.",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div")(2,"mat-icon",1),D("click",function(){return r.optionsClicked()}),p(3," settings "),f()(),m(4,"div"),ne(5,uW,1,1,null,null,tW),f()(),H(7,"br")),i&2&&(h(5),re(r.battleService.displayTechniques))},dependencies:()=>[ye,De,Pt],styles:[".techniqueContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;overflow-y:auto}.techniqueEntry[_ngcontent-%COMP%]{overflow:hidden;position:relative;margin:4px;padding:4px}.techniqueName[_ngcontent-%COMP%]{font-size:large}.floatRight[_ngcontent-%COMP%]{float:right}"]})}}return t})();var Sc=t=>({iconActive:t});function hW(t,n){if(t&1){let e=U();m(0,"mat-icon",10),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fastClick())}),p(1," fast_forward "),f()}if(t&2){let e=b();A("ngClass",ft(1,Sc,e.mainLoopService.tickDivider===5&&!e.mainLoopService.pause))}}function mW(t,n){if(t&1){let e=U();m(0,"mat-icon",11),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fasterClick())}),p(1," skip_next "),f()}if(t&2){let e=b();A("ngClass",ft(1,Sc,e.mainLoopService.tickDivider===2&&!e.mainLoopService.pause))}}function pW(t,n){if(t&1){let e=U();m(0,"mat-icon",12),D("click",function(){k(e);let r=b();return E(r.mainLoopService.fastestClick())}),p(1," bolt "),f()}if(t&2){let e=b();A("ngClass",ft(1,Sc,e.mainLoopService.tickDivider===1&&!e.mainLoopService.pause))}}var CP=(()=>{class t{constructor(e,i){this.gameStateService=e,this.dialog=i,this.activityService=_(Ue),this.battleService=_(it),this.characterService=_(ae),this.mainLoopService=_(pe),this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.dragPositionX=0,this.dragPositionY=0}timeOptions(){this.dialog.open(gc,{width:"700px",data:{someField:"foo"},autoFocus:!1})}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(R(nt),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-time-panel"]],decls:16,vars:16,consts:[[1,"timeContainer"],["tooltip",`Pause the game.<br>
      Hotkey: Alt-0 to pause or spacebar to toggle.<br>
      Clicking this again while paused will step time forward a single day.<br>
      When paused, you can also advance one day by pressing the Enter key.`,"aria-label","Pause","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Slow Game Speed (1 day/sec).<br>
      Hotkey: Alt-1`,"aria-label","Slow Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Standard Game Speed.<br>
      Hotkey: Alt-2`,"aria-label","Standard Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Fast Game Speed.<br>
      Hotkey: Alt-3`,"aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip",`Faster Game Speed.<br>
      Hotkey: Alt-4`,"aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip",`Fastest Game Speed.<br>
      Hotkey: Alt-5`,"aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"ngClass"],["tooltip","Banked time accrues slowly as you play or more quickly when you pause or take a break.<br>You can use banked time to make each moment feel as though ten have passed."],["type","checkbox","id","useSavedTicks",3,"change","checked"],["for","useSavedTicks"],["tooltip",`Fast Game Speed.<br>
      Hotkey: Alt-3`,"aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Faster Game Speed.<br>
      Hotkey: Alt-4`,"aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Fastest Game Speed.<br>
      Hotkey: Alt-5`,"aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div")(2,"mat-icon",1),D("click",function(){return r.mainLoopService.pauseClick()}),p(3," pause "),f(),m(4,"mat-icon",2),D("click",function(){return r.mainLoopService.slowClick()}),p(5," slow_motion_video "),f(),m(6,"mat-icon",3),D("click",function(){return r.mainLoopService.standardClick()}),p(7," play_arrow "),f(),x(8,hW,2,3,"mat-icon",4),x(9,mW,2,3,"mat-icon",5),x(10,pW,2,3,"mat-icon",6),f(),m(11,"div",7)(12,"input",8),D("change",function(a){return r.useSavedTicks(a)}),f(),m(13,"label",9),p(14),B(15,"bigNumber"),f()()()),i&2&&(h(2),A("ngClass",ft(10,Sc,r.mainLoopService.pause)),h(2),A("ngClass",ft(12,Sc,r.mainLoopService.tickDivider===40&&!r.mainLoopService.pause)),h(2),A("ngClass",ft(14,Sc,r.mainLoopService.tickDivider===10&&!r.mainLoopService.pause)),h(2),T(r.mainLoopService.unlockFastSpeed?8:-1),h(),T(r.mainLoopService.unlockFasterSpeed?9:-1),h(),T(r.mainLoopService.unlockFastestSpeed?10:-1),h(2),A("checked",r.mainLoopService.useBankedTicks),h(2),N("Use banked time to accelerate reality. ",V(15,8,r.mainLoopService.displayBankedTicks())," banked moments left."))},dependencies:()=>[De,gt,ye,Ve],styles:[".timeContainer[_ngcontent-%COMP%]{color:var(--bodyText)}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}.floatRight[_ngcontent-%COMP%]{float:right}label[_ngcontent-%COMP%]{font-size:small;vertical-align:text-top}"]})}}return t})();var fW=(t,n)=>n.name+n.progress;function gW(t,n){t&1&&(m(0,"div")(1,"span"),p(2," You are not stuck in hell. "),f()())}function vW(t,n){if(t&1&&(m(0,"span")(1,"div",1),H(2,"span"),f()()),t&2){let e=b(2);h(),Te("value",e.Math.floor(e.hellService.hells[e.activityService.currentRealm].progress()))("max",e.Math.floor(e.hellService.hells[e.activityService.currentRealm].progressMax())),h(),Je("width",100*e.hellService.hells[e.activityService.currentRealm].progress()/e.hellService.hells[e.activityService.currentRealm].progressMax(),"%")}}function yW(t,n){if(t&1){let e=U();m(0,"span")(1,"button",2),D("click",function(){k(e);let r=b(2);return E(r.hellBoss())}),p(2),f()()}if(t&2){let e=b(2);h(2),he(e.hellService.completedHellBosses.includes(e.activityService.currentRealm)?"Beat On The Hell Lord Some More":"Challenge the Hell Lord")}}function bW(t,n){if(t&1&&(m(0,"div")(1,"span"),p(2),f()(),x(3,vW,3,4,"span"),x(4,yW,3,1,"span")),t&2){let e=b();h(2),N(" You are in the ",e.hellService.hells[e.activityService.currentRealm].name," "),h(),T(e.activityService.currentRealm>0&&!e.hellService.completedHellTasks.includes(e.activityService.currentRealm)?3:-1),h(),T(e.activityService.currentRealm>0&&e.hellService.completedHellTasks.includes(e.activityService.currentRealm)?4:-1)}}function _W(t,n){if(t&1&&(m(0,"tr")(1,"td")(2,"span")(3,"mat-icon",3),p(4," help "),f(),p(5),f()(),m(6,"td")(7,"div",4),H(8,"span"),f()()()),t&2){let e=n.$implicit,i=b();h(3),A("tooltip",X(e.description)),h(2),N(" ",e.name," "),h(2),Te("value",i.Math.floor(e.progressCache))("max",i.Math.floor(e.progressMaxCache)),h(),Je("width",100*e.progressCache/e.progressMaxCache,"%")}}var kP=(()=>{class t{constructor(e,i){this.hellService=e,this.activityService=i,this.Math=Math}hellBoss(){this.hellService.fightHellBoss()}static{this.\u0275fac=function(i){return new(i||t)(R(Fe),R(Ue))}}static{this.\u0275cmp=$({type:t,selectors:[["app-hell-status-panel"]],decls:7,vars:1,consts:[[1,"hellStatusContainer"],[1,"progress-bar"],[3,"click"],[3,"tooltip"],[1,"progress-bar",2,"height","20px"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,gW,3,0,"div")(2,bW,5,3),m(3,"div")(4,"table"),ne(5,_W,9,7,"tr",null,fW),f()()()),i&2&&(h(),T(!r.hellService.inHell()||!r.hellService.hells[r.activityService.currentRealm]?1:2),h(4),re(r.hellService.hells))},dependencies:()=>[De,ye],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:middle;margin-left:8px}.hellStatusContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto}"]})}}return t})();var SW=t=>({indeterminate:t}),Sw=(t,n)=>({currentRow:t,disabled:n});function wW(t,n){if(t&1){let e=U();m(0,"div")(1,"span",2),p(2,"BATTLING!!!"),f()(),m(3,"div")(4,"span"),p(5,"Your schedule will resume when the battle is over."),f()(),m(6,"div")(7,"span"),p(8,"Days will not pass, but your perception of time will decide the speed of the battle."),f()(),m(9,"div")(10,"button",3),D("click",function(){k(e);let r=b();return E(r.battleService.battleMessageDismissed=!0)}),p(11,"Got it. Now let me see my schedule anyway during battles."),f()()}}function CW(t,n){if(t&1){let e=U();m(0,"button",7),D("click",function(){k(e);let r=b(2);return E(r.enableAllClick())}),p(1,"Enable All Activities"),f(),m(2,"button",7),D("click",function(){k(e);let r=b(2);return E(r.disableAllClick())}),p(3,"Disable All Activities"),f()}}function kW(t,n){if(t&1){let e=U();m(0,"tr")(1,"td"),p(2),f(),m(3,"td")(4,"div",10),H(5,"span"),f()(),m(6,"td")(7,"mat-icon",11),D("click",function(){k(e);let r=b(3);return E(r.removeSpiritActivity())}),p(8,"clear"),f()()()}if(t&2){let e=b(3);h(2),he(e.activityService.getActivityName(e.activityService.spiritActivity)),h(2),A("ngClass",ft(2,SW,e.activityService.spiritActivityProgress&&!e.mainLoopService.pause))}}function EW(t,n){if(t&1){let e=U();m(0,"table",8),D("drop",function(r){k(e);let o=b(2);return E(o.spiritActivityDrop(r))}),m(1,"tr")(2,"td",9),p(3," Spiritual Projection "),f()(),x(4,kW,9,4,"tr"),f()}if(t&2){let e=b(2);h(4),T(e.activityService.spiritActivity!==null?4:-1)}}function xW(t,n){t&1&&(m(0,"tr")(1,"td"),p(2," Add activities from the Activities panel or drag them here "),f()())}function TW(t,n){if(t&1){let e=U();m(0,"tr",13),D("cdkDragStarted",function(){k(e);let r=b(4);return E(r.dragStart())})("cdkDragEnded",function(){k(e);let r=b(4);return E(r.dragEnd())})("cdkDragMoved",function(r){k(e);let o=b(4);return E(o.dragMoved(r))})("cdkDragReleased",function(r){k(e);let o=b(4);return E(o.dragReleased(r))}),m(1,"td",14)(2,"mat-icon",15),D("click",function(r){k(e);let o=b().$implicit,a=b(3);return E(a.showActivity(r,o.activity))}),p(3," help "),f(),p(4),f(),m(5,"td",14)(6,"div",16),H(7,"span"),f()(),m(8,"td",14)(9,"mat-icon",17),D("click",function(r){k(e);let o=b().$implicit,a=b(3);return E(a.onMinusClick(o,r))}),p(10,"remove"),f(),m(11,"mat-icon",18),D("click",function(r){k(e);let o=b().$implicit,a=b(3);return E(a.onPlusClick(o,r))}),p(12,"add"),f(),m(13,"mat-icon",19),D("click",function(){k(e);let r=b().$implicit,o=b(3);return E(o.onDisableClick(r))}),p(14,"cancel"),f(),m(15,"mat-icon",11),D("click",function(){k(e);let r=b().$implicit,o=b(3);return E(o.onRemoveClick(r))}),p(16,"clear"),f()()()}if(t&2){let e=b(),i=e.$implicit,r=e.$index,o=b(3);A("id",bt("activityLoopIndex",r))("cdkDragData",r),h(),A("id",bt("activityLoopIndex0",r))("ngClass",mi(17,Sw,r===o.activityService.displayCurrentIndex(),i.disabled||i.userDisabled||o.battleService.enemies.length>0)),h(3),kr(" ",o.activityService.getActivityName(i.activity)," (",i.repeatTimes," ",i.repeatTimes===1?"day":"days",") "),h(),A("id",bt("activityLoopIndex1",r))("ngClass",mi(20,Sw,r===o.activityService.displayCurrentIndex(),i.disabled||i.userDisabled||o.battleService.enemies.length>0)),h(2),Je("width",100*(r!==o.activityService.displayCurrentIndex()||i.disabled||i.userDisabled?i.repeatTimes:o.activityService.displayCurrentTickCount())/i.repeatTimes,"%"),h(),A("id",bt("activityLoopIndex2",r))("ngClass",mi(23,Sw,r===o.activityService.displayCurrentIndex(),i.disabled||i.userDisabled||o.battleService.enemies.length>0))}}function DW(t,n){if(t&1&&x(0,TW,17,26,"tr",12),t&2){let e=n.$implicit,i=b(3);T(i.activityService.getActivityName(e.activity)!==""?0:-1)}}function MW(t,n){if(t&1&&ne(0,DW,1,1,null,null,vt),t&2){let e=b(2);re(e.activityService.activityLoop)}}function IW(t,n){if(t&1){let e=U();m(0,"div",1)(1,"div",4),x(2,CW,4,0),m(3,"mat-icon",5),D("click",function(){k(e);let r=b();return E(r.scheduleOptions())}),p(4," settings "),f()(),x(5,EW,5,1,"table",6),m(6,"table"),x(7,xW,3,0,"tr")(8,MW,2,0),f()()}if(t&2){let e=b();h(2),T(e.activityService.activityLoop.length!==0?2:-1),h(3),T(e.characterService.qiUnlocked?5:-1),h(2),T(e.activityService.activityLoop.length===0?7:8)}}var EP=(()=>{class t{constructor(e,i){this.gameStateService=e,this.dialog=i,this.activityService=_(Ue),this.battleService=_(it),this.characterService=_(ae),this.mainLoopService=_(pe),this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.dragPositionX=0,this.dragPositionY=0}scheduleOptions(){this.dialog.open(gc,{width:"700px",data:{someField:"foo"},autoFocus:!1})}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}onDisableClick(e){e.userDisabled=!e.userDisabled,e.userDisabled||this.activityService.checkRequirements(!0)}disableAllClick(){for(let e of this.activityService.activityLoop)e.userDisabled=!0}enableAllClick(){for(let e of this.activityService.activityLoop)e.userDisabled=!1}removeSpiritActivity(){this.activityService.spiritActivity=null}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data,a=document.elementsFromPoint(i,r),s=this.activityService.activityLoop.length,l=!1,c=!1;for(let d of a)d.id==="activityDropDiv"?l=!0:d.id.startsWith("activityLoopIndex")?s=parseInt(d.id.substring(18)):d.id==="spiritActivity"&&(c=!0);if(l&&o>=0&&o<this.activityService.activityLoop.length)if(c){let d=this.activityService.activityLoop[o].activity;this.activityService.spiritActivity=d}else{let d=this.activityService.activityLoop.splice(o,1);s>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(d[0]):this.activityService.activityLoop.splice(s,0,d[0])}}spiritActivityDrop(e){e.preventDefault(),e.stopPropagation();let i=e.dataTransfer?.getData("activityloop")+"";if(i===""){if(i=e.dataTransfer?.getData("activity")+"",i==="")return;let r=parseInt(i);this.activityService.spiritActivity=r}else{let r=parseInt(i);if(r>=0&&r<this.activityService.activityLoop.length){let o=this.activityService.activityLoop[r].activity;this.activityService.spiritActivity=o}}}showActivity(e,i){e.stopPropagation();let r=this.activityService.getActivityByType(i);if(r===null)return;let o=r.description[r.level]+`

`+r.consequenceDescription[r.level];o+=this.activityService.getYinYangDescription(r.yinYangEffect[r.level]),r.projectionOnly&&(o+=`

This activity can only be performed by a spiritual projection of yourself back in the mortal realm.`);let a={titleText:r.name[r.level],bodyTextArray:[o],imageFiles:[""]};r.imageBaseName&&(a.imageFiles=["assets/images/activities/"+r.imageBaseName+r.level+".png"]),this.dialog.open(ao,{width:"400px",data:a,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(R(nt),R(et))}}static{this.\u0275cmp=$({type:t,selectors:[["app-schedule-panel"]],decls:4,vars:1,consts:[["id","activityDropDiv",1,"dropAccepter"],["cdkDropList","","cdkDropListSortingDisabled","",1,"overflow"],[1,"battleWarning"],[3,"click"],[1,"headerDiv"],["tooltip","Schedule Options","aria-label","Schedule Options","aria-hidden","false",1,"iconButton","floatRight",3,"click"],["id","spiritActivity",1,"spiritActivityPanel"],[1,"headerButton",3,"click"],["id","spiritActivity",1,"spiritActivityPanel",3,"drop"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work.<br>Whatever activity you drop here will be completed each day as long as you have enough Qi to support the effort.<br>Requires 5 Qi per day in addition to the regular requirements of the activity.",1,"spiritProjectionLabel"],[1,"progress-bar",3,"ngClass"],["tooltip","Remove this activity from the schedule.","aria-label","Remove Activity","aria-hidden","false",1,"iconButton",3,"click"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"id","cdkDragData"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","id","cdkDragData"],[3,"ngClass","id"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",3,"click"],[1,"progress-bar"],["tooltip","Spend fewer days on this.<br>Shift- or Ctrl-click to remove 10x<br>Shift-Ctrl-click to remove 100x","aria-label","Remove Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Spend more days on this.<br>Shift- or Ctrl-click to add 10x<br>Shift-Ctrl-click to add 100x","aria-label","Add Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Disable this activity on the schedule.","aria-label","Disable Activity","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(m(0,"div",0),x(1,wW,12,0)(2,IW,9,3,"div",1),f(),H(3,"br")),i&2&&(h(),T(r.battleService.enemies.length>0&&!r.battleService.battleMessageDismissed?1:2))},dependencies:()=>[De,gt,cr,lr,ye],styles:[".headerDiv[_ngcontent-%COMP%]{color:var(--bodyText)}.dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--qiColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}.disabledSchedule[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.battleWarning[_ngcontent-%COMP%]{color:var(--healthColor);font-size:x-large}.floatRight[_ngcontent-%COMP%]{float:right}.headerButton[_ngcontent-%COMP%]{margin-top:2px;margin-left:2px}"]})}}return t})();var AW=(t,n)=>n.name();function PW(t,n){t&1&&(m(0,"mat-icon",3),p(1," crisis_alert "),f())}function RW(t,n){if(t&1){let e=U();m(0,"div",2),D("click",function(){let r=k(e).$implicit,o=b();return E(o.conceptClicked(r.concept))}),x(1,PW,2,0,"mat-icon",3),m(2,"div"),p(3),f(),m(4,"div"),p(5),B(6,"bigNumber"),f()()}if(t&2){let e=n.$implicit,i=b();A("tooltip",X(e.description())),h(),T(i.contemplationService.currentConcept===e.concept?1:-1),h(2),he(e.name()),h(2),N("",V(6,5,e.progress())," Thoughts")}}var xP=(()=>{class t{constructor(e){this.contemplationService=e}conceptClicked(e){this.contemplationService.currentConcept=e}static{this.\u0275fac=function(i){return new(i||t)(R(pi))}}static{this.\u0275cmp=$({type:t,selectors:[["app-contemplation-panel"]],decls:5,vars:0,consts:[[1,"contemplationContainer"],[1,"itemSlot","conceptEntry",3,"tooltip"],[1,"itemSlot","conceptEntry",3,"click","tooltip"],["tooltip","You are currently contemplating this concept."]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div"),ne(2,RW,7,7,"div",1,AW),f()(),H(4,"br")),i&2&&(h(2),re(r.contemplationService.displayConcepts))},dependencies:()=>[De,ye,Ve],styles:[".contemplationContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;overflow-y:auto}.conceptEntry[_ngcontent-%COMP%]{overflow:hidden;position:relative;margin:4px;padding:4px}"]})}}return t})();var FW=t=>({darkMode:t}),DP=t=>({highlighted:t}),TP=()=>[],OW=t=>({grabCursor:t}),LW=(t,n)=>n.id;function NW(t,n){if(t&1){let e=U();m(0,"mat-icon",24),D("click",function(){k(e);let r=b();return E(r.commonButtonsService.ascensionStoreClicked())}),p(1," keyboard_double_arrow_up "),f()}}function BW(t,n){if(t&1){let e=U();m(0,"mat-icon",25),D("click",function(){k(e);let r=b();return E(r.achievementService.reviewMemories())}),p(1," psychology "),f()}}function VW(t,n){if(t&1){let e=U();m(0,"span",15)(1,"button",26),D("click",function(){k(e);let r=b();return E(r.gameStateService.joinTheGodsClick())}),p(2,"Join the Gods"),f()()}}function jW(t,n){if(t&1){let e=U();m(0,"span",17)(1,"mat-icon"),p(2," music_note "),f(),m(3,"mat-icon",27),D("click",function(){k(e);let r=b();return E(r.mainLoopService.previousTrack())}),p(4," skip_previous "),f(),p(5),m(6,"mat-icon",28),D("click",function(){k(e);let r=b();return E(r.mainLoopService.nextTrack())}),p(7," skip_next "),f(),m(8,"mat-icon",29),D("click",function(){k(e);let r=b();return r.mainLoopService.playMusic=!1,E(r.mainLoopService.playAudio())}),p(9," close "),f()()}if(t&2){let e=b();h(5),N(" ",e.mainLoopService.nowPlaying," ")}}function HW(t,n){if(t&1){let e=U();m(0,"span",18)(1,"button",30),D("click",function(){k(e);let r=b();return E(r.gameStateService.addLayoutPanel())}),p(2,"Add New Panel"),f()()}if(t&2){let e=b();h(),A("ngClass",ft(1,DP,e.gameStateService.newPanelAvailable()))}}function qW(t,n){if(t&1){let e=U();m(0,"mat-icon",34),D("click",function(){k(e);let r=b().$index,o=b();return E(o.previousPanelClick(r))}),p(1," arrow_back "),f(),m(2,"mat-icon",34),D("click",function(){k(e);let r=b().$index,o=b();return E(o.nextPanelClick(r))}),p(3," arrow_forward "),f()}}function UW(t,n){t&1&&H(0,"app-time-panel",36)}function zW(t,n){t&1&&H(0,"app-schedule-panel",36)}function $W(t,n){t&1&&H(0,"app-attributes-panel",36)}function GW(t,n){t&1&&H(0,"app-health-panel",36)}function WW(t,n){t&1&&H(0,"app-activity-panel",36)}function YW(t,n){t&1&&H(0,"app-battle-panel",36)}function KW(t,n){t&1&&H(0,"app-equipment-panel",36)}function QW(t,n){t&1&&H(0,"app-home-panel",36)}function ZW(t,n){t&1&&H(0,"app-inventory-panel",36)}function XW(t,n){t&1&&H(0,"app-log-panel",36)}function JW(t,n){t&1&&H(0,"app-portal-panel",36)}function e6(t,n){t&1&&H(0,"app-followers-panel",36)}function t6(t,n){t&1&&H(0,"app-pets-panel",36)}function i6(t,n){t&1&&H(0,"app-farm-panel",36)}function n6(t,n){t&1&&H(0,"app-location-panel",36)}function r6(t,n){t&1&&H(0,"app-impossible-task-panel",36)}function o6(t,n){t&1&&H(0,"app-technique-panel",36)}function a6(t,n){t&1&&H(0,"app-crafting-panel",36)}function s6(t,n){t&1&&H(0,"app-hell-status-panel",36)}function l6(t,n){t&1&&H(0,"app-contemplation-panel",36)}function c6(t,n){if(t&1){let e=U();m(0,"ktd-grid-item",23)(1,"div",31)(2,"div",32)(3,"mat-icon"),p(4),f(),m(5,"span"),p(6),f(),m(7,"span",18)(8,"mat-icon",33),p(9," help "),f(),x(10,qW,4,0),m(11,"mat-icon",34),D("click",function(){let r=k(e).$index,o=b();return E(o.closePanelClick(r))}),p(12," close "),f()()(),m(13,"div",35),x(14,UW,1,0,"app-time-panel",36)(15,zW,1,0,"app-schedule-panel",36)(16,$W,1,0,"app-attributes-panel",36)(17,GW,1,0,"app-health-panel",36)(18,WW,1,0,"app-activity-panel",36)(19,YW,1,0,"app-battle-panel",36)(20,KW,1,0,"app-equipment-panel",36)(21,QW,1,0,"app-home-panel",36)(22,ZW,1,0,"app-inventory-panel",36)(23,XW,1,0,"app-log-panel",36)(24,JW,1,0,"app-portal-panel",36)(25,e6,1,0,"app-followers-panel",36)(26,t6,1,0,"app-pets-panel",36)(27,i6,1,0,"app-farm-panel",36)(28,n6,1,0,"app-location-panel",36)(29,r6,1,0,"app-impossible-task-panel",36)(30,o6,1,0,"app-technique-panel",36)(31,a6,1,0,"app-crafting-panel",36)(32,s6,1,0,"app-hell-status-panel",36)(33,l6,1,0,"app-contemplation-panel",36),f()()()}if(t&2){let e=n.$implicit,i=b();A("draggable",!i.gameStateService.lockPanels)("resizable",!i.gameStateService.lockPanels)("id",i.getPanel(e).id),h(2),A("ngClass",ft(9,OW,!i.gameStateService.lockPanels)),h(2),N(" ",i.getPanel(e).icon," "),h(2),he(i.getPanel(e).name),h(2),A("tooltip",i.getPanel(e).panelHelp),h(2),T(i.gameStateService.allPanelsUsed?-1:10),h(4),T(e.id==="timePanel"?14:e.id==="schedulePanel"?15:e.id==="attributesPanel"?16:e.id==="healthPanel"?17:e.id==="activityPanel"?18:e.id==="battlePanel"?19:e.id==="equipmentPanel"?20:e.id==="homePanel"?21:e.id==="inventoryPanel"?22:e.id==="logPanel"?23:e.id==="portalPanel"?24:e.id==="followersPanel"?25:e.id==="petsPanel"?26:e.id==="farmPanel"?27:e.id==="locationPanel"?28:e.id==="impossibleTasksPanel"?29:e.id==="techniquePanel"?30:e.id==="craftingPanel"?31:e.id==="hellStatusPanel"?32:e.id==="contemplationPanel"?33:-1)}}var Cg=(()=>{class t{constructor(){this.commonButtonsService=_(mc),this.gameStateService=_(nt),this.mainLoopService=_(pe),this.hellService=_(Fe),this.storeService=_(Fi),this.characterService=_(ae),this.achievementService=_(rr),this.document=_(Ee),this.grid=io.required(Sg),this.applicationVersion=us.appVersion,this.compactType="vertical",this.gridGap=4}lockPanelsToggle(){this.gameStateService.lockPanels=!this.gameStateService.lockPanels}onLayoutUpdated(e){this.gameStateService.layout.set(e),this.gameStateService.savetoLocalStorage()}getPanel(e){for(let i of this.gameStateService.panels)if(i.id===e.id)return i;return{id:"undefinedPanel",name:"",icon:"",panelHelp:""}}nextPanelClick(e){this.gameStateService.changeLayoutPanel(e)}previousPanelClick(e){this.gameStateService.changeLayoutPanel(e,!0)}closePanelClick(e){this.gameStateService.removeLayoutPanel(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-standard-layout"]],viewQuery:function(i,r){i&1&&wr(r.grid,Sg,5),i&2&&ma()},decls:40,vars:19,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused?<br>Click here for a tutorial.","aria-label","Tutorial","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Statistics!",1,"iconButton",3,"click"],["tooltip","Regular People Shop<br>A store that sells regular stuff for regular mortals.<br>You are destined for immortality, but you might want some stuff from here anyway.","aria-label","Store","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Manuals Shop<br>A store that sells special manuals for aspiring immortals.","aria-label","Manual Store","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip","Game Options","aria-label","Options","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Achievements!","aria-label","Achievements","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.","aria-label","Ascension","aria-hidden","false",1,"iconButton"],["tooltip","Review Your Memories","aria-label","Memories","aria-hidden","false",1,"iconButton"],["tooltip","Save<br>The game autosaves every few minutes, but click here if you want to manually save the game right now.","aria-label","Save","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Who made this awesome free game?","aria-label","Save","aria-hidden","false",1,"iconButton",3,"click"],[1,"topText"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","tooltip","Have questions?<br>Try the Immortality Idle Discord."],[1,"musicSpan"],[1,"floatRight"],["type","checkbox","id","lockPanels",3,"change","checked"],["for","lockPanels"],[1,"grid-container"],["cols","100","rowHeight","10","compactOnPropsChange","true","preventCollision","false",3,"layoutUpdated","compactType","gap","layout","scrollableParent"],["dragStartThreshold","0",3,"draggable","resizable","id"],["tooltip","Ascension Techniques.","aria-label","Ascension","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Review Your Memories","aria-label","Memories","aria-hidden","false",1,"iconButton",3,"click"],[3,"click"],["tooltip","Previous Track","aria-label","Previous Track","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Next Track","aria-label","Next Track","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Turn Music Off","aria-label","Turn Music Off","aria-hidden","false",1,"iconButton",3,"click"],[3,"click","ngClass"],[1,"panel"],["ktdGridDragHandle","",1,"panelHeader",3,"ngClass"],[3,"tooltip"],[1,"iconButton",3,"click"],[1,"grid-item-content"],[1,"panelComponent"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p(4," Immortality Idle 2 "),m(5,"span",4),D("click",function(){return r.commonButtonsService.changelogClicked()}),p(6),f()(),m(7,"span")(8,"mat-icon",5),D("click",function(){return r.commonButtonsService.tutorialClicked()}),p(9," help "),f(),m(10,"mat-icon",6),D("click",function(){return r.commonButtonsService.statisticsClicked()}),p(11," format_list_numbered_rtl "),f(),m(12,"mat-icon",7),D("click",function(){return r.commonButtonsService.storeClicked()}),p(13," store "),f(),m(14,"mat-icon",8),D("click",function(){return r.commonButtonsService.manualStoreClicked()}),p(15," local_library "),f(),m(16,"mat-icon",9),D("click",function(){return r.commonButtonsService.optionsClicked()}),p(17," settings "),f(),m(18,"mat-icon",10),D("click",function(){return r.commonButtonsService.achievementsClicked()}),p(19," military_tech "),f(),x(20,NW,2,0,"mat-icon",11),x(21,BW,2,0,"mat-icon",12),m(22,"mat-icon",13),D("click",function(){return r.commonButtonsService.saveClicked()}),p(23," save "),f(),m(24,"mat-icon",14),D("click",function(){return r.commonButtonsService.creditsClicked()}),p(25," contact_page "),f()(),m(26,"span",15)(27,"a",16),p(28,"Discord"),f()(),x(29,VW,3,0,"span",15),x(30,jW,10,1,"span",17),m(31,"span",18)(32,"input",19),D("change",function(){return r.lockPanelsToggle()}),f(),m(33,"label",20),p(34,"Lock panels in place"),f()(),x(35,HW,3,3,"span",18),f(),m(36,"div",21)(37,"ktd-grid",22),D("layoutUpdated",function(a){return r.onLayoutUpdated(a)}),ne(38,c6,34,11,"ktd-grid-item",23,LW),f()()()()),i&2&&(A("ngClass",ft(13,FW,r.gameStateService.isDarkMode)),h(6),he(r.gameStateService.isExperimental?"Experimental":"v"+r.applicationVersion),h(8),A("ngClass",ft(15,DP,r.storeService.isManualAvailable())),h(6),T(r.characterService.ascensionUnlocked?20:-1),h(),T(r.achievementService.memoriesUnlocked()?21:-1),h(8),T(r.characterService.immortal()&&!r.hellService.inHell()&&!r.hellService.hellUnlocked()&&!r.characterService.god()?29:-1),h(),T(r.mainLoopService.playMusic?30:-1),h(2),A("checked",r.gameStateService.lockPanels),h(3),T(r.gameStateService.allPanelsUsed?-1:35),h(2),A("compactType",r.compactType)("gap",r.gridGap)("layout",r.gameStateService.layout()??yp(17,TP))("scrollableParent",r.document),h(),re(r.gameStateService.layout()??yp(18,TP)))},dependencies:()=>[ji,gt,sn,De,Sg,bw,iP,CP,EP,ng,fP,lP,lg,hP,og,hg,ag,bP,pP,yP,mP,vP,gP,wP,uP,kP,xP,ye],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex}[_nghost-%COMP%]     .ktd-grid-item-placeholder{background-color:#ffa726}ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%;overflow:auto}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.musicSpan[_ngcontent-%COMP%]{margin-left:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.topText[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.floatRight[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;min-height:0;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}"]})}}return t})();function d6(t,n){t&1&&H(0,"app-mobile-layout")}function u6(t,n){t&1&&H(0,"app-standard-layout")}var h6=500,MP=(()=>{class t{handleKeyboardEvent(e){e.code==="Space"?(this.mainLoopService.togglePause(),e.preventDefault()):(e.code==="Enter"||e.code==="NumpadEnter")&&this.mainLoopService.pause?(this.mainLoopService.tick(),e.preventDefault()):(e.altKey||e.metaKey)&&(e.code==="Digit0"||e.code==="Numpad0")?this.mainLoopService.pauseClick():(e.altKey||e.metaKey)&&(e.code==="Digit1"||e.code==="Numpad1")?this.mainLoopService.slowClick():(e.altKey||e.metaKey)&&(e.code==="Digit2"||e.code==="Numpad2")?this.mainLoopService.standardClick():(e.altKey||e.metaKey)&&(e.code==="Digit3"||e.code==="Numpad3")&&this.mainLoopService.unlockFastSpeed?this.mainLoopService.fastClick():(e.altKey||e.metaKey)&&(e.code==="Digit4"||e.code==="Numpad4")&&this.mainLoopService.unlockFasterSpeed?this.mainLoopService.fasterClick():(e.altKey||e.metaKey)&&(e.code==="Digit5"||e.code==="Numpad5")&&this.mainLoopService.unlockFastestSpeed&&this.mainLoopService.fastestClick()}constructor(e,i,r,o,a,s,l,c){this.mainLoopService=e,this.gameStateService=i,this.statisticsService=r,this.characterService=o,this.inventoryService=a,this.homeService=s,this.farmService=l,this.iconRegistry=c,this.appService=_(rg),this.standardLayout=io(Cg),this.mobileLayout=io(mg),c.setDefaultFontSetClass("material-symbols-outlined")}isMobileWidth(){return window.innerWidth<h6}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start(),this.resizeSubscription=Nt(Di(window,"resize"),Di(window,"orientationchange")).pipe(jn(50)).subscribe(()=>{let e=this.standardLayout();e&&e.grid().resize(),this.isMobileWidth()?this.appService.isMobile.set(!0):this.appService.isMobile.set(!1)}),this.appService.isMobile.set(this.isMobileWidth())}ngOnDestroy(){this.resizeSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(R(pe),R(nt),R(Zf),R(ae),R(se),R(Qe),R(yi),R(Lp))}}static{this.\u0275cmp=$({type:t,selectors:[["app-root"]],viewQuery:function(i,r){i&1&&(wr(r.standardLayout,Cg,5),wr(r.mobileLayout,mg,5)),i&2&&ma(2)},hostBindings:function(i,r){i&1&&D("keydown",function(a){return r.handleKeyboardEvent(a)},eb)},decls:2,vars:1,template:function(i,r){i&1&&x(0,d6,1,0,"app-mobile-layout")(1,u6,1,0,"app-standard-layout"),i&2&&T(r.appService.isMobile()?0:1)},dependencies:[mg,Cg],encapsulation:2})}}return t})();var lt="primary",Ju=Symbol("RouteTitle"),xw=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Tc(t){return new xw(t)}function m6(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=t[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Mg(t){return new Promise((n,e)=>{t.pipe(bo()).subscribe({next:i=>n(i),error:i=>e(i)})})}function p6(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!mo(t[e],n[e]))return!1;return!0}function mo(t,n){let e=t?Tw(t):void 0,i=n?Tw(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!BP(t[r],n[r]))return!1;return!0}function Tw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function BP(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function VP(t){return t.length>0?t[t.length-1]:null}function Hs(t){return Wc(t)?t:ha(t)?Ht(Promise.resolve(t)):Le(t)}function jP(t){return Wc(t)?Mg(t):Promise.resolve(t)}var f6={exact:qP,subset:UP},HP={exact:g6,subset:v6,ignored:()=>!0};function IP(t,n,e){return f6[e.paths](t.root,n.root,e.matrixParams)&&HP[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function g6(t,n){return mo(t,n)}function qP(t,n,e){if(!Bs(t.segments,n.segments)||!xg(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!qP(t.children[i],n.children[i],e))return!1;return!0}function v6(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>BP(t[e],n[e]))}function UP(t,n,e){return zP(t,n,n.segments,e)}function zP(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!Bs(r,e)||n.hasChildren()||!xg(r,e,i))}else if(t.segments.length===e.length){if(!Bs(t.segments,e)||!xg(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!UP(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Bs(t.segments,r)||!xg(t.segments,r,i)||!t.children[lt]?!1:zP(t.children[lt],n,o,i)}}function xg(t,n,e){return n.every((i,r)=>HP[e](t[r].parameters,i.parameters))}var po=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Rt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){return _6.serialize(this)}},Rt=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tg(this)}},Ns=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Tc(this.parameters),this._parameterMap}toString(){return GP(this)}};function y6(t,n){return Bs(t,n)&&t.every((e,i)=>mo(e.parameters,n[i].parameters))}function Bs(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function b6(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===lt&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==lt&&(e=e.concat(n(r,i)))}),e}var Ac=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>new Ia,providedIn:"root"})}return t})(),Ia=class{parse(n){let e=new Mw(n);return new po(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${qu(n.root,!0)}`,i=C6(n.queryParams),r=typeof n.fragment=="string"?`#${S6(n.fragment)}`:"";return`${e}${i}${r}`}},_6=new Ia;function Tg(t){return t.segments.map(n=>GP(n)).join("/")}function qu(t,n){if(!t.hasChildren())return Tg(t);if(n){let e=t.children[lt]?qu(t.children[lt],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==lt&&i.push(`${r}:${qu(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=b6(t,(i,r)=>r===lt?[qu(t.children[lt],!1)]:[`${r}:${qu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[lt]!=null?`${Tg(t)}/${e[0]}`:`${Tg(t)}/(${e.join("//")})`}}function $P(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kg(t){return $P(t).replace(/%3B/gi,";")}function S6(t){return encodeURI(t)}function Dw(t){return $P(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dg(t){return decodeURIComponent(t)}function AP(t){return Dg(t.replace(/\+/g,"%20"))}function GP(t){return`${Dw(t.path)}${w6(t.parameters)}`}function w6(t){return Object.entries(t).map(([n,e])=>`;${Dw(n)}=${Dw(e)}`).join("")}function C6(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${kg(e)}=${kg(r)}`).join("&"):`${kg(e)}=${kg(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var k6=/^[^\/()?;#]+/;function ww(t){let n=t.match(k6);return n?n[0]:""}var E6=/^[^\/()?;=#]+/;function x6(t){let n=t.match(E6);return n?n[0]:""}var T6=/^[^=?&#]+/;function D6(t){let n=t.match(T6);return n?n[0]:""}var M6=/^[^&#]+/;function I6(t){let n=t.match(M6);return n?n[0]:""}var Mw=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[lt]=new Rt(n,e)),i}parseSegment(){let n=ww(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(n),new Ns(Dg(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=x6(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=ww(this.remaining);r&&(i=r,this.capture(i))}n[Dg(e)]=Dg(i)}parseQueryParam(n){let e=D6(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=I6(this.remaining);a&&(i=a,this.capture(i))}let r=AP(e),o=AP(i);if(n.hasOwnProperty(r)){let a=n[r];Array.isArray(a)||(a=[a],n[r]=a),a.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ww(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ee(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=lt);let a=this.parseChildren();e[o??lt]=Object.keys(a).length===1&&a[lt]?a[lt]:new Rt([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new ee(4011,!1)}};function WP(t){return t.segments.length>0?new Rt([],{[lt]:t}):t}function YP(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=YP(r);if(i===lt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new Rt(t.segments,n);return A6(e)}function A6(t){if(t.numberOfChildren===1&&t.children[lt]){let n=t.children[lt];return new Rt(t.segments.concat(n.segments),n.children)}return t}function Dc(t){return t instanceof po}function P6(t,n,e=null,i=null,r=new Ia){let o=KP(t);return QP(o,n,e,i,r)}function KP(t){let n;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new Rt(o.url,a);return o===t&&(n=s),s}let i=e(t.root),r=WP(i);return n??r}function QP(t,n,e,i,r){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return Cw(o,o,o,e,i,r);let a=R6(n);if(a.toRoot())return Cw(o,o,new Rt([],{}),e,i,r);let s=F6(a,o,t),l=s.processChildren?zu(s.segmentGroup,s.index,a.commands):XP(s.segmentGroup,s.index,a.commands);return Cw(o,s.segmentGroup,l,e,i,r)}function Ig(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Gu(t){return typeof t=="object"&&t!=null&&t.outlets}function PP(t,n,e){t||="\u0275";let i=new po;return i.queryParams={[t]:n},e.parse(e.serialize(i)).queryParams[t]}function Cw(t,n,e,i,r,o){let a={};for(let[c,d]of Object.entries(i??{}))a[c]=Array.isArray(d)?d.map(u=>PP(c,u,o)):PP(c,d,o);let s;t===n?s=e:s=ZP(t,n,e);let l=WP(YP(s));return new po(l,a,r)}function ZP(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=ZP(o,n,e)}),new Rt(t.segments,i)}var Ag=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Ig(i[0]))throw new ee(4003,!1);let r=i.find(Gu);if(r&&r!==VP(i))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function R6(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ag(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?n++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Ag(e,n,i)}var Cc=class{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function F6(t,n,e){if(t.isAbsolute)return new Cc(n,!0,0);if(!e)return new Cc(n,!1,NaN);if(e.parent===null)return new Cc(e,!0,0);let i=Ig(t.commands[0])?0:1,r=e.segments.length-1+i;return O6(e,r,t.numberOfDoubleDots)}function O6(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ee(4005,!1);r=i.segments.length}return new Cc(i,!1,r-o)}function L6(t){return Gu(t[0])?t[0].outlets:{[lt]:t}}function XP(t,n,e){if(t??=new Rt([],{}),t.segments.length===0&&t.hasChildren())return zu(t,n,e);let i=N6(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Rt(t.segments.slice(0,i.pathIndex),{});return o.children[lt]=new Rt(t.segments.slice(i.pathIndex),t.children),zu(o,0,r)}else return i.match&&r.length===0?new Rt(t.segments,{}):i.match&&!t.hasChildren()?Iw(t,n,e):i.match?zu(t,0,r):Iw(t,n,e)}function zu(t,n,e){if(e.length===0)return new Rt(t.segments,{});{let i=L6(e),r={};if(Object.keys(i).some(o=>o!==lt)&&t.children[lt]&&t.numberOfChildren===1&&t.children[lt].segments.length===0){let o=zu(t.children[lt],n,e);return new Rt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=XP(t.children[o],n,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Rt(t.segments,r)}}function N6(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let a=t.segments[r],s=e[i];if(Gu(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!FP(l,c,a))return o;i+=2}else{if(!FP(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Iw(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Gu(o)){let l=B6(o.outlets);return new Rt(i,l)}if(r===0&&Ig(e[0])){let l=t.segments[n];i.push(new Ns(l.path,RP(e[0]))),r++;continue}let a=Gu(o)?o.outlets[lt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Ig(s)?(i.push(new Ns(a,RP(s))),r+=2):(i.push(new Ns(a,{})),r++)}return new Rt(i,{})}function B6(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=Iw(new Rt([],{}),0,i))}),n}function RP(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function FP(t,n,e){return t==e.path&&mo(n,e.parameters)}var kc="imperative",Yi=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Yi||{}),dr=class{id;url;constructor(n,e){this.id=n,this.url=e}},Vs=class extends dr{type=Yi.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fo=class extends dr{urlAfterRedirects;type=Yi.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Rn||{}),Wu=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Wu||{}),qo=class extends dr{reason;code;type=Yi.NavigationCancel;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Uo=class extends dr{reason;code;type=Yi.NavigationSkipped;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}},Yu=class extends dr{error;target;type=Yi.NavigationError;constructor(n,e,i,r){super(n,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pg=class extends dr{urlAfterRedirects;state;type=Yi.RoutesRecognized;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Aw=class extends dr{urlAfterRedirects;state;type=Yi.GuardsCheckStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pw=class extends dr{urlAfterRedirects;state;shouldActivate;type=Yi.GuardsCheckEnd;constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rw=class extends dr{urlAfterRedirects;state;type=Yi.ResolveStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fw=class extends dr{urlAfterRedirects;state;type=Yi.ResolveEnd;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ow=class{route;type=Yi.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lw=class{route;type=Yi.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nw=class{snapshot;type=Yi.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bw=class{snapshot;type=Yi.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vw=class{snapshot;type=Yi.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jw=class{snapshot;type=Yi.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{routerEvent;position;anchor;type=Yi.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Qu=class{},Mc=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function V6(t){return!(t instanceof Qu)&&!(t instanceof Mc)}function j6(t,n){return t.providers&&!t._injector&&(t._injector=Bl(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Br(t){return t.outlet||lt}function H6(t,n){let e=t.filter(i=>Br(i)===n);return e.push(...t.filter(i=>Br(i)!==n)),e}function Pc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Hw=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pc(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Rc(this.rootInjector)}},Rc=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Hw(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(L(qt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rg=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=qw(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=qw(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Uw(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Uw(n,this._root).map(e=>e.value)}};function qw(t,n){if(t===n.value)return n;for(let e of n.children){let i=qw(t,e);if(i)return i}return null}function Uw(t,n){if(t===n.value)return[n];for(let e of n.children){let i=Uw(t,e);if(i.length)return i.unshift(n),i}return[]}var Wn=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function wc(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Fg=class extends Rg{snapshot;constructor(n,e){super(n),this.snapshot=e,Qw(this,n)}toString(){return this.snapshot.toString()}};function JP(t){let n=q6(t),e=new Zt([new Ns("",{})]),i=new Zt({}),r=new Zt({}),o=new Zt({}),a=new Zt(""),s=new js(e,i,o,a,r,lt,t,n.root);return s.snapshot=n.root,new Fg(new Wn(s,[]),n)}function q6(t){let n={},e={},i={},o=new Ec([],n,i,"",e,lt,t,null,{});return new Lg("",new Wn(o,[]))}var js=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,r,o,a,s,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Se(c=>c[Ju]))??Le(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(n=>Tc(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(n=>Tc(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Og(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:W(W({},n.params),t.params),data:W(W({},n.data),t.data),resolve:W(W(W(W({},t.data),n.data),r?.data),t._resolvedData)}:i={params:W({},t.params),data:W({},t.data),resolve:W(W({},t.data),t._resolvedData??{})},r&&tR(r)&&(i.resolve[Ju]=r.title),i}var Ec=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ju]}constructor(n,e,i,r,o,a,s,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Lg=class extends Rg{url;constructor(n,e){super(e),this.url=n,Qw(this,e)}toString(){return eR(this._root)}};function Qw(t,n){n.value._routerState=t,n.children.forEach(e=>Qw(t,e))}function eR(t){let n=t.children.length>0?` { ${t.children.map(eR).join(", ")} } `:"";return`${t.value}${n}`}function kw(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,mo(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),mo(n.params,e.params)||t.paramsSubject.next(e.params),p6(n.url,e.url)||t.urlSubject.next(e.url),mo(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zw(t,n){let e=mo(t.params,n.params)&&y6(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||zw(t.parent,n.parent))}function tR(t){return typeof t.title=="string"||t.title===null}var U6=new K(""),iR=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=lt;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=Od();parentContexts=_(Rc);location=_(Pi);changeDetector=_(At);inputBinder=_(eh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new $w(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=we({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[li]})}return t})(),$w=class{route;childContexts;parent;outletData;constructor(n,e,i,r){this.route=n,this.childContexts=e,this.parent=i,this.outletData=r}get(n,e){return n===js?this.route:n===Rc?this.childContexts:n===U6?this.outletData:this.parent.get(n,e)}},eh=new K(""),Zw=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Qo([i.queryParams,i.params,i.data]).pipe(Bt(([o,a,s],l)=>(s=W(W(W({},o),a),s),l===0?Le(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=kT(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),nR=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&H(0,"router-outlet")},dependencies:[iR],encapsulation:2})}return t})();function Xw(t){let n=t.children&&t.children.map(Xw),e=n?Ie(W({},t),{children:n}):W({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==lt&&(e.component=nR),e}function z6(t,n,e){let i=Zu(t,n._root,e?e._root:void 0);return new Fg(i,n)}function Zu(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=$6(t,n,e);return new Wn(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>Zu(t,s)),a}}let i=G6(n.value),r=n.children.map(o=>Zu(t,o));return new Wn(i,r)}}function $6(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Zu(t,i,r);return Zu(t,i)})}function G6(t){return new js(new Zt(t.url),new Zt(t.params),new Zt(t.queryParams),new Zt(t.fragment),new Zt(t.data),t.outlet,t.component,t)}var Xu=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},rR="ngNavigationCancelingError";function Ng(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Dc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=oR(!1,Rn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function oR(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[rR]=!0,e.cancellationCode=n,e}function W6(t){return aR(t)&&Dc(t.url)}function aR(t){return!!t&&t[rR]}var Y6=(t,n,e,i)=>Se(r=>(new Gw(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),Gw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),kw(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=wc(e);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=wc(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=wc(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=wc(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new jw(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Bw(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(kw(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),kw(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,i)}},Bg=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},xc=class{component;route;constructor(n,e){this.component=n,this.route=e}};function K6(t,n,e){let i=t._root,r=n?n._root:null;return Uu(i,r,e,[i.value])}function Q6(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Fc(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!oy(t)?t:n.get(t):i}function Uu(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=wc(n);return t.children.forEach(a=>{Z6(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>$u(s,e.getContext(a),r)),r}function Z6(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=n?n.value:null,s=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=X6(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Bg(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Uu(t,n,s?s.children:null,i,r):Uu(t,n,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new xc(s.outlet.component,a))}else a&&$u(n,s,r),r.canActivateChecks.push(new Bg(i)),o.component?Uu(t,null,s?s.children:null,i,r):Uu(t,null,e,i,r);return r}function X6(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Bs(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Bs(t.url,n.url)||!mo(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zw(t,n)||!mo(t.queryParams,n.queryParams);case"paramsChange":default:return!zw(t,n)}}function $u(t,n,e){let i=wc(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?n?$u(a,n.children.getContext(o),e):$u(a,null,e):$u(a,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new xc(n.outlet.component,r)):e.canDeactivateChecks.push(new xc(null,r)):e.canDeactivateChecks.push(new xc(null,r))}function th(t){return typeof t=="function"}function J6(t){return typeof t=="boolean"}function eY(t){return t&&th(t.canLoad)}function tY(t){return t&&th(t.canActivate)}function iY(t){return t&&th(t.canActivateChild)}function nY(t){return t&&th(t.canDeactivate)}function rY(t){return t&&th(t.canMatch)}function sR(t){return t instanceof ja||t?.name==="EmptyError"}var Eg=Symbol("INITIAL_VALUE");function Ic(){return Bt(t=>Qo(t.map(n=>n.pipe(Ot(1),Tt(Eg)))).pipe(Se(n=>{for(let e of n)if(e!==!0){if(e===Eg)return Eg;if(e===!1||oY(e))return e}return!0}),je(n=>n!==Eg),Ot(1)))}function oY(t){return Dc(t)||t instanceof Xu}function lR(t){return t.aborted?Le(void 0).pipe(Ot(1)):new Oe(n=>{let e=()=>{n.next(),n.complete()};return t.addEventListener("abort",e),()=>t.removeEventListener("abort",e)})}function cR(t){return Ze(lR(t))}function aY(t,n){return Li(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?Le(Ie(W({},e),{guardsResult:!0})):sY(a,i,r,t).pipe(Li(s=>s&&J6(s)?lY(i,o,t,n):Le(s)),Se(s=>Ie(W({},e),{guardsResult:s})))})}function sY(t,n,e,i){return Ht(t).pipe(Li(r=>mY(r.component,r.route,e,n,i)),bo(r=>r!==!0,!0))}function lY(t,n,e,i){return Ht(n).pipe(ea(r=>Xo(dY(r.route.parent,i),cY(r.route,i),hY(t,r.path,e),uY(t,r.route,e))),bo(r=>r!==!0,!0))}function cY(t,n){return t!==null&&n&&n(new Vw(t)),Le(!0)}function dY(t,n){return t!==null&&n&&n(new Nw(t)),Le(!0)}function uY(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return Le(!0);let r=i.map(o=>Vn(()=>{let a=Pc(n)??e,s=Fc(o,a),l=tY(s)?s.canActivate(n,t):Ui(a,()=>s(n,t));return Hs(l).pipe(bo())}));return Le(r).pipe(Ic())}function hY(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>Q6(a)).filter(a=>a!==null).map(a=>Vn(()=>{let s=a.guards.map(l=>{let c=Pc(a.node)??e,d=Fc(l,c),u=iY(d)?d.canActivateChild(i,t):Ui(c,()=>d(i,t));return Hs(u).pipe(bo())});return Le(s).pipe(Ic())}));return Le(o).pipe(Ic())}function mY(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return Le(!0);let a=o.map(s=>{let l=Pc(n)??r,c=Fc(s,l),d=nY(c)?c.canDeactivate(t,n,e,i):Ui(l,()=>c(t,n,e,i));return Hs(d).pipe(bo())});return Le(a).pipe(Ic())}function pY(t,n,e,i,r){let o=n.canLoad;if(o===void 0||o.length===0)return Le(!0);let a=o.map(s=>{let l=Fc(s,t),c=eY(l)?l.canLoad(n,e):Ui(t,()=>l(n,e)),d=Hs(c);return r?d.pipe(cR(r)):d});return Le(a).pipe(Ic(),dR(i))}function dR(t){return Ov(Wt(n=>{if(typeof n!="boolean")throw Ng(t,n)}),Se(n=>n===!0))}function fY(t,n,e,i,r){let o=n.canMatch;if(!o||o.length===0)return Le(!0);let a=o.map(s=>{let l=Fc(s,t),c=rY(l)?l.canMatch(n,e):Ui(t,()=>l(n,e)),d=Hs(c);return r?d.pipe(cR(r)):d});return Le(a).pipe(Ic(),dR(i))}var Ls=class uR extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,uR.prototype)}},Ww=class hR extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,hR.prototype)}};function gY(t){throw new ee(4e3,!1)}function vY(t){throw oR(!1,Rn.GuardRejected)}var yY=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){return ii(this,null,function*(){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[lt])throw gY(`${n.redirectTo}`);r=r.children[lt]}})}applyRedirectCommands(n,e,i,r,o){return ii(this,null,function*(){let a=yield bY(e,r,o);if(a instanceof po)throw new Ww(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,i);if(a[0]==="/")throw new Ww(s);return s})}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new po(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(n,l,i,r)}),new Rt(o,a)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new ee(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}};function bY(t,n,e){if(typeof t=="string")return Promise.resolve(t);let i=t,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:d,title:u}=n;return Mg(Hs(Ui(e,()=>i({params:c,data:d,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,title:u}))))}var Yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _Y(t,n,e,i,r,o){let a=mR(t,n,e);return a.matched?(i=j6(n,i),fY(i,n,e,r,o).pipe(Se(s=>s===!0?a:W({},Yw)))):Le(a)}function mR(t,n,e){if(n.path==="**")return SY(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?W({},Yw):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||m6)(e,t,n);if(!r)return W({},Yw);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?W(W({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function SY(t){return{matched:!0,parameters:t.length>0?VP(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function OP(t,n,e,i){return e.length>0&&kY(t,e,i)?{segmentGroup:new Rt(n,CY(i,new Rt(e,t.children))),slicedSegments:[]}:e.length===0&&EY(t,e,i)?{segmentGroup:new Rt(t.segments,wY(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Rt(t.segments,t.children),slicedSegments:e}}function wY(t,n,e,i){let r={};for(let o of e)if(Vg(t,n,o)&&!i[Br(o)]){let a=new Rt([],{});r[Br(o)]=a}return W(W({},i),r)}function CY(t,n){let e={};e[lt]=n;for(let i of t)if(i.path===""&&Br(i)!==lt){let r=new Rt([],{});e[Br(i)]=r}return e}function kY(t,n,e){return e.some(i=>Vg(t,n,i)&&Br(i)!==lt)}function EY(t,n,e){return e.some(i=>Vg(t,n,i))}function Vg(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function xY(t,n,e){return n.length===0&&!t.children[e]}var TY=class{};function DY(t,n,e,i,r,o,a="emptyOnly",s){return ii(this,null,function*(){return new IY(t,n,e,i,r,a,o,s).recognize()})}var MY=31,IY=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,r,o,a,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=l,this.applyRedirects=new yY(this.urlSerializer,this.urlTree)}noMatchError(n){return new ee(4002,`'${n.segmentGroup}'`)}recognize(){return ii(this,null,function*(){let n=OP(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=yield this.match(n),r=new Wn(i,e),o=new Lg("",r),a=P6(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}})}match(n){return ii(this,null,function*(){let e=new Ec([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),lt,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,n,lt,e),rootSnapshot:e}}catch(i){if(i instanceof Ww)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ls?this.noMatchError(i):i}})}processSegmentGroup(n,e,i,r,o){return ii(this,null,function*(){if(i.segments.length===0&&i.hasChildren())return this.processChildren(n,e,i,o);let a=yield this.processSegment(n,e,i,i.segments,r,!0,o);return a instanceof Wn?[a]:[]})}processChildren(n,e,i,r){return ii(this,null,function*(){let o=[];for(let l of Object.keys(i.children))l==="primary"?o.unshift(l):o.push(l);let a=[];for(let l of o){let c=i.children[l],d=H6(e,l),u=yield this.processSegmentGroup(n,d,c,l,r);a.push(...u)}let s=pR(a);return AY(s),s})}processSegment(n,e,i,r,o,a,s){return ii(this,null,function*(){for(let l of e)try{return yield this.processSegmentAgainstRoute(l._injector??n,e,l,i,r,o,a,s)}catch(c){if(c instanceof Ls||sR(c))continue;throw c}if(xY(i,r,o))return new TY;throw new Ls(i)})}processSegmentAgainstRoute(n,e,i,r,o,a,s,l){return ii(this,null,function*(){if(Br(i)!==a&&(a===lt||!Vg(r,o,i)))throw new Ls(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,r,i,o,a,l);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,a,l);throw new Ls(r)})}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,a,s){return ii(this,null,function*(){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:v}=mR(e,r,o);if(!l)throw new Ls(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MY&&(this.allowRedirects=!1));let y=new Ec(o,c,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,LP(r),Br(r),r.component??r._loadedComponent??null,r,NP(r)),g=Og(y,s,this.paramsInheritanceStrategy);if(y.params=Object.freeze(g.params),y.data=Object.freeze(g.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let S=yield this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,y,n),P=yield this.applyRedirects.lineralizeSegments(r,S);return this.processSegment(n,i,e,P.concat(v),a,!1,s)})}matchSegmentAgainstRoute(n,e,i,r,o,a){return ii(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=yield Mg(_Y(e,i,r,n,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!s?.matched)throw new Ls(e);n=i._injector??n;let{routes:l}=yield this.getChildConfig(n,i,r),c=i._loadedInjector??n,{parameters:d,consumedSegments:u,remainingSegments:v}=s,y=new Ec(u,d,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,LP(i),Br(i),i.component??i._loadedComponent??null,i,NP(i)),g=Og(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(g.params),y.data=Object.freeze(g.data);let{segmentGroup:S,slicedSegments:P}=OP(e,u,v,l);if(P.length===0&&S.hasChildren()){let G=yield this.processChildren(c,l,S,y);return new Wn(y,G)}if(l.length===0&&P.length===0)return new Wn(y,[]);let M=Br(i)===o,z=yield this.processSegment(c,l,S,P,M?lt:o,!0,y);return new Wn(y,z instanceof Wn?[z]:[])})}getChildConfig(n,e,i){return ii(this,null,function*(){if(e.children)return{routes:e.children,injector:n};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield Mg(pY(n,e,i,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(n,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw vY(e)}return{routes:[],injector:n}})}};function AY(t){t.sort((n,e)=>n.value.outlet===lt?-1:e.value.outlet===lt?1:n.value.outlet.localeCompare(e.value.outlet))}function PY(t){let n=t.value.routeConfig;return n&&n.path===""}function pR(t){let n=[],e=new Set;for(let i of t){if(!PY(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=pR(i.children);n.push(new Wn(i.value,r))}return n.filter(i=>!e.has(i))}function LP(t){return t.data||{}}function NP(t){return t.resolve||{}}var RY=new K("",{factory:()=>DY});function FY(t,n,e,i,r,o,a){let s=t.get(RY);return Li(l=>Le(l).pipe(Bt(c=>s(t,n,e,i,c.extractedUrl,r,o,a)),Se(({state:c,tree:d})=>Ie(W({},l),{targetSnapshot:c,urlAfterRedirects:d}))))}function OY(t,n){return Li(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Le(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of fR(l))a.add(c);let s=0;return Ht(a).pipe(ea(l=>o.has(l)?LY(l,i,t,n):(l.data=Og(l,l.parent,t).resolve,Le(void 0))),Wt(()=>s++),qh(1),Li(l=>s===a.size?Le(e):qi))})}function fR(t){let n=t.children.map(e=>fR(e)).flat();return[t,...n]}function LY(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!tR(r)&&(o[Ju]=r.title),Vn(()=>(t.data=Og(t,t.parent,e).resolve,NY(o,t,n,i).pipe(Se(a=>(t._resolvedData=a,t.data=W(W({},t.data),a),null)))))}function NY(t,n,e,i){let r=Tw(t);if(r.length===0)return Le({});let o={};return Ht(r).pipe(Li(a=>BY(t[a],n,e,i).pipe(bo(),Wt(s=>{if(s instanceof Xu)throw Ng(new Ia,s);o[a]=s}))),qh(1),Se(()=>o),Jo(a=>sR(a)?qi:Gc(a)))}function BY(t,n,e,i){let r=Pc(n)??i,o=Fc(t,r),a=o.resolve?o.resolve(n,e):Ui(r,()=>o(n,e));return Hs(a)}function Ew(t){return Bt(n=>{let e=t(n);return e?Ht(e).pipe(Se(()=>n)):Le(n)})}var gR=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===lt);return i}getResolvedTitleForRoute(e){return e.data[Ju]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(VY),providedIn:"root"})}return t})(),VY=(()=>{class t extends gR{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(L(lD))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oc=new K("",{factory:()=>({})}),ih=new K(""),jg=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Ab);loadComponent(e,i){return ii(this,null,function*(){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ii(this,null,function*(){try{let o=yield jP(Ui(e,()=>i.loadComponent())),a=yield yR(vR(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a,a}finally{this.componentLoaders.delete(i)}});return this.componentLoaders.set(i,r),r})}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=ii(this,null,function*(){try{let o=yield jY(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(i)}});return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jY(t,n,e,i){return ii(this,null,function*(){let r=yield jP(Ui(e,()=>t.loadChildren())),o=yield yR(vR(r)),a;o instanceof cp||Array.isArray(o)?a=o:a=yield n.compileModuleAsync(o),i&&i(t);let s,l,c=!1;return Array.isArray(a)?(l=a,c=!0):(s=a.create(e).injector,l=s.get(ih,[],{optional:!0,self:!0}).flat()),{routes:l.map(Xw),injector:s}})}function HY(t){return t&&typeof t=="object"&&"default"in t}function vR(t){return HY(t)?t.default:t}function yR(t){return ii(this,null,function*(){return t})}var Jw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(qY),providedIn:"root"})}return t})(),qY=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eC=new K(""),tC=new K("");function bR(t,n,e){let i=t.get(tC),r=t.get(Ee);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),UY(t)));s.ready.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&Ui(t,()=>l({transition:s,from:n,to:e})),a}function UY(t){return new Promise(n=>{Xt({read:()=>setTimeout(n)},{injector:t})})}var zY=()=>{},iC=new K(""),Hg=(()=>{class t{currentNavigation=C(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=C(null);events=new Z;transitionAbortWithErrorSubject=new Z;configLoader=_(jg);environmentInjector=_(qt);destroyRef=_(nn);urlSerializer=_(Ac);rootContexts=_(Rc);location=_(ro);inputBindingEnabled=_(eh,{optional:!0})!==null;titleStrategy=_(gR);options=_(Oc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Jw);createViewTransition=_(eC,{optional:!0});navigationErrorHandler=_(iC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Le(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Ow(r)),i=r=>this.events.next(new Lw(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Ii(()=>{this.transitions?.next(Ie(W({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new Zt(null),this.transitions.pipe(je(i=>i!==null),Bt(i=>{let r=!1,o=new AbortController;return Le(i).pipe(Bt(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Rn.SupersededByNewNavigation),qi;this.currentTransition=i;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?Ie(W({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&c!=="reload")return this.events.next(new Uo(a.id,this.urlSerializer.serialize(a.rawUrl),"",Wu.IgnoredSameUrlNavigation)),a.resolve(!1),qi;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Le(a).pipe(Bt(d=>(this.events.next(new Vs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?qi:Promise.resolve(d))),FY(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Wt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(v=>(v.finalUrl=d.urlAfterRedirects,v));let u=new Pg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:u,source:v,restoredState:y,extras:g}=a,S=new Vs(d,this.urlSerializer.serialize(u),v,y);this.events.next(S);let P=JP(this.rootComponentType).snapshot;return this.currentTransition=i=Ie(W({},a),{targetSnapshot:P,urlAfterRedirects:u,extras:Ie(W({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=u,M)),Le(i)}else return this.events.next(new Uo(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Wu.IgnoredByUrlHandlingStrategy)),a.resolve(!1),qi}),Wt(a=>{let s=new Aw(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Se(a=>(this.currentTransition=i=Ie(W({},a),{guards:K6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),aY(this.environmentInjector,a=>this.events.next(a)),Wt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Ng(this.urlSerializer,a.guardsResult);let s=new Pw(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),je(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Rn.GuardRejected),!1)),Ew(a=>{if(a.guards.canActivateChecks.length!==0)return Le(a).pipe(Wt(s=>{let l=new Rw(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Bt(s=>{let l=!1;return Le(s).pipe(OY(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",Rn.NoDataFromResolver)}}))}),Wt(s=>{let l=new Fw(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),Ew(a=>{let s=c=>{let d=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){let u=Pc(c)??this.environmentInjector;d.push(this.configLoader.loadComponent(u,c.routeConfig).then(v=>{c.component=v}))}for(let u of c.children)d.push(...s(u));return d},l=s(a.targetSnapshot.root);return l.length===0?Le(a):Ht(Promise.all(l).then(()=>a))}),Ew(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:a,targetSnapshot:s}=i,l=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return l?Ht(l).pipe(Se(()=>i)):Le(i)}),Se(a=>{let s=z6(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=Ie(W({},a),{targetRouterState:s}),this.currentNavigation.update(l=>(l.targetRouterState=s,l)),i}),Wt(()=>{this.events.next(new Qu)}),Y6(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ot(1),Ze(lR(o.signal).pipe(je(()=>!r&&!i.targetRouterState),Wt(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",Rn.Aborted)}))),Wt({next:a=>{r=!0,this.currentNavigation.update(s=>(s.abort=zY,s)),this.lastSuccessfulNavigation.set(Ii(this.currentNavigation)),this.events.next(new fo(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Ze(this.transitionAbortWithErrorSubject.pipe(Wt(a=>{throw a}))),qa(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Jo(a=>{if(this.destroyed)return i.resolve(!1),qi;if(r=!0,aR(a))this.events.next(new qo(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),W6(a)?this.events.next(new Mc(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Yu(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let l=Ui(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(l instanceof Xu){let{message:c,cancellationCode:d}=Ng(this.urlSerializer,l);this.events.next(new qo(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new Mc(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return qi}))}))}cancelNavigationTransition(e,i,r){let o=new qo(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Ii(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $Y(t){return t!==kc}var GY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(WY),providedIn:"root"})}return t})(),Kw=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},WY=(()=>{class t extends Kw{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nC=(()=>{class t{urlSerializer=_(Ac);options=_(Oc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(ro);urlHandlingStrategy=_(Jw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new po;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof po?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=JP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:()=>_(_R),providedIn:"root"})}return t})(),_R=(()=>{class t extends nC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Vs?this.updateStateMemento():e instanceof Uo?this.commitTransition(i):e instanceof Pg?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Qu?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof qo&&e.code!==Rn.SupersededByNewNavigation&&e.code!==Rn.Redirect?this.restoreHistory(i):e instanceof Yu?this.restoreHistory(i,!0):e instanceof fo&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=W(W({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=W(W({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ai(t)))(r||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rC(t,n){t.events.pipe(je(e=>e instanceof fo||e instanceof qo||e instanceof Yu||e instanceof Uo),Se(e=>e instanceof fo||e instanceof Uo?0:(e instanceof qo?e.code===Rn.Redirect||e.code===Rn.SupersededByNewNavigation:!1)?2:1),je(e=>e!==2),Ot(1)).subscribe(()=>{n()})}var YY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qs=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(up);stateManager=_(nC);options=_(Oc,{optional:!0})||{};pendingTasks=_(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(Hg);urlSerializer=_(Ac);location=_(ro);urlHandlingStrategy=_(Jw);injector=_(qt);_events=new Z;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(GY);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(ih,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(eh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Ii(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof qo&&i.code!==Rn.Redirect&&i.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fo)this.navigated=!0;else if(i instanceof Mc){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=W({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$Y(r.source)},a);this.scheduleNavigation(s,kc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}V6(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=W({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(l=>{this.disposed||this.injector.get(Jn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ii(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=W(W({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let v=r?r.snapshot:this.routerState.snapshot.root;u=KP(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return QP(u,e,d,c??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Dc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,kc,null,i)}navigate(e,i={skipLocationChange:!1}){return QY(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Ur(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=W({},YY):i===!1?r=W({},KY):r=i,Dc(e))return IP(this.currentUrlTree,e,r);let o=this.parseUrl(e);return IP(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((u,v)=>{s=u,l=v});let d=this.pendingTasks.add();return rC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QY(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new ee(4008,!1)}var nh=class{};var SR=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(je(e=>e instanceof fo),ea(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Bl(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Ht(r).pipe(Zo())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=Ht(this.loader.loadChildren(e,i)):r=Le(null);let o=r.pipe(Li(a=>a===null?Le(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(e,i);return Ht([o,a]).pipe(Zo())}else return o})}static \u0275fac=function(i){return new(i||t)(L(qs),L(qt),L(nh),L(jg))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wR=new K(""),ZY=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=kc;restoredId=0;store={};constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fo?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Uo&&e.code===Wu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof Ku))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>ii(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new Ku(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){pb()};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function XY(){return _(qs).routerState.root}function rh(t,n){return{\u0275kind:t,\u0275providers:n}}function JY(){let t=_(le);return n=>{let e=t.get(rn);if(n!==e.components[0])return;let i=t.get(qs),r=t.get(CR);t.get(aC)===1&&i.initialNavigation(),t.get(xR,null,{optional:!0})?.setUpPreloading(),t.get(wR,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var CR=new K("",{factory:()=>new Z}),aC=new K("",{factory:()=>1});function kR(){let t=[{provide:Km,useValue:!0},{provide:aC,useValue:0},pp(()=>{let n=_(le);return n.get(Hb,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(qs),o=n.get(CR);rC(r,()=>{i(!0)}),n.get(Hg).afterPreactivation=()=>(i(!0),o.closed?Le(void 0):o),r.initialNavigation()}))})];return rh(2,t)}function ER(){let t=[pp(()=>{_(qs).setUpLocationChangeListener()}),{provide:aC,useValue:2}];return rh(3,t)}var xR=new K("");function TR(t){return rh(0,[{provide:xR,useExisting:SR},{provide:nh,useExisting:t}])}function DR(){return rh(8,[Zw,{provide:eh,useExisting:Zw}])}function MR(t){En("NgRouterViewTransitions");let n=[{provide:eC,useValue:bR},{provide:tC,useValue:W({skipNextTransition:!!t?.skipInitialTransition},t)}];return rh(9,n)}var IR=[ro,{provide:Ac,useClass:Ia},qs,Rc,{provide:js,useFactory:XY},jg,[]],qg=(()=>{class t{constructor(){}static forRoot(e,i){return{ngModule:t,providers:[IR,[],{provide:ih,multi:!0,useValue:e},[],i?.errorHandler?{provide:iC,useValue:i.errorHandler}:[],{provide:Oc,useValue:i||{}},i?.useHash?t9():i9(),e9(),i?.preloadingStrategy?TR(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?n9(i):[],i?.bindToComponentInputs?DR().\u0275providers:[],i?.enableViewTransitions?MR().\u0275providers:[],r9()]}}static forChild(e){return{ngModule:t,providers:[{provide:ih,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ne({type:t});static \u0275inj=Ae({})}return t})();function e9(){return{provide:wR,useFactory:()=>{let t=_(HT),n=_(ce),e=_(Oc),i=_(Hg),r=_(Ac);return e.scrollOffset&&t.setOffset(e.scrollOffset),new ZY(r,i,t,n,e)}}}function t9(){return{provide:Io,useClass:$b}}function i9(){return{provide:Io,useClass:Cp}}function n9(t){return[t.initialNavigation==="disabled"?ER().\u0275providers:[],t.initialNavigation==="enabledBlocking"?kR().\u0275providers:[]]}var oC=new K("");function r9(){return[{provide:oC,useFactory:JY},{provide:fp,multi:!0,useExisting:oC}]}var a9=[],AR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ne({type:t})}static{this.\u0275inj=Ae({imports:[qg.forRoot(a9),qg]})}}return t})();function PR(t){return new ee(3e3,!1)}function s9(){return new ee(3100,!1)}function l9(){return new ee(3101,!1)}function c9(t){return new ee(3001,!1)}function d9(t){return new ee(3003,!1)}function u9(t){return new ee(3004,!1)}function FR(t,n){return new ee(3005,!1)}function OR(){return new ee(3006,!1)}function LR(){return new ee(3007,!1)}function NR(t,n){return new ee(3008,!1)}function BR(t){return new ee(3002,!1)}function VR(t,n,e,i,r){return new ee(3010,!1)}function jR(){return new ee(3011,!1)}function HR(){return new ee(3012,!1)}function qR(){return new ee(3200,!1)}function UR(){return new ee(3202,!1)}function zR(){return new ee(3013,!1)}function $R(t){return new ee(3014,!1)}function GR(t){return new ee(3015,!1)}function WR(t){return new ee(3016,!1)}function YR(t,n){return new ee(3404,!1)}function h9(t){return new ee(3502,!1)}function KR(t){return new ee(3503,!1)}function QR(){return new ee(3300,!1)}function ZR(t){return new ee(3504,!1)}function XR(t){return new ee(3301,!1)}function JR(t,n){return new ee(3302,!1)}function eF(t){return new ee(3303,!1)}function tF(t,n){return new ee(3400,!1)}function iF(t){return new ee(3401,!1)}function nF(t){return new ee(3402,!1)}function rF(t,n){return new ee(3505,!1)}function zo(t){switch(t.length){case 0:return new oo;case 1:return t[0];default:return new fs(t)}}function dC(t,n,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(n.forEach(l=>{let c=l.get("offset"),d=c==a,u=d&&s||new Map;l.forEach((v,y)=>{let g=y,S=v;if(y!=="offset")switch(g=t.normalizePropertyName(g,r),S){case jl:S=e.get(y);break;case ir:S=i.get(y);break;default:S=t.normalizeStyleValue(y,g,S,r);break}u.set(g,S)}),d||o.push(u),s=u,a=c}),r.length)throw h9(r);return o}function Ug(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&sC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&sC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&sC(e,"destroy",t)));break}}function sC(t,n,e){let i=e.totalTime,r=!!e.disabled,o=zg(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function zg(t,n,e,i,r="",o=0,a){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Fn(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function uC(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var m9=typeof document>"u"?null:document.documentElement;function $g(t){let n=t.parentNode||t.host||null;return n===m9?null:n}function p9(t){return t.substring(1,6)=="ebkit"}var Us=null,RR=!1;function oF(t){Us||(Us=f9()||{},RR=Us.style?"WebkitAppearance"in Us.style:!1);let n=!0;return Us.style&&!p9(t)&&(n=t in Us.style,!n&&RR&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Us.style)),n}function f9(){return typeof document<"u"?document.body:null}function hC(t,n){for(;n;){if(n===t)return!0;n=$g(n)}return!1}function mC(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var g9=1e3,pC="{{",v9="}}",fC="ng-enter",Gg="ng-leave",oh="ng-trigger",ah=".ng-trigger",gC="ng-animating",Wg=".ng-animating";function go(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:lC(parseFloat(n[1]),n[2])}function lC(t,n){switch(n){case"s":return t*g9;default:return t}}function sh(t,n,e){return t.hasOwnProperty("duration")?t:b9(t,n,e)}var y9=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function b9(t,n,e){let i,r=0,o="";if(typeof t=="string"){let a=t.match(y9);if(a===null)return n.push(PR(t)),{duration:0,delay:0,easing:""};i=lC(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=lC(parseFloat(s),a[4]));let l=a[5];l&&(o=l)}else i=t;if(!e){let a=!1,s=n.length;i<0&&(n.push(s9()),a=!0),r<0&&(n.push(l9()),a=!0),a&&n.splice(s,0,PR(t))}return{duration:i,delay:r,easing:o}}function aF(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function Vr(t,n,e){n.forEach((i,r)=>{let o=Yg(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Aa(t,n){n.forEach((e,i)=>{let r=Yg(i);t.style[r]=""})}function Lc(t){return Array.isArray(t)?t.length==1?t[0]:UT(t):t}function sF(t,n,e){let i=n.params||{},r=vC(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(c9(o))})}var cC=new RegExp(`${pC}\\s*(.+?)\\s*${v9}`,"g");function vC(t){let n=[];if(typeof t=="string"){let e;for(;e=cC.exec(t);)n.push(e[1]);cC.lastIndex=0}return n}function Nc(t,n,e){let i=`${t}`,r=i.replace(cC,(o,a)=>{let s=n[a];return s==null&&(e.push(d9(a)),s=""),s.toString()});return r==i?t:r}var _9=/-+([a-z0-9])/g;function Yg(t){return t.replace(_9,(...n)=>n[1].toUpperCase())}function lF(t,n){return t===0||n===0}function cF(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<n.length;o++){let a=n[o];r.forEach(s=>a.set(s,Kg(t,s)))}}return n}function On(t,n,e){switch(n.type){case ot.Trigger:return t.visitTrigger(n,e);case ot.State:return t.visitState(n,e);case ot.Transition:return t.visitTransition(n,e);case ot.Sequence:return t.visitSequence(n,e);case ot.Group:return t.visitGroup(n,e);case ot.Animate:return t.visitAnimate(n,e);case ot.Keyframes:return t.visitKeyframes(n,e);case ot.Style:return t.visitStyle(n,e);case ot.Reference:return t.visitReference(n,e);case ot.AnimateChild:return t.visitAnimateChild(n,e);case ot.AnimateRef:return t.visitAnimateRef(n,e);case ot.Query:return t.visitQuery(n,e);case ot.Stagger:return t.visitStagger(n,e);default:throw u9(n.type)}}function Kg(t,n){return window.getComputedStyle(t)[n]}var FC=(()=>{class t{validateStyleProperty(e){return oF(e)}containsElement(e,i){return hC(e,i)}getParentElement(e){return $g(e)}query(e,i,r){return mC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new oo(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),$s=class{static NOOP=new FC},Gs=class{};var S9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ev=class extends Gs{normalizePropertyName(n,e){return Yg(n)}normalizeStyleValue(n,e,i,r){let o="",a=i.toString().trim();if(S9.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(FR(n,i))}return a+o}};var tv="*";function w9(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>C9(i,e,n)):e.push(t),e}function C9(t,n,e){if(t[0]==":"){let l=k9(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(GR(t)),n;let r=i[1],o=i[2],a=i[3];n.push(dF(r,a));let s=r==tv&&a==tv;o[0]=="<"&&!s&&n.push(dF(a,r))}function k9(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(WR(t)),"* => *"}}var Qg=new Set(["true","1"]),Zg=new Set(["false","0"]);function dF(t,n){let e=Qg.has(t)||Zg.has(t),i=Qg.has(n)||Zg.has(n);return(r,o)=>{let a=t==tv||t==r,s=n==tv||n==o;return!a&&e&&typeof r=="boolean"&&(a=r?Qg.has(t):Zg.has(t)),!s&&i&&typeof o=="boolean"&&(s=o?Qg.has(n):Zg.has(n)),a&&s}}var _F=":self",E9=new RegExp(`s*${_F}s*,?`,"g");function SF(t,n,e,i){return new CC(t).build(n,e,i)}var uF="",CC=class{_driver;constructor(n){this._driver=n}build(n,e,i){let r=new kC(e);return this._resetContextStyleTimingState(r),On(this,Lc(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=uF,n.collectedStyles=new Map,n.collectedStyles.set(uF,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return n.name.charAt(0)=="@"&&e.errors.push(OR()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==ot.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==ot.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(LR())}),{type:ot.Trigger,name:n.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{vC(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(NR(n.name,[...o.values()]))}return{type:ot.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=On(this,Lc(n.animation),e),r=w9(n.expr,e.errors);return{type:ot.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zs(n.options)}}visitSequence(n,e){return{type:ot.Sequence,steps:n.steps.map(i=>On(this,i,e)),options:zs(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(a=>{e.currentTime=i;let s=On(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:ot.Group,steps:o,options:zs(n.options)}}visitAnimate(n,e){let i=M9(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:an({});if(o.type==ot.Keyframes)r=this.visitKeyframes(o,e);else{let a=n.styles,s=!1;if(!a){s=!0;let c={};i.easing&&(c.easing=i.easing),a=an(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:ot.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of r)typeof s=="string"?s===ir?i.push(s):e.errors.push(BR(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(pC)>=0){o=!0;break}}}),{type:ot.Style,styles:i,easing:a,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(VR(l,d.startTime,d.endTime,o,r)),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:r}),e.options&&sF(s,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:ot.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(jR()),i;let r=1,o=0,a=[],s=!1,l=!1,c=0,d=n.steps.map(M=>{let z=this._makeStyleAst(M,e),G=z.offset!=null?z.offset:D9(z.styles),Y=0;return G!=null&&(o++,Y=z.offset=G),l=l||Y<0||Y>1,s=s||Y<c,c=Y,a.push(Y),z});l&&e.errors.push(HR()),s&&e.errors.push(qR());let u=n.steps.length,v=0;o>0&&o<u?e.errors.push(UR()):o==0&&(v=r/(u-1));let y=u-1,g=e.currentTime,S=e.currentAnimateTimings,P=S.duration;return d.forEach((M,z)=>{let G=v>0?z==y?1:v*z:a[z],Y=G*P;e.currentTime=g+S.delay+Y,S.duration=Y,this._validateStyleAst(M,e),M.offset=G,i.styles.push(M)}),i}visitReference(n,e){return{type:ot.Reference,animation:On(this,Lc(n.animation),e),options:zs(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:ot.AnimateChild,options:zs(n.options)}}visitAnimateRef(n,e){return{type:ot.AnimateRef,animation:this.visitReference(n.animation,e),options:zs(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,a]=x9(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fn(e.collectedStyles,e.currentQuerySelector,new Map);let s=On(this,Lc(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:ot.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:n.selector,options:zs(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(zR());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:sh(n.timings,e.errors,!0);return{type:ot.Stagger,animation:On(this,Lc(n.animation),e),timings:i,options:null}}};function x9(t){let n=!!t.split(/\s*,\s*/).find(e=>e==_F);return n&&(t=t.replace(E9,"")),t=t.replace(/@\*/g,ah).replace(/@\w+/g,e=>ah+"-"+e.slice(1)).replace(/:animating/g,Wg),[t,n]}function T9(t){return t?W({},t):null}var kC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}};function D9(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function M9(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=sh(t,n).duration;return yC(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=yC(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=sh(e,n);return yC(r.duration,r.delay,r.easing)}function zs(t){return t?(t=W({},t),t.params&&(t.params=T9(t.params))):t={},t}function yC(t,n,e){return{duration:t,delay:n,easing:e}}function OC(t,n,e,i,r,o,a=null,s=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var ch=class{_map=new Map;get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},I9=1,A9=":enter",P9=new RegExp(A9,"g"),R9=":leave",F9=new RegExp(R9,"g");function wF(t,n,e,i,r,o=new Map,a=new Map,s,l,c=[]){return new EC().buildKeyframes(t,n,e,i,r,o,a,s,l,c)}var EC=class{buildKeyframes(n,e,i,r,o,a,s,l,c,d=[]){c=c||new ch;let u=new xC(n,e,c,r,o,d,[]);u.options=l;let v=l.delay?go(l.delay):0;u.currentTimeline.delayNextStep(v),u.currentTimeline.setStyles([a],null,u.errors,l),On(this,i,u);let y=u.timelines.filter(g=>g.containsAnimation());if(y.length&&s.size){let g;for(let S=y.length-1;S>=0;S--){let P=y[S];if(P.element===e){g=P;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([s],null,u.errors,l)}return y.length?y.map(g=>g.buildKeyframes()):[OC(e,[],[],[],0,v,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let a=typeof o=="number"?o:go(Nc(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?go(i.duration):null,s=i.delay!=null?go(i.delay):null;return a!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),On(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ot.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iv);let a=go(o.delay);r.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>On(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?go(n.options.delay):0;n.steps.forEach(a=>{let s=e.createSubContext(n.options);o&&s.delayNextStep(o),On(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?Nc(i,e.params,e.errors):i;return sh(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==ot.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?go(r.delay):0;o&&(e.previousNode.type===ot.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iv);let a=i,s=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,d)=>{e.currentQueryIndex=d;let u=e.createSubContext(n.options,c);o&&u.delayNextStep(o),c===e.element&&(l=u.currentTimeline),On(this,n.animation,u),u.currentTimeline.applyStylesToKeyframe();let v=u.currentTimeline.currentTime;a=Math.max(a,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;On(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}},iv={},xC=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=iv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,e,i,r,o,a,s,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new nv(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=go(i.duration)),i.delay!=null&&(r.delay=go(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Nc(o[s],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=iv,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new TC(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,a){let s=[];if(r&&s.push(this.element),n.length>0){n=n.replace(P9,"."+this._enterClassName),n=n.replace(F9,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&s.length==0&&a.push($R(e)),s}},nv=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=I9,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ir),this._currentKeyframe.set(e,ir);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=O9(n,this._globalTimelineStyles);for(let[s,l]of a){let c=Nc(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ir),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((d,u)=>{d===jl?n.add(u):d===ir&&e.add(u)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return OC(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},TC=class extends nv{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,e,i,r,o,a,s=!1){super(n,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",hF(s)),o.push(c);let d=n.length-1;for(let u=1;u<=d;u++){let v=new Map(n[u]),y=v.get("offset"),g=e+y*i;v.set("offset",hF(g/a)),o.push(v)}i=a,e=0,r="",n=o}return OC(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function hF(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function O9(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,ir)}else for(let[o,a]of r)e.set(o,a)}),e}function mF(t,n,e,i,r,o,a,s,l,c,d,u,v){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:v}}var bC={},rv=class{_triggerName;ast;_stateStyles;constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return L9(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,a,s,l,c,d){let u=[],v=this.ast.options&&this.ast.options.params||bC,y=s&&s.params||bC,g=this.buildStyles(i,y,u),S=l&&l.params||bC,P=this.buildStyles(r,S,u),M=new Set,z=new Map,G=new Map,Y=r==="void",ge={params:CF(S,v),delay:this.ast.options?.delay},me=d?[]:wF(n,e,this.ast.animation,o,a,g,P,ge,c,u),de=0;return me.forEach(be=>{de=Math.max(be.duration+be.delay,de)}),u.length?mF(e,this._triggerName,i,r,Y,g,P,[],[],z,G,de,u):(me.forEach(be=>{let oe=be.element,tt=Fn(z,oe,new Set);be.preStyleProps.forEach(di=>tt.add(di));let wt=Fn(G,oe,new Set);be.postStyleProps.forEach(di=>wt.add(di)),oe!==e&&M.add(oe)}),mF(e,this._triggerName,i,r,Y,g,P,me,[...M.values()],z,G,de))}};function L9(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function CF(t,n){let e=W({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var DC=class{styles;defaultParams;normalizer;constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=CF(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Nc(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function N9(t,n,e){return new MC(t,n,e)}var MC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new DC(r.style,o,i))}),pF(this.states,"true","1"),pF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new rv(n,r,this.states))}),this.fallbackTransition=B9(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(a=>a.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function B9(t,n,e){let i=[(a,s)=>!0],r={type:ot.Sequence,steps:[],options:null},o={type:ot.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new rv(t,o,n)}function pF(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var V9=new ch,IC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i}register(n,e){let i=[],r=[],o=SF(this._driver,e,i,r);if(i.length)throw KR(i);this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=dC(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),a,s=new Map;if(o?(a=wF(this._driver,e,o,fC,Gg,new Map,new Map,i,V9,r),a.forEach(d=>{let u=Fn(s,d.element,new Map);d.postStyleProps.forEach(v=>u.set(v,null))})):(r.push(QR()),a=[]),r.length)throw ZR(r);s.forEach((d,u)=>{d.forEach((v,y)=>{d.set(y,this._driver.computeStyle(u,y,ir))})});let l=a.map(d=>{let u=s.get(d.element);return this._buildPlayer(d,new Map,u)}),c=zo(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw XR(n);return e}listen(n,e,i,r){let o=zg(e,"","","");return Ug(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(n,e,a);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},fF="ng-animate-queued",j9=".ng-animate-queued",_C="ng-animate-disabled",H9=".ng-animate-disabled",q9="ng-star-inserted",U9=".ng-star-inserted",z9=[],kF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed",dh=class{namespaceId;value;options;get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=W9(r),i){let o=n,{value:a}=o,s=pv(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},lh="void",SC=new dh(lh),AC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+n,ur(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw JR(i,e);if(i==null||i.length==0)throw eF(e);if(!Y9(i))throw tF(i,e);let o=Fn(this._elementListeners,n,[]),a={name:e,phase:i,callback:r};o.push(a);let s=Fn(this._engine.statesByElement,n,new Map);return s.has(e)||(ur(n,oh),ur(n,oh+"-"+e),s.set(e,SC)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw iF(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),a=new uh(this.id,e,n),s=this._engine.statesByElement.get(n);s||(ur(n,oh),ur(n,oh+"-"+e),this._engine.statesByElement.set(n,s=new Map));let l=s.get(e),c=new dh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=SC),!(c.value===lh)&&l.value===c.value){if(!Z9(l.params,c.params)){let S=[],P=o.matchStyles(l.value,l.params,S),M=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Aa(n,P),Vr(n,M)})}return}let v=Fn(this._engine.playersByElement,n,[]);v.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let y=o.matchTransition(l.value,c.value,n,c.params),g=!1;if(!y){if(!r)return;y=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:y,fromState:l,toState:c,player:a,isFallbackTransition:g}),g||(ur(n,fF),a.onStart(()=>{Bc(n,fF)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let P=this._engine.playersByElement.get(n);if(P){let M=P.indexOf(a);M>=0&&P.splice(M,1)}}),this.players.push(a),v.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,ah,!0);i.forEach(r=>{if(r[jr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let d=this.trigger(n,c,lh,r);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),i&&zo(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||SC,d=new dh(lh),u=new uh(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let a=n;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[jr];(!o||o===kF)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ur(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=zg(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,Ug(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},PC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,e)=>{};_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new AC(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(Xg(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!Xg(e))return;let o=e[jr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ur(n,_C)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Bc(n,_C))}removeNode(n,e,i){if(Xg(e)){let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[jr]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return Xg(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,ah,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,Wg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return zo(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[jr];if(e&&e.setForRemoval){if(n[jr]=kF,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(_C)&&this.markElementAsDisabled(n,!1),this.driver.query(n,H9,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ur(r,q9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?zo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw nF(n)}_flushAnimations(n,e){let i=new ch,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(_e=>{d.add(_e);let ke=this.driver.query(_e,j9,!0);for(let Me=0;Me<ke.length;Me++)d.add(ke[Me])});let u=this.bodyNode,v=Array.from(this.statesByElement.keys()),y=yF(v,this.collectedEnterElements),g=new Map,S=0;y.forEach((_e,ke)=>{let Me=fC+S++;g.set(ke,Me),_e.forEach(at=>ur(at,Me))});let P=[],M=new Set,z=new Set;for(let _e=0;_e<this.collectedLeaveElements.length;_e++){let ke=this.collectedLeaveElements[_e],Me=ke[jr];Me&&Me.setForRemoval&&(P.push(ke),M.add(ke),Me.hasAnimation?this.driver.query(ke,U9,!0).forEach(at=>M.add(at)):z.add(ke))}let G=new Map,Y=yF(v,Array.from(M));Y.forEach((_e,ke)=>{let Me=Gg+S++;G.set(ke,Me),_e.forEach(at=>ur(at,Me))}),n.push(()=>{y.forEach((_e,ke)=>{let Me=g.get(ke);_e.forEach(at=>Bc(at,Me))}),Y.forEach((_e,ke)=>{let Me=G.get(ke);_e.forEach(at=>Bc(at,Me))}),P.forEach(_e=>{this.processLeaveNode(_e)})});let ge=[],me=[];for(let _e=this._namespaceList.length-1;_e>=0;_e--)this._namespaceList[_e].drainQueuedTransitions(e).forEach(Me=>{let at=Me.player,ti=Me.element;if(ge.push(at),this.collectedEnterElements.length){let xt=ti[jr];if(xt&&xt.setForMove){if(xt.previousTriggersValues&&xt.previousTriggersValues.has(Me.triggerName)){let ai=xt.previousTriggersValues.get(Me.triggerName),ui=this.statesByElement.get(Me.element);if(ui&&ui.has(Me.triggerName)){let Ki=ui.get(Me.triggerName);Ki.value=ai,ui.set(Me.triggerName,Ki)}}at.destroy();return}}let bi=!u||!this.driver.containsElement(u,ti),xi=G.get(ti),gn=g.get(ti),Ct=this._buildInstruction(Me,i,gn,xi,bi);if(Ct.errors&&Ct.errors.length){me.push(Ct);return}if(bi){at.onStart(()=>Aa(ti,Ct.fromStyles)),at.onDestroy(()=>Vr(ti,Ct.toStyles)),r.push(at);return}if(Me.isFallbackTransition){at.onStart(()=>Aa(ti,Ct.fromStyles)),at.onDestroy(()=>Vr(ti,Ct.toStyles)),r.push(at);return}let $o=[];Ct.timelines.forEach(xt=>{xt.stretchStartingKeyframe=!0,this.disabledNodes.has(xt.element)||$o.push(xt)}),Ct.timelines=$o,i.append(ti,Ct.timelines);let Pa={instruction:Ct,player:at,element:ti};a.push(Pa),Ct.queriedElements.forEach(xt=>Fn(s,xt,[]).push(at)),Ct.preStyleProps.forEach((xt,ai)=>{if(xt.size){let ui=l.get(ai);ui||l.set(ai,ui=new Set),xt.forEach((Ki,jt)=>ui.add(jt))}}),Ct.postStyleProps.forEach((xt,ai)=>{let ui=c.get(ai);ui||c.set(ai,ui=new Set),xt.forEach((Ki,jt)=>ui.add(jt))})});if(me.length){let _e=[];me.forEach(ke=>{_e.push(rF(ke.triggerName,ke.errors))}),ge.forEach(ke=>ke.destroy()),this.reportError(_e)}let de=new Map,be=new Map;a.forEach(_e=>{let ke=_e.element;i.has(ke)&&(be.set(ke,ke),this._beforeAnimationBuild(_e.player.namespaceId,_e.instruction,de))}),r.forEach(_e=>{let ke=_e.element;this._getPreviousPlayers(ke,!1,_e.namespaceId,_e.triggerName,null).forEach(at=>{Fn(de,ke,[]).push(at),at.destroy()})});let oe=P.filter(_e=>bF(_e,l,c)),tt=new Map;vF(tt,this.driver,z,c,ir).forEach(_e=>{bF(_e,l,c)&&oe.push(_e)});let di=new Map;y.forEach((_e,ke)=>{vF(di,this.driver,new Set(_e),l,jl)}),oe.forEach(_e=>{let ke=tt.get(_e),Me=di.get(_e);tt.set(_e,new Map([...ke?.entries()??[],...Me?.entries()??[]]))});let Cn=[],Ln=[],Nn={};a.forEach(_e=>{let{element:ke,player:Me,instruction:at}=_e;if(i.has(ke)){if(d.has(ke)){Me.onDestroy(()=>Vr(ke,at.toStyles)),Me.disabled=!0,Me.overrideTotalTime(at.totalTime),r.push(Me);return}let ti=Nn;if(be.size>1){let xi=ke,gn=[];for(;xi=xi.parentNode;){let Ct=be.get(xi);if(Ct){ti=Ct;break}gn.push(xi)}gn.forEach(Ct=>be.set(Ct,ti))}let bi=this._buildAnimation(Me.namespaceId,at,de,o,di,tt);if(Me.setRealPlayer(bi),ti===Nn)Cn.push(Me);else{let xi=this.playersByElement.get(ti);xi&&xi.length&&(Me.parentPlayer=zo(xi)),r.push(Me)}}else Aa(ke,at.fromStyles),Me.onDestroy(()=>Vr(ke,at.toStyles)),Ln.push(Me),d.has(ke)&&r.push(Me)}),Ln.forEach(_e=>{let ke=o.get(_e.element);if(ke&&ke.length){let Me=zo(ke);_e.setRealPlayer(Me)}}),r.forEach(_e=>{_e.parentPlayer?_e.syncPlayerEvents(_e.parentPlayer):_e.destroy()});for(let _e=0;_e<P.length;_e++){let ke=P[_e],Me=ke[jr];if(Bc(ke,Gg),Me&&Me.hasAnimation)continue;let at=[];if(s.size){let bi=s.get(ke);bi&&bi.length&&at.push(...bi);let xi=this.driver.query(ke,Wg,!0);for(let gn=0;gn<xi.length;gn++){let Ct=s.get(xi[gn]);Ct&&Ct.length&&at.push(...Ct)}}let ti=at.filter(bi=>!bi.destroyed);ti.length?K9(this,ke,ti):this.processLeaveNode(ke)}return P.length=0,Cn.forEach(_e=>{this.players.push(_e),_e.onDone(()=>{_e.destroy();let ke=this.players.indexOf(_e);this.players.splice(ke,1)}),_e.play()}),Cn}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(n);s&&(a=s)}else{let s=this.playersByElement.get(n);if(s){let l=!o||o==lh;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:n,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,d=c!==o,u=Fn(i,c,[]);this._getPreviousPlayers(c,d,a,s,e.toState).forEach(y=>{let g=y.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),y.destroy(),u.push(y)})}Aa(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,a){let s=e.triggerName,l=e.element,c=[],d=new Set,u=new Set,v=e.timelines.map(g=>{let S=g.element;d.add(S);let P=S[jr];if(P&&P.removedBeforeQueried)return new oo(g.duration,g.delay);let M=S!==l,z=Q9((i.get(S)||z9).map(de=>de.getRealPlayer())).filter(de=>{let be=de;return be.element?be.element===S:!1}),G=o.get(S),Y=a.get(S),ge=dC(this._normalizer,g.keyframes,G,Y),me=this._buildPlayer(g,ge,z);if(g.subTimeline&&r&&u.add(S),M){let de=new uh(n,s,S);de.setRealPlayer(me),c.push(de)}return me});c.forEach(g=>{Fn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>G9(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>ur(g,gC));let y=zo(v);return y.onDestroy(()=>{d.forEach(g=>Bc(g,gC)),Vr(l,e.toStyles)}),u.forEach(g=>{Fn(r,g,[]).push(y)}),y}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new oo(n.duration,n.delay)}},uh=class{namespaceId;triggerName;element;_player=new oo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ug(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Fn(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function G9(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function W9(t){return t??null}function Xg(t){return t&&t.nodeType===1}function Y9(t){return t=="start"||t=="done"}function gF(t,n){let e=t.style.display;return t.style.display=n??"none",e}function vF(t,n,e,i,r){let o=[];e.forEach(l=>o.push(gF(l)));let a=[];i.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let v=n.computeStyle(c,u,r);d.set(u,v),(!v||v.length==0)&&(c[jr]=$9,a.push(c))}),t.set(c,d)});let s=0;return e.forEach(l=>gF(l,o[s++])),a}function yF(t,n){let e=new Map;if(t.forEach(s=>e.set(s,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),o.set(s,l),l}return n.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function ur(t,n){t.classList?.add(n)}function Bc(t,n){t.classList?.remove(n)}function K9(t,n,e){zo(e).onDone(()=>t.processLeaveNode(n))}function Q9(t){let n=[];return EF(t,n),n}function EF(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof fs?EF(i.players,n):n.push(i)}}function Z9(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function bF(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var Vc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,e)=>{};constructor(n,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new PC(n.body,e,i),this._timelineEngine=new IC(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){let a=n+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],d=SF(this._driver,o,l,c);if(l.length)throw YR(r,l);s=N9(r,d,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,a]=uC(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=uC(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function X9(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=wC(n[0]),n.length>1&&(i=wC(n[n.length-1]))):n instanceof Map&&(e=wC(n)),e||i?new J9(t,e,i):null}var J9=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vr(this._element,this._initialStyles),this._endStyles&&(Vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Aa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),Vr(this._element,this._initialStyles),this._state=3)}}return t})();function wC(t){let n=null;return t.forEach((e,i)=>{e7(i)&&(n=n||new Map,n.set(i,e))}),n}function e7(t){return t==="display"||t==="position"}var ov=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let n=this.keyframes,e=this._triggerWebAnimation(this.element,n,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=n.length?n[n.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){let r=this._convertKeyframesToObject(e);try{return n.animate(r,i)}catch{return null}}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){let n=this._buildPlayer();n&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),n.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=n*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:Kg(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},av=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return hC(n,e)}getParentElement(n){return $g(n)}query(n,e,i){return mC(n,e,i)}computeStyle(n,e,i){return Kg(n,e)}animate(n,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let c=new Map,d=a.filter(y=>y instanceof ov);lF(i,r)&&d.forEach(y=>{y.currentSnapshot.forEach((g,S)=>c.set(S,g))});let u=aF(e).map(y=>new Map(y));u=cF(n,u,c);let v=X9(n,u);return new ov(n,u,l,v)}};var Jg="@",xF="@.disabled",sv=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i,r){if(r){this.delegate.removeChild(n,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==Jg&&e==xF?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i,r){return this.delegate.listen(n,e,i,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},RC=class extends sv{factory;constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==Jg?e.charAt(1)=="."&&e==xF?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i,r){if(e.charAt(0)==Jg){let o=t7(n),a=e.slice(1),s="";return a.charAt(0)!=Jg&&([a,s]=i7(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(n,e,i,r)}};function t7(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function i7(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var lv=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(n,e){let r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let u=()=>c.delete(r);d=new sv("",r,this.engine,u),c.set(r,d)}return d}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,n,c.name,c)};return e.data.animation.forEach(s),new RC(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(n){this.engine.flush(),this.delegate.componentReplaced?.(n)}};var r7=(()=>{class t extends Vc{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(L(Ee),L($s),L(Gs))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function o7(){return new ev}function a7(){return new lv(_(Gd),_(Vc),_(ce))}var TF=[{provide:Gs,useFactory:o7},{provide:Vc,useClass:r7},{provide:si,useFactory:a7}],_Me=[{provide:$s,useClass:FC},{provide:ua,useValue:"NoopAnimations"},...TF],s7=[{provide:$s,useFactory:()=>new av},{provide:ua,useFactory:()=>"BrowserAnimations"},...TF];function DF(){return En("NgEagerAnimations"),[...s7]}var l7=[mM,sn,BM];us.production&&void 0;c_(MP,{providers:[yT(),rm(d_,AR,hc,ji,PA,aP,...l7),yt,Ve,Of,DF()]}).catch(t=>console.error(t));
