var uE=Object.defineProperty,hE=Object.defineProperties;var mE=Object.getOwnPropertyDescriptors;var Ql=Object.getOwnPropertySymbols;var Ey=Object.prototype.hasOwnProperty,Dy=Object.prototype.propertyIsEnumerable;var xy=(t,n,e)=>n in t?uE(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,j=(t,n)=>{for(var e in n||={})Ey.call(n,e)&&xy(t,e,n[e]);if(Ql)for(var e of Ql(n))Dy.call(n,e)&&xy(t,e,n[e]);return t},ke=(t,n)=>hE(t,mE(n));var Eh=(t,n)=>{var e={};for(var i in t)Ey.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&Ql)for(var i of Ql(t))n.indexOf(i)<0&&Dy.call(t,i)&&(e[i]=t[i]);return e};var pE=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var mw=pE((vW,FA)=>{FA.exports={name:"immortalityidle",version:"2.0.0",scripts:{ng:"ng",start:"ng serve",prebuild:"npm --no-git-tag-version version patch",build:"ng build","build-experimental":"ng build --output-path='docs/experimental' --base-href='/experimental/'","build-experimental2":"ng build --output-path='docs/experimental2' --base-href='/experimental2/'",watch:"ng build --watch --configuration development",test:"ng test",lint:"ng lint --fix"},private:!0,dependencies:{"@angular/animations":"^19.2.2","@angular/cdk":"^19.2.3","@angular/common":"^19.2.2","@angular/compiler":"^19.2.2","@angular/core":"^19.2.2","@angular/forms":"^19.2.2","@angular/material":"^19.2.3","@angular/platform-browser":"^19.2.2","@angular/platform-browser-dynamic":"^19.2.2","@angular/router":"^19.2.2","@katoid/angular-grid-layout":"^3.0.0","eslint-config-prettier":"^8.6.0","eslint-plugin-prettier":"^4.2.1",prettier:"^2.8.4","prettier-eslint":"^15.0.1",rxjs:"~7.5.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular-devkit/build-angular":"^19.2.3","@angular-eslint/builder":"18.0.0-alpha.16","@angular-eslint/eslint-plugin":"18.0.0-alpha.16","@angular-eslint/eslint-plugin-template":"18.0.0-alpha.16","@angular-eslint/schematics":"18.0.0-alpha.16","@angular-eslint/template-parser":"18.0.0-alpha.16","@angular/cli":"^19.2.3","@angular/compiler-cli":"^19.2.2","@types/jasmine":"~3.10.0","@types/node":"^12.20.55","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0",eslint:"^8.57.0","jasmine-core":"~4.0.0",karma:"~6.3.0","karma-chrome-launcher":"~3.1.0","karma-coverage":"~2.1.0","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"~1.7.0",memfs:"~3.4.13",typescript:"~5.8.2"}}});function fE(t,n){return Object.is(t,n)}var Ht=null,Zl=!1,Dh=1,an=Symbol("SIGNAL");function He(t){let n=Ht;return Ht=t,n}function Ty(){return Ht}var ds={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mh(t){if(Zl)throw new Error("");if(Ht===null)return;Ht.consumerOnSignalRead(t);let n=Ht.nextProducerIndex++;if(tc(Ht),n<Ht.producerNode.length&&Ht.producerNode[n]!==t&&cs(Ht)){let e=Ht.producerNode[n];ec(e,Ht.producerIndexOfThis[n])}Ht.producerNode[n]!==t&&(Ht.producerNode[n]=t,Ht.producerIndexOfThis[n]=cs(Ht)?Ay(t,Ht,n):0),Ht.producerLastReadVersion[n]=t.version}function gE(){Dh++}function vE(t){if(!(cs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Dh)){if(!t.producerMustRecompute(t)&&!Jl(t)){My(t);return}t.producerRecomputeValue(t),My(t)}}function Iy(t){if(t.liveConsumerNode===void 0)return;let n=Zl;Zl=!0;try{for(let e of t.liveConsumerNode)e.dirty||yE(e)}finally{Zl=n}}function Py(){return Ht?.consumerAllowSignalWrites!==!1}function yE(t){t.dirty=!0,Iy(t),t.consumerMarkedDirty?.(t)}function My(t){t.dirty=!1,t.lastCleanEpoch=Dh}function Xl(t){return t&&(t.nextProducerIndex=0),He(t)}function Th(t,n){if(He(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cs(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)ec(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jl(t){tc(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(vE(e),i!==e.version))return!0}return!1}function us(t){if(tc(t),cs(t))for(let n=0;n<t.producerNode.length;n++)ec(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ay(t,n,e){if(Ry(t),t.liveConsumerNode.length===0&&Oy(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Ay(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function ec(t,n){if(Ry(t),t.liveConsumerNode.length===1&&Oy(t))for(let i=0;i<t.producerNode.length;i++)ec(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];tc(r),r.producerIndexOfThis[i]=n}}function cs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ry(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Oy(t){return t.producerNode!==void 0}function bE(){throw new Error}var Fy=bE;function Ny(t){Fy(t)}function Ly(t){Fy=t}var _E=null;function By(t){let n=Object.create(Ih);n.value=t;let e=()=>(Mh(n),n.value);return e[an]=n,e}function ic(t,n){Py()||Ny(t),t.equal(t.value,n)||(t.value=n,SE(t))}function jy(t,n){Py()||Ny(t),ic(t,n(t.value))}var Ih=ke(j({},ds),{equal:fE,value:void 0,kind:"signal"});function SE(t){t.version++,gE(),Iy(t),_E?.()}var Ph;function hs(){return Ph}function Un(t){let n=Ph;return Ph=t,n}var Ah=Symbol("NotFound");function ge(t){return typeof t=="function"}function Ho(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var nc=Ho(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function sn(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var _e=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(o){n=o instanceof nc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Vy(o)}catch(a){n=n??[],a instanceof nc?n=[...n,...a.errors]:n.push(a)}}if(n)throw new nc(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Vy(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&sn(e,n)}remove(n){let{_finalizers:e}=this;e&&sn(e,n),n instanceof t&&n._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var Rh=_e.EMPTY;function rc(t){return t instanceof _e||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function Vy(t){ge(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Uo={setTimeout(t,n,...e){let{delegate:i}=Uo;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Uo;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oc(t){Uo.setTimeout(()=>{let{onUnhandledError:n}=ln;if(n)n(t);else throw t})}function Yr(){}var Hy=Oh("C",void 0,void 0);function Uy(t){return Oh("E",void 0,t)}function qy(t){return Oh("N",t,void 0)}function Oh(t,n,e){return{kind:t,value:n,error:e}}var Kr=null;function qo(t){if(ln.useDeprecatedSynchronousErrorHandling){let n=!Kr;if(n&&(Kr={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Kr;if(Kr=null,e)throw i}}else t()}function zy(t){ln.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Qr=class extends _e{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,rc(n)&&n.add(this)):this.destination=kE}static create(n,e,i){return new vr(n,e,i)}next(n){this.isStopped?Nh(qy(n),this):this._next(n)}error(n){this.isStopped?Nh(Uy(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Nh(Hy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wE=Function.prototype.bind;function Fh(t,n){return wE.call(t,n)}var Lh=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){ac(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){ac(i)}else ac(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ac(e)}}},vr=class extends Qr{constructor(n,e,i){super();let r;if(ge(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Fh(n.next,o),error:n.error&&Fh(n.error,o),complete:n.complete&&Fh(n.complete,o)}):r=n}this.destination=new Lh(r)}};function ac(t){ln.useDeprecatedSynchronousErrorHandling?zy(t):oc(t)}function CE(t){throw t}function Nh(t,n){let{onStoppedNotification:e}=ln;e&&Uo.setTimeout(()=>e(t,n))}var kE={closed:!0,next:Yr,error:CE,complete:Yr};var zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bi(t){return t}function Bh(...t){return jh(t)}function jh(t){return t.length===0?bi:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var le=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=EE(e)?e:new vr(e,i,r);return qo(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=$y(i),new i((r,o)=>{let a=new vr({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[zo](){return this}pipe(...e){return jh(e)(this)}toPromise(e){return e=$y(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=n=>new t(n),t})();function $y(t){var n;return(n=t??ln.Promise)!==null&&n!==void 0?n:Promise}function xE(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function EE(t){return t&&t instanceof Qr||xE(t)&&rc(t)}function Vh(t){return ge(t?.lift)}function he(t){return n=>{if(Vh(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,n,e,i,r){return new Hh(t,n,e,i,r)}var Hh=class extends Qr{constructor(n,e,i,r,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){n.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function $o(){return he((t,n)=>{let e=null;t._refCount++;let i=ce(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var Go=class extends le{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Vh(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new _e;let e=this.getSubject();n.add(this.source.subscribe(ce(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=_e.EMPTY)}return n}refCount(){return $o()(this)}};var Wo={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=Wo;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=n(o=>{e=void 0,t(o)});return new _e(()=>e?.(r))},requestAnimationFrame(...t){let{delegate:n}=Wo;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=Wo;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var Gy=Ho(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new sc(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Gy}next(e){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Rh:(this.currentObservers=null,o.push(e),new _e(()=>{this.currentObservers=null,sn(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new le;return e.source=this,e}}return t.create=(n,e)=>new sc(n,e),t})(),sc=class extends H{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Rh}};var vt=class extends H{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var ms={now(){return(ms.delegate||Date).now()},delegate:void 0};var lc=class extends H{constructor(n=1/0,e=1/0,i=ms){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(n),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!n.closed;a+=i?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}};var cc=class extends _e{constructor(n,e){super()}schedule(n,e=0){return this}};var ps={setInterval(t,n,...e){let{delegate:i}=ps;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=ps;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Yo=class extends cc{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;let i=this.id,r=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,i=0){return ps.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;ps.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,sn(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Ko=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};Ko.now=ms.now;var Qo=class extends Ko{constructor(n,e=Ko.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var Fi=new Qo(Yo),Wy=Fi;var dc=class extends Yo{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Wo.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(i!=null&&i>0||i==null&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(r=>r.id===e)||(Wo.cancelAnimationFrame(e),n._scheduled=void 0)}};var uc=class extends Qo{flush(n){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var Zo=new uc(dc);var Xt=new le(t=>t.complete());function hc(t){return t&&ge(t.schedule)}function Uh(t){return t[t.length-1]}function mc(t){return ge(Uh(t))?t.pop():void 0}function Zi(t){return hc(Uh(t))?t.pop():void 0}function Yy(t,n){return typeof Uh(t)=="number"?t.pop():n}function Qy(t,n,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(h){try{c(i.next(h))}catch(f){a(f)}}function l(h){try{c(i.throw(h))}catch(f){a(f)}}function c(h){h.done?o(h.value):r(h.value).then(s,l)}c((i=i.apply(t,n||[])).next())})}function Ky(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function Zy(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(_){return Promise.resolve(_).then(v,f)}}function s(v,_){i[v]&&(r[v]=function(C){return new Promise(function(T,B){o.push([v,C,T,B])>1||l(v,C)})},_&&(r[v]=_(r[v])))}function l(v,_){try{c(i[v](_))}catch(C){g(o[0][3],C)}}function c(v){v.value instanceof Zr?Promise.resolve(v.value.v).then(h,f):g(o[0][2],v)}function h(v){l("next",v)}function f(v){l("throw",v)}function g(v,_){v(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Xy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Ky=="function"?Ky(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var Xo=t=>t&&typeof t.length=="number"&&typeof t!="function";function pc(t){return ge(t?.then)}function fc(t){return ge(t[zo])}function gc(t){return Symbol.asyncIterator&&ge(t?.[Symbol.asyncIterator])}function vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yc=DE();function bc(t){return ge(t?.[yc])}function _c(t){return Zy(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Zr(e.read());if(r)return yield Zr(void 0);yield yield Zr(i)}}finally{e.releaseLock()}})}function Sc(t){return ge(t?.getReader)}function tt(t){if(t instanceof le)return t;if(t!=null){if(fc(t))return ME(t);if(Xo(t))return TE(t);if(pc(t))return IE(t);if(gc(t))return Jy(t);if(bc(t))return PE(t);if(Sc(t))return AE(t)}throw vc(t)}function ME(t){return new le(n=>{let e=t[zo]();if(ge(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TE(t){return new le(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function IE(t){return new le(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,oc)})}function PE(t){return new le(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Jy(t){return new le(n=>{RE(t,n).catch(e=>n.error(e))})}function AE(t){return Jy(_c(t))}function RE(t,n){var e,i,r,o;return Qy(this,void 0,void 0,function*(){try{for(e=Xy(t);i=yield e.next(),!i.done;){let a=i.value;if(n.next(a),n.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function si(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function wc(t,n=0){return he((e,i)=>{e.subscribe(ce(i,r=>si(i,t,()=>i.next(r),n),()=>si(i,t,()=>i.complete(),n),r=>si(i,t,()=>i.error(r),n)))})}function Cc(t,n=0){return he((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function e0(t,n){return tt(t).pipe(Cc(n),wc(n))}function t0(t,n){return tt(t).pipe(Cc(n),wc(n))}function i0(t,n){return new le(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function n0(t,n){return new le(e=>{let i;return si(e,n,()=>{i=t[yc](),si(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function kc(t,n){if(!t)throw new Error("Iterable cannot be null");return new le(e=>{si(e,n,()=>{let i=t[Symbol.asyncIterator]();si(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function r0(t,n){return kc(_c(t),n)}function o0(t,n){if(t!=null){if(fc(t))return e0(t,n);if(Xo(t))return i0(t,n);if(pc(t))return t0(t,n);if(gc(t))return kc(t,n);if(bc(t))return n0(t,n);if(Sc(t))return r0(t,n)}throw vc(t)}function gt(t,n){return n?o0(t,n):tt(t)}function ie(...t){let n=Zi(t);return gt(t,n)}function yr(t,n){let e=ge(t)?t:()=>t,i=r=>r.error(e());return new le(n?r=>n.schedule(i,0,r):i)}function fs(t){return!!t&&(t instanceof le||ge(t.lift)&&ge(t.subscribe))}var qn=Ho(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function a0(t){return t instanceof Date&&!isNaN(t)}function J(t,n){return he((e,i)=>{let r=0;e.subscribe(ce(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:OE}=Array;function FE(t,n){return OE(n)?t(...n):t(n)}function Jo(t){return J(n=>FE(t,n))}var{isArray:NE}=Array,{getPrototypeOf:LE,prototype:BE,keys:jE}=Object;function xc(t){if(t.length===1){let n=t[0];if(NE(n))return{args:n,keys:null};if(VE(n)){let e=jE(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function VE(t){return t&&typeof t=="object"&&LE(t)===BE}function Ec(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function zn(...t){let n=Zi(t),e=mc(t),{args:i,keys:r}=xc(t);if(i.length===0)return gt([],n);let o=new le(HE(i,n,r?a=>Ec(r,a):bi));return e?o.pipe(Jo(e)):o}function HE(t,n,e=bi){return i=>{s0(n,()=>{let{length:r}=t,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)s0(n,()=>{let c=gt(t[l],n),h=!1;c.subscribe(ce(i,f=>{o[l]=f,h||(h=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function s0(t,n,e){t?si(e,t,n):n()}function l0(t,n,e,i,r,o,a,s){let l=[],c=0,h=0,f=!1,g=()=>{f&&!l.length&&!c&&n.complete()},v=C=>c<i?_(C):l.push(C),_=C=>{o&&n.next(C),c++;let T=!1;tt(e(C,h++)).subscribe(ce(n,B=>{r?.(B),o?v(B):n.next(B)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){let B=l.shift();a?si(n,a,()=>_(B)):_(B)}g()}catch(B){n.error(B)}}))};return t.subscribe(ce(n,v,()=>{f=!0,g()})),()=>{s?.()}}function xt(t,n,e=1/0){return ge(n)?xt((i,r)=>J((o,a)=>n(i,o,r,a))(tt(t(i,r))),e):(typeof n=="number"&&(e=n),he((i,r)=>l0(i,r,t,e)))}function br(t=1/0){return xt(bi,t)}function c0(){return br(1)}function _r(...t){return c0()(gt(t,Zi(t)))}function kn(t){return new le(n=>{tt(t()).subscribe(n)})}function qh(...t){let n=mc(t),{args:e,keys:i}=xc(t),r=new le(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let h=0;h<a;h++){let f=!1;tt(e[h]).subscribe(ce(o,g=>{f||(f=!0,c--),s[h]=g},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?Ec(i,s):s),o.complete())}))}});return n?r.pipe(Jo(n)):r}var UE=["addListener","removeListener"],qE=["addEventListener","removeEventListener"],zE=["on","off"];function Jt(t,n,e,i){if(ge(e)&&(i=e,e=void 0),i)return Jt(t,n,e).pipe(Jo(i));let[r,o]=WE(t)?qE.map(a=>s=>t[a](n,s,e)):$E(t)?UE.map(d0(t,n)):GE(t)?zE.map(d0(t,n)):[];if(!r&&Xo(t))return xt(a=>Jt(a,n,e))(tt(t));if(!r)throw new TypeError("Invalid event target");return new le(a=>{let s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function d0(t,n){return e=>i=>t[e](n,i)}function $E(t){return ge(t.addListener)&&ge(t.removeListener)}function GE(t){return ge(t.on)&&ge(t.off)}function WE(t){return ge(t.addEventListener)&&ge(t.removeEventListener)}function ea(t,n,e){return kn(()=>t()?n:e)}function $n(t=0,n,e=Wy){let i=-1;return n!=null&&(hc(n)?e=n:i=n),new le(r=>{let o=a0(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gs(t=0,n=Fi){return t<0&&(t=0),$n(t,t,n)}function Et(...t){let n=Zi(t),e=Yy(t,1/0),i=t;return i.length?i.length===1?tt(i[0]):br(e)(gt(i,n)):Xt}var ta=new le(Yr);function Pe(t,n){return he((e,i)=>{let r=0;e.subscribe(ce(i,o=>t.call(n,o,r++)&&i.next(o)))})}function u0(t){return he((n,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};n.subscribe(ce(e,c=>{i=!0,r=c,o||tt(t(c)).subscribe(o=ce(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function Dc(t,n=Fi){return u0(()=>$n(t,n))}function zh(t,n=null){return n=n??t,he((e,i)=>{let r=[],o=0;e.subscribe(ce(i,a=>{let s=null;o++%n===0&&r.push([]);for(let l of r)l.push(a),t<=l.length&&(s=s??[],s.push(l));if(s)for(let l of s)sn(r,l),i.next(l)},()=>{for(let a of r)i.next(a);i.complete()},void 0,()=>{r=null}))})}function $h(t,...n){var e,i;let r=(e=Zi(n))!==null&&e!==void 0?e:Fi,o=(i=n[0])!==null&&i!==void 0?i:null,a=n[1]||1/0;return he((s,l)=>{let c=[],h=!1,f=_=>{let{buffer:C,subs:T}=_;T.unsubscribe(),sn(c,_),l.next(C),h&&g()},g=()=>{if(c){let _=new _e;l.add(_);let T={buffer:[],subs:_};c.push(T),si(_,r,()=>f(T),t)}};o!==null&&o>=0?si(l,r,g,o,!0):h=!0,g();let v=ce(l,_=>{let C=c.slice();for(let T of C){let{buffer:B}=T;B.push(_),a<=B.length&&f(T)}},()=>{for(;c?.length;)l.next(c.shift().buffer);v?.unsubscribe(),l.complete(),l.unsubscribe()},void 0,()=>c=null);s.subscribe(v)})}function xn(t){return he((n,e)=>{let i=null,r=!1,o;i=n.subscribe(ce(e,void 0,void 0,a=>{o=tt(t(a,xn(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function h0(t,n,e,i,r){return(o,a)=>{let s=e,l=n,c=0;o.subscribe(ce(a,h=>{let f=c++;l=s?t(l,h,f):(s=!0,h),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function Gn(t,n){return ge(n)?xt(t,n,1):xt(t,1)}function cn(t,n=Fi){return he((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=a+t,h=n.now();if(h<c){r=this.schedule(void 0,c-h),i.add(r);return}s()}e.subscribe(ce(i,c=>{o=c,a=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function Sr(t){return he((n,e)=>{let i=!1;n.subscribe(ce(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function mt(t){return t<=0?()=>Xt:he((n,e)=>{let i=0;n.subscribe(ce(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function ia(t,n=bi){return t=t??YE,he((e,i)=>{let r,o=!0;e.subscribe(ce(i,a=>{let s=n(a);(o||!t(r,s))&&(o=!1,r=s,i.next(a))}))})}function YE(t,n){return t===n}function Mc(t=KE){return he((n,e)=>{let i=!1;n.subscribe(ce(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function KE(){return new qn}function vs(t,n){return n?e=>e.pipe(vs((i,r)=>tt(t(i,r)).pipe(J((o,a)=>n(i,o,r,a))))):he((e,i)=>{let r=0,o=null,a=!1;e.subscribe(ce(i,s=>{o||(o=ce(i,void 0,()=>{o=null,a&&i.complete()}),tt(t(s,r++)).subscribe(o))},()=>{a=!0,!o&&i.complete()}))})}function wr(t){return he((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Wn(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Pe((r,o)=>t(r,o,i)):bi,mt(1),e?Sr(n):Mc(()=>new qn))}function na(t){return t<=0?()=>Xt:he((n,e)=>{let i=[];n.subscribe(ce(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Gh(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Pe((r,o)=>t(r,o,i)):bi,na(1),e?Sr(n):Mc(()=>new qn))}function Wh(t,n){return he(h0(t,n,arguments.length>=2,!0))}function ys(t={}){let{connector:n=()=>new H,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let a=null,s=null,l=null,c=0,h=!1,f=!1,g=()=>{s?.unsubscribe(),s=null},v=()=>{g(),a=l=null,h=f=!1},_=()=>{let C=a;v(),C?.unsubscribe()};return he((C,T)=>{c++,!f&&!h&&g();let B=l=l??n();T.add(()=>{c--,c===0&&!f&&!h&&(s=Yh(_,r))}),B.subscribe(T),a||(a=new vr({next:W=>B.next(W),error:W=>{f=!0,g(),s=Yh(v,e,W),B.error(W)},complete:()=>{h=!0,g(),s=Yh(v,i),B.complete()}}),gt(C).subscribe(a))})(o)}}function Yh(t,n,...e){return n===!0?(t(),null):n===!1?null:n(...e).pipe(mt(1)).subscribe(()=>t())}function Tc(t,n,e){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t:i=t??1/0,ys({connector:()=>new lc(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Xr(t){return Pe((n,e)=>t<=e)}function Dt(...t){let n=Zi(t);return he((e,i)=>{(n?_r(t,e,n):_r(t,e)).subscribe(i)})}function yt(t,n){return he((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(ce(i,l=>{r?.unsubscribe();let c=0,h=o++;tt(t(l,h)).subscribe(r=ce(i,f=>i.next(n?n(l,f,h,c++):f),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function ct(t){return he((n,e)=>{tt(t).subscribe(ce(e,()=>e.complete(),Yr)),!e.closed&&n.subscribe(e)})}function st(t,n,e){let i=ge(t)||n||e?{next:t,error:n,complete:e}:t;return i?he((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(ce(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):bi}var Kh={leading:!0,trailing:!1};function m0(t,n=Kh){return he((e,i)=>{let{leading:r,trailing:o}=n,a=!1,s=null,l=null,c=!1,h=()=>{l?.unsubscribe(),l=null,o&&(v(),c&&i.complete())},f=()=>{l=null,c&&i.complete()},g=_=>l=tt(t(_)).subscribe(ce(i,h,f)),v=()=>{if(a){a=!1;let _=s;s=null,i.next(_),!c&&g(_)}};e.subscribe(ce(i,_=>{a=!0,s=_,!(l&&!l.closed)&&(r?v():g(_))},()=>{c=!0,!(o&&a&&l&&!l.closed)&&i.complete()}))})}function Qh(t,n=Fi,e=Kh){let i=$n(t,n);return m0(()=>i,e)}function Xh(t=Fi){return he((n,e)=>{let i=t.now();n.subscribe(ce(e,r=>{let o=t.now(),a=o-i;i=o,e.next(new Zh(r,a))}))})}var Zh=class{constructor(n,e){this.value=n,this.interval=e}};var ab="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(n,e){super(hd(n,e)),this.code=n}};function hd(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var sb=Symbol("InputSignalNode#UNSET"),QE=ke(j({},Ih),{transformFn:void 0,applyValueToInputSignal(t,n){ic(t,n)}});function lb(t,n){let e=Object.create(QE);e.value=t,e.transformFn=n?.transform;function i(){if(Mh(e),e.value===sb)throw new q(-950,!1);return e.value}return i[an]=e,i}function Os(t){return{toString:t}.toString()}var Ic="__parameters__";function ZE(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function cb(t,n,e){return Os(()=>{let i=ZE(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return s.annotation=a,s;function s(l,c,h){let f=l.hasOwnProperty(Ic)?l[Ic]:Object.defineProperty(l,Ic,{value:[]})[Ic];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(a),l}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var ui=globalThis;function pt(t){for(let n in t)if(t[n]===pt)return n;throw Error("Could not find renamed property on target object.")}function XE(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Mi(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Mi).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function pm(t,n){return t?n?`${t} ${n}`:t:n||""}var JE=pt({__forward_ref__:pt});function ba(t){return t.__forward_ref__=ba,t.toString=function(){return Mi(this())},t}function _i(t){return db(t)?t():t}function db(t){return typeof t=="function"&&t.hasOwnProperty(JE)&&t.__forward_ref__===ba}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function md(t){return p0(t,hb)||p0(t,mb)}function ub(t){return md(t)!==null}function p0(t,n){return t.hasOwnProperty(n)?t[n]:null}function eD(t){let n=t&&(t[hb]||t[mb]);return n||null}function f0(t){return t&&(t.hasOwnProperty(g0)||t.hasOwnProperty(tD))?t[g0]:null}var hb=pt({\u0275prov:pt}),g0=pt({\u0275inj:pt}),mb=pt({ngInjectableDef:pt}),tD=pt({ngInjectorDef:pt}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pb(t){return t&&!!t.\u0275providers}var iD=pt({\u0275cmp:pt}),nD=pt({\u0275dir:pt}),rD=pt({\u0275pipe:pt}),oD=pt({\u0275mod:pt}),Hc=pt({\u0275fac:pt}),ws=pt({__NG_ELEMENT_ID__:pt}),v0=pt({__NG_ENV_ID__:pt});function ei(t){return typeof t=="string"?t:t==null?"":String(t)}function aD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ei(t)}function fb(t,n){throw new q(-200,t)}function _p(t,n){throw new q(-201,!1)}var Ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ve||{}),fm;function gb(){return fm}function Ei(t){let n=fm;return fm=t,n}function vb(t,n,e){let i=md(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&Ve.Optional)return null;if(n!==void 0)return n;_p(t,"Injector")}var sD={},eo=sD,gm="__NG_DI_FLAG__",Uc=class{injector;constructor(n){this.injector=n}retrieve(n,e){let i=e;return this.injector.get(n,i.optional?Ah:eo,i)}},qc="ngTempTokenPath",lD="ngTokenPath",cD=/\n/gm,dD="\u0275",y0="__source";function uD(t,n=Ve.Default){if(hs()===void 0)throw new q(-203,!1);if(hs()===null)return vb(t,void 0,n);{let e=hs(),i;return e instanceof Uc?i=e.injector:i=e,i.get(t,n&Ve.Optional?null:void 0,n)}}function x(t,n=Ve.Default){return(gb()||uD)(_i(t),n)}function b(t,n=Ve.Default){return x(t,pd(n))}function pd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vm(t){let n=[];for(let e=0;e<t.length;e++){let i=_i(t[e]);if(Array.isArray(i)){if(i.length===0)throw new q(900,!1);let r,o=Ve.Default;for(let a=0;a<i.length;a++){let s=i[a],l=hD(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}n.push(x(r,o))}else n.push(x(i))}return n}function yb(t,n){return t[gm]=n,t.prototype[gm]=n,t}function hD(t){return t[gm]}function mD(t,n,e,i){let r=t[qc];throw n[y0]&&r.unshift(n[y0]),t.message=pD(`
`+t.message,r,e,i),t[lD]=r,t[qc]=null,t}function pD(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==dD?t.slice(2):t;let r=Mi(n);if(Array.isArray(n))r=n.map(Mi).join(" -> ");else if(typeof n=="object"){let o=[];for(let a in n)if(n.hasOwnProperty(a)){let s=n[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):Mi(s)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(cD,`
  `)}`}var fd=yb(cb("Optional"),8);var bb=yb(cb("SkipSelf"),4);function io(t,n){let e=t.hasOwnProperty(Hc);return e?t[Hc]:null}function fD(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function gD(t){return t.flat(Number.POSITIVE_INFINITY)}function Sp(t,n){t.forEach(e=>Array.isArray(e)?Sp(e,n):n(e))}function _b(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function zc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vD(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function yD(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function gd(t,n,e){let i=Fs(t,n);return i>=0?t[i|1]=e:(i=~i,yD(t,i,n,e)),i}function Jh(t,n){let e=Fs(t,n);if(e>=0)return t[e|1]}function Fs(t,n){return bD(t,n,1)}function bD(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<e];if(n===a)return o<<e;a>n?r=o:i=o+1}return~(r<<e)}var no={},Di=[],da=new $(""),Sb=new $("",-1),wb=new $(""),$c=class{get(n,e=eo){if(e===eo){let i=new Error(`NullInjectorError: No provider for ${Mi(n)}!`);throw i.name="NullInjectorError",i}return e}};function Cb(t,n){let e=t[oD]||null;if(!e&&n===!0)throw new Error(`Type ${Mi(t)} does not have '\u0275mod' property.`);return e}function xr(t){return t[iD]||null}function _D(t){return t[nD]||null}function SD(t){return t[rD]||null}function wp(...t){return{\u0275providers:kb(!0,t),\u0275fromNgModule:!0}}function kb(t,...n){let e=[],i=new Set,r,o=a=>{e.push(a)};return Sp(n,a=>{let s=a;ym(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&xb(r,o),e}function xb(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];Cp(r,o=>{n(o,i)})}}function ym(t,n,e,i){if(t=_i(t),!t)return!1;let r=null,o=f0(t),a=!o&&xr(t);if(!o&&!a){let l=t.ngModule;if(o=f0(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=t}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)ym(c,n,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;try{Sp(o.imports,h=>{ym(h,n,e,i)&&(c||=[],c.push(h))})}finally{}c!==void 0&&xb(c,n)}if(!s){let c=io(r)||(()=>new r);n({provide:r,useFactory:c,deps:Di},r),n({provide:wb,useValue:r,multi:!0},r),n({provide:da,useValue:()=>x(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=t;Cp(l,h=>{n(h,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Cp(t,n){for(let e of t)pb(e)&&(e=e.\u0275providers),Array.isArray(e)?Cp(e,n):n(e)}var wD=pt({provide:String,useValue:pt});function Eb(t){return t!==null&&typeof t=="object"&&wD in t}function CD(t){return!!(t&&t.useExisting)}function kD(t){return!!(t&&t.useFactory)}function ua(t){return typeof t=="function"}function xD(t){return!!t.useClass}var vd=new $(""),Fc={},b0={},em;function yd(){return em===void 0&&(em=new $c),em}var Lt=class{},Cs=class extends Lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,_m(n,a=>this.processProvider(a)),this.records.set(Sb,ra(void 0,this)),r.has("environment")&&this.records.set(Lt,ra(void 0,this));let o=this.records.get(vd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wb,Di,Ve.Self))}retrieve(n,e){let i=e;return this.get(n,i.optional?Ah:eo,i)}destroy(){_s(this),this._destroyed=!0;let n=He(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),He(n)}}onDestroy(n){return _s(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){_s(this);let e=Un(this),i=Ei(void 0),r;try{return n()}finally{Un(e),Ei(i)}}get(n,e=eo,i=Ve.Default){if(_s(this),n.hasOwnProperty(v0))return n[v0](this);i=pd(i);let r,o=Un(this),a=Ei(void 0);try{if(!(i&Ve.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=ID(n)&&md(n);c&&this.injectableDefInScope(c)?l=ra(bm(n),Fc):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let s=i&Ve.Self?yd():this.parent;return e=i&Ve.Optional&&e===eo?null:e,s.get(n,e)}catch(s){if(s.name==="NullInjectorError"){if((s[qc]=s[qc]||[]).unshift(Mi(n)),o)throw s;return mD(s,n,"R3InjectorError",this.source)}else throw s}finally{Ei(a),Un(o)}}resolveInjectorInitializers(){let n=He(null),e=Un(this),i=Ei(void 0),r;try{let o=this.get(da,Di,Ve.Self);for(let a of o)a()}finally{Un(e),Ei(i),He(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(Mi(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=_i(n);let e=ua(n)?n:_i(n&&n.provide),i=DD(n);if(!ua(n)&&n.multi===!0){let r=this.records.get(e);r||(r=ra(void 0,Fc,!0),r.factory=()=>vm(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=He(null);try{return e.value===b0?fb(Mi(n)):e.value===Fc&&(e.value=b0,e.value=e.factory()),typeof e.value=="object"&&e.value&&TD(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{He(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=_i(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function bm(t){let n=md(t),e=n!==null?n.factory:io(t);if(e!==null)return e;if(t instanceof $)throw new q(204,!1);if(t instanceof Function)return ED(t);throw new q(204,!1)}function ED(t){if(t.length>0)throw new q(204,!1);let e=eD(t);return e!==null?()=>e.factory(t):()=>new t}function DD(t){if(Eb(t))return ra(void 0,t.useValue);{let n=Db(t);return ra(n,Fc)}}function Db(t,n,e){let i;if(ua(t)){let r=_i(t);return io(r)||bm(r)}else if(Eb(t))i=()=>_i(t.useValue);else if(kD(t))i=()=>t.useFactory(...vm(t.deps||[]));else if(CD(t))i=()=>x(_i(t.useExisting));else{let r=_i(t&&(t.useClass||t.provide));if(MD(t))i=()=>new r(...vm(t.deps));else return io(r)||bm(r)}return i}function _s(t){if(t.destroyed)throw new q(205,!1)}function ra(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function MD(t){return!!t.deps}function TD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ID(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function _m(t,n){for(let e of t)Array.isArray(e)?_m(e,n):e&&pb(e)?_m(e.\u0275providers,n):n(e)}function Bi(t,n){let e;t instanceof Cs?(_s(t),e=t):e=new Uc(t);let i,r=Un(e),o=Ei(void 0);try{return n()}finally{Un(r),Ei(o)}}function Mb(){return gb()!==void 0||hs()!=null}function bd(t){if(!Mb())throw new q(-203,!1)}function PD(t){return typeof t=="function"}var Jn=0,Re=1,xe=2,mi=3,un=4,Ii=5,ha=6,Gc=7,qt=8,ks=9,Yn=10,_t=11,xs=12,_0=13,_a=14,Ni=15,ro=16,oa=17,Kn=18,_d=19,Tb=20,Cr=21,tm=22,oo=23,Xi=24,la=25,ti=26,Ib=1;var ao=7,Wc=8,ma=9,hi=10;function kr(t){return Array.isArray(t)&&typeof t[Ib]=="object"}function er(t){return Array.isArray(t)&&t[Ib]===!0}function Pb(t){return(t.flags&4)!==0}function Sa(t){return t.componentOffset>-1}function kp(t){return(t.flags&1)===1}function Dn(t){return!!t.template}function Yc(t){return(t[xe]&512)!==0}function Ns(t){return(t[xe]&256)===256}var Sm=class{previousValue;currentValue;firstChange;constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function Ab(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}var Pi=(()=>{let t=()=>Rb;return t.ngInherit=!0,t})();function Rb(t){return t.type.prototype.ngOnChanges&&(t.setInput=RD),AD}function AD(){let t=Fb(this),n=t?.current;if(n){let e=t.previous;if(e===no)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function RD(t,n,e,i,r){let o=this.declaredInputs[i],a=Fb(t)||OD(t,{previous:no,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Sm(c&&c.currentValue,e,l===no),Ab(t,n,r,e)}var Ob="__ngSimpleChanges__";function Fb(t){return t[Ob]||null}function OD(t,n){return t[Ob]=n}var S0=null;var dt=function(t,n=null,e){S0?.(t,n,e)},Nb="svg",FD="math";function Mn(t){for(;Array.isArray(t);)t=t[Jn];return t}function Lb(t,n){return Mn(n[t])}function Pn(t,n){return Mn(n[t.index])}function xp(t,n){return t.data[n]}function Ep(t,n){return t[n]}function Tn(t,n){let e=n[t];return kr(e)?e:e[Jn]}function ND(t){return(t[xe]&4)===4}function Dp(t){return(t[xe]&128)===128}function LD(t){return er(t[mi])}function pa(t,n){return n==null?null:t[n]}function Bb(t){t[oa]=0}function jb(t){t[xe]&1024||(t[xe]|=1024,Dp(t)&&wa(t))}function BD(t,n){for(;t>0;)n=n[_a],t--;return n}function Sd(t){return!!(t[xe]&9216||t[Xi]?.dirty)}function wm(t){t[Yn].changeDetectionScheduler?.notify(8),t[xe]&64&&(t[xe]|=1024),Sd(t)&&wa(t)}function wa(t){t[Yn].changeDetectionScheduler?.notify(0);let n=so(t);for(;n!==null&&!(n[xe]&8192||(n[xe]|=8192,!Dp(n)));)n=so(n)}function Vb(t,n){if(Ns(t))throw new q(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(n)}function jD(t,n){if(t[Cr]===null)return;let e=t[Cr].indexOf(n);e!==-1&&t[Cr].splice(e,1)}function so(t){let n=t[mi];return er(n)?n[mi]:n}function Hb(t){return t[Gc]??=[]}function Ub(t){return t.cleanup??=[]}function VD(t,n,e,i){let r=Hb(n);r.push(e),t.firstCreatePass&&Ub(t).push(i,r.length-1)}var Oe={lFrame:Xb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cm=!1;function HD(){return Oe.lFrame.elementDepthCount}function UD(){Oe.lFrame.elementDepthCount++}function qD(){Oe.lFrame.elementDepthCount--}function qb(){return Oe.bindingsEnabled}function zb(){return Oe.skipHydrationRootTNode!==null}function zD(t){return Oe.skipHydrationRootTNode===t}function $D(){Oe.skipHydrationRootTNode=null}function Ce(){return Oe.lFrame.lView}function Ct(){return Oe.lFrame.tView}function E(t){return Oe.lFrame.contextLView=t,t[qt]}function D(t){return Oe.lFrame.contextLView=null,t}function Ai(){let t=$b();for(;t!==null&&t.type===64;)t=t.parent;return t}function $b(){return Oe.lFrame.currentTNode}function GD(){let t=Oe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ls(t,n){let e=Oe.lFrame;e.currentTNode=t,e.isParent=n}function Gb(){return Oe.lFrame.isParent}function Wb(){Oe.lFrame.isParent=!1}function WD(){return Oe.lFrame.contextLView}function Yb(){return Cm}function Kc(t){let n=Cm;return Cm=t,n}function wd(){let t=Oe.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Mp(){return Oe.lFrame.bindingIndex}function YD(t){return Oe.lFrame.bindingIndex=t}function Ca(){return Oe.lFrame.bindingIndex++}function Bs(t){let n=Oe.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function KD(){return Oe.lFrame.inI18n}function QD(t,n){let e=Oe.lFrame;e.bindingIndex=e.bindingRootIndex=t,km(n)}function ZD(){return Oe.lFrame.currentDirectiveIndex}function km(t){Oe.lFrame.currentDirectiveIndex=t}function XD(t){let n=Oe.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Kb(){return Oe.lFrame.currentQueryIndex}function Tp(t){Oe.lFrame.currentQueryIndex=t}function JD(t){let n=t[Re];return n.type===2?n.declTNode:n.type===1?t[Ii]:null}function Qb(t,n,e){if(e&Ve.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&Ve.Host);)if(r=JD(o),r===null||(o=o[_a],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=Oe.lFrame=Zb();return i.currentTNode=n,i.lView=t,!0}function Ip(t){let n=Zb(),e=t[Re];Oe.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Zb(){let t=Oe.lFrame,n=t===null?null:t.child;return n===null?Xb(t):n}function Xb(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Jb(){let t=Oe.lFrame;return Oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var e_=Jb;function Pp(){let t=Jb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eM(t){return(Oe.lFrame.contextLView=BD(t,Oe.lFrame.contextLView))[qt]}function An(){return Oe.lFrame.selectedIndex}function lo(t){Oe.lFrame.selectedIndex=t}function po(){let t=Oe.lFrame;return xp(t.tView,t.selectedIndex)}function t_(){Oe.lFrame.currentNamespace=Nb}function i_(){tM()}function tM(){Oe.lFrame.currentNamespace=null}function iM(){return Oe.lFrame.currentNamespace}var n_=!0;function Ap(){return n_}function Rp(t){n_=t}function nM(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let a=Rb(n);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function r_(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;a&&(t.contentHooks??=[]).push(-e,a),s&&((t.contentHooks??=[]).push(e,s),(t.contentCheckHooks??=[]).push(e,s)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),h!=null&&(t.destroyHooks??=[]).push(e,h)}}function Nc(t,n,e){o_(t,n,3,e)}function Lc(t,n,e,i){(t[xe]&3)===e&&o_(t,n,e,i)}function im(t,n){let e=t[xe];(e&3)===n&&(e&=16383,e+=1,t[xe]=e)}function o_(t,n,e,i){let r=i!==void 0?t[oa]&65535:0,o=i??-1,a=n.length-1,s=0;for(let l=r;l<a;l++)if(typeof n[l+1]=="number"){if(s=n[l],i!=null&&s>=i)break}else n[l]<0&&(t[oa]+=65536),(s<o||o==-1)&&(rM(t,e,n,l),t[oa]=(t[oa]&4294901760)+l+2),l++}function w0(t,n){dt(4,t,n);let e=He(null);try{n.call(t)}finally{He(e),dt(5,t,n)}}function rM(t,n,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=t[a];r?t[xe]>>14<t[oa]>>16&&(t[xe]&3)===n&&(t[xe]+=16384,w0(s,o)):w0(s,o)}var ca=-1,co=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,i){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=i}};function oM(t){return(t.flags&8)!==0}function aM(t){return(t.flags&16)!==0}function sM(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];t.setAttribute(n,a,s,o)}else{let o=r,a=e[++i];lM(o)?t.setProperty(n,o,a):t.setAttribute(n,o,a),i++}}return i}function a_(t){return t===3||t===4||t===6}function lM(t){return t.charCodeAt(0)===64}function Es(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?C0(t,e,r,null,n[++i]):C0(t,e,r,null,null))}}return t}function C0(t,n,e,i,r){let o=0,a=t.length;if(n===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===e){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(t.splice(a,0,n),o=a+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r)}var nm={},xm=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=pd(i);let r=this.injector.get(n,nm,i);return r!==nm||e===nm?r:this.parentInjector.get(n,e,i)}};function s_(t){return t!==ca}function Qc(t){return t&32767}function cM(t){return t>>16}function Zc(t,n){let e=cM(t),i=n;for(;e>0;)i=i[_a],e--;return i}var Em=!0;function Xc(t){let n=Em;return Em=t,n}var dM=256,l_=dM-1,c_=5,uM=0,En={};function hM(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(ws)&&(i=e[ws]),i==null&&(i=e[ws]=uM++);let r=i&l_,o=1<<r;n.data[t+(r>>c_)]|=o}function Jc(t,n){let e=d_(t,n);if(e!==-1)return e;let i=n[Re];i.firstCreatePass&&(t.injectorIndex=n.length,rm(i.data,t),rm(n,null),rm(i.blueprint,null));let r=Op(t,n),o=t.injectorIndex;if(s_(r)){let a=Qc(r),s=Zc(r,n),l=s[Re].data;for(let c=0;c<8;c++)n[o+c]=s[a+c]|l[a+c]}return n[o+8]=r,o}function rm(t,n){t.push(0,0,0,0,0,0,0,0,n)}function d_(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Op(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=f_(r),i===null)return ca;if(e++,r=r[_a],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ca}function Dm(t,n,e){hM(t,n,e)}function mM(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(a_(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function u_(t,n,e){if(e&Ve.Optional||t!==void 0)return t;_p(n,"NodeInjector")}function h_(t,n,e,i){if(e&Ve.Optional&&i===void 0&&(i=null),(e&(Ve.Self|Ve.Host))===0){let r=t[ks],o=Ei(void 0);try{return r?r.get(n,i,e&Ve.Optional):vb(n,i,e&Ve.Optional)}finally{Ei(o)}}return u_(i,n,e)}function m_(t,n,e,i=Ve.Default,r){if(t!==null){if(n[xe]&2048&&!(i&Ve.Self)){let a=vM(t,n,e,i,En);if(a!==En)return a}let o=p_(t,n,e,i,En);if(o!==En)return o}return h_(n,e,i,r)}function p_(t,n,e,i,r){let o=fM(e);if(typeof o=="function"){if(!Qb(n,t,i))return i&Ve.Host?u_(r,e,i):h_(n,e,i,r);try{let a;if(a=o(i),a==null&&!(i&Ve.Optional))_p(e);else return a}finally{e_()}}else if(typeof o=="number"){let a=null,s=d_(t,n),l=ca,c=i&Ve.Host?n[Ni][Ii]:null;for((s===-1||i&Ve.SkipSelf)&&(l=s===-1?Op(t,n):n[s+8],l===ca||!x0(i,!1)?s=-1:(a=n[Re],s=Qc(l),n=Zc(l,n)));s!==-1;){let h=n[Re];if(k0(o,s,h.data)){let f=pM(s,n,e,a,i,c);if(f!==En)return f}l=n[s+8],l!==ca&&x0(i,n[Re].data[s+8]===c)&&k0(o,s,n)?(a=h,s=Qc(l),n=Zc(l,n)):s=-1}}return r}function pM(t,n,e,i,r,o){let a=n[Re],s=a.data[t+8],l=i==null?Sa(s)&&Em:i!=a&&(s.type&3)!==0,c=r&Ve.Host&&o===s,h=Bc(s,a,e,l,c);return h!==null?Ds(n,a,h,s):En}function Bc(t,n,e,i,r){let o=t.providerIndexes,a=n.data,s=o&1048575,l=t.directiveStart,c=t.directiveEnd,h=o>>20,f=i?s:s+h,g=r?s+h:c;for(let v=f;v<g;v++){let _=a[v];if(v<l&&e===_||v>=l&&_.type===e)return v}if(r){let v=a[l];if(v&&Dn(v)&&v.type===e)return l}return null}function Ds(t,n,e,i){let r=t[e],o=n.data;if(r instanceof co){let a=r;a.resolving&&fb(aD(o[e]));let s=Xc(a.canSeeViewProviders);a.resolving=!0;let l,c=a.injectImpl?Ei(a.injectImpl):null,h=Qb(t,i,Ve.Default);try{r=t[e]=a.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&nM(e,o[e],n)}finally{c!==null&&Ei(c),Xc(s),a.resolving=!1,e_()}}return r}function fM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ws)?t[ws]:void 0;return typeof n=="number"?n>=0?n&l_:gM:n}function k0(t,n,e){let i=1<<t;return!!(e[n+(t>>c_)]&i)}function x0(t,n){return!(t&Ve.Self)&&!(t&Ve.Host&&n)}var to=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return m_(this._tNode,this._lView,n,pd(i),e)}};function gM(){return new to(Ai(),Ce())}function $t(t){return Os(()=>{let n=t.prototype.constructor,e=n[Hc]||Mm(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Hc]||Mm(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Mm(t){return db(t)?()=>{let n=Mm(_i(t));return n&&n()}:io(t)}function vM(t,n,e,i,r){let o=t,a=n;for(;o!==null&&a!==null&&a[xe]&2048&&!Yc(a);){let s=p_(o,a,e,i|Ve.Self,En);if(s!==En)return s;let l=o.parent;if(!l){let c=a[Tb];if(c){let h=c.get(e,En,i);if(h!==En)return h}l=f_(a),a=a[_a]}o=l}return r}function f_(t){let n=t[Re],e=n.type;return e===2?n.declTNode:e===1?t[Ii]:null}function Fp(t){return mM(Ai(),t)}function E0(t,n=null,e=null,i){let r=g_(t,n,e,i);return r.resolveInjectorInitializers(),r}function g_(t,n=null,e=null,i,r=new Set){let o=[e||Di,wp(t)];return i=i||(typeof t=="object"?void 0:Mi(t)),new Cs(o,n||yd(),i||null,r)}var ee=class t{static THROW_IF_NOT_FOUND=eo;static NULL=new $c;static create(n,e){if(Array.isArray(n))return E0({name:""},e,n,"");{let i=n.name??"";return E0({name:i},n.parent,n.providers,i)}}static \u0275prov=O({token:t,providedIn:"any",factory:()=>x(Sb)});static __NG_ELEMENT_ID__=-1};var Ms=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Fp(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},yM=new $("");yM.__NG_ELEMENT_ID__=t=>{let n=Ai();if(n===null)throw new q(204,!1);if(n.type&2)return n.value;if(t&Ve.Optional)return null;throw new q(204,!1)};var v_=!1,ka=(()=>{class t{static __NG_ELEMENT_ID__=bM;static __NG_ENV_ID__=e=>e}return t})(),ed=class extends ka{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Vb(this._lView,n),()=>jD(this._lView,n)}};function bM(){return new ed(Ce())}var uo=class{},Np=new $("",{providedIn:"root",factory:()=>!1});var y_=new $(""),b_=new $(""),fo=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new vt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})();var Tm=class extends H{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Mb()&&(this.destroyRef=b(ka,{optional:!0})??void 0,this.pendingTasks=b(fo,{optional:!0})??void 0)}emit(n){let e=He(null);try{super.next(n)}finally{He(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),a=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return n instanceof _e&&n.add(s),s}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},de=Tm;function Ts(...t){}function __(t){let n,e;function i(){t=Ts;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function D0(t){return queueMicrotask(()=>t()),()=>{t=Ts}}var Lp="isAngularZone",td=Lp+"_ID",_M=0,te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new de(!1);onMicrotaskEmpty=new de(!1);onStable=new de(!1);onError=new de(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=v_}=n;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,CM(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,n,SM,Ts,Ts);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},SM={};function Bp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){__(()=>{t.callbackScheduled=!1,Im(t),t.isCheckStableRunning=!0,Bp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Im(t)}function CM(t){let n=()=>{wM(t)},e=_M++;t._inner=t._inner.fork({name:"angular",properties:{[Lp]:!0,[td]:e,[td+e]:!0},onInvokeTask:(i,r,o,a,s,l)=>{if(kM(l))return i.invokeTask(o,a,s,l);try{return M0(t),i.invokeTask(o,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),T0(t)}},onInvoke:(i,r,o,a,s,l,c)=>{try{return M0(t),i.invoke(o,a,s,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xM(l)&&n(),T0(t)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,Im(t),Bp(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function Im(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function M0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function T0(t){t._nesting--,Bp(t)}var Pm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new de;onMicrotaskEmpty=new de;onStable=new de;onError=new de;run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function kM(t){return S_(t,"__ignore_ng_zone__")}function xM(t){return S_(t,"__scheduler_tick__")}function S_(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Li=class{_console=console;handleError(n){this._console.error("ERROR",n)}},EM=new $("",{providedIn:"root",factory:()=>{let t=b(te),n=b(Li);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function I0(t,n){return lb(t,n)}function DM(t){return lb(sb,t)}var w_=(I0.required=DM,I0);function MM(){return xa(Ai(),Ce())}function xa(t,n){return new me(Pn(t,n))}var me=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=MM}return t})();function TM(t){return t instanceof me?t.nativeElement:t}function Cd(t){return typeof t=="function"&&t[an]!==void 0}function go(t,n){let e=By(t),i=e[an];return n?.equal&&(i.equal=n.equal),e.set=r=>ic(i,r),e.update=r=>jy(i,r),e.asReadonly=IM.bind(e),e}function IM(){let t=this[an];if(t.readonlyFn===void 0){let n=()=>this();n[an]=t,t.readonlyFn=n}return t.readonlyFn}function PM(){return this._results[Symbol.iterator]()}var Er=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new H}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=gD(n);(this._changesDetected=!fD(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PM};function C_(t){return(t.flags&128)===128}var k_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(k_||{}),x_=new Map,AM=0;function RM(){return AM++}function OM(t){x_.set(t[_d],t)}function Am(t){x_.delete(t[_d])}var P0="__ngContext__";function js(t,n){kr(n)?(t[P0]=n[_d],OM(n)):t[P0]=n}function E_(t){return M_(t[xs])}function D_(t){return M_(t[un])}function M_(t){for(;t!==null&&!er(t);)t=t[un];return t}var Rm;function T_(t){Rm=t}function I_(){if(Rm!==void 0)return Rm;if(typeof document<"u")return document;throw new q(210,!1)}var Vs=new $("",{providedIn:"root",factory:()=>FM}),FM="ng",jp=new $(""),Mr=new $("",{providedIn:"platform",factory:()=>"unknown"});var ii=new $(""),Hs=new $("",{providedIn:"root",factory:()=>I_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NM="h",LM="b";var P_=!1,BM=new $("",{providedIn:"root",factory:()=>P_});var Vp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Vp||{}),Ea=new $(""),A0=new Set;function tr(t){A0.has(t)||(A0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Hp=(()=>{class t{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=jM}return t})();function jM(){return new Hp(Ce(),Ai())}var aa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(aa||{}),A_=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),VM=[aa.EarlyRead,aa.Write,aa.MixedReadWrite,aa.Read],HM=(()=>{class t{ngZone=b(te);scheduler=b(uo);errorHandler=b(Li,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(Ea,{optional:!0})}execute(){let e=this.sequences.size>0;e&&dt(16),this.executing=!0;for(let i of VM)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&dt(17)}register(e){let{view:i}=e;i!==void 0?((i[la]??=[]).push(e),wa(i),i[xe]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Vp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),Om=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,i,r,o,a=null){this.impl=n,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[la];n&&(this.view[la]=n.filter(e=>e!==this))}};function Us(t,n){!n?.injector&&bd(Us);let e=n?.injector??b(ee);return tr("NgAfterRender"),R_(t,e,n,!1)}function pi(t,n){!n?.injector&&bd(pi);let e=n?.injector??b(ee);return tr("NgAfterNextRender"),R_(t,e,n,!0)}function UM(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function R_(t,n,e,i){let r=n.get(A_);r.impl??=n.get(HM);let o=n.get(Ea,null,{optional:!0}),a=e?.phase??aa.MixedReadWrite,s=e?.manualCleanup!==!0?n.get(ka):null,l=n.get(Hp,null,{optional:!0}),c=new Om(r.impl,UM(t,a),l?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var qM=()=>null;function O_(t,n,e=!1){return qM(t,n,e)}function F_(t,n){let e=t.contentQueries;if(e!==null){let i=He(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=t.data[a];Tp(o),s.contentQueries(2,n[a],a)}}}finally{He(i)}}}function Fm(t,n,e){Tp(0);let i=He(null);try{n(t,e)}finally{He(i)}}function N_(t,n,e){if(Pb(n)){let i=He(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let a=r;a<o;a++){let s=t.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{He(i)}}}var In=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(In||{}),Pc;function zM(){if(Pc===void 0&&(Pc=null,ui.trustedTypes))try{Pc=ui.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}function kd(t){return zM()?.createHTML(t)||t}var Ac;function $M(){if(Ac===void 0&&(Ac=null,ui.trustedTypes))try{Ac=ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ac}function R0(t){return $M()?.createHTML(t)||t}var Qn=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ab})`}},Nm=class extends Qn{getTypeName(){return"HTML"}},Lm=class extends Qn{getTypeName(){return"Style"}},Bm=class extends Qn{getTypeName(){return"Script"}},jm=class extends Qn{getTypeName(){return"URL"}},Vm=class extends Qn{getTypeName(){return"ResourceURL"}};function en(t){return t instanceof Qn?t.changingThisBreaksApplicationSecurity:t}function Tr(t,n){let e=GM(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ab})`)}return e===n}function GM(t){return t instanceof Qn&&t.getTypeName()||null}function L_(t){return new Nm(t)}function B_(t){return new Lm(t)}function j_(t){return new Bm(t)}function V_(t){return new jm(t)}function H_(t){return new Vm(t)}function WM(t){let n=new Um(t);return YM()?new Hm(n):n}var Hm=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(kd(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},Um=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=kd(n),e}};function YM(){try{return!!new window.DOMParser().parseFromString(kd(""),"text/html")}catch{return!1}}var KM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xd(t){return t=String(t),t.match(KM)?t:"unsafe:"+t}function ir(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function qs(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var U_=ir("area,br,col,hr,img,wbr"),q_=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),z_=ir("rp,rt"),QM=qs(z_,q_),ZM=qs(q_,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),XM=qs(z_,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O0=qs(U_,ZM,XM,QM),$_=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JM=ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eT=ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),tT=qs($_,JM,eT),iT=ir("script,style,template"),qm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=oT(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=rT(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=F0(n).toLowerCase();if(!O0.hasOwnProperty(e))return this.sanitizedSomething=!0,!iT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!tT.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;$_[s]&&(l=xd(l)),this.buf.push(" ",a,'="',N0(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=F0(n).toLowerCase();O0.hasOwnProperty(e)&&!U_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(N0(n))}};function nT(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function rT(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw G_(n);return n}function oT(t){let n=t.firstChild;if(n&&nT(t,n))throw G_(n);return n}function F0(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function G_(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var aT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sT=/([^\#-~ |!])/g;function N0(t){return t.replace(/&/g,"&amp;").replace(aT,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(sT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Rc;function Up(t,n){let e=null;try{Rc=Rc||WM(t);let i=n?String(n):"";e=Rc.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Rc.getInertBodyElement(i)}while(i!==o);let s=new qm().sanitizeChildren(L0(e)||e);return kd(s)}finally{if(e){let i=L0(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function L0(t){return"content"in t&&lT(t)?t.content:null}function lT(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var fi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fi||{});function Ed(t){let n=W_();return n?R0(n.sanitize(fi.HTML,t)||""):Tr(t,"HTML")?R0(en(t)):Up(I_(),ei(t))}function Tt(t){let n=W_();return n?n.sanitize(fi.URL,t)||"":Tr(t,"URL")?en(t):xd(ei(t))}function W_(){let t=Ce();return t&&t[Yn].sanitizer}function Y_(t){return t.ownerDocument}function K_(t){return t instanceof Function?t():t}function cT(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}var Q_="ng-template";function dT(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&cT(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(qp(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function qp(t){return t.type===4&&t.value!==Q_}function uT(t,n,e){let i=t.type===4&&!e?Q_:t.value;return n===i}function hT(t,n,e){let i=4,r=t.attrs,o=r!==null?fT(r):0,a=!1;for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number"){if(!a&&!dn(i)&&!dn(l))return!1;if(a&&dn(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!uT(t,l,e)||l===""&&n.length===1){if(dn(i))return!1;a=!0}}else if(i&8){if(r===null||!dT(t,r,l,e)){if(dn(i))return!1;a=!0}}else{let c=n[++s],h=mT(l,r,qp(t),e);if(h===-1){if(dn(i))return!1;a=!0;continue}if(c!==""){let f;if(h>o?f="":f=r[h+1].toLowerCase(),i&2&&c!==f){if(dn(i))return!1;a=!0}}}}return dn(i)||a}function dn(t){return(t&1)===0}function mT(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let a=n[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++r];for(;typeof s=="string";)s=n[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return gT(n,t)}function Z_(t,n,e=!1){for(let i=0;i<n.length;i++)if(hT(t,n[i],e))return!0;return!1}function pT(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function fT(t){for(let n=0;n<t.length;n++){let e=t[n];if(a_(e))return n}return t.length}function gT(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function vT(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function B0(t,n){return t?":not("+n.trim()+")":n}function yT(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let a=t[e];if(typeof a=="string")if(i&2){let s=t[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!dn(a)&&(n+=B0(o,r),r=""),i=a,o=o||!dn(i);e++}return r!==""&&(n+=B0(o,r)),n}function bT(t){return t.map(yT).join(",")}function _T(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!dn(r))break;r=o}i++}return e.length&&n.push(1,...e),n}var Gt={};function ST(t,n){return t.createText(n)}function wT(t,n,e){t.setValue(n,e)}function X_(t,n,e){return t.createElement(n,e)}function id(t,n,e,i,r){t.insertBefore(n,e,i,r)}function J_(t,n,e){t.appendChild(n,e)}function j0(t,n,e,i,r){i!==null?id(t,n,e,i,r):J_(t,n,e)}function CT(t,n,e){t.removeChild(null,n,e)}function kT(t,n,e){t.setAttribute(n,"style",e)}function xT(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function eS(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&sM(t,n,i),r!==null&&xT(t,n,r),o!==null&&kT(t,n,o)}function zp(t,n,e,i,r,o,a,s,l,c,h){let f=ti+i,g=f+r,v=ET(f,g),_=typeof c=="function"?c():c;return v[Re]={type:t,blueprint:v,template:e,queries:null,viewQuery:s,declTNode:n,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:h}}function ET(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Gt);return e}function DT(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=zp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function $p(t,n,e,i,r,o,a,s,l,c,h){let f=n.blueprint.slice();return f[Jn]=r,f[xe]=i|4|128|8|64|1024,(c!==null||t&&t[xe]&2048)&&(f[xe]|=2048),Bb(f),f[mi]=f[_a]=t,f[qt]=e,f[Yn]=a||t&&t[Yn],f[_t]=s||t&&t[_t],f[ks]=l||t&&t[ks]||null,f[Ii]=o,f[_d]=RM(),f[ha]=h,f[Tb]=c,f[Ni]=n.type==2?t[Ni]:f,f}function MT(t,n,e){let i=Pn(n,t),r=DT(e),o=t[Yn].rendererFactory,a=Gp(t,$p(t,r,null,tS(e),i,n,null,o.createRenderer(i,e),null,null,null));return t[n.index]=a}function tS(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function iS(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function Gp(t,n){return t[xs]?t[_0][un]=n:t[xs]=n,t[_0]=n,n}function m(t=1){nS(Ct(),Ce(),An()+t,!1)}function nS(t,n,e,i){if(!i)if((n[xe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Nc(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Lc(n,o,0,e)}lo(e)}var Dd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Dd||{});function zm(t,n,e,i){let r=He(null);try{let[o,a,s]=t.inputs[e],l=null;(a&Dd.SignalBased)!==0&&(l=n[o][an]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):s!==null&&(i=s.call(n,i)),t.setInput!==null?t.setInput(n,l,i,e,o):Ab(n,l,o,i)}finally{He(r)}}function rS(t,n,e,i,r){let o=An(),a=i&2;try{lo(-1),a&&n.length>ti&&nS(t,n,ti,!1),dt(a?2:0,r),e(i,r)}finally{lo(o),dt(a?3:1,r)}}function Wp(t,n,e){OT(t,n,e),(e.flags&64)===64&&FT(t,n,e)}function oS(t,n,e=Pn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(n,t):t[a];t[r++]=s}}}function TT(t,n,e,i){let o=i.get(BM,P_)||e===In.ShadowDom,a=t.selectRootElement(n,o);return IT(a),a}function IT(t){PT(t)}var PT=()=>null;function AT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Da(t,n,e,i,r,o,a,s){if(!s&&Yp(n,t,e,i,r)){Sa(n)&&RT(e,n.index);return}if(n.type&3){let l=Pn(n,e);i=AT(i),r=a!=null?a(r,n.value||"",i):r,o.setProperty(l,i,r)}else n.type&12}function RT(t,n){let e=Tn(n,t);e[xe]&16||(e[xe]|=64)}function OT(t,n,e){let i=e.directiveStart,r=e.directiveEnd;Sa(e)&&MT(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Jc(e,n);let o=e.initialInputs;for(let a=i;a<r;a++){let s=t.data[a],l=Ds(n,t,a,e);if(js(l,n),o!==null&&jT(n,a-i,l,s,e,o),Dn(s)){let c=Tn(e.index,n);c[qt]=Ds(n,t,a,e)}}}function FT(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=ZD();try{lo(o);for(let s=i;s<r;s++){let l=t.data[s],c=n[s];km(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NT(l,c)}}finally{lo(-1),km(a)}}function NT(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function aS(t,n){let e=t.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];Z_(n,o.selectors,!1)&&(i??=[],Dn(o)?i.unshift(o):i.push(o))}return i}function LT(t,n,e,i,r,o){let a=Pn(t,n);BT(n[_t],a,o,t.value,e,i,r)}function BT(t,n,e,i,r,o,a){if(o==null)t.removeAttribute(n,r,e);else{let s=a==null?ei(o):a(o,i||"",r);t.setAttribute(n,r,s,e)}}function jT(t,n,e,i,r,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];zm(i,e,l,c)}}function sS(t,n){let e=t[ks],i=e?e.get(Li,null):null;i&&i.handleError(n)}function Yp(t,n,e,i,r){let o=t.inputs?.[i],a=t.hostDirectiveInputs?.[i],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],h=a[l+1],f=n.data[c];zm(f,e[c],h,r),s=!0}if(o)for(let l of o){let c=e[l],h=n.data[l];zm(h,c,i,r),s=!0}return s}function VT(t,n){let e=Tn(n,t),i=e[Re];HT(i,e);let r=e[Jn];r!==null&&e[ha]===null&&(e[ha]=O_(r,e[ks])),dt(18),Kp(i,e,e[qt]),dt(19,e[qt])}function HT(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Kp(t,n,e){Ip(n);try{let i=t.viewQuery;i!==null&&Fm(1,i,e);let r=t.template;r!==null&&rS(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Kn]?.finishViewCreation(t),t.staticContentQueries&&F_(t,n),t.staticViewQueries&&Fm(2,t.viewQuery,e);let o=t.components;o!==null&&UT(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[xe]&=-5,Pp()}}function UT(t,n){for(let e=0;e<n.length;e++)VT(t,n[e])}function zs(t,n,e,i){let r=He(null);try{let o=n.tView,s=t[xe]&4096?4096:16,l=$p(t,o,e,s,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[ro]=c;let h=t[Kn];return h!==null&&(l[Kn]=h.createEmbeddedView(o)),Kp(o,l,e),l}finally{He(r)}}function fa(t,n){return!n||n.firstChild===null||C_(t)}var qT;function Qp(t,n){return qT(t,n)}var Zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zn||{});function Zp(t){return(t.flags&32)===32}function sa(t,n,e,i,r){if(i!=null){let o,a=!1;er(i)?o=i:kr(i)&&(a=!0,i=i[Jn]);let s=Mn(i);t===0&&e!==null?r==null?J_(n,e,s):id(n,e,s,r||null,!0):t===1&&e!==null?id(n,e,s,r||null,!0):t===2?CT(n,s,a):t===3&&n.destroyNode(s),o!=null&&JT(n,t,o,e,r)}}function zT(t,n){lS(t,n),n[Jn]=null,n[Ii]=null}function $T(t,n,e,i,r,o){i[Jn]=r,i[Ii]=n,Td(t,i,e,1,r,o)}function lS(t,n){n[Yn].changeDetectionScheduler?.notify(9),Td(t,n,n[_t],2,null,null)}function GT(t){let n=t[xs];if(!n)return om(t[Re],t);for(;n;){let e=null;if(kr(n))e=n[xs];else{let i=n[hi];i&&(e=i)}if(!e){for(;n&&!n[un]&&n!==t;)kr(n)&&om(n[Re],n),n=n[mi];n===null&&(n=t),kr(n)&&om(n[Re],n),e=n&&n[un]}n=e}}function Xp(t,n){let e=t[ma],i=e.indexOf(n);e.splice(i,1)}function Md(t,n){if(Ns(n))return;let e=n[_t];e.destroyNode&&Td(t,n,e,3,null,null),GT(n)}function om(t,n){if(Ns(n))return;let e=He(null);try{n[xe]&=-129,n[xe]|=256,n[Xi]&&us(n[Xi]),YT(t,n),WT(t,n),n[Re].type===1&&n[_t].destroy();let i=n[ro];if(i!==null&&er(n[mi])){i!==n[mi]&&Xp(i,n);let r=n[Kn];r!==null&&r.detachView(t)}Am(n)}finally{He(e)}}function WT(t,n){let e=t.cleanup,i=n[Gc];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(n[Gc]=null);let r=n[Cr];if(r!==null){n[Cr]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=n[oo];if(o!==null){n[oo]=null;for(let a of o)a.destroy()}}function YT(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof co)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];dt(4,s,l);try{l.call(s)}finally{dt(5,s,l)}}else{dt(4,r,o);try{o.call(r)}finally{dt(5,r,o)}}}}}function cS(t,n,e){return KT(t,n.parent,e)}function KT(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[Jn];if(Sa(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===In.None||r===In.Emulated)return null}return Pn(i,e)}function dS(t,n,e){return ZT(t,n,e)}function QT(t,n,e){return t.type&40?Pn(t,e):null}var ZT=QT,V0;function Jp(t,n,e,i){let r=cS(t,i,n),o=n[_t],a=i.parent||n[Ii],s=dS(a,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)j0(o,r,e[l],s,!1);else j0(o,r,e,s,!1);V0!==void 0&&V0(o,i,n,e,r)}function Ss(t,n){if(n!==null){let e=n.type;if(e&3)return Pn(n,t);if(e&4)return $m(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return Ss(t,i);{let r=t[n.index];return er(r)?$m(-1,r):Mn(r)}}else{if(e&128)return Ss(t,n.next);if(e&32)return Qp(n,t)()||Mn(t[n.index]);{let i=uS(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=so(t[Ni]);return Ss(r,i)}else return Ss(t,n.next)}}}return null}function uS(t,n){if(n!==null){let i=t[Ni][Ii],r=n.projection;return i.projection[r]}return null}function $m(t,n){let e=hi+t+1;if(e<n.length){let i=n[e],r=i[Re].firstChild;if(r!==null)return Ss(i,r)}return n[ao]}function ef(t,n,e,i,r,o,a){for(;e!=null;){if(e.type===128){e=e.next;continue}let s=i[e.index],l=e.type;if(a&&n===0&&(s&&js(Mn(s),i),e.flags|=2),!Zp(e))if(l&8)ef(t,n,e.child,i,r,o,!1),sa(n,t,r,s,o);else if(l&32){let c=Qp(e,i),h;for(;h=c();)sa(n,t,r,h,o);sa(n,t,r,s,o)}else l&16?hS(t,n,i,e,r,o):sa(n,t,r,s,o);e=a?e.projectionNext:e.next}}function Td(t,n,e,i,r,o){ef(e,i,t.firstChild,n,r,o,!1)}function XT(t,n,e){let i=n[_t],r=cS(t,e,n),o=e.parent||n[Ii],a=dS(o,e,n);hS(i,0,n,e,r,a)}function hS(t,n,e,i,r,o){let a=e[Ni],l=a[Ii].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let h=l[c];sa(n,t,r,h,o)}else{let c=l,h=a[mi];C_(i)&&(c.flags|=128),ef(t,n,c,h,r,o,!0)}}function JT(t,n,e,i,r){let o=e[ao],a=Mn(e);o!==a&&sa(n,t,i,o,r);for(let s=hi;s<e.length;s++){let l=e[s];Td(l[Re],l,t,n,i,o)}}function eI(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Zn.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Zn.Important),t.setStyle(e,i,r,o))}}function nd(t,n,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&i.push(Mn(o)),er(o)&&tI(o,i);let a=e.type;if(a&8)nd(t,n,e.child,i);else if(a&32){let s=Qp(e,n),l;for(;l=s();)i.push(l)}else if(a&16){let s=uS(n,e);if(Array.isArray(s))i.push(...s);else{let l=so(n[Ni]);nd(l[Re],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function tI(t,n){for(let e=hi;e<t.length;e++){let i=t[e],r=i[Re].firstChild;r!==null&&nd(i[Re],i,r,n)}t[ao]!==t[Jn]&&n.push(t[ao])}function mS(t){if(t[la]!==null){for(let n of t[la])n.impl.addSequence(n);t[la].length=0}}var pS=[];function iI(t){return t[Xi]??nI(t)}function nI(t){let n=pS.pop()??Object.create(oI);return n.lView=t,n}function rI(t){t.lView[Xi]!==t&&(t.lView=null,pS.push(t))}var oI=ke(j({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wa(t.lView)},consumerOnSignalRead(){this.lView[Xi]=this}});function aI(t){let n=t[Xi]??Object.create(sI);return n.lView=t,n}var sI=ke(j({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=so(t.lView);for(;n&&!fS(n[Re]);)n=so(n);n&&jb(n)},consumerOnSignalRead(){this.lView[Xi]=this}});function fS(t){return t.type!==2}function gS(t){if(t[oo]===null)return;let n=!0;for(;n;){let e=!1;for(let i of t[oo])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=e&&!!(t[xe]&8192)}}var lI=100;function vS(t,n=!0,e=0){let r=t[Yn].rendererFactory,o=!1;o||r.begin?.();try{cI(t,e)}catch(a){throw n&&sS(t,a),a}finally{o||r.end?.()}}function cI(t,n){let e=Yb();try{Kc(!0),Gm(t,n);let i=0;for(;Sd(t);){if(i===lI)throw new q(103,!1);i++,Gm(t,1)}}finally{Kc(e)}}function dI(t,n,e,i){if(Ns(n))return;let r=n[xe],o=!1,a=!1;Ip(n);let s=!0,l=null,c=null;o||(fS(t)?(c=iI(n),l=Xl(c)):Ty()===null?(s=!1,c=aI(n),l=Xl(c)):n[Xi]&&(us(n[Xi]),n[Xi]=null));try{Bb(n),YD(t.bindingStartIndex),e!==null&&rS(t,n,e,2,i);let h=(r&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&Nc(n,v,null)}else{let v=t.preOrderHooks;v!==null&&Lc(n,v,0,null),im(n,0)}if(a||uI(n),gS(n),yS(n,0),t.contentQueries!==null&&F_(t,n),!o)if(h){let v=t.contentCheckHooks;v!==null&&Nc(n,v)}else{let v=t.contentHooks;v!==null&&Lc(n,v,1),im(n,1)}mI(t,n);let f=t.components;f!==null&&_S(n,f,0);let g=t.viewQuery;if(g!==null&&Fm(2,g,i),!o)if(h){let v=t.viewCheckHooks;v!==null&&Nc(n,v)}else{let v=t.viewHooks;v!==null&&Lc(n,v,2),im(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[tm]){for(let v of n[tm])v();n[tm]=null}o||(mS(n),n[xe]&=-73)}catch(h){throw o||wa(n),h}finally{c!==null&&(Th(c,l),s&&rI(c)),Pp()}}function yS(t,n){for(let e=E_(t);e!==null;e=D_(e))for(let i=hi;i<e.length;i++){let r=e[i];bS(r,n)}}function uI(t){for(let n=E_(t);n!==null;n=D_(n)){if(!(n[xe]&2))continue;let e=n[ma];for(let i=0;i<e.length;i++){let r=e[i];jb(r)}}}function hI(t,n,e){dt(18);let i=Tn(n,t);bS(i,e),dt(19,i[qt])}function bS(t,n){Dp(t)&&Gm(t,n)}function Gm(t,n){let i=t[Re],r=t[xe],o=t[Xi],a=!!(n===0&&r&16);if(a||=!!(r&64&&n===0),a||=!!(r&1024),a||=!!(o?.dirty&&Jl(o)),a||=!1,o&&(o.dirty=!1),t[xe]&=-9217,a)dI(i,t,i.template,t[qt]);else if(r&8192){gS(t),yS(t,1);let s=i.components;s!==null&&_S(t,s,1),mS(t)}}function _S(t,n,e){for(let i=0;i<n.length;i++)hI(t,n[i],e)}function mI(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)lo(~r);else{let o=r,a=e[++i],s=e[++i];QD(a,o);let l=n[o];dt(24,l),s(2,l),dt(25,l)}}}finally{lo(-1)}}function tf(t,n){let e=Yb()?64:1088;for(t[Yn].changeDetectionScheduler?.notify(n);t;){t[xe]|=e;let i=so(t);if(Yc(t)&&!i)return t;t=i}return null}function SS(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function wS(t,n){let e=hi+n;if(e<t.length)return t[e]}function $s(t,n,e,i=!0){let r=n[Re];if(pI(r,n,t,e),i){let a=$m(e,t),s=n[_t],l=s.parentNode(t[ao]);l!==null&&$T(r,t[Ii],s,n,l,a)}let o=n[ha];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function CS(t,n){let e=Is(t,n);return e!==void 0&&Md(e[Re],e),e}function Is(t,n){if(t.length<=hi)return;let e=hi+n,i=t[e];if(i){let r=i[ro];r!==null&&r!==t&&Xp(r,i),n>0&&(t[e-1][un]=i[un]);let o=zc(t,hi+n);zT(i[Re],i);let a=o[Kn];a!==null&&a.detachView(o[Re]),i[mi]=null,i[un]=null,i[xe]&=-129}return i}function pI(t,n,e,i){let r=hi+i,o=e.length;i>0&&(e[r-1][un]=n),i<o-hi?(n[un]=e[r],_b(e,hi+i,n)):(e.push(n),n[un]=null),n[mi]=e;let a=n[ro];a!==null&&e!==a&&kS(a,n);let s=n[Kn];s!==null&&s.insertView(t),wm(n),n[xe]|=128}function kS(t,n){let e=t[ma],i=n[mi];if(kr(i))t[xe]|=2;else{let r=i[mi][Ni];n[Ni]!==r&&(t[xe]|=2)}e===null?t[ma]=[n]:e.push(n)}var Ps=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[Re];return nd(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i}get context(){return this._lView[qt]}set context(n){this._lView[qt]=n}get destroyed(){return Ns(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[mi];if(er(n)){let e=n[Wc],i=e?e.indexOf(this):-1;i>-1&&(Is(n,i),zc(e,i))}this._attachedToViewContainer=!1}Md(this._lView[Re],this._lView)}onDestroy(n){Vb(this._lView,n)}markForCheck(){tf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[xe]&=-129}reattach(){wm(this._lView),this._lView[xe]|=128}detectChanges(){this._lView[xe]|=1024,vS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Yc(this._lView),e=this._lView[ro];e!==null&&!n&&Xp(e,this._lView),lS(this._lView[Re],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=n;let e=Yc(this._lView),i=this._lView[ro];i!==null&&!e&&kS(i,this._lView),wm(this._lView)}};var zt=(()=>{class t{static __NG_ELEMENT_ID__=vI}return t})(),fI=zt,gI=class extends fI{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=zs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Ps(r)}};function vI(){return nf(Ai(),Ce())}function nf(t,n){return t.type&4?new gI(n,t,xa(t,n)):null}function Id(t,n,e,i,r){let o=t.data[n];if(o===null)o=yI(t,n,e,i,r),KD()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=GD();o.injectorIndex=a===null?-1:a.injectorIndex}return Ls(o,!0),o}function yI(t,n,e,i,r){let o=$b(),a=Gb(),s=a?o:o&&o.parent,l=t.data[n]=_I(t,s,e,n,i,r);return bI(t,l,o,a),l}function bI(t,n,e,i){t.firstChild===null&&(t.firstChild=n),e!==null&&(i?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function _I(t,n,e,i,r,o){let a=n?n.injectorIndex:-1,s=0;return zb()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cW=new RegExp(`^(\\d+)*(${LM}|${NM})*(.*)`);var SI=()=>null;function ga(t,n){return SI(t,n)}var wI=class{},xS=class{},Wm=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Mi(n)}.`)}},Pd=class{static NULL=new Wm},Mt=class{},Wt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>CI()}return t})();function CI(){let t=Ce(),n=Ai(),e=Tn(n.index,t);return(kr(e)?e:t)[_t]}var kI=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>null})}return t})();function H0(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)r=pm(r,s);else if(o==2){let l=s,c=n[++a];i=pm(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function k(t,n=Ve.Default){let e=Ce();if(e===null)return x(t,n);let i=Ai();return m_(i,e,_i(t),n)}function ES(){let t="invalid";throw new Error(t)}function DS(t,n,e,i,r){let o=i===null?null:{"":-1},a=r(t,e);if(a!==null){let s,l=null,c=null,h=EI(a);h===null?s=a:[s,l,c]=h,TI(t,n,e,s,o,l,c)}o!==null&&i!==null&&xI(e,i,o)}function xI(t,n,e){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new q(-301,!1);i.push(n[r],o)}}function EI(t){let n=null,e=!1;for(let a=0;a<t.length;a++){let s=t[a];if(a===0&&Dn(s)&&(n=s),s.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let i=null,r=null,o=null;for(let a of t)a.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,DI(a,i,o,r)),a===n&&(i??=[],i.push(a));return i!==null?(i.push(...n===null?t:t.slice(1)),[i,r,o]):null}function DI(t,n,e,i){let r=n.length;t.findHostDirectiveDefs(t,n,i),e.set(t,[r,n.length-1])}function MI(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function TI(t,n,e,i,r,o,a){let s=i.length,l=!1;for(let g=0;g<s;g++){let v=i[g];!l&&Dn(v)&&(l=!0,MI(t,e,g)),Dm(Jc(e,n),t,v.type)}FI(e,t.data.length,s);for(let g=0;g<s;g++){let v=i[g];v.providersResolver&&v.providersResolver(v)}let c=!1,h=!1,f=iS(t,n,s,null);s>0&&(e.directiveToIndex=new Map);for(let g=0;g<s;g++){let v=i[g];if(e.mergedAttrs=Es(e.mergedAttrs,v.hostAttrs),PI(t,e,n,f,v),OI(f,v,r),a!==null&&a.has(v)){let[C,T]=a.get(v);e.directiveToIndex.set(v.type,[f,C+e.directiveStart,T+e.directiveStart])}else(o===null||!o.has(v))&&e.directiveToIndex.set(v.type,f);v.contentQueries!==null&&(e.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(e.flags|=64);let _=v.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),h=!0),f++}II(t,e,o)}function II(t,n,e){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=t.data[i];if(e===null||!e.has(r))U0(0,n,r,i),U0(1,n,r,i),z0(n,i,!1);else{let o=e.get(r);q0(0,n,o,i),q0(1,n,o,i),z0(n,i,!0)}}}function U0(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;t===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(i),MS(n,o)}}function q0(t,n,e,i){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;t===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),MS(n,a)}}function MS(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function z0(t,n,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!e&&r===null||e&&o===null||qp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let l=i[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&r.hasOwnProperty(l)){let c=r[l];for(let h of c)if(h===n){a??=[],a.push(l,i[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let h=0;h<c.length;h+=2)if(c[h]===n){a??=[],a.push(c[h+1],i[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function PI(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=io(r.type,!0)),a=new co(o,Dn(r),k);t.blueprint[i]=a,e[i]=a,AI(t,n,i,iS(t,e,r.hostVars,Gt),r)}function AI(t,n,e,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~n.index;RI(a)!=s&&a.push(s),a.push(e,i,o)}}function RI(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function OI(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Dn(n)&&(e[""]=t)}}function FI(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function TS(t,n,e,i,r,o,a,s){let l=n.consts,c=pa(l,a),h=Id(n,t,2,i,c);return o&&DS(n,e,h,pa(l,s),r),h.mergedAttrs=Es(h.mergedAttrs,h.attrs),h.attrs!==null&&H0(h,h.attrs,!1),h.mergedAttrs!==null&&H0(h,h.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,h),h}function IS(t,n){r_(t,n),Pb(n)&&t.queries.elementEnd(n)}var rd=class extends Pd{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=xr(n);return new ho(e,this.ngModule)}};function NI(t){return Object.keys(t).map(n=>{let[e,i,r]=t[n],o={propName:e,templateName:n,isSignal:(i&Dd.SignalBased)!==0};return r&&(o.transform=r),o})}function LI(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function BI(t,n,e){let i=n instanceof Lt?n:n?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new xm(e,i):e}function jI(t){let n=t.get(Mt,null);if(n===null)throw new q(407,!1);let e=t.get(kI,null),i=t.get(uo,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:i}}function VI(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return X_(n,e,e==="svg"?Nb:e==="math"?FD:null)}var ho=class extends xS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LI(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=bT(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,i,r){dt(22);let o=He(null);try{let a=this.componentDef,s=i?["ng-version","19.2.2"]:_T(this.componentDef.selectors[0]),l=zp(0,null,null,1,0,null,null,null,null,[s],null),c=BI(a,r||this.ngModule,n),h=jI(c),f=h.rendererFactory.createRenderer(null,a),g=i?TT(f,i,a.encapsulation,c):VI(a,f),v=$p(null,l,null,512|tS(a),null,null,h,f,c,null,O_(g,c,!0));v[ti]=g,Ip(v);let _=null;try{let C=TS(ti,l,v,"#host",()=>[this.componentDef],!0,0);g&&(eS(f,g,C),js(g,v)),Wp(l,v,C),N_(l,C,v),IS(l,C),e!==void 0&&HI(C,this.ngContentSelectors,e),_=Tn(C.index,v),v[qt]=_[qt],Kp(l,v,null)}catch(C){throw _!==null&&Am(_),Am(v),C}finally{dt(23),Pp()}return new Ym(this.componentType,v)}finally{He(o)}}},Ym=class extends wI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=xp(e[Re],ti),this.location=xa(this._tNode,e),this.instance=Tn(this._tNode.index,e)[qt],this.hostView=this.changeDetectorRef=new Ps(e,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView,o=Yp(i,r[Re],r,n,e);this.previousInputValues.set(n,e);let a=Tn(i.index,r);tf(a,1)}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function HI(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var li=(()=>{class t{static __NG_ELEMENT_ID__=UI}return t})();function UI(){let t=Ai();return AS(t,Ce())}var qI=li,PS=class extends qI{_lContainer;_hostTNode;_hostLView;constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let n=Op(this._hostTNode,this._hostLView);if(s_(n)){let e=Zc(n,this._hostLView),i=Qc(n),r=e[Re].data[i+8];return new to(r,e)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=$0(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=ga(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,fa(this._hostTNode,a)),s}createComponent(n,e,i,r,o){let a=n&&!PD(n),s;if(a)s=e;else{let _=e||{};s=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=a?n:new ho(xr(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let C=(a?c:this.parentInjector).get(Lt,null);C&&(o=C)}let h=xr(l.componentType??{}),f=ga(this._lContainer,h?.id??null),g=f?.firstChild??null,v=l.create(c,r,g,o);return this.insertImpl(v.hostView,s,fa(this._hostTNode,f)),v}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(LD(r)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let l=r[mi],c=new PS(l,l[Ii],l[mi]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),a=this._lContainer;return $s(a,r,o,i),n.attachToViewContainerRef(),_b(am(a),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=$0(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Is(this._lContainer,e);i&&(zc(am(this._lContainer),e),Md(i[Re],i))}detach(n){let e=this._adjustIndex(n,-1),i=Is(this._lContainer,e);return i&&zc(am(this._lContainer),e)!=null?new Ps(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function $0(t){return t[Wc]}function am(t){return t[Wc]||(t[Wc]=[])}function AS(t,n){let e,i=n[t.index];return er(i)?e=i:(e=SS(i,n,null,t),n[t.index]=e,Gp(n,e)),$I(e,n,t,i),new PS(e,t,n)}function zI(t,n){let e=t[_t],i=e.createComment(""),r=Pn(n,t),o=e.parentNode(r);return id(e,o,i,e.nextSibling(r),!1),i}var $I=YI,GI=()=>!1;function WI(t,n,e){return GI(t,n,e)}function YI(t,n,e,i){if(t[ao])return;let r;e.type&8?r=Mn(i):r=zI(n,e),t[ao]=r}var Km=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qm=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)rf(n,e).matches!==null&&this.queries[e].setDirty()}},od=class{flags;read;predicate;constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=iP(n):this.predicate=n}},Zm=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Xm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,KI(e,o)),this.matchTNodeWithReadOption(n,e,Bc(e,n,o,!1,!1))}else i===zt?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Bc(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===me||r===li||r===zt&&e.type&4)this.addMatch(e.index,-2);else{let o=Bc(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function KI(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function QI(t,n){return t.type&11?xa(t,n):t.type&4?nf(t,n):null}function ZI(t,n,e,i){return e===-1?QI(n,t):e===-2?XI(t,n,i):Ds(t,t[Re],e,n)}function XI(t,n,e){if(e===me)return xa(n,t);if(e===zt)return nf(n,t);if(e===li)return AS(n,t)}function RS(t,n,e,i){let r=n[Kn].queries[i];if(r.matches===null){let o=t.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let h=o[c];s.push(ZI(n,h,a[l+1],e.metadata.read))}}r.matches=s}return r.matches}function Jm(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let a=RS(t,n,r,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],h=n[-l];for(let f=hi;f<h.length;f++){let g=h[f];g[ro]===g[mi]&&Jm(g[Re],g,c,i)}if(h[ma]!==null){let f=h[ma];for(let g=0;g<f.length;g++){let v=f[g];Jm(v[Re],v,c,i)}}}}}return i}function JI(t,n){return t[Kn].queries[n].queryList}function OS(t,n,e){let i=new Er((e&4)===4);return VD(t,n,i,i.destroy),(n[Kn]??=new Qm).queries.push(new Km(i))-1}function eP(t,n,e){let i=Ct();return i.firstCreatePass&&(FS(i,new od(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),OS(i,Ce(),n)}function tP(t,n,e,i){let r=Ct();if(r.firstCreatePass){let o=Ai();FS(r,new od(n,e,i),o.index),nP(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return OS(r,Ce(),e)}function iP(t){return t.split(",").map(n=>n.trim())}function FS(t,n,e){t.queries===null&&(t.queries=new Zm),t.queries.track(new Xm(n,e))}function nP(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function rf(t,n){return t.queries.getByIndex(n)}function rP(t,n){let e=t[Re],i=rf(e,n);return i.crossesNgTemplate?Jm(e,t,n,[]):RS(e,t,i,n)}var Xn=class{},of=class{};var ep=class extends Xn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new rd(this);constructor(n,e,i,r=!0){super(),this.ngModuleType=n,this._parent=e;let o=Cb(n);this._bootstrapComponents=K_(o.bootstrap),this._r3Injector=g_(n,e,[{provide:Xn,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...i],Mi(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},tp=class extends of{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ep(this.moduleType,n,[])}};var ad=class extends Xn{injector;componentFactoryResolver=new rd(this);instance=null;constructor(n){super();let e=new Cs([...n.providers,{provide:Xn,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],n.parent||yd(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ad(t,n,e=null){return new ad({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var oP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=kb(!1,e.type),r=i.length>0?Ad([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:t,providedIn:"environment",factory:()=>new t(x(Lt))})}return t})();function U(t){return Os(()=>{let n=NS(t),e=ke(j({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===k_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(oP).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||In.Emulated,styles:t.styles||Di,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&tr("NgStandalone"),LS(e);let i=t.dependencies;return e.directiveDefs=G0(i,!1),e.pipeDefs=G0(i,!0),e.id=dP(e),e})}function aP(t){return xr(t)||_D(t)}function sP(t){return t!==null}function De(t){return Os(()=>({type:t.type,bootstrap:t.bootstrap||Di,declarations:t.declarations||Di,imports:t.imports||Di,exports:t.exports||Di,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lP(t,n){if(t==null)return no;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,s,l;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,l=r[3]||null):(o=r,a=r,s=Dd.None,l=null),e[o]=[i,s,l],n[o]=a}return e}function cP(t){if(t==null)return no;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function Me(t){return Os(()=>{let n=NS(t);return LS(n),n})}function nr(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function NS(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||no,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Di,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lP(t.inputs,n),outputs:cP(t.outputs),debugInfo:null}}function LS(t){t.features?.forEach(n=>n(t))}function G0(t,n){if(!t)return null;let e=n?SD:aP;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(sP)}function dP(t){let n=0,e=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function uP(t){return Object.getPrototypeOf(t.prototype).constructor}function It(t){let n=uP(t.type),e=!0,i=[t];for(;n;){let r;if(Dn(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new q(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let a=t;a.inputs=sm(t.inputs),a.declaredInputs=sm(t.declaredInputs),a.outputs=sm(t.outputs);let s=r.hostBindings;s&&gP(t,s);let l=r.viewQuery,c=r.contentQueries;if(l&&pP(t,l),c&&fP(t,c),hP(t,r),XE(t.outputs,r.outputs),Dn(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(t),s===It&&(e=!1)}}n=Object.getPrototypeOf(n)}mP(i)}function hP(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e])}}function mP(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Es(r.hostAttrs,e=Es(e,r.hostAttrs))}}function sm(t){return t===no?{}:t===Di?[]:t}function pP(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function fP(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function gP(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function BS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jS(t,n,e){return t[n]=e}function Ji(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function As(t,n,e,i){let r=Ji(t,n,e);return Ji(t,n+1,i)||r}function vP(t,n,e,i,r){let o=As(t,n,e,i);return Ji(t,n+2,r)||o}function W0(t,n,e,i,r,o){let a=As(t,n,e,i);return As(t,n+2,r,o)||a}function yP(t,n,e,i,r,o,a,s,l){let c=n.consts,h=Id(n,t,4,a||null,s||null);qb()&&DS(n,e,h,pa(c,l),aS),h.mergedAttrs=Es(h.mergedAttrs,h.attrs),r_(n,h);let f=h.tView=zp(2,h,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,h),f.queries=n.queries.embeddedTView(h)),h}function sd(t,n,e,i,r,o,a,s,l,c){let h=e+ti,f=n.firstCreatePass?yP(h,n,t,i,r,o,a,s,l):n.data[h];Ls(f,!1);let g=bP(n,t,f,e);Ap()&&Jp(n,t,g,f),js(g,t);let v=SS(g,t,g,f);return t[h]=v,Gp(t,v),WI(v,f,t),kp(f)&&Wp(n,t,f),l!=null&&oS(t,f,c),f}function L(t,n,e,i,r,o,a,s){let l=Ce(),c=Ct(),h=pa(c.consts,o);return sd(l,c,t,n,e,i,r,h,a,s),L}var bP=_P;function _P(t,n,e,i){return Rp(!0),n[_t].createComment("")}var af=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var sf=new $(""),Gs=new $(""),Rd=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(e,i,r){this._ngZone=e,this.registry=i,lf||(SP(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||t)(x(te),x(Od),x(Gs))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),Od=(()=>{class t{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return lf?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function SP(t){lf=t}var lf,VS=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>new ip})}return t})(),ip=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,i=this.queues.get(e);i.has(n)&&(i.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function Ma(t){return!!t&&typeof t.then=="function"}function HS(t){return!!t&&typeof t.subscribe=="function"}var Fd=new $("");var US=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=b(Fd,{optional:!0})??[];injector=b(ee);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=Bi(this.injector,r);if(Ma(o))e.push(o);else if(HS(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nd=new $("");function wP(){Ly(()=>{throw new q(600,!1)})}function CP(t){return t.isBoundToModule}var kP=10;var Ti=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(EM);afterRenderManager=b(A_);zonelessEnabled=b(Np);rootEffectScheduler=b(VS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new H;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(fo).hasPendingTasks.pipe(J(e=>!e));constructor(){b(Ea,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=b(Lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){dt(10);let r=e instanceof xS;if(!this._injector.get(US).done){let g="";throw new q(405,g)}let a;r?a=e:a=this._injector.get(Pd).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let s=CP(a)?void 0:this._injector.get(Xn),l=i||a.selector,c=a.create(ee.NULL,[],l,s),h=c.location.nativeElement,f=c.injector.get(sf,null);return f?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),jc(this.components,c),f?.unregisterApplication(h)}),this._loadComponent(c),dt(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){dt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Vp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let e=He(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,He(e),this.afterTick.next(),dt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mt,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<kP;)dt(14),this.synchronizeOnce(),dt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)xP(i,r,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Sd(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;jc(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Nd,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>jc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new q(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jc(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function xP(t,n,e,i){if(!e&&!Sd(t))return;vS(t,n,e&&!i?0:1)}function Be(t,n,e,i){let r=Ce(),o=Ca();if(Ji(r,o,n)){let a=Ct(),s=po();LT(s,r,t,n,e,i)}return Be}function qS(t,n,e,i){return Ji(t,Ca(),e)?n+ei(e)+i:Gt}function zS(t,n,e,i,r,o){let a=Mp(),s=As(t,a,e,r);return Bs(2),s?n+ei(e)+i+ei(r)+o:Gt}function $S(t,n,e,i,r,o,a,s){let l=Mp(),c=vP(t,l,e,r,a);return Bs(3),c?n+ei(e)+i+ei(r)+o+ei(a)+s:Gt}function EP(t,n,e,i,r,o,a,s,l,c,h,f,g,v,_,C,T,B){let W=Mp(),ne=W0(t,W,e,r,a,l);return ne=W0(t,W+4,h,g,_,T)||ne,Bs(8),ne?n+ei(e)+i+ei(r)+o+ei(a)+s+ei(l)+c+ei(h)+f+ei(g)+v+ei(_)+C+ei(T)+B:Gt}function Oc(t,n){return t<<17|n<<2}function mo(t){return t>>17&32767}function DP(t){return(t&2)==2}function MP(t,n){return t&131071|n<<17}function np(t){return t|2}function va(t){return(t&131068)>>2}function lm(t,n){return t&-131069|n<<2}function TP(t){return(t&1)===1}function rp(t){return t|1}function IP(t,n,e,i,r,o){let a=o?n.classBindings:n.styleBindings,s=mo(a),l=va(a);t[i]=e;let c=!1,h;if(Array.isArray(e)){let f=e;h=f[1],(h===null||Fs(f,h)>0)&&(c=!0)}else h=e;if(r)if(l!==0){let g=mo(t[s+1]);t[i+1]=Oc(g,s),g!==0&&(t[g+1]=lm(t[g+1],i)),t[s+1]=MP(t[s+1],i)}else t[i+1]=Oc(s,0),s!==0&&(t[s+1]=lm(t[s+1],i)),s=i;else t[i+1]=Oc(l,0),s===0?s=i:t[l+1]=lm(t[l+1],i),l=i;c&&(t[i+1]=np(t[i+1])),Y0(t,h,i,!0),Y0(t,h,i,!1),PP(n,h,t,i,o),a=Oc(s,l),o?n.classBindings=a:n.styleBindings=a}function PP(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Fs(o,n)>=0&&(e[i+1]=rp(e[i+1]))}function Y0(t,n,e,i){let r=t[e+1],o=n===null,a=i?mo(r):va(r),s=!1;for(;a!==0&&(s===!1||o);){let l=t[a],c=t[a+1];AP(l,n)&&(s=!0,t[a+1]=i?rp(c):np(c)),a=i?mo(c):va(c)}s&&(t[e+1]=i?np(r):rp(r))}function AP(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Fs(t,n)>=0:!1}var Ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GS(t){return t.substring(Ut.key,Ut.keyEnd)}function RP(t){return t.substring(Ut.value,Ut.valueEnd)}function OP(t){return KS(t),WS(t,ya(t,0,Ut.textEnd))}function WS(t,n){let e=Ut.textEnd;return e===n?-1:(n=Ut.keyEnd=NP(t,Ut.key=n,e),ya(t,n,e))}function FP(t){return KS(t),YS(t,ya(t,0,Ut.textEnd))}function YS(t,n){let e=Ut.textEnd,i=Ut.key=ya(t,n,e);return e===i?-1:(i=Ut.keyEnd=LP(t,i,e),i=K0(t,i,e,58),i=Ut.value=ya(t,i,e),i=Ut.valueEnd=BP(t,i,e),K0(t,i,e,59))}function KS(t){Ut.key=0,Ut.keyEnd=0,Ut.value=0,Ut.valueEnd=0,Ut.textEnd=t.length}function ya(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function NP(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function LP(t,n,e){let i;for(;n<e&&((i=t.charCodeAt(n))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)n++;return n}function K0(t,n,e,i){return n=ya(t,n,e),n<e&&n++,n}function BP(t,n,e){let i=-1,r=-1,o=-1,a=n,s=a;for(;a<e;){let l=t.charCodeAt(a++);if(l===59)return s;l===34||l===39?s=a=Q0(t,l,a,e):n===a-4&&o===85&&r===82&&i===76&&l===40?s=a=Q0(t,41,a,e):l>32&&(s=a),o=r,r=i,i=l&-33}return s}function Q0(t,n,e,i){let r=-1,o=e;for(;o<i;){let a=t.charCodeAt(o++);if(a==n&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function R(t,n,e){let i=Ce(),r=Ca();if(Ji(i,r,n)){let o=Ct(),a=po();Da(o,a,i,t,n,i[_t],e,!1)}return R}function op(t,n,e,i,r){Yp(n,t,e,r?"class":"style",i)}function lt(t,n,e){return ZS(t,n,e,!1),lt}function ft(t,n){return ZS(t,n,null,!0),ft}function QS(t){XS(tw,jP,t,!1)}function jP(t,n){for(let e=FP(n);e>=0;e=YS(n,e))tw(t,GS(n),RP(n))}function Ir(t){XS(GP,VP,t,!0)}function VP(t,n){for(let e=OP(n);e>=0;e=WS(n,e))gd(t,GS(n),!0)}function ZS(t,n,e,i){let r=Ce(),o=Ct(),a=Bs(2);if(o.firstUpdatePass&&ew(o,t,a,i),n!==Gt&&Ji(r,a,n)){let s=o.data[An()];iw(o,s,r,r[_t],t,r[a+1]=YP(n,e),i,a)}}function XS(t,n,e,i){let r=Ct(),o=Bs(2);r.firstUpdatePass&&ew(r,null,o,i);let a=Ce();if(e!==Gt&&Ji(a,o,e)){let s=r.data[An()];if(nw(s,i)&&!JS(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(e=pm(l,e||"")),op(r,s,a,e,i)}else WP(r,s,a,a[_t],a[o+1],a[o+1]=$P(t,n,e),i,o)}}function JS(t,n){return n>=t.expandoStartIndex}function ew(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[An()],a=JS(t,e);nw(o,i)&&n===null&&!a&&(n=!1),n=HP(r,o,n,i),IP(r,o,n,e,a,i)}}function HP(t,n,e,i){let r=XD(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=cm(null,t,n,e,i),e=Rs(e,n.attrs,i),o=null);else{let a=n.directiveStylingLast;if(a===-1||t[a]!==r)if(e=cm(r,t,n,e,i),o===null){let l=UP(t,n,i);l!==void 0&&Array.isArray(l)&&(l=cm(null,t,n,l[1],i),l=Rs(l,n.attrs,i),qP(t,n,i,l))}else o=zP(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function UP(t,n,e){let i=e?n.classBindings:n.styleBindings;if(va(i)!==0)return t[mo(i)]}function qP(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[mo(r)]=i}function zP(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Rs(i,a,e)}return Rs(i,n.attrs,e)}function cm(t,n,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=n[s],i=Rs(i,o.hostAttrs,r),o!==t);)s++;return t!==null&&(e.directiveStylingLast=s),i}function Rs(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gd(t,a,e?!0:n[++o]))}return t===void 0?null:t}function $P(t,n,e){if(e==null||e==="")return Di;let i=[],r=en(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function tw(t,n,e){gd(t,n,en(e))}function GP(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&gd(t,i,e)}function WP(t,n,e,i,r,o,a,s){r===Gt&&(r=Di);let l=0,c=0,h=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;h!==null||f!==null;){let g=l<r.length?r[l+1]:void 0,v=c<o.length?o[c+1]:void 0,_=null,C;h===f?(l+=2,c+=2,g!==v&&(_=f,C=v)):f===null||h!==null&&h<f?(l+=2,_=h):(c+=2,_=f,C=v),_!==null&&iw(t,n,e,i,_,C,a,s),h=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}function iw(t,n,e,i,r,o,a,s){if(!(n.type&3))return;let l=t.data,c=l[s+1],h=TP(c)?Z0(l,n,e,r,va(c),a):void 0;if(!ld(h)){ld(o)||DP(c)&&(o=Z0(l,null,e,r,s,a));let f=Lb(An(),e);eI(i,a,f,r,o)}}function Z0(t,n,e,i,r,o){let a=n===null,s;for(;r>0;){let l=t[r],c=Array.isArray(l),h=c?l[1]:l,f=h===null,g=e[r+1];g===Gt&&(g=f?Di:void 0);let v=f?Jh(g,i):h===i?g:void 0;if(c&&!ld(v)&&(v=Jh(l,i)),ld(v)&&(s=v,a))return s;let _=t[r+1];r=a?mo(_):va(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(s=Jh(l,i))}return s}function ld(t){return t!==void 0}function YP(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Mi(en(t)))),t}function nw(t,n){return(t.flags&(n?8:16))!==0}var ap=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}};function dm(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function KP(t,n,e){let i,r,o=0,a=t.length-1,s=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=a&&o<=l;){let c=t.at(o),h=n[o],f=dm(o,c,o,h,e);if(f!==0){f<0&&t.updateValue(o,h),o++;continue}let g=t.at(a),v=n[l],_=dm(a,g,l,v,e);if(_!==0){_<0&&t.updateValue(a,v),a--,l--;continue}let C=e(o,c),T=e(a,g),B=e(o,h);if(Object.is(B,T)){let W=e(l,v);Object.is(W,C)?(t.swap(o,a),t.updateValue(a,v),l--,a--):t.move(a,o),t.updateValue(o,h),o++;continue}if(i??=new cd,r??=J0(t,o,a,e),sp(t,i,o,B))t.updateValue(o,h),o++,a++;else if(r.has(B))i.set(C,t.detach(o)),a--;else{let W=t.create(o,n[o]);t.attach(o,W),o++,a++}}for(;o<=l;)X0(t,i,e,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&o<=a;){let h=t.at(o),f=c.value,g=dm(o,h,o,f,e);if(g!==0)g<0&&t.updateValue(o,f),o++,c=l.next();else{i??=new cd,r??=J0(t,o,a,e);let v=e(o,f);if(sp(t,i,o,v))t.updateValue(o,f),o++,a++,c=l.next();else if(!r.has(v))t.attach(o,t.create(o,f)),o++,a++,c=l.next();else{let _=e(o,h);i.set(_,t.detach(o)),a--}}}for(;!c.done;)X0(t,i,e,t.length,c.value),c=l.next()}for(;o<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function sp(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function X0(t,n,e,i,r){if(sp(t,n,i,e(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function J0(t,n,e,i){let r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}var cd=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function M(t,n){tr("NgControlFlow");let e=Ce(),i=Ca(),r=e[i]!==Gt?e[i]:-1,o=r!==-1?dd(e,ti+r):void 0,a=0;if(Ji(e,i,t)){let s=He(null);try{if(o!==void 0&&CS(o,a),t!==-1){let l=ti+t,c=dd(e,l),h=up(e[Re],l),f=ga(c,h.tView.ssrId),g=zs(e,h,n,{dehydratedView:f});$s(c,g,a,fa(h,f))}}finally{He(s)}}else if(o!==void 0){let s=wS(o,a);s!==void 0&&(s[qt]=n)}}var lp=class{lContainer;$implicit;$index;constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-hi}};function Ue(t,n){return n}var cp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function re(t,n,e,i,r,o,a,s,l,c,h,f,g){tr("NgControlFlow");let v=Ce(),_=Ct(),C=l!==void 0,T=Ce(),B=s?a.bind(T[Ni][qt]):a,W=new cp(C,B);T[ti+t]=W,sd(v,_,t+1,n,e,i,r,pa(_.consts,o)),C&&sd(v,_,t+2,l,c,h,f,pa(_.consts,g))}var dp=class extends ap{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-hi}at(n){return this.getLView(n)[qt].$implicit}attach(n,e){let i=e[ha];this.needsIndexUpdate||=n!==this.length,$s(this.lContainer,e,n,fa(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,QP(this.lContainer,n)}create(n,e){let i=ga(this.lContainer,this.templateTNode.tView.ssrId),r=zs(this.hostLView,this.templateTNode,new lp(this.lContainer,e,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){Md(n[Re],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[qt].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[qt].$index=n}getLView(n){return ZP(this.lContainer,n)}};function oe(t){let n=He(null),e=An();try{let i=Ce(),r=i[Re],o=i[e],a=e+1,s=dd(i,a);if(o.liveCollection===void 0){let c=up(r,a);o.liveCollection=new dp(s,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(KP(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Ca(),h=l.length===0;if(Ji(i,c,h)){let f=e+2,g=dd(i,f);if(h){let v=up(r,f),_=ga(g,v.tView.ssrId),C=zs(i,v,void 0,{dehydratedView:_});$s(g,C,0,fa(v,_))}else CS(g,0)}}}finally{He(n)}}function dd(t,n){return t[n]}function QP(t,n){return Is(t,n)}function ZP(t,n){return wS(t,n)}function up(t,n){return xp(t,n)}function d(t,n,e,i){let r=Ce(),o=Ct(),a=ti+t,s=r[_t],l=o.firstCreatePass?TS(a,o,r,n,aS,qb(),e,i):o.data[a],c=XP(o,r,l,s,n,t);r[a]=c;let h=kp(l);return Ls(l,!0),eS(s,c,l),!Zp(l)&&Ap()&&Jp(o,r,c,l),(HD()===0||h)&&js(c,r),UD(),h&&(Wp(o,r,l),N_(o,l,r)),i!==null&&oS(r,l),d}function u(){let t=Ai();Gb()?Wb():(t=t.parent,Ls(t,!1));let n=t;zD(n)&&$D(),qD();let e=Ct();return e.firstCreatePass&&IS(e,n),n.classesWithoutHost!=null&&oM(n)&&op(e,n,Ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&aM(n)&&op(e,n,Ce(),n.stylesWithoutHost,!1),u}function F(t,n,e,i){return d(t,n,e,i),u(),F}var XP=(t,n,e,i,r,o)=>(Rp(!0),X_(i,r,iM()));function V(){return Ce()}function Ld(t,n,e){let i=Ce(),r=Ca();if(Ji(i,r,n)){let o=Ct(),a=po();Da(o,a,i,t,n,i[_t],e,!0)}return Ld}var Jr=void 0;function JP(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var eA=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",JP],um={};function cf(t){let n=tA(t),e=eb(n);if(e)return e;let i=n.split("-")[0];if(e=eb(i),e)return e;if(i==="en")return eA;throw new q(701,!1)}function eb(t){return t in um||(um[t]=ui.ng&&ui.ng.common&&ui.ng.common.locales&&ui.ng.common.locales[t]),um[t]}var Ta=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ta||{});function tA(t){return t.toLowerCase().replace(/_/g,"-")}var ud="en-US";var iA=ud;function nA(t){typeof t=="string"&&(iA=t.toLowerCase().replace(/_/g,"-"))}var rA=(t,n,e)=>{};function w(t,n,e,i){let r=Ce(),o=Ct(),a=Ai();return aA(o,r,r[_t],a,t,n,i),w}function oA(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=n[Gc],l=r[o+2];return s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function aA(t,n,e,i,r,o,a){let s=kp(i),c=t.firstCreatePass?Ub(t):null,h=n[qt],f=Hb(n),g=!0;if(i.type&3||a){let v=Pn(i,n),_=a?a(v):v,C=f.length,T=a?W=>a(Mn(W[i.index])):i.index,B=null;if(!a&&s&&(B=oA(t,n,r,i.index)),B!==null){let W=B.__ngLastListenerFn__||B;W.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1}else{o=nb(i,n,h,o),rA(_,r,o);let W=e.listen(_,r,o);f.push(o,W),c&&c.push(r,T,C,C+1)}}else o=nb(i,n,h,o);if(g){let v=i.outputs?.[r],_=i.hostDirectiveOutputs?.[r];if(_&&_.length)for(let C=0;C<_.length;C+=2){let T=_[C],B=_[C+1];tb(i,t,n,T,B,r,o,f,c)}if(v&&v.length)for(let C of v)tb(i,t,n,C,r,r,o,f,c)}}function tb(t,n,e,i,r,o,a,s,l){let c=e[i],f=n.data[i].outputs[r],v=c[f].subscribe(a),_=s.length;s.push(a,v),l&&l.push(o,t.index,_,-(_+1))}function ib(t,n,e,i){let r=He(null);try{return dt(6,n,e),e(i)!==!1}catch(o){return sS(t,o),!1}finally{dt(7,n,e),He(r)}}function nb(t,n,e,i){return function r(o){if(o===Function)return i;let a=Sa(t)?Tn(t.index,n):n;tf(a,5);let s=ib(n,e,i,o),l=r.__ngNextListenerFn__;for(;l;)s=ib(n,e,l,o)&&s,l=l.__ngNextListenerFn__;return s}}function y(t=1){return eM(t)}function sA(t,n){let e=null,i=pT(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?Z_(t,o,!0):vT(i,o))return r}return e}function ji(t){let n=Ce()[Ni][Ii];if(!n.projection){let e=t?t.length:1,i=n.projection=vD(e,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let a=t?sA(o,t):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function Si(t,n=0,e,i,r,o){let a=Ce(),s=Ct(),l=i?t+1:null;l!==null&&sd(a,s,l,i,r,o,null,e);let c=Id(s,ti+t,16,null,e||null);c.projection===null&&(c.projection=n),Wb();let f=!a[ha]||zb();a[Ni][Ii].projection[c.projection]===null&&l!==null?lA(a,s,l):f&&!Zp(c)&&XT(s,a,c)}function lA(t,n,e){let i=ti+e,r=n.data[i],o=t[i],a=ga(o,r.tView.ssrId),s=zs(t,r,void 0,{dehydratedView:a});$s(o,s,0,fa(r,a))}function K(t,n,e){return qe(t,"",n,"",e),K}function qe(t,n,e,i,r){let o=Ce(),a=qS(o,n,e,i);if(a!==Gt){let s=Ct(),l=po();Da(s,l,o,t,a,o[_t],r,!1)}return qe}function Rn(t,n,e,i,r,o,a){let s=Ce(),l=zS(s,n,e,i,r,o);if(l!==Gt){let c=Ct(),h=po();Da(c,h,s,t,l,s[_t],a,!1)}return Rn}function Ws(t,n,e,i,r,o,a,s,l){let c=Ce(),h=$S(c,n,e,i,r,o,a,s);if(h!==Gt){let f=Ct(),g=po();Da(f,g,c,t,h,c[_t],l,!1)}return Ws}function Ys(t,n,e,i,r,o,a,s,l,c,h,f,g,v,_,C,T,B,W){let ne=Ce(),Q=EP(ne,n,e,i,r,o,a,s,l,c,h,f,g,v,_,C,T,B);if(Q!==Gt){let Ge=Ct(),Ie=po();Da(Ge,Ie,ne,t,Q,ne[_t],W,!1)}return Ys}function hn(t,n,e,i){tP(t,n,e,i)}function kt(t,n,e){eP(t,n,e)}function Xe(t){let n=Ce(),e=Ct(),i=Kb();Tp(i+1);let r=rf(e,i);if(t.dirty&&ND(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=rP(n,i);t.reset(o,TM),t.notifyOnChanges()}return!0}return!1}function Je(){return JI(Ce(),Kb())}function cA(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function Ia(t){let n=WD();return Ep(n,ti+t)}function p(t,n=""){let e=Ce(),i=Ct(),r=t+ti,o=i.firstCreatePass?Id(i,r,1,n,null):i.data[r],a=dA(i,e,o,n,t);e[r]=a,Ap()&&Jp(i,e,a,o),Ls(o,!1)}var dA=(t,n,e,i,r)=>(Rp(!0),ST(n[_t],i));function pe(t){return A("",t,""),pe}function A(t,n,e){let i=Ce(),r=qS(i,t,n,e);return r!==Gt&&df(i,An(),r),A}function Yt(t,n,e,i,r){let o=Ce(),a=zS(o,t,n,e,i,r);return a!==Gt&&df(o,An(),a),Yt}function rr(t,n,e,i,r,o,a){let s=Ce(),l=$S(s,t,n,e,i,r,o,a);return l!==Gt&&df(s,An(),l),rr}function df(t,n,e){let i=Lb(n,t);wT(t[_t],i,e)}function uA(t,n,e){let i=Ct();if(i.firstCreatePass){let r=Dn(t);hp(e,i.data,i.blueprint,r,!0),hp(n,i.data,i.blueprint,r,!1)}}function hp(t,n,e,i,r){if(t=_i(t),Array.isArray(t))for(let o=0;o<t.length;o++)hp(t[o],n,e,i,r);else{let o=Ct(),a=Ce(),s=Ai(),l=ua(t)?t:_i(t.provide),c=Db(t),h=s.providerIndexes&1048575,f=s.directiveStart,g=s.providerIndexes>>20;if(ua(t)||!t.multi){let v=new co(c,r,k),_=mm(l,n,r?h:h+g,f);_===-1?(Dm(Jc(s,a),o,l),hm(o,t,n.length),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(v),a.push(v)):(e[_]=v,a[_]=v)}else{let v=mm(l,n,h+g,f),_=mm(l,n,h,h+g),C=v>=0&&e[v],T=_>=0&&e[_];if(r&&!T||!r&&!C){Dm(Jc(s,a),o,l);let B=pA(r?mA:hA,e.length,r,i,c);!r&&T&&(e[_].providerFactory=B),hm(o,t,n.length,0),n.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(B),a.push(B)}else{let B=rw(e[r?_:v],c,!r&&i);hm(o,t,v>-1?v:_,B)}!r&&i&&T&&e[_].componentProviders++}}}function hm(t,n,e,i){let r=ua(n),o=xD(n);if(r||o){let l=(o?_i(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let h=c.indexOf(e);h===-1?c.push(e,[i,l]):c[h+1].push(i,l)}else c.push(e,l)}}}function rw(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function mm(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function hA(t,n,e,i){return mp(this.multi,[])}function mA(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=Ds(e,e[Re],this.providerFactory.index,i);o=s.slice(0,a),mp(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],mp(r,o);return o}function mp(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function pA(t,n,e,i,r){let o=new co(t,e,k);return o.multi=[],o.index=n,o.componentProviders=0,rw(o,r,i&&!e),o}function ni(t,n=[]){return e=>{e.providersResolver=(i,r)=>uA(i,r?r(t):t,n)}}function We(t,n,e,i){return aw(Ce(),wd(),t,n,e,i)}function Ri(t,n,e,i,r){return sw(Ce(),wd(),t,n,e,i,r)}function ow(t,n){let e=t[n];return e===Gt?void 0:e}function aw(t,n,e,i,r,o){let a=n+e;return Ji(t,a,r)?jS(t,a+1,o?i.call(o,r):i(r)):ow(t,a+1)}function sw(t,n,e,i,r,o,a){let s=n+e;return As(t,s,r,o)?jS(t,s+2,a?i.call(a,r,o):i(r,o)):ow(t,s+2)}function I(t,n){let e=Ct(),i,r=t+ti;e.firstCreatePass?(i=fA(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=io(i.type,!0)),a,s=Ei(k);try{let l=Xc(!1),c=o();return Xc(l),cA(e,Ce(),r,c),c}finally{Ei(s)}}function fA(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function N(t,n,e){let i=t+ti,r=Ce(),o=Ep(r,i);return lw(r,i)?aw(r,wd(),n,o.transform,e,o):o.transform(e)}function Pt(t,n,e,i){let r=t+ti,o=Ce(),a=Ep(o,r);return lw(o,r)?sw(o,wd(),n,a.transform,e,i,a):a.transform(e,i)}function lw(t,n){return t[Re].data[n].pure}var Dr=class{full;major;minor;patch;constructor(n){this.full=n;let e=n.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},uf=new Dr("19.2.2"),pp=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Bd=(()=>{class t{compileModuleSync(e){return new tp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=Cb(e),o=K_(r.declarations).reduce((a,s)=>{let l=xr(s);return l&&a.push(new ho(l)),a},[]);return new pp(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gA=(()=>{class t{zone=b(te);changeDetectionScheduler=b(uo);applicationRef=b(Ti);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vA({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new te(ke(j({},yA()),{scheduleInRootZone:e})),[{provide:te,useFactory:t},{provide:da,multi:!0,useFactory:()=>{let i=b(gA,{optional:!0});return()=>i.initialize()}},{provide:da,multi:!0,useFactory:()=>{let i=b(bA);return()=>{i.initialize()}}},n===!0?{provide:y_,useValue:!0}:[],{provide:b_,useValue:e??v_}]}function yA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bA=(()=>{class t{subscription=new _e;initialized=!1;zone=b(te);pendingTasks=b(fo);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _A=(()=>{class t{appRef=b(Ti);taskService=b(fo);ngZone=b(te);zonelessEnabled=b(Np);tracing=b(Ea,{optional:!0});disableScheduling=b(y_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(b_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pm||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?D0:__;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,D0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SA(){return typeof $localize<"u"&&$localize.locale||ud}var Pa=new $("",{providedIn:"root",factory:()=>b(Pa,Ve.Optional|Ve.SkipSelf)||SA()});var fp=new $(""),wA=new $("");function bs(t){return!t.moduleRef}function CA(t){let n=bs(t)?t.r3Injector:t.moduleRef.injector,e=n.get(te);return e.run(()=>{bs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(Li,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),bs(t)){let o=()=>n.destroy(),a=t.platformInjector.get(fp);a.add(o),n.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(fp);a.add(o),t.moduleRef.onDestroy(()=>{jc(t.allPlatformModules,t.moduleRef),r.unsubscribe(),a.delete(o)})}return xA(i,e,()=>{let o=n.get(US);return o.runInitializers(),o.donePromise.then(()=>{let a=n.get(Pa,ud);if(nA(a||ud),!n.get(wA,!0))return bs(t)?n.get(Ti):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(bs(t)){let l=n.get(Ti);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return kA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function kA(t,n){let e=t.injector.get(Ti);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new q(-403,!1);n.push(t)}function xA(t,n,e){try{let i=e();return Ma(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Vc=null;function EA(t=[],n){return ee.create({name:n,providers:[{provide:vd,useValue:"platform"},{provide:fp,useValue:new Set([()=>Vc=null])},...t]})}function DA(t=[]){if(Vc)return Vc;let n=EA(t);return Vc=n,wP(),MA(n),n}function MA(t){let n=t.get(jp,null);Bi(t,()=>{n?.forEach(e=>e())})}var Kt=(()=>{class t{static __NG_ELEMENT_ID__=TA}return t})();function TA(t){return IA(Ai(),Ce(),(t&16)===16)}function IA(t,n,e){if(Sa(t)&&!e){let i=Tn(t.index,n);return new Ps(i,i)}else if(t.type&175){let i=n[Ni];return new Ps(i,n)}return null}var gp=class{constructor(){}supports(n){return n instanceof Map||BS(n)}create(){return new vp}},vp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||BS(n)))throw new q(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new yp(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},yp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function rb(){return new hf([new gp])}var hf=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:rb});factories;constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||rb()),deps:[[t,new bb,new fd]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new q(901,!1)}}return t})();var cw=(()=>{class t{constructor(e){}static \u0275fac=function(i){return new(i||t)(x(Ti))};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();function dw(t){dt(8);try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=DA(i),o=[vA({}),{provide:uo,useExisting:_A},...e||[]],a=new ad({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return CA({r3Injector:a.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{dt(9)}}function Qe(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Pr(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}function jd(t){let n=He(null);try{return t()}finally{He(n)}}var bp=class{[an];constructor(n){this[an]=n}destroy(){this[an].destroy()}};function mf(t,n){!n?.injector&&bd(mf);let e=n?.injector??b(ee),i=n?.manualCleanup!==!0?e.get(ka):null,r,o=e.get(Hp,null,{optional:!0}),a=e.get(uo);return o!==null&&!n?.forceRoot?(r=RA(o.view,a,t),i instanceof ed&&i._lView===o.view&&(i=null)):r=OA(t,e.get(VS),a),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new bp(r)}var uw=ke(j({},ds),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ts,run(){if(this.dirty=!1,this.hasRun&&!Jl(this))return;this.hasRun=!0;let t=i=>(this.cleanupFns??=[]).push(i),n=Xl(this),e=Kc(!1);try{this.maybeCleanup(),this.fn(t)}finally{Kc(e),Th(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),PA=ke(j({},uw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){us(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),AA=ke(j({},uw),{consumerMarkedDirty(){this.view[xe]|=8192,wa(this.view),this.notifier.notify(13)},destroy(){us(this),this.onDestroyFn(),this.maybeCleanup(),this.view[oo]?.delete(this)}});function RA(t,n,e){let i=Object.create(AA);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=e,t[oo]??=new Set,t[oo].add(i),i.consumerMarkedDirty(i),i}function OA(t,n,e){let i=Object.create(PA);return i.fn=t,i.scheduler=n,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function Vd(t,n){let e=xr(t),i=n.elementInjector||yd();return new ho(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function hw(t){let n=xr(t);if(!n)return null;let e=new ho(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var vo={appVersion:mw().version,production:!0};var bw=null;function bo(){return bw}function _w(t){bw??=t}var Hd=class{};var Se=new $(""),yf=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(LA),providedIn:"platform"})}return t})(),Sw=new $(""),LA=(()=>{class t extends yf{_location;_history;_doc=b(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bo().getBaseHref(this._doc)}onPopState(e){let i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function bf(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function pw(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function or(t){return t&&t[0]!=="?"?`?${t}`:t}var _o=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(_f),providedIn:"root"})}return t})(),ww=new $(""),_f=(()=>{class t extends _o{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return bf(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+or(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+or(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+or(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(x(yf),x(ww,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cw=(()=>{class t extends _o{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=bf(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+or(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+or(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||t)(x(yf),x(ww,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),Ar=(()=>{class t{_subject=new H;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=VA(pw(fw(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+or(i))}normalize(e){return t.stripTrailingSlash(jA(this._basePath,fw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+or(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+or(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=or;static joinWithSlash=bf;static stripTrailingSlash=pw;static \u0275fac=function(i){return new(i||t)(x(_o))};static \u0275prov=O({token:t,factory:()=>BA(),providedIn:"root"})}return t})();function BA(){return new Ar(x(_o))}function jA(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function fw(t){return t.replace(/\/index.html$/,"")}function VA(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Sf=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Sf||{});var Vi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yo(t,n){let e=cf(t),i=e[Ta.NumberSymbols][n];if(typeof i>"u"){if(n===Vi.CurrencyDecimal)return e[Ta.NumberSymbols][Vi.Decimal];if(n===Vi.CurrencyGroup)return e[Ta.NumberSymbols][Vi.Group]}return i}function kw(t,n){return cf(t)[Ta.NumberFormats][n]}var HA=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gw=22,Ud=".",Ks="0",UA=";",qA=",",pf="#";var zA="%";function xw(t,n,e,i,r,o,a=!1){let s="",l=!1;if(!isFinite(t))s=yo(e,Vi.Infinity);else{let c=YA(t);a&&(c=WA(c));let h=n.minInt,f=n.minFrac,g=n.maxFrac;if(o){let W=o.match(HA);if(W===null)throw new Error(`${o} is not a valid digit info`);let ne=W[1],Q=W[3],Ge=W[5];ne!=null&&(h=ff(ne)),Q!=null&&(f=ff(Q)),Ge!=null?g=ff(Ge):Q!=null&&f>g&&(g=f)}KA(c,f,g);let v=c.digits,_=c.integerLen,C=c.exponent,T=[];for(l=v.every(W=>!W);_<h;_++)v.unshift(0);for(;_<0;_++)v.unshift(0);_>0?T=v.splice(_,v.length):(T=v,v=[0]);let B=[];for(v.length>=n.lgSize&&B.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)B.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&B.unshift(v.join("")),s=B.join(yo(e,i)),T.length&&(s+=yo(e,r)+T.join("")),C&&(s+=yo(e,Vi.Exponential)+"+"+C)}return t<0&&!l?s=n.negPre+s+n.negSuf:s=n.posPre+s+n.posSuf,s}function $A(t,n,e){let i=kw(n,Sf.Percent),r=Ew(i,yo(n,Vi.MinusSign));return xw(t,r,n,Vi.Group,Vi.Decimal,e,!0).replace(new RegExp(zA,"g"),yo(n,Vi.PercentSign))}function GA(t,n,e){let i=kw(n,Sf.Decimal),r=Ew(i,yo(n,Vi.MinusSign));return xw(t,r,n,Vi.Group,Vi.Decimal,e)}function Ew(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(UA),r=i[0],o=i[1],a=r.indexOf(Ud)!==-1?r.split(Ud):[r.substring(0,r.lastIndexOf(Ks)+1),r.substring(r.lastIndexOf(Ks)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(pf));for(let h=0;h<l.length;h++){let f=l.charAt(h);f===Ks?e.minFrac=e.maxFrac=h+1:f===pf?e.maxFrac=h+1:e.posSuf+=f}let c=s.split(qA);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let h=r.length-e.posPre.length-e.posSuf.length,f=o.indexOf(pf);e.negPre=o.substring(0,f).replace(/'/g,""),e.negSuf=o.slice(f+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function WA(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function YA(t){let n=Math.abs(t)+"",e=0,i,r,o,a,s;for((r=n.indexOf(Ud))>-1&&(n=n.replace(Ud,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Ks;o++);if(o===(s=n.length))i=[0],r=1;else{for(s--;n.charAt(s)===Ks;)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(n.charAt(o))}return r>gw&&(i=i.splice(0,gw-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function KA(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(n,r),e),a=o+t.integerLen,s=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(let f=a;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let f=1;f<a;f++)i[f]=0}if(s>=5)if(a-1<0){for(let f=0;f>a;f--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=n+t.integerLen,h=i.reduceRight(function(f,g,v,_){return g=g+f,_[v]=g<10?g:g-10,l&&(_[v]===0&&v>=c?_.pop():l=!1),g>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}function ff(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Dw(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var gf=/\s+/,vw=[],ut=(()=>{class t{_ngEl;_renderer;initialClasses=vw;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(gf):vw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(gf):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(gf).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(k(me),k(Wt))};static \u0275dir=Me({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function wf(t,n){return new q(2100,!1)}var QA=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,nt=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw wf(t,e);return e.replace(QA,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=nr({name:"titlecase",type:t,pure:!0})}return t})();function ZA(t,n){return{key:t,value:n}}var Aa=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=yw;transform(e,i=yw){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(ZA(a.key,a.currentValue))})),(r||o)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||t)(k(hf,16))};static \u0275pipe=nr({name:"keyvalue",type:t,pure:!1})}return t})();function yw(t,n){let e=t.key,i=n.key;if(e===i)return 0;if(e==null)return 1;if(i==null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var On=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Tw(e))return null;r||=this._locale;try{let o=Iw(e);return GA(o,r,i)}catch(o){throw wf(t,o.message)}}static \u0275fac=function(i){return new(i||t)(k(Pa,16))};static \u0275pipe=nr({name:"number",type:t,pure:!0})}return t})(),Mw=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Tw(e))return null;r||=this._locale;try{let o=Iw(e);return $A(o,r,i)}catch(o){throw wf(t,o.message)}}static \u0275fac=function(i){return new(i||t)(k(Pa,16))};static \u0275pipe=nr({name:"percent",type:t,pure:!0})}return t})();function Tw(t){return!(t==null||t===""||t!==t)}function Iw(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var zd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})(),Cf="browser",XA="server";function Pw(t){return t===Cf}function kf(t){return t===XA}var $d=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>new vf(b(Se),window)})}return t})(),vf=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=JA(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function JA(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}r=i.nextNode()}}return null}var qd=class{};function Rr(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Df;try{Df=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Df=!1}var St=(()=>{class t{_platformId=b(Mr);isBrowser=this._platformId?Pw(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Df)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qs;function eR(){if(Qs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qs=!0}))}finally{Qs=Qs||!1}return Qs}function Zs(t){return eR()?t:!!t.capture}var mn=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(mn||{}),Gd,So;function Wd(){if(So==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return So=!1,So;if("scrollBehavior"in document.documentElement.style)So=!0;else{let t=Element.prototype.scrollTo;t?So=!/\{\s*\[native code\]\s*\}/.test(t.toString()):So=!1}}return So}function Ra(){if(typeof document!="object"||!document)return mn.NORMAL;if(Gd==null){let t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),Gd=mn.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Gd=t.scrollLeft===0?mn.NEGATED:mn.INVERTED),t.remove()}return Gd}var Ef;function tR(){if(Ef==null){let t=typeof document<"u"?document.head:null;Ef=!!(t&&(t.createShadowRoot||t.attachShadow))}return Ef}function Oa(t){if(tR()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Xs(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function ci(t){return t.composedPath?t.composedPath()[0]:t.target}function Mf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function At(t,n,e,i,r){let o=parseInt(uf.major),a=parseInt(uf.minor);return o>19||o===19&&a>0||o===0&&a===0?t.listen(n,e,i,r):(n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)})}function ar(t,n=0){return iR(t)?Number(t):arguments.length===2?n:0}function iR(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Or(t){return Array.isArray(t)?t:[t]}function Ft(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Qt(t){return t instanceof me?t.nativeElement:t}var Aw=new Set,wo,nR=(()=>{class t{_platform=b(St);_nonce=b(Hs,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):oR}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&rR(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rR(t,n){if(!Aw.has(t))try{wo||(wo=document.createElement("style"),n&&wo.setAttribute("nonce",n),wo.setAttribute("type","text/css"),document.head.appendChild(wo)),wo.sheet&&(wo.sheet.insertRule(`@media ${t} {body{ }}`,0),Aw.add(t))}catch(e){console.error(e)}}function oR(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Yd=(()=>{class t{_mediaMatcher=b(nR);_zone=b(te);_queries=new Map;_destroySubject=new H;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Rw(Or(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Rw(Or(e)).map(a=>this._registerQuery(a).observable),o=zn(r);return o=_r(o.pipe(mt(1)),o.pipe(Xr(1),cn(0))),o.pipe(J(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new le(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Dt(i),J(({matches:a})=>({query:e,matches:a})),ct(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rw(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var Ow={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Kd=new WeakMap,Hi=(()=>{class t{_appRef;_injector=b(ee);_environmentInjector=b(Lt);load(e){let i=this._appRef=this._appRef||this._injector.get(Ti),r=Kd.get(i);r||(r={loaders:new Set,refs:[]},Kd.set(i,r),i.onDestroy(()=>{Kd.get(i)?.refs.forEach(o=>o.destroy()),Kd.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Vd(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return t})();function aR(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}var Fw=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nw=(()=>{class t{_mutationObserverFactory=b(Fw);_observedElements=new Map;_ngZone=b(te);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Qt(e);return new le(r=>{let a=this._observeElement(i).pipe(J(s=>s.filter(l=>!aR(l))),Pe(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new H,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lw=(()=>{class t{_contentObserver=b(Nw);_elementRef=b(me);event=new de;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=ar(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(cn(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Qe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),Bw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[Fw]})}return t})();var xR=200,Rf=class{_letterKeyStream=new H;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new H;selectedItem=this._selectedItem;constructor(n,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:xR;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(st(e=>this._pressedLetters.push(e)),cn(n),Pe(()=>this._pressedLetters.length>0),J(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},Of=class{_items;_activeItemIndex=-1;_activeItem=go(null);_wrap=!1;_typeaheadSubscription=_e.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,e){this._items=n,n instanceof Er?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):Cd(n)&&(this._effectRef=mf(()=>this._itemsChanged(n()),{injector:e}))}tabOut=new H;change=new H;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Rf(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||Rr(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+n*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return Cd(this._items)?this._items():this._items instanceof Er?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Xd=class extends Of{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};var Nf=(()=>{class t{_platform=b(St);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return DR(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=ER(FR(e));if(i&&(jw(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=jw(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!RR(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return OR(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ER(t){try{return t.frameElement}catch{return null}}function DR(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function MR(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function TR(t){return PR(t)&&t.type=="hidden"}function IR(t){return AR(t)&&t.hasAttribute("href")}function PR(t){return t.nodeName.toLowerCase()=="input"}function AR(t){return t.nodeName.toLowerCase()=="a"}function Uw(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function jw(t){if(!Uw(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function RR(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function OR(t){return TR(t)?!1:MR(t)||IR(t)||t.hasAttribute("contenteditable")||Uw(t)}function FR(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Ff=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,e,i,r,o=!1,a){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?pi(n,{injector:this._injector}):setTimeout(n)}},qw=(()=>{class t{_checker=b(Nf);_ngZone=b(te);_document=b(Se);_injector=b(ee);constructor(){b(Hi).load(Tf)}create(e,i=!1){return new Ff(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Js(t){return t.buttons===0||t.detail===0}function el(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var NR=new $("cdk-input-modality-detector-options"),LR={ignoreKeys:[18,17,224,91,16]},zw=650,If={passive:!0,capture:!0},BR=(()=>{class t{_platform=b(St);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new vt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ci(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<zw||(this._modality.next(Js(e)?"keyboard":"mouse"),this._mostRecentTarget=ci(e))};_onTouchstart=e=>{if(el(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ci(e)};constructor(){let e=b(te),i=b(Se),r=b(NR,{optional:!0});if(this._options=j(j({},LR),r),this.modalityDetected=this._modality.pipe(Xr(1)),this.modalityChanged=this.modalityDetected.pipe(ia()),this._platform.isBrowser){let o=b(Mt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[At(o,i,"keydown",this._onKeydown,If),At(o,i,"mousedown",this._onMousedown,If),At(o,i,"touchstart",this._onTouchstart,If)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jR=new $("liveAnnouncerElement",{providedIn:"root",factory:VR});function VR(){return null}var HR=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),UR=0,$w=(()=>{class t{_ngZone=b(te);_defaultOptions=b(HR,{optional:!0});_liveElement;_document=b(Se);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=b(jR,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${UR++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zd=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Zd||{}),qR=new $("cdk-focus-monitor-default-options"),Qd=Zs({passive:!0,capture:!0}),Fa=(()=>{class t{_ngZone=b(te);_platform=b(St);_inputModalityDetector=b(BR);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=b(Se,{optional:!0});_stopInputModalityDetector=new H;constructor(){let e=b(qR,{optional:!0});this._detectionMode=e?.detectionMode||Zd.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=ci(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Qt(e);if(!this._platform.isBrowser||r.nodeType!==1)return ie();let o=Oa(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new H,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=Qt(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Qt(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Zd.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Zd.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?zw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=ci(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qd),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qd)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ct(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qd),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qd),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gw=(()=>{class t{_elementRef=b(me);_focusMonitor=b(Fa);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new de;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})(),Co=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Co||{}),Vw="cdk-high-contrast-black-on-white",Hw="cdk-high-contrast-white-on-black",Pf="cdk-high-contrast-active",Lf=(()=>{class t{_platform=b(St);_hasCheckedHighContrastMode;_document=b(Se);_breakpointSubscription;constructor(){this._breakpointSubscription=b(Yd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Co.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Co.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Co.BLACK_ON_WHITE}return Co.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Pf,Vw,Hw),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Co.BLACK_ON_WHITE?e.add(Pf,Vw):i===Co.WHITE_ON_BLACK&&e.add(Pf,Hw)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ww=(()=>{class t{constructor(){b(Lf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[Bw]})}return t})(),Af={},Ui=(()=>{class t{_appId=b(Vs);getId(e){return this._appId!=="ng"&&(e+=this._appId),Af.hasOwnProperty(e)||(Af[e]=0),`${e}${Af[e]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zR=new $("cdk-dir-doc",{providedIn:"root",factory:$R});function $R(){return b(Se)}var GR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function WR(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?GR.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var qi=(()=>{class t{value="ltr";change=new de;constructor(){let e=b(zR,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=WR(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fr=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();var Fn=(()=>{class t{constructor(){b(Lf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[Fr,Fr]})}return t})();var iu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return t})();var tn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(tn||{}),Vf=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=tn.HIDDEN;constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Yw=Zs({passive:!0,capture:!0}),Hf=class{_events=new Map;addHandler(n,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Yw)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,Yw)))}_delegateEventHandler=n=>{let e=ci(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}},eu={enterDuration:225,exitDuration:150},YR=800,Kw=Zs({passive:!0,capture:!0}),Qw=["mousedown","touchstart"],Zw=["mouseup","mouseleave","touchend","touchcancel"],KR=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return t})(),tu=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Hf;constructor(n,e,i,r,o){this._target=n,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Qt(i)),o&&o.get(Hi).load(KR)}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=j(j({},eu),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||QR(n,e,r),s=n-r.left,l=e-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${s-a}px`,h.style.top=`${l-a}px`,h.style.height=`${a*2}px`,h.style.width=`${a*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);let f=window.getComputedStyle(h),g=f.transitionProperty,v=f.transitionDuration,_=g==="none"||v==="0s"||v==="0s, 0s"||r.width===0&&r.height===0,C=new Vf(this,h,i,_);h.style.transform="scale3d(1, 1, 1)",C.state=tn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let T=null;return!_&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let B=()=>{T&&(T.fallbackTimer=null),clearTimeout(ne),this._finishRippleTransition(C)},W=()=>this._destroyRipple(C),ne=setTimeout(W,c+100);h.addEventListener("transitionend",B),h.addEventListener("transitioncancel",W),T={onTransitionEnd:B,onTransitionCancel:W,fallbackTimer:ne}}),this._activeRipples.set(C,T),(_||!c)&&this._finishRippleTransition(C),C}fadeOutRipple(n){if(n.state===tn.FADING_OUT||n.state===tn.HIDDEN)return;let e=n.element,i=j(j({},eu),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=tn.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=Qt(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Qw.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Zw.forEach(e=>{this._triggerElement.addEventListener(e,this,Kw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===tn.FADING_IN?this._startFadeOutTransition(n):n.state===tn.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=tn.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=tn.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=Js(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+YR;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!el(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===tn.VISIBLE||n.config.terminateOnPointerUp&&n.state===tn.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(Qw.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(Zw.forEach(e=>n.removeEventListener(e,this,Kw)),this._pointerUpEventsRegistered=!1))}};function QR(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var Uf=new $("mat-ripple-global-options"),qf=(()=>{class t{_elementRef=b(me);_animationMode=b(ii,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=b(te),i=b(St),r=b(Uf,{optional:!0}),o=b(ee);this._globalOptions=r||{},this._rippleRenderer=new tu(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,j(j({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&ft("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var ZR={capture:!0},XR=["focus","mousedown","mouseenter","touchstart"],Bf="mat-ripple-loader-uninitialized",jf="mat-ripple-loader-class-name",Xw="mat-ripple-loader-centered",Jd="mat-ripple-loader-disabled",Jw=(()=>{class t{_document=b(Se);_animationMode=b(ii,{optional:!0});_globalRippleOptions=b(Uf,{optional:!0});_platform=b(St);_ngZone=b(te);_injector=b(ee);_eventCleanups;_hosts=new Map;constructor(){let e=b(Mt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>XR.map(i=>At(e,this._document,i,this._onInteraction,ZR)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(Bf,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(jf))&&e.setAttribute(jf,i.className||""),i.centered&&e.setAttribute(Xw,""),i.disabled&&e.setAttribute(Jd,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(Jd,""):e.removeAttribute(Jd)}_onInteraction=e=>{let i=ci(e);if(i instanceof HTMLElement){let r=i.closest(`[${Bf}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(jf)),e.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,a=r?0:o?.animation?.enterDuration??eu.enterDuration,s=r?0:o?.animation?.exitDuration??eu.exitDuration,l={rippleDisabled:r||o?.disabled||e.hasAttribute(Jd),rippleConfig:{centered:e.hasAttribute(Xw),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:s}}},c=new tu(l,this._ngZone,i,this._platform,this._injector),h=!l.rippleDisabled;h&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:h}),e.removeAttribute(Bf)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $f=class{};var Na=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(n,e){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Gf=class{encodeKey(n){return eC(n)}encodeValue(n){return eC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function eO(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var tO=/%(\d[a-f0-9])/gi,iO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eC(t){return encodeURIComponent(t).replace(tO,(n,e)=>iO[e]??n)}function nu(t){return`${t}`}var Nr=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Gf,n.fromString){if(n.fromObject)throw new q(2805,!1);this.map=eO(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(nu):[nu(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(nu(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(nu(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Wf=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function nO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function iC(t){return typeof Blob<"u"&&t instanceof Blob}function nC(t){return typeof FormData<"u"&&t instanceof FormData}function rO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var oO="X-Request-URL",oC="text/plain",aC="application/json",w7=`${aC}, ${oC}, */*`,tl=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,i,r){this.url=e,this.method=n.toUpperCase();let o;if(nO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Na,this.context??=new Wf,!this.params)this.params=new Nr,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tC(this.body)||iC(this.body)||nC(this.body)||rO(this.body)?this.body:this.body instanceof Nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nC(this.body)?null:iC(this.body)?this.body.type||null:tC(this.body)?null:typeof this.body=="string"?oC:this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?aC:null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,a=n.body!==void 0?n.body:this.body,s=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,h=n.params||this.params,f=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((g,v)=>g.set(v,n.setHeaders[v]),c)),n.setParams&&(h=Object.keys(n.setParams).reduce((g,v)=>g.set(v,n.setParams[v]),h)),new t(e,i,a,{params:h,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:s,transferCache:o})}},sC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sC||{}),Yf=class{headers;status;statusText;url;ok;type;constructor(n,e=200,i="OK"){this.headers=n.headers||new Na,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}};var Kf=class t extends Yf{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=sC.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}};function zf(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var lC=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof tl)o=e;else{let l;r.headers instanceof Na?l=r.headers:l=new Na(r.headers);let c;r.params&&(r.params instanceof Nr?c=r.params:c=new Nr({fromObject:r.params})),o=new tl(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=ie(o).pipe(Gn(l=>this.handler.handle(l)));if(e instanceof tl||r.observe==="events")return a;let s=a.pipe(Pe(l=>l instanceof Kf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new q(2806,!1);return l.body}));case"blob":return s.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new q(2807,!1);return l.body}));case"text":return s.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new q(2808,!1);return l.body}));case"json":default:return s.pipe(J(l=>l.body))}case"response":return s;default:throw new q(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Nr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,zf(r,i))}post(e,i,r={}){return this.request("POST",e,zf(r,i))}put(e,i,r={}){return this.request("PUT",e,zf(r,i))}static \u0275fac=function(i){return new(i||t)(x($f))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var C7=RegExp(`^${oO}:`,"m");var Zf=class extends Hd{supportsDOMEvents=!0},Xf=class t extends Zf{static makeCurrent(){_w(new t)}onAndCancel(n,e,i,r){return n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=sO();return e==null?null:lO(e)}resetBaseElement(){il=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Dw(document.cookie,n)}},il=null;function sO(){return il=il||document.querySelector("base"),il?il.getAttribute("href"):null}function lO(t){return new URL(t,document.baseURI).pathname}var Jf=class{addToWindow(n){ui.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new q(5103,!1);return o},ui.getAllAngularTestabilities=()=>n.getAllTestabilities(),ui.getAllAngularRootElements=()=>n.getAllRootElements();let e=i=>{let r=ui.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};ui.frameworkStabilizers||(ui.frameworkStabilizers=[]),ui.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,i){if(e==null)return null;let r=n.getTestability(e);return r??(i?bo().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},cO=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),eg=new $(""),mC=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(x(eg),x(te))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),ou=class{_doc;constructor(n){this._doc=n}manager},ru="ng-app-id";function cC(t){for(let n of t)n.remove()}function dC(t,n){let e=n.createElement("style");return e.textContent=t,e}function dO(t,n,e,i){let r=t.head?.querySelectorAll(`style[${ru}="${n}"],link[${ru}="${n}"]`);if(r)for(let o of r)o.removeAttribute(ru),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function tg(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var pC=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=kf(o),dO(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,dC);i?.forEach(r=>this.addUsage(r,this.external,tg))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(cC(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])cC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,dC(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,tg(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(ru,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(x(Se),x(Vs),x(Hs,8),x(Mr))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),Qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ng=/%COMP%/g;var fC="%COMP%",uO=`_nghost-${fC}`,hO=`_ngcontent-${fC}`,mO=!0,pO=new $("",{providedIn:"root",factory:()=>mO});function fO(t){return hO.replace(ng,t)}function gO(t){return uO.replace(ng,t)}function gC(t,n){return n.map(e=>e.replace(ng,t))}var au=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,a,s,l,c=null,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=h,this.platformIsServer=kf(s),this.defaultRenderer=new nl(e,a,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===In.ShadowDom&&(i=ke(j({},i),{encapsulation:In.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof su?r.applyToHost(e):r instanceof rl&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(i.encapsulation){case In.Emulated:o=new su(l,c,i,this.appId,h,a,s,f,g);break;case In.ShadowDom:return new ig(l,c,e,i,a,s,this.nonce,f,g);default:o=new rl(l,c,i,h,a,s,f,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(x(mC),x(pC),x(Vs),x(pO),x(Se),x(Mr),x(te),x(Hs),x(Ea,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),nl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,r,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Qf[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(uC(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(uC(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new q(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Qf[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Qf[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Zn.DashCase|Zn.Important)?n.style.setProperty(e,i,r&Zn.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Zn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,r){if(typeof n=="string"&&(n=bo().getGlobalEventTarget(this.doc,n),!n))throw new q(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,r)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function uC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ig=class extends nl{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,i,r,o,a,s,l,c){super(n,o,a,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=gC(r.id,h);for(let g of h){let v=document.createElement("style");s&&v.setAttribute("nonce",s),v.textContent=g,this.shadowRoot.appendChild(v)}let f=r.getExternalStyles?.();if(f)for(let g of f){let v=tg(g,o);s&&v.setAttribute("nonce",s),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rl=class extends nl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,r,o,a,s,l,c){super(n,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=c?gC(c,h):h,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},su=class extends rl{contentAttr;hostAttr;constructor(n,e,i,r,o,a,s,l,c){let h=r+"-"+i.id;super(n,e,i,o,a,s,l,c,h),this.contentAttr=fO(h),this.hostAttr=gO(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},vO=(()=>{class t extends ou{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(x(Se))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),hC=["alt","control","meta","shift"],yO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_O=(()=>{class t extends ou{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=t.parseEventName(i),s=t.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bo().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),hC.forEach(c=>{let h=i.indexOf(c);h>-1&&(i.splice(h,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=yO[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),hC.forEach(a=>{if(a!==r){let s=bO[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||t)(x(Se))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function vC(t,n){return dw(j({rootComponent:t},SO(n)))}function SO(t){return{appProviders:[...yC,...t?.providers??[]],platformProviders:xO}}function wO(){Xf.makeCurrent()}function CO(){return new Li}function kO(){return T_(document),document}var xO=[{provide:Mr,useValue:Cf},{provide:jp,useValue:wO,multi:!0},{provide:Se,useFactory:kO,deps:[]}];var EO=[{provide:Gs,useClass:Jf,deps:[]},{provide:sf,useClass:Rd,deps:[te,Od,Gs]},{provide:Rd,useClass:Rd,deps:[te,Od,Gs]}],yC=[{provide:vd,useValue:"root"},{provide:Li,useFactory:CO,deps:[]},{provide:eg,useClass:vO,multi:!0,deps:[Se]},{provide:eg,useClass:_O,multi:!0,deps:[Se]},au,pC,mC,{provide:Mt,useExisting:au},{provide:qd,useClass:cO,deps:[]},[]],rg=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[...yC,...EO],imports:[zd,cw]})}return t})();var bC=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(x(Se))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var og=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=x(DO),r},providedIn:"root"})}return t})(),DO=(()=>{class t extends og{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case fi.NONE:return i;case fi.HTML:return Tr(i,"HTML")?en(i):Up(this._doc,String(i)).toString();case fi.STYLE:return Tr(i,"Style")?en(i):i;case fi.SCRIPT:if(Tr(i,"Script"))return en(i);throw new q(5200,!1);case fi.URL:return Tr(i,"URL")?en(i):xd(String(i));case fi.RESOURCE_URL:if(Tr(i,"ResourceURL"))return en(i);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(e){return L_(e)}bypassSecurityTrustStyle(e){return B_(e)}bypassSecurityTrustScript(e){return j_(e)}bypassSecurityTrustUrl(e){return V_(e)}bypassSecurityTrustResourceUrl(e){return H_(e)}static \u0275fac=function(i){return new(i||t)(x(Se))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var MO=["*"],lu;function TO(){if(lu===void 0&&(lu=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(lu=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return lu}function ol(t){return TO()?.createHTML(t)||t}function SC(t){return Error(`Unable to find icon with the name "${t}"`)}function IO(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function wC(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function CC(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var sr=class{url;svgText;options;svgElement;constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}},PO=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new sr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let a=this._sanitizer.sanitize(fi.HTML,r);if(!a)throw CC(r);let s=ol(a);return this._addSvgIconConfig(e,i,new sr("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new sr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(fi.HTML,i);if(!o)throw CC(i);let a=ol(o);return this._addSvgIconSetConfig(e,new sr("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(fi.RESOURCE_URL,e);if(!i)throw wC(e);let r=this._cachedIconsByUrl.get(i);return r?ie(cu(r)):this._loadSvgIconFromConfig(new sr(e,null)).pipe(st(o=>this._cachedIconsByUrl.set(i,o)),J(o=>cu(o)))}getNamedSvgIcon(e,i=""){let r=kC(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):yr(SC(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ie(cu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(J(i=>cu(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return ie(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(xn(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(fi.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),ie(null)})));return qh(o).pipe(J(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw SC(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(st(i=>e.svgText=i),J(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ie(null):this._fetchIcon(e).pipe(st(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(ol("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(ol("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw IO();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(fi.RESOURCE_URL,i);if(!a)throw wC(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(J(c=>ol(c)),wr(()=>this._inProgressUrlFetches.delete(a)),ys());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(kC(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return AO(o)?new sr(o.url,null,o.options):new sr(o,null)}}static \u0275fac=function(i){return new(i||t)(x(lC,8),x(og),x(Se,8),x(Li))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cu(t){return t.cloneNode(!0)}function kC(t,n){return t+":"+n}function AO(t){return!!(t.url&&t.options)}var RO=new $("MAT_ICON_DEFAULT_OPTIONS"),OO=new $("mat-icon-location",{providedIn:"root",factory:FO});function FO(){let t=b(Se),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var xC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],NO=xC.map(t=>`[${t}]`).join(", "),LO=/^url\(['"]?#(.*?)['"]?\)$/,Ye=(()=>{class t{_elementRef=b(me);_iconRegistry=b(PO);_location=b(OO);_errorHandler=b(Li);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=_e.EMPTY;constructor(){let e=b(new Ms("aria-hidden"),{optional:!0}),i=b(RO,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(NO),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)xC.forEach(a=>{let s=i[o],l=s.getAttribute(a),c=l?l.match(LO):null;if(c){let h=r.get(s);h||(h=[],r.set(s,h)),h.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(mt(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Be("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ir(r.color?"mat-"+r.color:""),ft("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Qe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:MO,decls:1,vars:0,template:function(i,r){i&1&&(ji(),Si(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),EC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[Fn,Fn]})}return t})();var al=class{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},pn=class extends al{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.projectableNodes=o}},fn=class extends al{templateRef;viewContainerRef;context;injector;constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},ag=class extends al{element;constructor(n){super(),this.element=n instanceof me?n.nativeElement:n}},Lr=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof pn)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof fn)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof ag)return this._attachedPortal=n,this.attachDomPortal(n)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var du=class extends Lr{outletElement;_appRef;_defaultInjector;_document;constructor(n,e,i,r,o){super(),this.outletElement=n,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(n){let e;if(n.viewContainerRef){let i=n.injector||n.viewContainerRef.injector,r=i.get(Xn,null,{optional:!0})||void 0;e=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=n.injector||this._defaultInjector||ee.NULL,o=r.get(Lt,i.injector);e=Vd(n.component,{elementInjector:r,environmentInjector:o,projectableNodes:n.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=n,e}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}attachDomPortal=n=>{let e=n.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var DC=(()=>{class t extends fn{constructor(){let e=b(zt),i=b(li);super(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[It]})}return t})();var gn=(()=>{class t extends Lr{_moduleRef=b(Xn,{optional:!0});_document=b(Se);_viewContainerRef=b(li);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new de;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[It]})}return t})();var Br=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();var Ae=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ae||{}),Nn="*";function La(t,n){return{type:Ae.Trigger,name:t,definitions:n,options:{}}}function ko(t,n=null){return{type:Ae.Animate,styles:n,timings:t}}function MC(t,n=null){return{type:Ae.Sequence,steps:t,options:n}}function wi(t){return{type:Ae.Style,styles:t,offset:null}}function uu(t,n,e){return{type:Ae.State,name:t,styles:n,options:e}}function hu(t){return{type:Ae.Keyframes,steps:t}}function xo(t,n,e=null){return{type:Ae.Transition,expr:t,animation:n,options:e}}var jr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,e=0){this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},sl=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},mu="!";var TC=(()=>{class t{constructor(){this.text=""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-tooltip"]],inputs:{text:"text"},decls:1,vars:2,consts:[[3,"innerHTML"]],template:function(i,r){i&1&&F(0,"div",0),i&2&&(K("innerHTML",r.text,Ed),R("@tooltip",void 0))},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{background-color:#292929;border:1px solid white;color:#fff;padding:.5rem 1rem;border-radius:4px}"],data:{animation:[La("tooltip",[xo(":enter",[wi({opacity:0}),ko(300,wi({opacity:1}))]),xo(":leave",[ko(300,wi({opacity:0}))])])]}})}}return t})();var BO=20,ll=(()=>{class t{_ngZone=b(te);_platform=b(St);_renderer=b(Mt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new H;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=BO){return this._platform.isBrowser?new le(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(Dc(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ie()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Pe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Qt(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IC=(()=>{class t{elementRef=b(me);scrollDispatcher=b(ll);ngZone=b(te);dir=b(qi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new H;_renderer=b(Wt);_cleanupScroll;_elementScrolled=new H;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ra()!=mn.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ra()==mn.INVERTED?e.left=e.right:Ra()==mn.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Wd()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&Ra()==mn.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Ra()==mn.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),jO=20,Eo=(()=>{class t{_platform=b(St);_listeners;_viewportSize;_change=new H;_document=b(Se,{optional:!0});constructor(){let e=b(te),i=b(Mt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=jO){return e>0?this._change.pipe(Dc(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})(),sg=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[Fr,pu,Fr,pu]})}return t})();var PC=Wd(),lg=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,e){this._viewportRuler=n,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Ft(-this._previousScrollPosition.left),n.style.top=Ft(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),PC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PC&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var cg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(Pe(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},fu=class{enable(){}disable(){}attach(){}};function dg(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,o=t.right<e.left,a=t.left>e.right;return i||r||o||a})}function AC(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,o=t.left<e.left,a=t.right>e.right;return i||r||o||a})}var ug=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dg(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},VO=(()=>{class t{_scrollDispatcher=b(ll);_viewportRuler=b(Eo);_ngZone=b(te);_document=b(Se);constructor(){}noop=()=>new fu;close=e=>new cg(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new lg(this._viewportRuler,this._document);reposition=e=>new ug(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mo=class{positionStrategy;scrollStrategy=new fu;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var hg=class{connectionPair;scrollableViewProperties;constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var BC=(()=>{class t{_attachedOverlays=[];_document=b(Se);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HO=(()=>{class t extends BC{_ngZone=b(te);_renderer=b(Mt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UO=(()=>{class t extends BC{_platform=b(St);_ngZone=b(te);_renderer=b(Mt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[At(this._renderer,i,"pointerdown",this._pointerDownListener,r),At(this._renderer,i,"click",this._clickListener,r),At(this._renderer,i,"auxclick",this._clickListener,r),At(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=ci(e)};_clickListener=e=>{let i=ci(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(RC(s.overlayElement,i)||RC(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RC(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=n;for(;i;){if(i===t)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var jC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),gu=(()=>{class t{_platform=b(St);_containerElement;_document=b(Se);_styleLoader=b(Hi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Mf()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),Mf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(jC)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mg=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,e,i,r){this._renderer=e,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Ba=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new H;_attachments=new H;_detachments=new H;_positionStrategy;_scrollStrategy;_locationChanges=_e.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new H;_outsidePointerEvents=new H;_renders=new H;_afterRenderRef;_afterNextRenderRef;constructor(n,e,i,r,o,a,s,l,c,h=!1,f,g){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=f,this._renderer=g,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=jd(()=>Us(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=pi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=j(j({},this._config),n),this._updateElementSize()}setDirection(n){this._config=ke(j({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=Ft(this._config.width),n.height=Ft(this._config.height),n.minWidth=Ft(this._config.minWidth),n.minHeight=Ft(this._config.minHeight),n.maxWidth=Ft(this._config.maxWidth),n.maxHeight=Ft(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new mg(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,e,i){let r=Or(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let n=this._renders.pipe(ct(Et(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n?.disable(),n?.detach?.()}},OC="cdk-overlay-connected-position-bounding-box",qO=/([A-Za-z%]+)$/,pg=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new H;_resizeSubscription=_e.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(OC),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(n,r,s),c=this._getOverlayPoint(l,e,s),h=this._getOverlayFit(c,e,i,s);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(h,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<h.visibleArea)&&(a={overlayFit:h,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Do(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let a=this._isRtl()?n.right:n.left,s=this._isRtl()?n.left:n.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=n.top+n.height/2:o=i.originY=="top"?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){let o=NC(e),{x:a,y:s}=n,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let h=0-a,f=a+o.width-i.width,g=0-s,v=s+o.height-i.height,_=this._subtractOverflows(o.width,h,f),C=this._subtractOverflows(o.height,g,v),T=_*C;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=FC(this._overlayRef.getConfig().minHeight),s=FC(this._overlayRef.getConfig().minWidth),l=n.fitsInViewportVertically||a!=null&&a<=r,c=n.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=NC(e),o=this._viewportRect,a=Math.max(n.x+r.width-o.width,0),s=Math.max(n.y+r.height-o.height,0),l=Math.max(o.top-i.top-n.y,0),c=Math.max(o.left-i.left-n.x,0),h=0,f=0;return r.width<=o.width?h=c||-a:h=n.x<this._viewportMargin?o.left-i.left-n.x:0,r.height<=o.height?f=l||-s:f=n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:h,y:f},{x:n.x+h,y:n.y+f}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!zO(this._lastScrollVisibility,i)){let r=new hg(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=n.y,o=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-n.y+this._viewportMargin*2,o=i.height-s+this._viewportMargin;else{let v=Math.min(i.bottom-n.y+i.top,n.y),_=this._lastBoundingBoxSize.height;o=v*2,a=n.y-v,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-_/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,h,f,g;if(c)g=i.width-n.x+this._viewportMargin*2,h=n.x-this._viewportMargin;else if(l)f=n.x,h=i.right-n.x;else{let v=Math.min(i.right-n.x+i.left,n.x),_=this._lastBoundingBoxSize.width;h=v*2,f=n.x-v,h>_&&!this._isInitialRender&&!this._growAfterOpen&&(f=n.x-_/2)}return{top:a,left:f,bottom:s,right:g,width:h,height:o}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Ft(i.height),r.top=Ft(i.top),r.bottom=Ft(i.bottom),r.width=Ft(i.width),r.left=Ft(i.left),r.right=Ft(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ft(o)),a&&(r.maxWidth=Ft(a))}this._lastBoundingBoxSize=i,Do(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Do(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Do(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Do(i,this._getExactOverlayY(e,n,h)),Do(i,this._getExactOverlayX(e,n,h))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Ft(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ft(a.maxWidth):o&&(i.maxWidth="")),Do(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=Ft(o.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=n.overlayX==="end"?"left":"right":a=n.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=Ft(o.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AC(n,i),isOriginOutsideView:dg(n,i),isOverlayClipped:AC(e,i),isOverlayOutsideView:dg(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Or(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof me)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}};function Do(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function FC(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(qO);return!e||e==="px"?parseFloat(n):null}return t||null}function NC(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function zO(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var LC="cdk-global-overlay-wrapper",fg=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(LC),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),h=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",v="",_="",C="";l?C="flex-start":h==="center"?(C="center",g?_=f:v=f):g?h==="left"||h==="end"?(C="flex-end",v=f):(h==="right"||h==="start")&&(C="flex-start",_=f):h==="left"||h==="start"?(C="flex-start",v=f):(h==="right"||h==="end")&&(C="flex-end",_=f),n.position=this._cssPosition,n.marginLeft=l?"0":v,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":_,e.justifyContent=C,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(LC),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},gg=(()=>{class t{_viewportRuler=b(Eo);_document=b(Se);_platform=b(St);_overlayContainer=b(gu);constructor(){}global(){return new fg}flexibleConnectedTo(e){return new pg(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zi=(()=>{class t{scrollStrategies=b(VO);_overlayContainer=b(gu);_positionBuilder=b(gg);_keyboardDispatcher=b(HO);_injector=b(ee);_ngZone=b(te);_document=b(Se);_directionality=b(qi);_location=b(Ar);_outsideClickDispatcher=b(UO);_animationsModuleType=b(ii,{optional:!0});_idGenerator=b(Ui);_renderer=b(Mt).createRenderer(null,null);_appRef;_styleLoader=b(Hi);constructor(){}create(e){this._styleLoader.load(jC);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new Mo(e);return a.direction=a.direction||this._directionality.value,new Ba(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Lt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ti)),new du(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $O=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=b(zi);return()=>t.scrollStrategies.reposition()}});function GO(t){return()=>t.scrollStrategies.reposition()}var WO={provide:$O,deps:[zi],useFactory:GO},cl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[zi,WO],imports:[Fr,Br,sg,sg]})}return t})();var Fe=(()=>{class t{constructor(e,i,r){this.overlay=e,this.overlayPositionBuilder=i,this.elementRef=r,this.text=""}ngOnInit(){let e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-8},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:8}]);this.overlayRef=this.overlay.create({positionStrategy:e})}show(){let e=this.overlayRef.attach(new pn(TC));e.instance.text=this.text}hide(){this.overlayRef.detach()}static{this.\u0275fac=function(i){return new(i||t)(k(zi),k(gg),k(me))}}static{this.\u0275dir=Me({type:t,selectors:[["","tooltip",""]],hostBindings:function(i,r){i&1&&w("mouseenter",function(){return r.show()})("mouseout",function(){return r.hide()})},inputs:{text:[0,"tooltip","text"]}})}}return t})();function KO(t,n){}var Vr=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var bg=(()=>{class t extends Lr{_elementRef=b(me);_focusTrapFactory=b(qw);_config;_interactivityChecker=b(Nf);_ngZone=b(te);_overlayRef=b(Ba);_focusMonitor=b(Fa);_renderer=b(Wt);_platform=b(St);_document=b(Se,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=b(Kt);_injector=b(ee);_isDestroyed=!1;constructor(){super(),this._config=b(Vr,{optional:!0})||new Vr,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||pi(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Xs(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,i=Xs();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Xs()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&kt(gn,7),i&2){let o;Xe(o=Je())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Be("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[It],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&L(0,KO,0,0,"ng-template",0)},dependencies:[gn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),dl=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new H;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Rr(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}},QO=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=b(zi);return()=>t.scrollStrategies.block()}}),ZO=new $("DialogData"),XO=new $("DefaultDialogConfig");var _g=(()=>{class t{_overlay=b(zi);_injector=b(ee);_defaultOptions=b(XO,{optional:!0});_parentDialog=b(t,{optional:!0,skipSelf:!0});_overlayContainer=b(gu);_idGenerator=b(Ui);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new H;_afterOpenedAtThisLevel=new H;_ariaHiddenElements=new Map;_scrollStrategy=b(QO);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=kn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dt(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new Vr;i=j(j({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new dl(a,i),l=this._attachContainer(a,s,i);return s.containerInstance=l,this._attachDialogContent(e,s,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){vg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){vg(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),vg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Mo({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Vr,useValue:r},{provide:dl,useValue:i},{provide:Ba,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=bg;let l=new pn(s,r.viewContainerRef,ee.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof zt){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=j(j({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new fn(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new pn(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:ZO,useValue:e.data},{provide:dl,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(qi,null,{optional:!0}))&&s.push({provide:qi,useValue:{value:e.direction,change:ie()}}),ee.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vg(t,n){let e=t.length;for(;e--;)n(t[e])}var VC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[_g],imports:[cl,Br,Ww,Br]})}return t})();function JO(t,n){}var yu=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Sg="mdc-dialog--open",HC="mdc-dialog--opening",UC="mdc-dialog--closing",eF=150,tF=75,iF=(()=>{class t extends bg{_animationMode=b(ii,{optional:!0});_animationStateChanged=new de;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?zC(this._config.enterAnimationDuration)??eF:0;_exitAnimationDuration=this._animationsEnabled?zC(this._config.exitAnimationDuration)??tF:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(qC,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(HC,Sg)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Sg),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Sg),this._animationsEnabled?(this._hostElement.style.setProperty(qC,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(UC)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(HC,UC)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Ld("id",r._config.id),Be("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ft("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[It],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),L(2,JO,0,0,"ng-template",2),u()())},dependencies:[gn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),qC="--mat-dialog-transition-duration";function zC(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?ar(t.substring(0,t.length-2)):t.endsWith("s")?ar(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var vu=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(vu||{}),ul=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new H;_beforeClosed=new H;_result;_closeFallbackTimeout;_state=vu.OPEN;_closeInteractionType;constructor(n,e,i){this._ref=n,this._containerInstance=i,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Pe(r=>r.state==="opened"),mt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Pe(r=>r.state==="closed"),mt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Et(this.backdropClick(),this.keydownEvents().pipe(Pe(r=>r.keyCode===27&&!this.disableClose&&!Rr(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),nF(this,r.type==="keydown"?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Pe(e=>e.state==="closing"),mt(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=vu.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=vu.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function nF(t,n,e){return t._closeInteractionType=n,t.close(e)}var lr=new $("MatMdcDialogData"),rF=new $("mat-mdc-dialog-default-options"),oF=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=b(zi);return()=>t.scrollStrategies.block()}});var it=(()=>{class t{_overlay=b(zi);_defaultOptions=b(rF,{optional:!0});_scrollStrategy=b(oF);_parentDialog=b(t,{optional:!0,skipSelf:!0});_idGenerator=b(Ui);_dialog=b(_g);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new H;_afterOpenedAtThisLevel=new H;dialogConfigClass=yu;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=kn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dt(void 0)));constructor(){this._dialogRefConstructor=ul,this._dialogContainerType=iF,this._dialogDataToken=lr}open(e,i){let r;i=j(j({},this._defaultOptions||new yu),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,ke(j({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Vr,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $C=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[it],imports:[VC,cl,Br,Fn,Fn]})}return t})();var z=function(t){return t[t.Yin=0]="Yin",t[t.Yang=1]="Yang",t[t.Balance=2]="Balance",t[t.None=3]="None",t}(z||{}),P=function(t){return t[t.OddJobs=0]="OddJobs",t[t.Resting=1]="Resting",t[t.Begging=2]="Begging",t[t.Cooking=3]="Cooking",t[t.Blacksmithing=4]="Blacksmithing",t[t.GatherHerbs=5]="GatherHerbs",t[t.ChopWood=6]="ChopWood",t[t.Woodworking=7]="Woodworking",t[t.Leatherworking=8]="Leatherworking",t[t.Plowing=9]="Plowing",t[t.Clearing=10]="Clearing",t[t.Farming=11]="Farming",t[t.Mining=12]="Mining",t[t.Smelting=13]="Smelting",t[t.Hunting=14]="Hunting",t[t.Fishing=15]="Fishing",t[t.Alchemy=16]="Alchemy",t[t.Burning=17]="Burning",t[t.BalanceChi=18]="BalanceChi",t[t.BodyCultivation=19]="BodyCultivation",t[t.MindCultivation=20]="MindCultivation",t[t.CoreCultivation=21]="CoreCultivation",t[t.SoulCultivation=22]="SoulCultivation",t[t.InfuseBody=23]="InfuseBody",t[t.InfuseEquipment=24]="InfuseEquipment",t[t.ExtendLife=25]="ExtendLife",t[t.Recruiting=26]="Recruiting",t[t.TrainingFollowers=27]="TrainingFollowers",t[t.Swim=28]="Swim",t[t.ForgeChains=29]="ForgeChains",t[t.AttachChains=30]="AttachChains",t[t.MakeBrick=31]="MakeBrick",t[t.MakeMortar=32]="MakeMortar",t[t.MakeScaffold=33]="MakeScaffold",t[t.BuildTower=34]="BuildTower",t[t.ResearchWind=35]="ResearchWind",t[t.TameWinds=36]="TameWinds",t[t.LearnToFly=37]="LearnToFly",t[t.OfferDragonFood=38]="OfferDragonFood",t[t.OfferDragonWealth=39]="OfferDragonWealth",t[t.TalkToDragon=40]="TalkToDragon",t[t.GatherArmies=41]="GatherArmies",t[t.ConquerTheWorld=42]="ConquerTheWorld",t[t.MoveStars=43]="MoveStars",t[t.Taunting=44]="Taunting",t[t.EscapeHell=45]="EscapeHell",t[t.HellRecruiting=46]="HellRecruiting",t[t.BurnMoney=47]="BurnMoney",t[t.HonorAncestors=48]="HonorAncestors",t[t.CombatTraining=49]="CombatTraining",t[t.Rehabilitation=50]="Rehabilitation",t[t.CopperMining=51]="CopperMining",t[t.ForgeHammer=52]="ForgeHammer",t[t.ClimbMountain=53]="ClimbMountain",t[t.AttackClimbers=54]="AttackClimbers",t[t.MeltMountain=55]="MeltMountain",t[t.HealAnimals=56]="HealAnimals",t[t.PetRecruiting=57]="PetRecruiting",t[t.PetTraining=58]="PetTraining",t[t.LiftBoulder=59]="LiftBoulder",t[t.SearchForExit=60]="SearchForExit",t[t.TeachTheWay=61]="TeachTheWay",t[t.Interrogate=62]="Interrogate",t[t.RecoverTreasure=63]="RecoverTreasure",t[t.ReplaceTreasure=64]="ReplaceTreasure",t[t.PurifyGems=65]="PurifyGems",t[t.Endure=66]="Endure",t[t.FreezeMountain=67]="FreezeMountain",t[t.ExamineContracts=68]="ExamineContracts",t[t.FinishHell=69]="FinishHell",t[t.Hell=70]="Hell",t}(P||{});var Bt=(()=>{class t{constructor(){this.reincarnateSubject=new H}reincarnate(){this.reincarnateSubject.next(void 0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wg=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015Fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Bob","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xE9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xE1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];var Cg=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberht","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],GC=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],WC=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],YC=["helmet","helm","mask","faceguard","cap","hat","hood"],KC=["sandals","boots","shoes","footwear","slippers"],vn=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],To=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],hl=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],Io=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],ml=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],ja=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvetleaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],bu=["rotten","wilted","tiny","poor","weak","low-grade","average","healthy","abundant","quality","great","huge","exceptional","amazing","exquisite","sublime","spiritual","divine"];var et=(()=>{class t{constructor(e,i,r,o,a,s,l,c){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=o,this.inventoryService=a,this.homeService=s,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableQiShield=!1,this.enableQiAttack=!1,this.enablePyroclasm=!1,this.enableMetalFist=!1,this.enableFireShield=!1,this.enableIceShield=!1,this.qiShieldUnlocked=!1,this.qiAttackUnlocked=!1,this.pyroclasmUnlocked=!1,this.metalFistUnlocked=!1,this.fireShieldUnlocked=!1,this.iceShieldUnlocked=!1,this.highestDamageTaken=0,this.highestDamageDealt=0,this.totalKills=0,this.skipEnemyAttack=0,this.godSlayersUnlocked=!1,this.godSlayersEnabled=!1,this.totalEnemies=0,this.techniques=[{name:"Basic Strike",ticksRequired:10,ticks:0,baseDamage:1}],this.monsterNames=["spider","rat","scorpion","lizard","snake","jack-o-lantern","gnome","imp","ooze","jackalope","pixie","goblin","monkey","redcap","boar","skeleton","zombie","hobgoblin","kobold","chupacabra","siren","crocodile","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","centaur","troll","manticore","merlion","mummy","landshark","bugbear","yeti","dreameater","kelpie","unicorn","hippo","ogre","banshee","harpy","sphinx","werewolf","boogeyman","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","lich","thunderbird","vampire","beholder","hydra","roc","wyrm","giant","kraken","behemoth","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a tiny","a pathetic","a sickly","a starving","a wimpy","a frail","an ill","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a scatterbrained","a mediocre","a typical","an average","a healthy","a big","a tough","a crazy","a strong","a fearsome","a gutsy","a quick","a hefty","a grotesque","a large","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a brutal","a devious","a mighty","a frightening","a massive","a powerful","a noble","a magical","a dangerous","a murderous","a terrifying","a gargantuan","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],setTimeout(()=>this.hellService=this.injector.get(ye)),this.bigNumberPipe=this.injector.get(Te),this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.godSlayerKills=0,this.yearlyMonsterDay=0,l.tickSubject.subscribe(()=>{if(this.yearlyMonsterDay++,s.homeValue===je.SquatterTent&&this.yearlyMonsterDay>100){this.yearlyMonsterDay=0,this.logService.injury(S.EVENT,"The shabby tent you live in has attracted some nasty mice."),this.addMouse();return}else s.homeValue===je.OwnTent&&this.yearlyMonsterDay>150&&(this.yearlyMonsterDay=0,this.logService.injury(S.EVENT,"Your increased wealth has attracted a troublemaker looking to steal your money."),this.addTroublemaker());(this.yearlyMonsterDay>=365||this.autoTroubleEnabled)&&(this.yearlyMonsterDay=0,this.trouble())}),l.battleTickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.currentEnemy===null&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.handleYourTechniques(),this.handleEnemyTechniques(),this.characterService.checkForDeath()&&this.clearEnemies())}),l.longTickSubject.subscribe(()=>{for(let h of this.enemies)h.imageFile||(h.imageFile="assets/images/monsters/"+h.baseName+".png")}),c.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.clearEnemies(),this.kills=0,this.troubleKills=0,this.godSlayerKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,godSlayerKills:this.godSlayerKills,totalKills:this.totalKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,qiShieldUnlocked:this.qiShieldUnlocked,qiAttackUnlocked:this.qiAttackUnlocked,pyroclasmUnlocked:this.pyroclasmUnlocked,metalFistUnlocked:this.metalFistUnlocked,fireShieldUnlocked:this.fireShieldUnlocked,iceShieldUnlocked:this.iceShieldUnlocked,enableQiShield:this.enableQiShield,enableQiAttack:this.enableQiAttack,enablePyroclasm:this.enablePyroclasm,enableMetalFist:this.enableMetalFist,enableFireShield:this.enableFireShield,enableIceShield:this.enableIceShield,highestDamageDealt:this.highestDamageDealt,highestDamageTaken:this.highestDamageTaken,godSlayersUnlocked:this.godSlayersUnlocked,godSlayersEnabled:this.godSlayersEnabled,totalEnemies:this.totalEnemies}}setProperties(e){if(this.enemies=e.enemies,this.kills=e.kills,this.troubleKills=e.troubleKills,this.godSlayerKills=e.godSlayerKills||0,this.totalKills=e.totalKills||0,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableQiShield=e.enableQiShield,this.enableQiAttack=e.enableQiAttack,this.enablePyroclasm=e.enablePyroclasm||!1,this.enableMetalFist=e.enableMetalFist||!1,this.enableFireShield=e.enableFireShield||!1,this.enableIceShield=e.enableIceShield||!1,this.qiShieldUnlocked=e.qiShieldUnlocked||!1,this.qiAttackUnlocked=e.qiAttackUnlocked||!1,this.pyroclasmUnlocked=e.pyroclasmUnlocked||!1,this.metalFistUnlocked=e.metalFistUnlocked||!1,this.fireShieldUnlocked=e.fireShieldUnlocked||!1,this.iceShieldUnlocked=e.iceShieldUnlocked||!1,this.highestDamageDealt=e.highestDamageDealt||0,this.highestDamageTaken=e.highestDamageTaken||0,this.godSlayersUnlocked=e.godSlayersUnlocked||!1,this.godSlayersEnabled=e.godSlayersEnabled||!1,this.totalEnemies=e.totalEnemies||0,this.enemies.length>0)for(let i of this.enemies)i.name===e.currentEnemy?.name&&(this.currentEnemy=i)}handleEnemyTechniques(){for(let e of this.enemies)for(let i of e.techniques)i.ticks===i.ticksRequired?(this.enemyAttack(i),i.ticks=0):i.ticks++}enemyAttack(e){if(this.skipEnemyAttack>0){this.skipEnemyAttack--;return}let i=0,r=e.baseDamage,o=this.characterService.characterState.defense;o>=1&&(r=r/(Math.pow(o,.2)+Math.pow(2e4,(-r+o)/o))),r<.3&&(r=.3),this.enableQiShield&&this.characterService.characterState.status.qi.value>10&&(r/=2,this.characterService.characterState.status.qi.value-=10);let a=!1;if(this.enableFireShield&&this.characterService.characterState.status.qi.value>1e4){let s=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);s<1&&(s=1),s>10&&(s=10),r/=s,this.characterService.characterState.status.qi.value-=1e4,a=!0}if(this.enableIceShield&&this.characterService.characterState.status.qi.value>1e4){let s=Math.log(this.characterService.characterState.attributes.waterLore.value)/Math.log(100);s<1&&(s=1),s>10&&(s=10),r/=s,this.characterService.characterState.status.qi.value-=1e4,this.skipEnemyAttack++}r-=r*(this.characterService.characterState.yinYangBalance/2),this.logService.injury(S.COMBAT,"Ow! You got hit for "+this.bigNumberPipe.transform(r)+" damage"),a&&this.damageEnemy(r,"The flames of your shield strike back, damaging the enemy for "+r+" damage."),r>this.highestDamageTaken&&(this.highestDamageTaken=r),this.characterService.characterState.status.health.value-=r,i+=.01,this.attackEffect(e),this.characterService.characterState.increaseAttribute("toughness",i)}handleYourTechniques(){for(let e of this.techniques)e.ticks===e.ticksRequired?(this.youAttack(e),e.ticks=0):e.ticks++}youAttack(e){if(this.currentEnemy&&this.characterService.characterState.status.health.value>0){let i=this.characterService.characterState.attackPower*e.baseDamage;this.characterService.characterState.status.nourishment.value>this.characterService.characterState.status.nourishment.max*.8&&(i*=1.2);let r=this.currentEnemy.defense;r>=1&&(i=i/(Math.pow(r,.2)+Math.pow(2e4,(-i+r)/r))),i<1&&(i=1),this.enableQiAttack&&this.characterService.characterState.status.qi.value>10&&(i*=2,this.characterService.characterState.status.qi.value-=10);let o=!1;if(this.enableMetalFist&&this.characterService.characterState.status.qi.value>1e4){let s=Math.log(this.characterService.characterState.attributes.metalLore.value)/Math.log(50);s<1&&(s=1),s>100&&(s=100),i*=s,this.characterService.characterState.status.qi.value-=1e4}if(this.enablePyroclasm&&this.characterService.characterState.status.qi.value>1e4){let s=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);s<1&&(s=1),s>10&&(s=10),i*=s,this.characterService.characterState.status.qi.value-=1e4,o=!0}i+=i*this.characterService.characterState.yinYangBalance,i>this.highestDamageDealt&&(this.highestDamageDealt=i),this.applyWeaponEffect(this.characterService.characterState.equipment.leftHand,i),this.applyWeaponEffect(this.characterService.characterState.equipment.rightHand,i);let a=this.damageEnemy(i);if(o)for(;a>0&&this.enemies.length>0;)this.currentEnemy=this.enemies[0],a=this.damageEnemy(a)}}applyWeaponEffect(e,i){if(e&&e.weaponStats?.effect!=="corruption"){if(e.weaponStats?.effect==="life"){let r=i*.01;this.logService.log(S.COMBAT,"Your "+e.name+" healed you for "+r+" as you struck the enemy."),this.characterService.characterState.status.health.value+=r,this.characterService.characterState.checkOverage()}}}damageEnemy(e,i=""){if(!this.currentEnemy)return 0;let r=this.currentEnemy.health;if(this.currentEnemy.health=Math.floor(this.currentEnemy.health-e),i===""&&(i="You attack "+this.currentEnemy.name+" for "+this.bigNumberPipe.transform(e)+" damage"),e-=r,this.currentEnemy.health<=0){this.kills++,this.totalKills++,this.logService.log(S.COMBAT,"You manage to kill "+this.currentEnemy.name),this.currentEnemy.name==="Death itself"&&this.characterService.toast("HURRAY! Check your inventory. You just got something special!",0);for(let a of this.currentEnemy.loot){let s=this.itemRepoService.getItemById(a.id);s?this.inventoryService.addItem(s):this.inventoryService.addItem(a)}this.defeatEffect(this.currentEnemy);let o=this.enemies.indexOf(this.currentEnemy);return this.enemies.splice(o,1),this.currentEnemy=null,(e-r)/2}else return this.logService.log(S.COMBAT,i),0}fight(e){this.currentEnemy=e}addEnemy(e){this.totalEnemies++,this.logService.log(S.COMBAT,"A new enemy comes to battle: "+e.name);let i=0;for(let r of this.enemies)r.baseName===e.baseName&&r.index!==void 0&&r.index>=i&&(i=r.index+1);i>0&&(e.name=e.name+" #"+(i+1)),e.index=i,this.enemies.push(e),this.currentEnemy===null&&(this.currentEnemy=this.enemies[0])}clearEnemies(){this.enemies=[],this.currentEnemy=null;for(let e of this.techniques)e.ticks=0}trouble(){if(this.enemies.length!==0)return;if(this.hellService&&this.hellService.inHell){this.hellService.trouble();return}let e=this.troubleKills*10,i=this.troubleKills/5,r=this.troubleKills/5,o,a,s;if(this.godSlayersEnabled){let l=this.godSlayerKills%this.monsterNames.length,c=Math.floor(this.godSlayerKills/this.monsterNames.length);s=this.monsterNames[l],a="Godslaying "+s,c>0&&(a+=" "+(c+1)),i=Math.round(Math.pow(1.1,this.godSlayerKills)),r=i*10,e=i*200,o=this.inventoryService.generateSpiritGem(Math.ceil(this.godSlayerKills/20)),this.godSlayerKills++}else{let l=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),c=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),h=Math.floor(c/this.monsterQualities.length),f=c%this.monsterQualities.length;s=this.monsterNames[h],a=this.monsterQualities[f]+" "+this.monsterNames[h],l>0&&(a+=" "+(l+1)),o=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2))),this.troubleKills++}this.addEnemy({name:a,baseName:s,health:e,maxHealth:e,defense:r,loot:[o],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:i}]})}addMouse(){this.addEnemy({name:"a gang of nasty mice",baseName:"mouse",health:8,maxHealth:8,defense:0,loot:[],techniques:[{name:"Gnawing Swarm",ticks:0,ticksRequired:8,baseDamage:13}]})}addTroublemaker(){this.addEnemy({name:"a troublemaker",baseName:"troublemaker",health:20,maxHealth:20,defense:0,loot:[],techniques:[{name:"Mugging",ticks:0,ticksRequired:20,baseDamage:1,effect:"theft"}]})}addWolf(){this.addEnemy({name:"a hungry wolf",baseName:"wolf",health:20,maxHealth:20,defense:5,loot:[this.inventoryService.getHide()],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:3}]})}addArmy(){this.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,defense:1e7,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e7}]})}addDeath(){this.addEnemy({name:"Death itself",baseName:"death",health:1e24,maxHealth:1e24,defense:3e8,loot:[this.itemRepoService.items.immortality],unique:!0,techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:3e8}]})}defeatEffect(e){e.defeatEffect&&e.defeatEffect==="respawnDouble"&&(this.logService.log(S.COMBAT,"They just keep coming! Two more "+e.name+" appear!"),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot,techniques:e.techniques}),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot,techniques:e.techniques}))}attackEffect(e){if(e.effect)if(e.effect==="feeder"&&this.hellService)if(e.hitTracker!==void 0&&e.hitTracker<2)e.hitTracker++;else{this.hellService.daysFasted=0;let i=this.characterService.characterState.status.health.value/4;this.logService.injury(S.COMBAT,"The hellfire burns as it goes down, damaging you for "+i+" extra damage."),this.characterService.characterState.status.health.value-=i}else e.effect==="theft"&&this.characterService.characterState.updateMoney(0-this.characterService.characterState.money/10)}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ot),x(X),x(rt),x(Y),x(we),x(ve),x(Bt))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fe=function(t){return t[t.Swim=0]="Swim",t[t.RaiseIsland=1]="RaiseIsland",t[t.BuildTower=2]="BuildTower",t[t.TameWinds=3]="TameWinds",t[t.LearnToFly=4]="LearnToFly",t[t.BefriendDragon=5]="BefriendDragon",t[t.ConquerTheWorld=6]="ConquerTheWorld",t[t.RearrangeTheStars=7]="RearrangeTheStars",t[t.OvercomeDeath=8]="OvercomeDeath",t}(fe||{}),ri=(()=>{class t{constructor(e,i,r,o,a,s,l){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=o,this.battleService=l,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:fe.Swim,progressRequired:4e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:fe.RaiseIsland,progressRequired:777},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:fe.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:fe.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:fe.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:fe.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:fe.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:fe.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:fe.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],a.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length)){for(let c=0;c<this.tasks.length;c++)if(this.taskProgress[c].complete&&this.tasks[c].taskType===this.nextTask){this.nextTask++;return}}}),s.reincarnateSubject.subscribe(()=>{this.reset()})}markPriorCompletions(){let e=!1;this.nextTask=-1;for(let i=this.tasks.length-1;i>=0;i--)(this.taskProgress[i].complete||e)&&(e=!0,this.taskProgress[i].progress=this.tasks[i].progressRequired,this.taskProgress[i].complete=!0),e&&this.nextTask<0?this.nextTask=i:i===0&&(this.nextTask=0)}reset(){this.markPriorCompletions();for(let e=this.tasks.length-1;e>=0;e--)this.taskProgress[e].progress<this.tasks[e].progressRequired&&(this.taskProgress[e].complete?this.taskProgress[e].progress=this.tasks[e].progressRequired:e!==fe.BuildTower&&(this.taskProgress[e].progress=0));this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,e.activeTaskIndex===void 0?this.activeTaskIndex=-1:this.activeTaskIndex=e.activeTaskIndex,this.markPriorCompletions(),this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.reloadActivities(),this.activeTaskIndex===fe.OvercomeDeath&&this.battleService.addDeath()}stopTask(){this.activeTaskIndex===fe.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.reloadActivities()}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ot),x(X),x(rt),x(ve),x(Bt),x(et))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _u=class{constructor(n,e,i,r){this.autoBuyerService=n,this.homeService=e,this.farmService=i,this.characterService=r}},Su=class extends _u{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(n){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){let e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){let i=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-n),e.landRequired-this.homeService.land);i>0&&this.homeService.buyLand(i)}}}else{let e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-n),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+n&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}},wu=class extends _u{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.farmService.autoFieldUnlocked}run(n){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+n){let e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-n),this.homeService.autoBuyLandLimit-(this.homeService.land+this.farmService.fields.length+this.farmService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.farmService.autoFieldUnlocked){let e=Math.min(this.homeService.land,this.farmService.autoFieldLimit-(this.farmService.fields.length+this.farmService.extraFields));e>0&&this.farmService.plowPlot(e)}}isBlocked(){return this.farmService.autoFieldUnlocked&&!this.homeService.autoBuyLandUnlocked?this.homeService.land===0&&this.farmService.fields.length+this.farmService.extraFields<this.farmService.autoFieldLimit:!1}isWaiting(){return!1}isComplete(){let n=!0;this.homeService.autoBuyLandUnlocked&&(n=this.homeService.land+this.farmService.fields.length+this.farmService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.farmService.autoFieldUnlocked&&(e=this.farmService.fields.length+this.farmService.extraFields>=this.farmService.autoFieldLimit),n&&e}};var Po=(()=>{class t{constructor(e,i,r,o,a){this.injector=e,this.characterService=i,this.homeService=r,this.farmService=o,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new Su(this,this.homeService,this.farmService,this.characterService),land:new wu(this,this.homeService,this.farmService,this.characterService)},setTimeout(()=>this.hellService=this.injector.get(ye)),a.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){if(this.hellService?.inHell)return;let e=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:(this.homeService.home.costPerDay+1)*10;for(let i of this.autoBuyerSettings){let r=this.autobuyers[i.type];if(!(!i.enabled||!r.shouldRun()||r.isBlocked()||r.isComplete())){if(r.isWaiting()&&i.waitForFinish)break;if(r.isWaiting())continue;if(r.run(e),!r.isComplete()&&i.waitForFinish)break}}}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(X),x(we),x(Rt),x(ve))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cu=(()=>{class t{constructor(e){this.data=e}static{this.\u0275fac=function(i){return new(i||t)(k(lr))}}static{this.\u0275cmp=U({type:t,selectors:[["app-offline-modal"]],decls:3,vars:3,consts:[[1,"body"]],template:function(i,r){i&1&&(d(0,"div",0),p(1),I(2,"bigNumber"),u()),i&2&&(m(),A("While you were away you earned ",N(2,1,r.data.earnedTicks)," banked ticks."))},dependencies:()=>[Te],styles:[".body[_ngcontent-%COMP%]{color:#cacaca}"]})}}return t})();var Va=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f,g,v,_,C){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=a,this.itemRepoService=s,this.storeService=l,this.battleService=c,this.homeService=h,this.farmService=f,this.activityService=g,this.followerService=v,this.impossibleTaskService=_,this.hellService=C,this.unlockedAchievements=[],this.achievements=[{name:"One Week",description:"You survived your first week of this game!",hint:"Try some activities.",check:()=>this.mainLoopService.totalTicks>7,effect:()=>{this.mainLoopService.timeUnlocked=!0,this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService.unlockPanel("timePanel"),this.gameStateService.addLayoutPanel("timePanel")},unlocked:!1},{name:"Big Earner",description:"You earned your first few taels by working hard.<br>Maybe you should invest in some land and a better home.",hint:"Make some money.",check:()=>this.characterService.characterState.money>=100,effect:()=>{this.homeService.homeUnlocked=!0,this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService?.unlockPanel("homePanel"),this.gameStateService.addLayoutPanel("homePanel",68,15,30,20)},unlocked:!1},{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Farmer",description:"You plowed your first field!",hint:"Cultivation might be important for cultivation.",check:()=>this.farmService.fallowPlots>0,effect:()=>{this.gameStateService?.unlockPanel("farmPanel")},unlocked:!1},{name:"Gear Up!",description:"You created some equipment and now you can wear it.",hint:"Some jobs let you make stuff you can use.",check:()=>this.inventoryService.equipmentCreated>0||this.characterService.characterState.equipment.head!==null||this.characterService.characterState.equipment.body!==null||this.characterService.characterState.equipment.leftHand!==null||this.characterService.characterState.equipment.rightHand!==null||this.characterService.characterState.equipment.legs!==null||this.characterService.characterState.equipment.feet!==null,effect:()=>{this.inventoryService.equipmentUnlocked=!0,this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService?.unlockPanel("equipmentPanel")},unlocked:!1},{name:"Stuff!",description:"You got your first item.",hint:"Find anything.",check:()=>this.inventoryService.totalItemsReceived>0,effect:()=>{this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService?.unlockPanel("inventoryPanel")},unlocked:!1},{name:"Attack!",description:"You are under attack by an enemy.",hint:"They are coming for you.",check:()=>this.battleService.totalEnemies>0,effect:()=>{this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService?.unlockPanel("battlePanel"),this.gameStateService.addLayoutPanel("battlePanel",68,35,30,20)},unlocked:!1},{name:"Persistent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Cabbage Stand",description:"You can now grow cabbage in your farm. Watch out for kids running by when you sell them.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>2,effect:()=>{this.farmService.unlockCrop("cabbage")},unlocked:!1},{name:"The Magical Fruit",description:"You can now grow beans in your farm.",hint:"They're not really a fruit.",check:()=>this.characterService.characterState.attributes.woodLore.value>5,effect:()=>{this.farmService.unlockCrop("beans")},unlocked:!1},{name:"Little Green Trees",description:"You can now grow broccoli in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>10,effect:()=>{this.farmService.unlockCrop("broccoli")},unlocked:!1},{name:"A Gourd You Might Not Know",description:"You can now grow calabash in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>50,effect:()=>{this.farmService.unlockCrop("calabash")},unlocked:!1},{name:"It's Not Just for Boba",description:"You can now grow taro in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>100,effect:()=>{this.farmService.unlockCrop("taro")},unlocked:!1},{name:"First Fruits",description:"You can now grow pears in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>1e3,effect:()=>{this.farmService.unlockCrop("pear")},unlocked:!1},{name:"They Come in Different Sizes",description:"You can now grow melons in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>1e4,effect:()=>{this.farmService.unlockCrop("melon")},unlocked:!1},{name:"Purple Sweet and Sour",description:"You can now grow plums in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>1e6,effect:()=>{this.farmService.unlockCrop("plum")},unlocked:!1},{name:"A Tiny Taste of Immortality",description:"You can now grow apricot in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>1e9,effect:()=>{this.farmService.unlockCrop("apricot")},unlocked:!1},{name:"Almost Eating Like an Immortal",description:"You can now grow peaches in your farm.",hint:"Work that farm!",check:()=>this.characterService.characterState.attributes.woodLore.value>1e12,effect:()=>{this.farmService.unlockCrop("peach")},unlocked:!1},{name:"",description:"You can now grow Divine Peaches in your farm.",hint:"Descend to the depths and bring back the sweetest fruit.",check:()=>this.inventoryService.divinePeachesUnlocked,effect:()=>{this.farmService.unlockCrop("divinePeach")},unlocked:!1},{name:"Veteran Cultivator",description:"You lived ten thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.totalPlaytimeManual.name,hint:"A long life. Myriad years.",check:()=>this.mainLoopService.totalTicks>365e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.totalPlaytimeManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Woodworking),effect:()=>{},unlocked:!1},{name:"Just Put It Over There",description:"You have become an expert at loading inputs into your crafting workstations, and have unlocked a manual to automatically load workstations as you acquire more of the same ingredients.",hint:"It sure would be nice to have the ore just go right into the smelter.",check:()=>this.homeService.totalCrafts>888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.perpetualCraftingManual)},unlocked:!1},{name:"Addict",description:"You got a taste of those sweet, sweet empowerment pills and want more.",hint:"Master of all.",check:()=>this.characterService.characterState.empowermentFactor>1,effect:()=>{},unlocked:!1},{name:"Habitual User",displayName:"Dope",description:"You got every last drop you could out of those pills and now you feel nothing from them.<br>At least they didn't kill you or do lasting harm, right?",hint:"D.A.R.E.",check:()=>this.characterService.characterState.empowermentFactor>=1953.65,effect:()=>{},unlocked:!1},{name:"Rice, Rice, Baby",description:"You've eaten healthy food 88 items and unlocked the "+this.itemRepoService.items.autoEatManual.name,hint:"Better than dumpster diving.",check:()=>this.inventoryService.lifetimeUsedFood>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoEatManual)},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>this.inventoryService.openInventorySlots()===0,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much.<br>Why would an aspiring immortal need this much stuff?",check:()=>this.inventoryService.maxStackSize>=1e4&&this.inventoryService.thrownAwayItems>=1e6,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=je.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You set up some great furniture and taught your descendants to leave it alone for your next incarnation.",hint:"Immortals have discerning taste in furnishings.",check:()=>this.characterService.characterState.fengshuiScore>=10,effect:()=>{this.homeService.seeFurnitureEffects=!0},unlocked:!1},{name:"Don't Sell My Bed!",description:"Your bloodline is so powerful that even the furniture in your bedroom will be preserved untouched until your next reincarnation.",hint:"Strong family bonds mean more heirlooms.",check:()=>this.characterService.characterState.bloodlineRank>=6,effect:()=>{this.homeService.keepFurniture=!0},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.farmService.fields.length+this.farmService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.farmService.autoFieldUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one.<br>Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>!!(this.characterService.characterState.equipment?.rightHand?.weaponStats&&this.characterService.characterState.equipment?.rightHand?.weaponStats.baseDamage>=60&&this.characterService.characterState.equipment?.leftHand?.weaponStats&&this.characterService.characterState.equipment?.leftHand?.weaponStats.baseDamage>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>!!(this.characterService.characterState.equipment?.head?.armorStats&&this.characterService.characterState.equipment?.head?.armorStats.defense>=60&&this.characterService.characterState.equipment?.body?.armorStats&&this.characterService.characterState.equipment?.body?.armorStats.defense>=60&&this.characterService.characterState.equipment?.legs?.armorStats&&this.characterService.characterState.equipment?.legs?.armorStats.defense>=60&&this.characterService.characterState.equipment?.feet?.armorStats&&this.characterService.characterState.equipment?.feet?.armorStats.defense>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",displayName:"Smelting Snob",description:"You achieved a deep understanding of digging and smelting metal and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Hide Snob",displayName:"Hunting Snob",description:"You achieved a deep understanding of hunting and gathering hides and unlocked the "+this.itemRepoService.items.bestHidesManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality.<br>Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.animalHandling.value>1024&&this.characterService.characterState.attributes.speed.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHidesManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Unlimited Taels",description:"Your family has unlocked the secrets of compound interest.<br>You probably never have to worry about money again.",hint:"Family first. Especially in matters of money.",check:()=>this.characterService.characterState.bloodlineRank>=4,effect:()=>{},unlocked:!1},{name:"Not Unlimited Taels",description:"You filled up your purse, your wall safe, the box under your bed, and a giant money pit in the backyard.<br>You just can't hold any more money.",hint:"How rich can you get?",check:()=>this.characterService.characterState.money>=this.characterService.characterState.maxMoney-1e21,effect:()=>{},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through four cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>4,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>!!(this.characterService.characterState.equipment?.rightHand?.weaponStats&&this.characterService.characterState.equipment?.rightHand?.weaponStats.baseDamage>=8888&&this.characterService.characterState.equipment?.leftHand?.weaponStats&&this.characterService.characterState.equipment?.leftHand?.weaponStats.baseDamage>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>!!(this.characterService.characterState.equipment?.head?.armorStats&&this.characterService.characterState.equipment?.head?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.body?.armorStats&&this.characterService.characterState.equipment?.body?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.legs?.armorStats&&this.characterService.characterState.equipment?.legs?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.feet?.armorStats&&this.characterService.characterState.equipment?.feet?.armorStats.defense>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment!<br>You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements.<br>Qi is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{let T=this.characterService.characterState.attributes.fireLore.value,B=this.characterService.characterState.attributes.earthLore.value,W=this.characterService.characterState.attributes.woodLore.value,ne=this.characterService.characterState.attributes.waterLore.value,Q=this.characterService.characterState.attributes.metalLore.value,Ge=Math.min(Q,ne,W,B,T),Ie=Math.max(Q,ne,W,B,T);return Ge>=1e3&&Ie<=Ge*1.21},effect:()=>{this.characterService.characterState.qiUnlocked=!0,this.characterService.characterState.status.qi.max===0&&(this.characterService.characterState.status.qi.max=1,this.characterService.characterState.status.qi.value=1),this.activityService.reloadActivities()},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0,this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService?.unlockPanel("followersPanel")},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can exceed the limits of humanity. It can't be done.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Sturdy Walls",description:"You have built a home strong enough to endure for generations.",hint:"Build back better.",check:()=>this.homeService.home.type>=je.SimpleHut,effect:()=>{this.homeService.keepHome=!0},unlocked:!1},{name:"Eternal Nation",description:"You have established an empire that will never fall, and a bloodline that will always inherit it.",hint:"Bloodline Empire.",check:()=>this.homeService.home.type>=je.Capital&&this.characterService.characterState.bloodlineRank>=7,effect:()=>{this.characterService.characterState.imperial=!0},unlocked:!1},{name:"Limit Breaker",description:"You have broken past human limits and improve constantly! What new fate awaits you?",hint:"999",check:()=>this.characterService.characterState.bloodlineRank>=9,effect:()=>{},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your Qi to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let T=this.characterService.characterState.attributes.speed.value,B=this.characterService.characterState.attributes.toughness.value,W=this.characterService.characterState.attributes.charisma.value,ne=this.characterService.characterState.attributes.intelligence.value,Q=this.characterService.characterState.attributes.strength.value,Ge=Math.min(T,B,W,ne,Q),Ie=Math.max(T,B,W,ne,Q);return Ge>=1e6&&Ie<=Ge*1.21},effect:()=>{this.battleService.qiAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body.<br>You unlocked the ability to use your Qi to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let T=this.characterService.characterState.attributes.spirituality.value,B=this.characterService.characterState.attributes.speed.value,W=this.characterService.characterState.attributes.toughness.value,ne=this.characterService.characterState.attributes.charisma.value,Q=this.characterService.characterState.attributes.intelligence.value,Ge=this.characterService.characterState.attributes.strength.value,Ie=Math.min(B,W,ne,Q,Ge,T),Ze=Math.max(B,W,ne,Q,Ge,T);return Ie>=1e6&&Ze<=Ie*1.21},effect:()=>{this.battleService.qiShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Loyal Followers",description:"One of your followers has trained under you so long they have nothing else to learn.<br>In an epiphany you realized how to double your new followers' lifespan.",hint:"Endless training.",check:()=>this.followerService.highestLevel>=100,effect:()=>{this.followerService.followerLifespanDoubled=!0},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1},{name:"Breaks are Good",description:"You have collected two hour's worth of offline ticks and unlocked the "+this.itemRepoService.items.bankedTicksEfficiencyManual.name,hint:"Take a day off from cultivating.",check:()=>this.mainLoopService.bankedTicks>2*60*60*40,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bankedTicksEfficiencyManual)},unlocked:!1},{name:"Breaks are Bad",description:"You died from overwork performing an activity without necessary rest and unlocked the "+this.itemRepoService.items.autoRestManual.name,hint:"There's no time to rest, cultivating is life.",check:()=>this.activityService.activityDeath||this.characterService.characterState.immortal,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoRestManual)},unlocked:!1},{name:"Still Spry",description:"You have lived to be 300 years old and unlocked the "+this.itemRepoService.items.ageSpeedManual.name,hint:"One step to becoming immortal is to live longer.",check:()=>this.characterService.characterState.age>300*365,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.ageSpeedManual)},unlocked:!1},{name:"Immortality",description:"Congratulations! You are now immortal.",hint:"Name of the game.",check:()=>this.characterService.characterState.immortal,effect:()=>{this.activityService.reloadActivities()},unlocked:!1},{name:"Headhunter",description:"You've sorted through so many applicants that you can now always find followers you want.",hint:"You didn't really want one thousand scouts, did you?",check:()=>this.followerService.totalDismissed>888,effect:()=>{this.followerService.onlyWantedFollowers=!0},unlocked:!1},{name:"Yes We Can!",description:"You found him.",hint:"Can we fix it?",check:()=>{for(let T of this.followerService.followers)if((T.name==="Robert"||T.name==="Bob")&&T.job==="builder")return!0;return!1},effect:()=>{},unlocked:!1},{name:"Don't mess with Grandma",description:"You have crafted the mightiest stick.<br>Grandmother would be so proud.",hint:"The best stick.",check:()=>this.characterService.characterState.equipment.leftHand?.name==="Grandmother's Walking Stick"&&(this.characterService.characterState.equipment.leftHand.weaponStats?.baseDamage||0)>1e9,effect:()=>{},unlocked:!1},{name:"Smooth Farming",description:"You have harvested crops every day for a month and can now count on more regular and reliable harvests.",hint:"Farm-fresh produce every day would be lovely.",check:()=>this.farmService.consecutiveHarvests>=30,effect:()=>{this.homeService.smoothFarming=!0},unlocked:!1},{name:"They're Great",description:"You have made a friend who can provide you with a tasty breakfast.",hint:"You'll need to find a very special pet.",check:()=>{for(let T of this.followerService.pets)if((T.name==="Tony"||T.name==="Antonio")&&T.job==="tiger")return!0;return!1},effect:()=>{},unlocked:!1},{name:"Let It Burn",description:"You have burned an insane amount of money.",hint:"You didn't want that money anyway.",check:()=>this.hellService.burnedMoney>1e9,effect:()=>{this.hellService.fasterHellMoney=!0},unlocked:!1},{name:"Peaches Peaches Peaches",description:"They're so good, you just want to drink them down.",hint:"There is more alchemy to learn.",check:()=>this.inventoryService.divinePeachesUnlocked,effect:()=>{this.characterService.characterState.itemPouches.length<1&&this.characterService.characterState.itemPouches.push(this.inventoryService.getEmptyItemStack())},unlocked:!1},{name:"Rise of the God Slayers",description:"A new threat has emerged, more powerful than anything you've ever faced.",hint:"Godhood comes with issues.",check:()=>this.characterService.characterState.god,effect:()=>{this.battleService.godSlayersUnlocked=!0,this.battleService.godSlayersEnabled=!0},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(let T of this.achievements)this.unlockedAchievements.includes(T.name)||T.check()&&this.unlockAchievement(T,!0)})}unlockAchievement(e,i){this.gameStateService||(this.gameStateService=this.injector.get(se)),i&&(this.unlockedAchievements.push(e.name),this.logService.log(S.STORY,e.description),this.characterService.toast("Achievement Unlocked: "+(e.displayName?e.displayName:e.name))),e.effect(),e.unlocked=!0,i&&this.gameStateService?.savetoLocalStorage()}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(let i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}static{this.\u0275fac=function(i){return new(i||t)(x(ve),x(ee),x(ot),x(X),x(Y),x(rt),x(vi),x(et),x(we),x(Rt),x(Ne),x($e),x(ri),x(ye))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dr="immortalityIdle2GameState",se=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f,g,v,_,C,T,B){this.characterService=e,this.homeService=i,this.farmService=r,this.inventoryService=o,this.logService=a,this.reincarnationService=s,this.activityService=l,this.itemRepoService=c,this.battleService=h,this.followersService=f,this.autoBuyerService=g,this.mainLoopService=v,this.dialog=_,this.achievementService=C,this.impossibleTaskService=T,this.hellService=B,this.lastSaved=new Date().getTime(),this.isDarkMode=!1,this.isImport=!1,this.isExperimental=window.location.href.includes("experimental"),this.gameStartTimestamp=new Date().getTime(),this.easyModeEver=!1,this.saveInterval=300,this.saveSlot="",this.lockPanels=!1,this.dragging=!1,this.allPanelsUsed=!1,this.panels=[{id:"timePanel",name:"Schedule",icon:"calendar_month",panelHelp:"Choose activities to add to your schedule by dragging and dropping them here or pressing the calendar button on activities.<br>When you allow time to move forward, you will perform each activity in your schedule in the order it is listed.<br>You can move scheduled activities around or repeat activities over multiple days.",unlocked:!1},{id:"attributesPanel",name:"Attributes",icon:"bar_chart",panelHelp:"Your attributes define your growing immortal characteristics.<br>You can grow your attributes through the activities that you choose.<br>Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life.",unlocked:!0},{id:"followersPanel",name:"Followers",icon:"groups",panelHelp:"Your followers can aid you in many ways.<br>Each has a specific skill that they will use to your benefit.<br>Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of.",unlocked:!1},{id:"healthPanel",name:"Status",icon:"favorite",panelHelp:"Maintaining your health is an important part of becoming immortal.<br>If your health reaches 0, you will die and need to try for immortality once you are reincarnated in your next life.",unlocked:!0},{id:"activityPanel",name:"Activities",icon:"self_improvement",panelHelp:"Click an activity to spend a day doing it.<br>Achieving immortality doesn't happen overnight.<br>It takes lifetimes of hard work.<br>Choose your activities to take care of your basic needs and develop your immortal potential.<br>At first you'll only know how to do a few things, but as you develop your attributes, more options will become available.<br>Don't forget to schedule some rest too!<br>You'll need to take a break now and then in your journey toward immortality.",unlocked:!0},{id:"battlePanel",name:"Battles",icon:"fort",panelHelp:"Battling enemies is an essential part of your quest for immortality.<br>You'll need to be strong enough to fight them off if you want to stay alive.",unlocked:!1},{id:"equipmentPanel",name:"Equipment",icon:"colorize",panelHelp:"You will need to arm yourself with weapons and protective gear if you want to fight through the many battles that await you on your journey to immortality.<br>Legends even speak of extraordinary cultivators who can combine items of the same type to produce even stronger equipment.<br>Watch out, each piece of gear will take damage with use and you will need to constantly improve it to keep it strong.",unlocked:!1},{id:"homePanel",name:"Home",icon:"home",panelHelp:"Your home is an essential part of your life.<br>A better home allows you to recover and has room for furniture that can aid your immortal development.",unlocked:!1},{id:"inventoryPanel",name:"Inventory",icon:"shopping_bag",panelHelp:"The items that you gain during your quest for immortality will appear here.<br>Hover your cursor over an item to learn more about it.",unlocked:!1},{id:"logPanel",name:"Log",icon:"feed",panelHelp:"A record of the events that lead you to immortality will surely be of interest to those who sing your legend in the ages to come.<br>You can filter out the events that are less interesting to you in the present.",unlocked:!0},{id:"portalPanel",name:"Portals",icon:"radio_button_checked",panelHelp:"Take a portal to a different plane of existence.",unlocked:!1},{id:"petsPanel",name:"Pets",icon:"pets",panelHelp:"Your pets can aid you in many ways.<br>Each has a specific skill that they will use to your benefit.",unlocked:!1},{id:"farmPanel",name:"Farm",icon:"solar_power",panelHelp:"Your farm can grow healthy food that can aid you on your journey to immortality.",unlocked:!1}],window.GameStateService=this,v.longTickSubject.subscribe(()=>{new Date().getTime()-this.lastSaved>=this.saveInterval*1e3&&this.savetoLocalStorage()}),this.layout=[],this.resetPanels()}resetPanels(){this.layout=[{id:"healthPanel",x:0,y:0,w:98,h:8},{id:"attributesPanel",x:0,y:15,w:30,h:20},{id:"activityPanel",x:30,y:15,w:38,h:40},{id:"logPanel",x:0,y:30,w:98,h:25}],this.updateAllPanelsUsed()}changeLayoutPanel(e,i=!1){let r=JSON.parse(JSON.stringify(this.layout)),o=0;for(let s=0;s<this.panels.length;s++)this.panels[s].id===this.layout[e].id&&(o=s);let a=this.getNextUnusedPanelId(o,i);a!==""&&(r[e].id=a,this.layout=r)}removeLayoutPanel(e){let i=JSON.parse(JSON.stringify(this.layout));i.splice(e,1),this.layout=i,this.updateAllPanelsUsed()}addLayoutPanel(e="",i=0,r=0,o=30,a=20){let s=JSON.parse(JSON.stringify(this.layout)),l=e;e===""&&(l=this.getNextUnusedPanelId(0)),l!==""&&(s.push({id:l,x:i,y:r,w:o,h:a}),this.layout=s,this.updateAllPanelsUsed())}getNextUnusedPanelId(e,i=!1){if(i){for(let r=e-1;r>=0;r--)if(this.panels[r].unlocked&&!this.layout.find(({id:o})=>o===this.panels[r].id))return this.panels[r].id;for(let r=this.panels.length-1;r>=e;r--)if(this.panels[r].unlocked&&!this.layout.find(({id:o})=>o===this.panels[r].id))return this.panels[r].id}else{for(let r=e+1;r<this.panels.length;r++)if(this.panels[r].unlocked&&!this.layout.find(({id:o})=>o===this.panels[r].id))return this.panels[r].id;for(let r=0;r<=e;r++)if(this.panels[r].unlocked&&!this.layout.find(({id:o})=>o===this.panels[r].id))return this.panels[r].id}return""}updateAllPanelsUsed(){this.allPanelsUsed=!0;for(let e=0;e<this.panels.length;e++)if(this.panels[e].unlocked&&!this.layout.find(({id:i})=>i===this.panels[e].id)){this.allPanelsUsed=!1;return}}unlockPanel(e){let i=this.panels.find(({id:r})=>r===e);i&&(i.unlocked=!0),this.updateAllPanelsUsed()}changeAutoSaveInterval(e){!e||e<1?e=1:e>900&&(e=900),this.saveInterval=e,this.savetoLocalStorage()}updateImportFlagKey(e){if(e!==void 0){this.isImport=e;let i=JSON.stringify(this.isImport);window.localStorage.setItem(dr+this.getDeploymentFlavor()+"isImport",i)}else{let i=window.localStorage.getItem(dr+this.getDeploymentFlavor()+"isImport");i&&(this.isImport=JSON.parse(i))}}savetoLocalStorage(){let e=window.localStorage.getItem(dr+this.getDeploymentFlavor()+this.saveSlot);e&&window.localStorage.setItem("BACKUP"+dr+this.getDeploymentFlavor()+this.saveSlot,e),window.localStorage.setItem(dr+this.getDeploymentFlavor()+this.saveSlot,this.getGameExport()),this.lastSaved=new Date().getTime()}loadFromLocalStorage(e=!1){this.getSaveFile();let i=e?"BACKUP":"",r=window.localStorage.getItem(i+dr+this.getDeploymentFlavor()+this.saveSlot);return r?(this.importGame(r),this.isImport?(this.characterService.toast("Load Successful"),this.updateImportFlagKey(!1)):this.dialog.open(Cu,{data:{earnedTicks:this.mainLoopService.earnedTicks},autoFocus:!1}),!0):!1}importLayout(e){let i=JSON.parse(e);!i||!i.layout||(this.layout=i.layout)}importGame(e){let i;e.substring(0,3)==="iig"?i=decodeURIComponent(atob(e.substring(3))):i=e;let r=JSON.parse(i);this.impossibleTaskService.setProperties(r.impossibleTasks),this.hellService.setProperties(r.hell||{}),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.farmService.setProperties(r.farm),this.inventoryService.setProperties(r.inventory);for(let o of this.inventoryService.itemStacks){if(!o.item)continue;let a=this.itemRepoService.getItemById(o.item.id);a&&(o.item=a)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.achievementService.setProperties(r.achievements),this.isDarkMode=r.darkMode||!1,this.gameStartTimestamp=r.gameStartTimestamp||new Date().getTime(),this.easyModeEver=r.easyModeEver||!1,this.saveInterval=r.saveInterval||10,this.followersService.updateFollowerCap(),r.layout&&(this.layout=r.layout),this.lockPanels=r.lockPanels??!0,this.updateImportFlagKey(),this.updateAllPanelsUsed()}getLayoutExport(){let e={layout:this.layout,lockPanels:this.lockPanels};return JSON.stringify(e)}getGameExport(){let e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),hell:this.hellService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),farm:this.farmService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode,gameStartTimestamp:this.gameStartTimestamp,saveInterval:this.saveInterval||300,easyModeEver:this.easyModeEver,lockPanels:this.lockPanels,layout:this.layout},i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(dr+this.getDeploymentFlavor()+this.saveSlot),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}setSaveFile(){window.localStorage.setItem("saveSlotFor"+dr+this.getDeploymentFlavor(),this.saveSlot)}getSaveFile(){let e=window.localStorage.getItem("saveSlotFor"+dr+this.getDeploymentFlavor());e&&(this.saveSlot=e)}getDeploymentFlavor(){let e=window.location.href;if(e==="http://localhost:4200/")return"";if(e==="https://immortalityidle.github.io/"||e==="https://immortalityidle.github.io/old/")return"";if(e.includes("https://immortalityidle.github.io/"))return e=e.substring(0,e.length-1),e.substring(e.lastIndexOf("/")+1);throw new Error("Hey, someone stole this game!")}static{this.\u0275fac=function(i){return new(i||t)(x(X),x(we),x(Rt),x(Y),x(ot),x(Bt),x(Ne),x(rt),x(et),x($e),x(Po),x(ve),x(it),x(Va),x(ri),x(ye))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rt=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.colorByRank=["darkgray","gray","lightgray","white","darkgreen","green","lightgreen","darkblue","blue","lightblue","darkviolet","purple","fuchsia","darkorange","orange","yellow","gold","red"],this.furniture=[{id:"blanket",name:"Cotton Blanket",type:"furniture",subtype:"bed",color:"gray",elements:["wood"],value:10,description:"A tattered, gray cotton blanket.<br>Not much, but it could keep you warm at night.<br>Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},{id:"mat",name:"Sleeping Mat",type:"furniture",subtype:"bed",color:"brown",elements:["wood"],value:1e3,description:"A thin mat woven from brown reeds.<br>Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},{id:"canopyBed",name:"Canopy Bed",type:"furniture",subtype:"bed",color:"red",value:1e4,description:"A fine bed with a red silk cover.<br>The curtains keep the mosquitoes off you during the night.<br>Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},{id:"heatedBed",name:"Heated Bed",type:"furniture",subtype:"bed",color:"brown",elements:["fire"],value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights.<br>Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},{id:"bedOfNails",name:"Bed of Nails",type:"furniture",subtype:"bed",color:"black",elements:["metal"],value:1e4,description:"A solid board with iron nails poking upwards.<br>You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},{id:"waterBucket",name:"water bucket ",type:"furniture",subtype:"bath",color:"gray",elements:["water"],value:10,description:"A simple gray bucket of water that lets you splash your face clean.<br>Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},{id:"washBasin",name:"wash basin",type:"furniture",subtype:"bath",color:"brown",elements:["water","earth"],value:1e3,description:"A clay wash basin with a rag to clean yourself.<br>Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},{id:"woodenTub",name:"wooden tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","wood"],value:1e4,description:"A tall and narrow wooden tub where you can squat and bathe.<br>Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},{id:"bronzeTub",name:"bronze tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","metal"],value:1e6,description:"A luxurious bronze tub where you can get sparkling clean.<br>Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},{id:"heatedTub",name:"heated tub",type:"furniture",subtype:"bath",color:"brown",elements:["water","metal","fire"],value:1e8,description:"A luxurious tub with its own heating stove.<br>Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},{id:"bookshelf",name:"bookshelf",type:"furniture",subtype:"books",value:1e6,description:"An bookshelf to read and expand your mind.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("intelligence",.01)}},{id:"prayerShrine",name:"prayer shrine",type:"furniture",subtype:"spiritual",value:1e7,description:"A quiet shrine for contemplative prayer.<br>You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.001)}},{id:"dogKennel",name:"dog kennel",type:"furniture",subtype:"animal",value:1e6,description:"A kennel that comes with a faithful hunting dog.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},{id:"wingChunDummy",name:"wing-chun dummy",type:"furniture",subtype:"fitness",value:1e6,description:"A training dummy for practicing martial arts.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.001),this.characterService.characterState.increaseAttribute("speed",.001)}},{id:"ancestorPortraitPurple",name:"purple ancestor portrait",type:"furniture",subtype:"portrait",color:"purple",value:1e7,description:"A fine portrait of one of your ancestors wearing a purple robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitGreen",name:"green ancestor portrait",type:"furniture",subtype:"portrait",color:"green",value:1e7,description:"A fine portrait of one of your ancestors wearing a green robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitRed",name:"red ancestor portrait",type:"furniture",subtype:"portrait",color:"red",value:1e7,description:"A fine portrait of one of your ancestors wearing a red robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitOrange",name:"orange ancestor portrait",type:"furniture",subtype:"portrait",color:"orange",value:1e7,description:"A fine portrait of one of your ancestors wearing an orange robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitPink",name:"pink ancestor portrait",type:"furniture",subtype:"portrait",color:"pink",value:1e7,description:"A fine portrait of one of your ancestors wearing a pink robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitBlue",name:"blue ancestor portrait",type:"furniture",subtype:"portrait",color:"blue",value:1e7,description:"A fine portrait of one of your ancestors wearing a blue robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitYellow",name:"yellow ancestor portrait",type:"furniture",subtype:"portrait",color:"yellow",value:1e7,description:"A fine portrait of one of your ancestors wearing a yellow robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitBrown",name:"brown ancestor portrait",type:"furniture",subtype:"portrait",color:"brown",value:1e7,description:"A fine portrait of one of your ancestors wearing a brown robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitWhite",name:"white ancestor portrait",type:"furniture",subtype:"portrait",color:"white",value:1e7,description:"A fine portrait of one of your ancestors wearing a white robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitPastel",name:"pastel ancestor portrait",type:"furniture",subtype:"portrait",color:"pastel",value:1e7,description:"A fine portrait of one of your ancestors wearing a pastel robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitBlack",name:"black ancestor portrait",type:"furniture",subtype:"portrait",color:"black",value:1e7,description:"A fine portrait of one of your ancestors wearing a black robe.",useConsumes:!1,use:()=>{}},{id:"ancestorPortraitGray",name:"gray ancestor portrait",type:"furniture",subtype:"portrait",color:"gray",value:1e7,description:"A fine portrait of one of your ancestors wearing a gray robe.",useConsumes:!1,use:()=>{}},{id:"trophy",name:"trophy",type:"furniture",subtype:"trophy",value:1e6,description:"A hunting trophy from a monster you fought in a previous life.",useConsumes:!1,use:()=>{}}],this.items={rice:{id:"rice",imageFile:"rice",name:"rice",type:"food",subtype:"grain",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0},cabbage:{id:"cabbage",imageFile:"cabbage",name:"cabbage",type:"food",subtype:"vegetable",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0},beans:{id:"beans",imageFile:"beans",name:"beans",type:"food",subtype:"vegetable",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},broccoli:{id:"broccoli",imageFile:"broccoli",name:"broccoli",type:"food",subtype:"vegetable",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},calabash:{id:"calabash",imageFile:"calabash",name:"calabash",type:"food",subtype:"vegetable",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},taro:{id:"taro",imageFile:"taro",name:"taro",type:"food",subtype:"vegetable",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},pear:{id:"pear",imageFile:"pear",name:"pear",type:"food",subtype:"fruit",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},melon:{id:"melon",imageFile:"melon",name:"melon",type:"food",subtype:"fruit",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},plum:{id:"plum",imageFile:"plum",name:"plum",type:"food",subtype:"fruit",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},apricot:{id:"apricot",imageFile:"apricot",name:"apricot",type:"food",subtype:"fruit",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0},peach:{id:"peach",imageFile:"peach",name:"peach",type:"food",subtype:"fruit",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0},divinePeach:{id:"divinePeach",imageFile:"divinePeach",name:"divine peach",type:"food",subtype:"fruit",value:100,description:"A divinely prized and delicious fruit.",useLabel:"Eat",useDescription:"Sates your immortal hunger.",useConsumes:!0},distilledPeachEssence:{id:"distilledPeachEssence",imageFile:"distilledPeachEssence",name:"distilled peach essence",type:"healthRestore",value:1e3,description:"An alchemical masterpiece created from the most perfect of peaches. When equipped, it is automatically consumed to restore 50 health when needed.",restoreAmount:50,pouchable:!0},meat:{id:"meat",imageFile:"meat",name:"meat",type:"food",subtype:"meat",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0},spiritMeat:{id:"spiritMeat",imageFile:"spiritMeat",name:"spirit meat",type:"food",subtype:"meat",value:1e3,description:"Your hunters have performed a ritual burned offering of meat to send you this spiritual feast.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0},carp:{id:"carp",imageFile:"fish",name:"carp",type:"food",subtype:"fish",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0},hide:{id:"hide",imageFile:"hide1",imageColor:this.colorByRank[0],name:"tattered hide",type:"hide",value:1,description:"A tattered animal hide."},thinPelt:{id:"thinPelt",imageFile:"hide2",imageColor:this.colorByRank[1],name:"thin pelt",type:"hide",value:2,description:"A thin fur pelt."},plainLeather:{id:"plainLeather",imageFile:"hide3",imageColor:this.colorByRank[2],name:"plain leather",type:"hide",value:3,description:"A basic leather hide."},scaleSkin:{id:"scaleSkin",imageFile:"hide4",imageColor:this.colorByRank[3],name:"scale skin",type:"hide",value:4,description:"A scaly reptile skin."},thickFur:{id:"thickFur5",imageFile:"hide",imageColor:this.colorByRank[4],name:"thick fur",type:"hide",value:5,description:"A thick animal fur."},armoredHide:{id:"armoredHide",imageFile:"hide6",imageColor:this.colorByRank[5],name:"armored hide",type:"hide",value:6,description:"An armored animal hide."},frozenScales:{id:"frozenScales",imageFile:"hide7",imageColor:this.colorByRank[6],name:"frozen scales",type:"hide",value:7,description:"A frozen scaly hide."},mysticalLeather:{id:"mysticalLeather",imageFile:"hide8",imageColor:this.colorByRank[7],name:"mystical leather",type:"hide",value:8,description:"A mystical animal hide."},infernalFur:{id:"infernalFur",imageFile:"hide9",imageColor:this.colorByRank[8],name:"infernal fur",type:"hide",value:9,description:"A diabolical pelt."},orichalcumHide:{id:"orichalcumHide",imageFile:"hide10",imageColor:this.colorByRank[9],name:"orichalcum hide",type:"hide",value:10,description:"A strong magic-infused hide."},tempestScales:{id:"tempestScales",imageFile:"hide11",imageColor:this.colorByRank[10],name:"tempest scales",type:"hide",value:11,description:"A hide bristling with electricity."},evergreenVeil:{id:"evergreenVeil",imageFile:"hide12",imageColor:this.colorByRank[11],name:"evergreen veil",type:"hide",value:12,description:"An extremely durable hide ."},sovereignLeather:{id:"sovereignLeather",imageFile:"hide13",imageColor:this.colorByRank[12],name:"sovereign leather",type:"hide",value:13,description:"A powerful hide of a noble animal."},abyssalFur:{id:"abyssalFur",imageFile:"hide14",imageColor:this.colorByRank[13],name:"abyssal fur",type:"hide",value:14,description:"A fur brimming with unholy power."},umbralHide:{id:"umbralHide",imageFile:"hide15",imageColor:this.colorByRank[14],name:"umbral hide",type:"hide",value:15,description:"A hide made of shadows themselves."},divineVeil:{id:"divineVeil",imageFile:"hide16",imageColor:this.colorByRank[15],name:"divine veil",type:"hide",value:16,description:"A hide consecrated with divine protection."},balsaLog:{id:"balsaLog",imageFile:"wood",imageColor:this.colorByRank[0],name:"balsa log",type:"wood",subtype:"fuel",value:1,description:"A really soft log."},elmLog:{id:"elmLog",imageFile:"wood",imageColor:this.colorByRank[1],name:"elm log",type:"wood",subtype:"fuel",value:2,description:"A soft log."},cypressLog:{id:"cypressLog",imageFile:"wood",imageColor:this.colorByRank[2],name:"cypress log",type:"wood",subtype:"fuel",value:3,description:"A poor quality log."},walnutLog:{id:"walnutLog",imageFile:"wood",imageColor:this.colorByRank[3],name:"walnut log",type:"wood",subtype:"fuel",value:4,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",imageFile:"wood",imageColor:this.colorByRank[4],name:"laurelwood log",type:"wood",subtype:"fuel",value:5,description:"A nice quality log."},blackwoodLog:{id:"blackwoodLog",imageFile:"wood",imageColor:this.colorByRank[5],name:"blackwood log",type:"wood",subtype:"fuel",value:6,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",imageFile:"wood",imageColor:this.colorByRank[6],name:"rosewood log",type:"wood",subtype:"fuel",value:7,description:"A great quality log."},pearwoodLog:{id:"pearwoodLog",imageFile:"wood",imageColor:this.colorByRank[7],name:"pearwood log",type:"wood",subtype:"fuel",value:8,description:"An excellent quality log."},zitanLog:{id:"zitanLog",imageFile:"wood",imageColor:this.colorByRank[8],name:"zitan log",type:"wood",subtype:"fuel",value:9,description:"An amazing quality log."},lignumvitaeLog:{id:"lignumvitaeLog",imageFile:"wood",imageColor:this.colorByRank[9],name:"lignum vitae log",type:"wood",subtype:"fuel",value:10,description:"A log of the highest mortal quality."},peachwoodlog:{id:"peachwoodlog",imageFile:"wood",imageColor:this.colorByRank[10],name:"peachwood log",type:"wood",subtype:"fuel",value:11,description:"A log brimming with spiritual energy."},diamondwoodLog:{id:"diamondwoodLog",imageFile:"wood",imageColor:this.colorByRank[11],name:"diamondwood log",type:"wood",subtype:"fuel",value:12,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",imageFile:"wood",imageColor:this.colorByRank[12],name:"titanwood log",type:"wood",subtype:"fuel",value:13,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",imageFile:"wood",imageColor:this.colorByRank[13],name:"dragonwood log",type:"wood",subtype:"fuel",value:14,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",imageFile:"wood",imageColor:this.colorByRank[14],name:"devilwood log",type:"wood",subtype:"fuel",value:15,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",imageFile:"wood",imageColor:this.colorByRank[15],name:"divinewood log",type:"wood",subtype:"fuel",value:16,description:"A divine quality log."},copperOre:{id:"copperOre",imageFile:"ore",imageColor:this.colorByRank[0],name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",imageFile:"ore",imageColor:this.colorByRank[1],name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",imageFile:"ore",imageColor:this.colorByRank[2],name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",imageFile:"ore",imageColor:this.colorByRank[3],name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",imageFile:"ore",imageColor:this.colorByRank[4],name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",imageFile:"ore",imageColor:this.colorByRank[5],name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",imageFile:"ore",imageColor:this.colorByRank[6],name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",imageFile:"ore",imageColor:this.colorByRank[7],name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",imageFile:"ore",imageColor:this.colorByRank[8],name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",imageFile:"ore",imageColor:this.colorByRank[9],name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",imageFile:"ore",imageColor:this.colorByRank[10],name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",imageFile:"ore",imageColor:this.colorByRank[11],name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",imageFile:"ore",imageColor:this.colorByRank[12],name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",imageFile:"ore",imageColor:this.colorByRank[13],name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",imageFile:"ore",imageColor:this.colorByRank[14],name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",imageFile:"ore",imageColor:this.colorByRank[15],name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",imageFile:"metal",imageColor:this.colorByRank[0],name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",imageFile:"metal",imageColor:this.colorByRank[1],name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",imageFile:"metal",imageColor:this.colorByRank[2],name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",imageFile:"metal",imageColor:this.colorByRank[3],name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",imageFile:"metal",imageColor:this.colorByRank[4],name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",imageFile:"metal",imageColor:this.colorByRank[5],name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",imageFile:"metal",imageColor:this.colorByRank[6],name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",imageFile:"metal",imageColor:this.colorByRank[7],name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",imageFile:"metal",imageColor:this.colorByRank[8],name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",imageFile:"metal",imageColor:this.colorByRank[9],name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",imageFile:"metal",imageColor:this.colorByRank[10],name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",imageFile:"metal",imageColor:this.colorByRank[11],name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",imageFile:"metal",imageColor:this.colorByRank[12],name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",imageFile:"metal",imageColor:this.colorByRank[13],name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",imageFile:"metal",imageColor:this.colorByRank[14],name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",imageFile:"metal",imageColor:this.colorByRank[15],name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",imageFile:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",imageFile:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",imageFile:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",imageFile:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",imageFile:"chain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong, but it's REALLY heavy."},everlastingBrick:{id:"everlastingBrick",imageFile:"brick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",imageFile:"mortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",imageFile:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",imageFile:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",imageFile:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",imageFile:"immortality",name:"Essence of Immortality",type:"immortality",value:1/0,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(ri)),this.impossibleTaskService.taskProgress[fe.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=fe.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.OvercomeDeath].complete&&(this.logService.injury(S.STORY,"YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!"),this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService.easyModeEver&&this.logService.log(S.STORY,"Good work, even if you did take the easy path. For more of a challenge, you could reset and try without using the easy game mode."),this.logService.log(S.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and succeeded in your quest on "+new Date().toDateString()+"."),this.logService.log(S.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes to overcome death."),this.characterService.characterState.immortal=!0)}},portalKey:{id:"portalKey",imageFile:"key",name:"Portal Key",type:"portalKey",value:1/0,description:"The key to Lord Yama's kingdom. With this key, you can use his portals to instantly travel anywhere.",useLabel:"Create a portal back to the palace of the gods on Mount Penglai and claim your throne.",useDescription:"Become a god and win the game (again).",useConsumes:!0,use:()=>{this.logService.injury(S.STORY,"YOU HAVE ACHIEVED GODHOOD! YOU WILL RULE OVER THE UNIVERSE FOREVER!"),this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.inHell=!1,this.gameStateService||(this.gameStateService=this.injector.get(se)),this.activityService||(this.activityService=this.injector.get(Ne)),this.battleService||(this.battleService=this.injector.get(et)),this.logService.log(S.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and achieved godhood on "+new Date().toDateString()+"."),this.logService.log(S.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes to claim your throne on Mount Penglai."),this.characterService.characterState.god=!0,this.activityService.reloadActivities(),this.gameStateService.unlockPanel("portalPanel")}},fingers:{id:"fingers",imageFile:"finger",name:"fingers",type:"fingers",value:1,description:"A handful of bloody fingers. The demons carry them as grisly trophies. Now, it seems, you do too."},tokenOfGratitude:{id:"tokenOfGratitude",imageFile:"token",name:"token of gratitude",type:"tokenOfGratitude",value:1,description:"A small keepsake from your family member."},mirrorShard:{id:"mirrorShard",imageFile:"mirrorShard",name:"mirror shard",type:"mirrorShard",value:1,description:"A shard of broken glass. You carefully turn the reflective side away from you."},iceCore:{id:"iceCore",imageFile:"iceCore",name:"ice core",type:"iceCore",value:1,description:"A small sphere containing the essence of pure cold."},fireCore:{id:"fireCore",imageFile:"fireCore",name:"fire core",type:"fireCore",value:1,description:"A small sphere containing the essence of pure heat."},treasureMap:{id:"treasureMap",imageFile:"treasureMap",name:"treasure map",type:"treasureMap",value:1,description:"A treasure map with the location of a stolen relic."},stolenRelic:{id:"stolenRelic",imageFile:"relic",name:"stolen relic",type:"stolenRelic",value:1,description:"A treasure pilfered from a tomb."},hellCrownTongueRippers:{id:"hellCrownTongueRippers",imageFile:"crown",name:"Crown of the Tongue Rippers",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Tongue Rippers. Using this will unlock a new type of follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.followerService||(this.followerService=this.injector.get($e)),this.hellService.completedHellBosses.includes(G.TongueRipping)||this.hellService.completedHellBosses.push(G.TongueRipping),this.logService.log(S.STORY,"The Crown of Tongue Rippers settles onto your head, then sinks in to become a part of your very soul. You feel that your words carry a new power that can inspire a new kind of follower to worship you as the god you are becoming. Perhaps a trip back to the mortal realm through reincarnation might be worthwhile."),this.followerService.unlockJob("prophet")}},hellCrownScissors:{id:"hellCrownScissors",imageFile:"crown",name:"Crown of Scissors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Scissors. Using this will unlock a new ability for your followers.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.followerService||(this.followerService=this.injector.get($e)),this.hellService.completedHellBosses.includes(G.Scissors)||this.hellService.completedHellBosses.push(G.Scissors),this.logService.log(S.STORY,"The Crown of Scissors settles onto your head, then sinks in to become a part of your very soul. You feel a deeper appreciation for marriage and family, and your followers sense it."),this.logService.log(S.STORY,"From now on, each follower will train a child to replace themselves in your service when they pass away."),this.followerService.autoReplaceUnlocked=!0}},hellCrownTreesOfKnives:{id:"hellCrownTreesOfKnives",imageFile:"crown",name:"Crown of Knives",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Trees of Knives. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.followerService||(this.followerService=this.injector.get($e)),this.hellService.completedHellBosses.includes(G.TreesOfKnives)||this.hellService.completedHellBosses.push(G.TreesOfKnives),this.logService.log(S.STORY,"The Crown of Knives settles onto your head, then sinks in to become a part of your very soul. You can recruit a new follower specialized in honoring ancestors."),this.followerService.unlockJob("moneyBurner")}},hellCrownMirrors:{id:"hellCrownMirrors",imageFile:"crown",name:"Crown of Mirrors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Mirrors. Using this will unlock a new understanding of combat.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.followerService||(this.followerService=this.injector.get($e)),this.activityService||(this.activityService=this.injector.get(Ne)),this.hellService.completedHellBosses.includes(G.Mirrors)||this.hellService.completedHellBosses.push(G.Mirrors),this.logService.log(S.STORY,"The Crown of Mirrors settles onto your head, then sinks in to become a part of your very soul. A deep understanding of combat based on your many battles with yourself reveals itself in a moment of enlightenment."),this.characterService.characterState.attributes.combatMastery.value+=1,this.activityService.CombatTraining.unlocked=!0}},hellCrownSteamers:{id:"hellCrownSteamers",imageFile:"crown",name:"Crown of Steam",type:"hellcrown",value:1/0,description:"A misty crown proving your mastery over the Hell of Steamers. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.battleService||(this.battleService=this.injector.get(et)),this.hellService.completedHellBosses.includes(G.Steamers)||this.hellService.completedHellBosses.push(G.Steamers),this.logService.log(S.STORY,"The Crown of Steam settles onto your head, then sinks in to become a part of your very soul. You learn to harness the intense heat of the Hell of Steamers in a powerful magical blast."),this.battleService.pyroclasmUnlocked=!0}},hellCrownPillars:{id:"hellCrownPillars",imageFile:"crown",name:"Crown of Pillars",type:"hellcrown",value:1/0,description:"A crown topped with tiny copper pillars. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.battleService||(this.battleService=this.injector.get(et)),this.hellService.completedHellBosses.includes(G.CopperPillars)||this.hellService.completedHellBosses.push(G.CopperPillars),this.logService.log(S.STORY,"The Crown of Pillars settles onto your head, then sinks in to become a part of your very soul. You can now summon a massive metal fist with each of your combat strikes."),this.battleService.metalFistUnlocked=!0}},hellCrownMountainOfKnives:{id:"hellCrownMountainOfKnives",imageFile:"crown",name:"Crown of the Knife Mountain",type:"hellcrown",value:1/0,description:"A crown shaped like a mountain covered in tiny blades. Using this will unlock a new understanding of the world.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.MountainOfKnives)||this.hellService.completedHellBosses.push(G.MountainOfKnives),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Having balanced your karmic debt, you begin to see the balance in all the world around you. Bonuses for Yin and Yang balance are greatly increased."),this.characterService.characterState.yinYangBoosted=!0}},hellCrownMountainOfIce:{id:"hellCrownMountainOfIce",imageFile:"crown",name:"Crown of Ice",type:"hellcrown",value:1/0,description:"A frozen crown. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.MountainOfIce)||this.hellService.completedHellBosses.push(G.MountainOfIce),this.battleService||(this.battleService=this.injector.get(et)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The deep freezing from the mountain has given you a new idea for how to defend yourself."),this.battleService.iceShieldUnlocked=!0}},hellCrownCauldronsOfOil:{id:"hellCrownCauldronsOfOil",imageFile:"crown",name:"Cauldron Crown",type:"hellcrown",value:1/0,description:"An ugly pot you can wear on your head. Using this will unlock a new respect for the sanctity and dignity of human life.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.CauldronsOfOil)||this.hellService.completedHellBosses.push(G.CauldronsOfOil),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. A new resolve awakens in you to protect the defenseless from those that would abuse them."),this.characterService.characterState.righteousWrathUnlocked=!0}},hellCrownCattlePit:{id:"hellCrownCattlePit",imageFile:"crown",name:"Cow Crown",type:"hellcrown",value:1/0,description:"Now you are the Cow Emperor. Using this will let you understand animals.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.CattlePit)||this.hellService.completedHellBosses.push(G.CattlePit),this.followerService||(this.followerService=this.injector.get($e)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You find a new and deep connection to animals that you've never felt before."),this.followerService.unlockElementalPets(),this.gameStateService||(this.gameStateService=this.injector.get(se)),this.gameStateService.unlockPanel("petsPanel")}},hellCrownCrushingBoulder:{id:"hellCrownCrushingBoulder",imageFile:"crown",name:"Boulder Crown",type:"hellcrown",value:1/0,description:"A heavy stone crown. Using this will greatly improve your physical characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.CrushingBoulder)||this.hellService.completedHellBosses.push(G.CrushingBoulder),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your muscles swell with new power."),this.characterService.characterState.bonusMuscles=!0}},hellCrownMortarsAndPestles:{id:"hellCrownMortarsAndPestles",imageFile:"crown",name:"Gluttonous Crown",type:"hellcrown",value:1/0,description:"A crown topped with mortars full of hellfire. Using this will lead you to a new enlightenment about food.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.MortarsAndPestles)||this.hellService.completedHellBosses.push(G.MortarsAndPestles),this.farmService||(this.farmService=this.injector.get(Rt)),this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You come to a deep appreciation of the value and importance of food."),this.farmService.hellFood=!0,this.inventoryService.divinePeachesUnlocked=!0,this.inventoryService.updateFarmFoodList()}},hellCrownBloodPool:{id:"hellCrownBloodPool",imageFile:"crown",name:"Blood Crown",type:"hellcrown",value:1/0,description:"A liquid crown made of blood. Using this will empower your bloodline.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.BloodPool)||this.hellService.completedHellBosses.push(G.BloodPool),this.homeService||(this.homeService=this.injector.get(we)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your bloodline becomes so powerful that the benefits of your ancestral home now apply even when you are no longer in the mortal realm."),this.homeService.hellHome=!0}},hellCrownWrongfulDead:{id:"hellCrownWrongfulDead",imageFile:"crown",name:"Hollow Crown",type:"hellcrown",value:1/0,description:"A crown so light you can barely feel it. Using this will greatly improve your mental characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.WrongfulDead)||this.hellService.completedHellBosses.push(G.WrongfulDead),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your mind suddenly expands with endless new possibilities."),this.characterService.characterState.bonusBrains=!0}},hellCrownDismemberment:{id:"hellCrownDismemberment",imageFile:"crown",name:"Crown of Limbs",type:"hellcrown",value:1/0,description:"A crown topped with dismembered limbs. Using this will open up a new understanding of spirit gems.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.Dismemberment)||this.hellService.completedHellBosses.push(G.Dismemberment),this.activityService||(this.activityService=this.injector.get(Ne)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. If you are spiritual enough, you can now purify gems to infuse new effects into your weapons."),this.activityService.purifyGemsUnlocked=!0,this.activityService.reloadActivities()}},hellCrownFireMountain:{id:"hellCrownFireMountain",imageFile:"crown",name:"Lava Crown",type:"hellcrown",value:1/0,description:"A crown made of pure lava. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.MountainOfFire)||this.hellService.completedHellBosses.push(G.MountainOfFire),this.battleService||(this.battleService=this.injector.get(et)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The intense heat of the volcano has strengthened your inner fire, allowing you to form a barrier to protect you and harm your enemies."),this.battleService.fireShieldUnlocked=!0}},hellCrownMills:{id:"hellCrownMills",imageFile:"crown",name:"Millstone Crown",type:"hellcrown",value:1/0,description:"A heavy crown with the weight of a millstone. Using this will increase the limits of your health.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.Mills)||this.hellService.completedHellBosses.push(G.Mills),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The intense pressure of the mill has strengthened your skin and bones allowing you to increase your total health dramatically."),this.characterService.characterState.bonusHealth=!0}},hellCrownSaws:{id:"hellCrownSaws",imageFile:"crown",name:"Saw Crown",type:"hellcrown",value:1/0,description:"A toothy crown with sawblades pointing in all directions. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.completedHellBosses.includes(G.Saws)||this.hellService.completedHellBosses.push(G.Saws),this.followerService||(this.followerService=this.injector.get($e)),this.logService.log(S.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You can now recruit followers that put their swindling and cheating to good use."),this.followerService.unlockJob("banker")}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>5?5:this.mainLoopService.topDivider,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>2?2:this.mainLoopService.topDivider,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.mainLoopService.topDivider=1,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life.<br>Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.autoRestart=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService?.autoRestart)},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock the auto-sell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellUnlocked)},autoEatManual:{id:"autoEatManual",name:"Manual of Wise Consumption",type:"manual",description:"This manual teaches you to automatically eat to maximize your health, nutition, and stamina.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock the auto-eat button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoEatUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoEatUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock the auto-use button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoUseUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock the auto-balance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(we)),this.homeService.autoBuyLandUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(we)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(we)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(we)),this.homeService.autoBuyHomeUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(Po)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(Po)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically skip plowing actions when you have enough fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.farmService||(this.farmService=this.injector.get(Rt)),this.farmService.autoFieldUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.farmService||(this.farmService=this.injector.get(Rt)),this.farmService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock auto-drinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoPotionUnlocked=!0,this.inventoryService.autoPotionEnabled=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Potion")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-swallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoPillUnlocked=!0,this.inventoryService.autoPillEnabled=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(et)),this.battleService.autoTroubleUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.battleService||(this.battleService=this.injector.get(et)),this.battleService?.autoTroubleUnlocked)},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldHerbs=!0,this.inventoryService.autoSellOldHerbsEnabled=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldWood=!0,this.inventoryService.autoSellOldWoodEnabled=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldOre=!0,this.inventoryService.autoSellOldOreEnabled=!0,this.inventoryService.autoSellOldBarsEnabled=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldOre)},bestHidesManual:{id:"bestHidesManual",name:"Manual of Pelt Perception",type:"manual",description:"This manual teaches you to automatically sell any hides below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade hides.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldHides=!0,this.inventoryService.autoSellOldHidesEnabled=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldHides)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoequipBestWeapon=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoequipBestArmor=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize*=10,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize*=10,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize*=10,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you to automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get($e)),this.followerService.autoDismissUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.followerService||(this.followerService=this.injector.get($e)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you to automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem auto-selling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoSellOldGemsUnlocked)},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.autoPauseUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.autoPauseUnlocked)},bankedTicksEfficiencyManual:{id:"bankedTicksEfficiencyManual",name:"Manual of Efficient Time Banking",type:"manual",description:"This manual teaches you to more efficiently bank ticks when paused or offline.",value:25e8,useLabel:"Read",useDescription:"Permanently increase banked tick efficiency to 50%.",useConsumes:!0,use:()=>{this.mainLoopService.offlineDivider=2,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.offlineDivider<=2},autoRestManual:{id:"autoRestManual",name:"Manual of Timely Rest",type:"manual",description:"This manual teaches you to avoid overwork by resting just in time.",value:4e10,useLabel:"Read",useDescription:"Permanently unlock automatic resting.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.autoRestUnlocked=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.autoRestUnlocked)},ageSpeedManual:{id:"ageSpeedManual",name:"Manual of Aged Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the older you are.",value:75e8,useLabel:"Read",useDescription:"Permanently increase time passage based on your age.",useConsumes:!0,use:()=>{this.mainLoopService.unlockAgeSpeed=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockAgeSpeed},totalPlaytimeManual:{id:"totalPlaytimeManual",name:"Manual of Lifetime Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the longer you've lived across all your lives.",value:5e10,useLabel:"Read",useDescription:"Permanently increase time passage based on your total time lived.",useConsumes:!0,use:()=>{this.mainLoopService.unlockPlaytimeSpeed=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockPlaytimeSpeed},perpetualCraftingManual:{id:"perpetualCraftingManual",name:"Manual of Perpetual Crafting",type:"manual",description:"This manual teaches you to automatically reload crafting input items into workstations when you obtain them.",value:5e9,useLabel:"Read",useDescription:"Permanently unlock automatic crafting ingredient reloading.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoReloadCraftInputs=!0,this.logService.log(S.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Y)),this.inventoryService.autoReloadCraftInputs)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){for(let i of this.furniture)if(i.id===e)return i;return null}static{this.\u0275fac=function(i){return new(i||t)(x(X),x(ee),x(ot),x(ve))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Y=(()=>{class t{constructor(e,i,r,o,a,s,l){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=s,this.titleCasePipe=l,this.itemStacks=[],this.stashedItemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=this.getEmptyItemStack(),this.autoequipBestEnabled=!0,this.lifetimeUsedItems=0,this.lifetimeUsedFood=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.autoBuyFood=!0,this.automergeEquipped=!1,this.autoSort=!1,this.descendingSort=!1,this.divinePeachesUnlocked=!1,this.equipmentUnlocked=!1,this.equipmentCreated=0,this.emptyIdCounter=0,this.emptyIdPrefix=Date.now()+"",this.totalItemsReceived=0,this.autoReloadCraftInputs=!1,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],setTimeout(()=>this.hellService=this.injector.get(ye)),setTimeout(()=>this.homeService=this.injector.get(we)),this.bigNumberPipe=this.injector.get(Te),this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellEntries=[],this.autoUseUnlocked=!1,this.autoEatUnlocked=!1,this.autoEatNutrition=!0,this.autoEatHealth=!1,this.autoEatStamina=!1,this.autoEatQi=!1,this.autoEatAll=!1,this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoPotionEnabled=!1,this.autoPillEnabled=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.useCheapestSpiritGem=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldHides=!1,this.autoSellOldHerbsEnabled=!1,this.autoSellOldWoodEnabled=!1,this.autoSellOldOreEnabled=!1,this.autoSellOldBarsEnabled=!1,this.autoSellOldHidesEnabled=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1,this.autoUseEntries=[];for(let c of this.farmFoodList)this.autoUseEntries.push({name:c.name,type:"food",reserve:0});for(let c=0;c<this.maxItems;c++)this.itemStacks.push(this.getEmptyItemStack());o.inventoryTickSubject.subscribe(()=>{this.tick()}),o.longTickSubject.subscribe(()=>{this.autoequipBestWeapon&&this.autoWeaponMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoArmorMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipArmor();for(let c of["head","body","legs","feet"]){let h=this.characterService.characterState.equipment[c];h&&this.updateArmorDescription(h)}for(let c of["leftHand","rightHand"]){let h=this.characterService.characterState.equipment[c];h&&this.updateWeaponDescription(h)}for(let c of this.itemStacks)if(c.item){let h=c.item;Vt(h)&&(h.weaponStats?this.updateWeaponDescription(h):h.armorStats&&this.updateArmorDescription(h))}this.autoSort&&this.sortInventory()}),a.reincarnateSubject.subscribe(()=>{this.reset()})}tick(){if(!this.characterService.characterState.dead){this.characterService.characterState.status.nourishment.value--,this.eatDailyMeal();for(let e=0;e<this.characterService.characterState.itemPouches.length;e++){let i=this.characterService.characterState.itemPouches[e];if(i.item?.type==="healthRestore"&&this.characterService.characterState.status.health.value<this.characterService.characterState.status.health.max){let r=this.characterService.characterState.status.health.max-this.characterService.characterState.status.health.value,o=i.item.restoreAmount||1,a=Math.ceil(r/o);i.quantity>a?(this.characterService.characterState.status.health.value=this.characterService.characterState.status.health.max,i.quantity-=a):(this.characterService.characterState.status.health.value+=o*i.quantity,this.characterService.characterState.itemPouches[e]=this.getEmptyItemStack())}}this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++}}getProperties(){return{itemStacks:this.itemStacks,stashedItemStacks:this.stashedItemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked,autoEatUnlocked:this.autoEatUnlocked,autoEatNutrition:this.autoEatNutrition,autoEatHealth:this.autoEatHealth,autoEatStamina:this.autoEatStamina,autoEatQi:this.autoEatQi,autoEatAll:this.autoEatAll,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoPotionEnabled:this.autoPotionEnabled,autoPillEnabled:this.autoPillEnabled,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,useCheapestSpiritGem:this.useCheapestSpiritGem,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoSellOldHides:this.autoSellOldHides,autoSellOldHerbsEnabled:this.autoSellOldHerbsEnabled,autoSellOldWoodEnabled:this.autoSellOldWoodEnabled,autoSellOldOreEnabled:this.autoSellOldOreEnabled,autoSellOldBarsEnabled:this.autoSellOldBarsEnabled,autoSellOldHidesEnabled:this.autoSellOldHidesEnabled,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled,autoBuyFood:this.autoBuyFood,automergeEquipped:this.automergeEquipped,autoSort:this.autoSort,descendingSort:this.descendingSort,divinePeachesUnlocked:this.divinePeachesUnlocked,equipmentUnlocked:this.equipmentUnlocked,equipmentCreated:this.equipmentCreated,totalItemsReceived:this.totalItemsReceived,autoReloadCraftInputs:this.autoReloadCraftInputs}}setProperties(e){this.itemStacks=e.itemStacks;for(let i=0;i<this.itemStacks.length;i++)this.itemStacks[i]?this.fixId(i):this.setItemEmptyStack(i);this.stashedItemStacks=e.stashedItemStacks||[],this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellEntries=e.autoSellEntries||[],this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoEatUnlocked=e.autoEatUnlocked||!1,this.autoEatNutrition=e.autoEatNutrition??!0,this.autoEatHealth=e.autoEatHealth||!1,this.autoEatStamina=e.autoEatStamina||!1,this.autoEatQi=e.autoEatQi||!1,this.autoEatAll=e.autoEatAll||!1,this.autoUseEntries=e.autoUseEntries||[],this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoPotionEnabled=e.autoPotionUnlocked||this.autoPotionUnlocked,this.autoPillEnabled=e.autoPillUnlocked||this.autoPillUnlocked,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.useCheapestSpiritGem=e.useCheapestSpiritGem||!1,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoSellOldHides=e.autoSellOldHides||!1,this.autoSellOldHerbsEnabled=e.autoSellOldHerbsEnabled||!1,this.autoSellOldWoodEnabled=e.autoSellOldWoodEnabled||!1,this.autoSellOldOreEnabled=e.autoSellOldOreEnabled||!1,this.autoSellOldBarsEnabled=e.autoSellOldBarsEnabled||!1,this.autoSellOldHidesEnabled=e.autoSellOldHidesEnabled||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,e.autoequipBestEnabled===void 0?this.autoequipBestEnabled=!0:this.autoequipBestEnabled=e.autoequipBestEnabled,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1,this.autoBuyFood=e.autoBuyFood??!0,this.automergeEquipped=e.automergeEquipped||!1,this.autoSort=e.autoSort||!1,this.descendingSort=e.descendingSort||!1,this.divinePeachesUnlocked=e.divinePeachesUnlocked||!1,this.updateFarmFoodList(),this.equipmentUnlocked=e.equipmentUnlocked||!1,this.equipmentCreated=e.equipmentCreated||0,this.totalItemsReceived=e.totalItemsReceived||0,this.autoReloadCraftInputs=e.autoReloadCraftInputs||!1}updateFarmFoodList(){this.divinePeachesUnlocked&&this.farmFoodList.push(this.itemRepoService.items.divinePeach)}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(this.getEmptyItemStack())}sortInventory(){let e=[],i=[],r=[];for(let a=0;a<this.itemStacks.length;a++){let s=this.itemStacks[a];s.item&&(s.item.type==="gem"?i.push(s):s.item.type==="equipment"?r.push(s):e.push(s))}this.descendingSort?(e.sort((a,s)=>a.quantity-s.quantity),e.sort((a,s)=>a.item.value-s.item.value),e.sort((a,s)=>a.item.type>s.item.type?-1:a.item.type===s.item.type?0:1),r.sort((a,s)=>a.item.name>s.item.name?-1:a.item.name===s.item.name?0:1),r.sort((a,s)=>a.item.value-s.item.value),i.sort((a,s)=>a.quantity-s.quantity),i.sort((a,s)=>a.item.value-s.item.value)):(e.sort((a,s)=>s.quantity-a.quantity),e.sort((a,s)=>s.item.value-a.item.value),e.sort((a,s)=>s.item.type>a.item.type?-1:s.item.type===a.item.type?0:1),r.sort((a,s)=>s.item.name>a.item.name?-1:s.item.name===a.item.name?0:1),r.sort((a,s)=>s.item.value-a.item.value),i.sort((a,s)=>s.quantity-a.quantity),i.sort((a,s)=>s.item.value-a.item.value));let o=this.itemStacks.length-e.length-i.length-r.length;this.itemStacks=e,this.itemStacks.push(...r),this.itemStacks.push(...i);for(let a=0;a<o;a++)this.itemStacks.push(this.getEmptyItemStack())}generateWeapon(e,i,r=void 0,o=void 0){this.equipmentCreated++;let a=vn.length*To.length*hl.length,s=Math.ceil(Math.sqrt(e/1e10)*a),l=s%vn.length;s>=a&&(l=vn.length-1);let c=Math.floor(s/vn.length),h=vn[l],f="";if(c>0){let W=Math.floor(c/To.length);W>0?(W>hl.length?(W=hl.length,c=To.length-1):c=c%To.length,f=" of "+hl[W-1]+" "+To[c]):f=" of "+To[c-1]}let g=i,v="rightHand",_="metalWeapon";i==="wood"&&(v="leftHand",g="wooden",_="woodenWeapon");let C=r??Cg[Math.floor(Math.random()*Cg.length)],T;C==="Grandmother's Walking Stick"?(T=C,_="stick"):T=h+" "+g+" "+C+f,this.logService.log(S.CRAFTING,"Your hard work paid off! You created a new weapon: "+this.titleCasePipe.transform(T)+"!");let B=Math.min(Math.sqrt(e),1e3)*e;return{id:"weapon",imageFile:_,name:T,type:"equipment",slot:v,value:e,weaponStats:{baseDamage:B,material:i,baseName:C,effect:o},description:"A unique weapon made of "+i+".<br>Drag and drop onto similar weapons to merge them into something better.<br>Base Damage: "+this.bigNumberPipe.transform(B)}}updateWeaponDescription(e){if(!e.weaponStats)return;let i="";e.weaponStats.effect&&(i=" and imbued with the power of "+e.weaponStats.effect),e.description="A unique weapon made of "+e.weaponStats.material+i+".<br>Drag and drop onto similar weapons to merge them into something better.<br> Base Damage: "+this.bigNumberPipe.transform(e.weaponStats.baseDamage)}updateArmorDescription(e){if(!e.armorStats)return;let i="";e.armorStats.effect&&(i=" and imbued with the power of "+e.armorStats.effect),e.description="A unique piece of armor "+i+".<br>Drag and drop onto similar armor to merge them into something better.<br>Defense: "+this.bigNumberPipe.transform(e.armorStats.defense)}upgradeEquppedEquipment(e){let i=[];if(this.characterService.characterState.equipment.leftHand&&i.push(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.rightHand&&i.push(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.head&&i.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&i.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&i.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&i.push(this.characterService.characterState.equipment.feet),i.length>0){let r=i[Math.floor(Math.random()*i.length)];this.upgradeEquipment(r,e)}}upgradeEquipment(e,i,r="spirit"){e.armorStats?(e.armorStats.defense+=Math.max(Math.sqrt(i),1e3)*i,r!=="spirit"&&(e.armorStats.effect=r)):e.weaponStats&&(e.weaponStats.baseDamage+=Math.max(Math.sqrt(i),1e3)*i,r!=="spirit"&&(e.weaponStats.effect=r)),e.value+=i,this.logService.log(S.CRAFTING,"You add "+i+" power to your "+this.titleCasePipe.transform(e.name))}generatePotion(e){let r=Object.keys(this.characterService.characterState.attributes)[Math.floor(Math.random()*5)],o="Potion of "+r+" +"+e;this.logService.log(S.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(o)+". Keep up the good work."),this.addItem({name:o,imageFile:"potion",id:"potion",type:"potion",value:e,description:"A potion that increases "+r,useLabel:"Drink",useDescription:"Drink to increase your "+r+".",useConsumes:!0,attribute:r,increase:e})}generateEmpowermentPill(){let e="Empowerment",i="A pill that permanently empowers the increase of your attributes based on your aptitudes.",r="Use to permanently empower the increase of your attributes based on your aptitudes.",a="Empowerment Pill",s="empowermentPill";this.logService.log(S.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(a)+". Its effect gets worse the more you take."),this.addItem({name:a,imageFile:s,id:"pill",type:"pill",value:1,description:i,useLabel:"Swallow",useDescription:r,useConsumes:!0,effect:e,power:1})}generatePill(e){let i="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",a=e*10,s=i+" Pill  +"+e,l="pill";this.logService.log(S.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(s)+". Keep up the good work."),this.addItem({name:s,imageFile:l,id:"pill",type:"pill",value:a,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:i,power:e})}generateHerb(){let e=0,i=ja.length*bu.length,r=this.characterService.characterState.attributes.woodLore.value;e=Math.floor(Math.pow(r/1e9,.26)*i);let o=e%ja.length,a=Math.floor(e/ja.length);e>=i&&(o=ja.length-1,a=bu.length-1);let s=ja[o],l=bu[a],c=e+1,h=l+" "+s;if(this.addItem({id:"herb",imageFile:"herb_"+s,imageColor:this.itemRepoService.colorByRank[a],name:h,type:"herb",value:c,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbsEnabled)for(let f=0;f<this.itemStacks.length;f++){let g=this.itemStacks[f];g.item&&g.item.id==="herb"&&g.item.value<c&&g.item.name!==h&&this.sell(g,g.quantity)}}generateSpiritGem(e,i="spirit"){let r="A spirit gem dropped by a monster.";return i!=="spirit"&&(r="A spirit gem full of the power of "+i+"."),{id:"spiritGemGrade"+e,imageFile:"spiritGem",name:i+" gem grade "+e,type:"gem",subtype:i,value:e*10,description:r}}generateArmor(e,i,r=void 0,o=void 0){this.equipmentCreated++;let a=vn.length*Io.length*ml.length,s=Math.ceil(Math.sqrt(e/1e10)*a),l=s%vn.length;s>=a&&(l=vn.length-1);let c=Math.floor(s/vn.length),h=vn[l],f="";if(c>0){let B=Math.floor(c/Io.length);B>0?(B>ml.length?(B=ml.length,c=Io.length-1):c=c%Io.length,f=" of "+ml[B-1]+" "+Io[c]):f=" of "+Io[c-1]}let g=GC,v="chestArmor";i==="legs"?(g=WC,v="legsArmor"):i==="head"?(g=YC,v="headArmor"):i==="feet"&&(v="feetArmor",g=KC);let _=r??g[Math.floor(Math.random()*g.length)],C=h+" "+_+f;this.logService.log(S.CRAFTING,"Your hard work paid off! You created some armor: "+this.titleCasePipe.transform(C)+"!");let T=Math.min(Math.sqrt(e),1e3)*e;return{id:"armor",imageFile:v,name:C,type:"equipment",slot:i,value:e,armorStats:{defense:T,baseName:_,effect:o},description:"A unique piece of armor that you made.<br>Drag and drop onto similar armor to merge them into something better.<br>nDefense: "+this.bigNumberPipe.transform(T)}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e=this.characterService.characterState.attributes.earthLore.value,i=Math.floor(Math.pow(e/1e9,.15)*16),r=this.itemRepoService.items.copperOre;for(let o in this.itemRepoService.items){let a=this.itemRepoService.items[o];a.type==="ore"&&a.value>r.value&&a.value<=i&&(r=a)}if(this.autoSellOldOreEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){let a=this.itemStacks[o];a.item&&a.item.type==="ore"&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getBar(e){let i=e*10,r=this.itemRepoService.items.copperBar;for(let o in this.itemRepoService.items){let a=this.itemRepoService.items[o];if(a.type==="metal"&&a.value===i){r=a;break}}if(this.autoSellOldBarsEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){let a=this.itemStacks[o];a.item&&a.item.type==="metal"&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getWood(){let e=this.characterService.characterState.attributes.woodLore.value,i=Math.floor(Math.pow(e/1e9,.15)*16),r=this.itemRepoService.items.balsaLog;for(let o in this.itemRepoService.items){let a=this.itemRepoService.items[o];a.type==="wood"&&a.value>r.value&&a.value<=i&&(r=a)}if(this.autoSellOldWoodEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){let a=this.itemStacks[o];a.item&&a.item.type==="wood"&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getHide(){let e=this.characterService.characterState.attributes.animalHandling.value,i=Math.floor(Math.pow(e/1e9,.15)*16),r=this.itemRepoService.items.hide;for(let o in this.itemRepoService.items){let a=this.itemRepoService.items[o];a.type==="hide"&&a.value>r.value&&a.value<=i&&(r=a)}if(this.autoSellOldHidesEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){let a=this.itemStacks[o];a.item&&a.item.type==="hide"&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}reset(){if(this.selectedItem=this.getEmptyItemStack(),this.lifetimeUsedItems=0,this.lifetimeUsedFood=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.stashedItemStacks=[],this.changeMaxItems(10),this.grandmotherGift){let e={id:"weapon",imageFile:"stick",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",baseName:"Grandmother's Walking Stick"},description:"Your grandmother's walking stick.<br>Drag and drop onto similar weapons to merge them into something better.<br>Base Damage: 10"};this.addItem(e)}this.characterService.characterState.bloodlineRank>=6||this.motherGift&&(this.logService.log(S.EVENT,"Your mother gives you three big bags of rice as she sends you out to make your way in the world."),this.addItem(this.itemRepoService.items.rice,300))}eatDailyMeal(){if(this.autoEatUnlocked&&(this.autoEatNutrition||this.autoEatHealth||this.autoEatStamina||this.autoEatQi||this.autoEatAll)){let r=null,o=!1;for(let a of this.itemStacks)if(a.item!==null){if(a.item.type==="food"&&this.autoUseEntries.find(s=>s.name===a.item.name))for(r=a;!this.bellyFull()&&r.quantity>0;)this.useItemStack(r),o=!0;if(this.bellyFull())break}o?this.noFood=!1:(this.noFood=!0,!this.hellService?.inHell&&this.characterService.characterState.money>0&&this.autoBuyFood&&(this.characterService.characterState.updateMoney(-1),this.characterService.characterState.status.nourishment.value++));return}if(this.characterService.characterState.status.nourishment.value>this.characterService.characterState.status.nourishment.max*.2)return;let e=null,i=0;for(let r of this.itemStacks)r.item!==null&&r.item.type==="food"&&r.item.value>i&&(e=r,i=e.item?.value||0);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,!this.hellService?.inHell&&this.characterService.characterState.money>0&&this.autoBuyFood&&(this.characterService.characterState.updateMoney(-1),this.characterService.characterState.status.nourishment.value++))}bellyFull(){return!(this.autoEatAll||this.autoEatNutrition&&this.characterService.characterState.status.nourishment.value<this.characterService.characterState.status.nourishment.max||this.autoEatHealth&&this.characterService.characterState.status.health.value<this.characterService.characterState.status.health.max-1||this.autoEatStamina&&this.characterService.characterState.status.stamina.value<this.characterService.characterState.status.stamina.max-1||this.autoEatQi&&this.characterService.characterState.status.qi.value<this.characterService.characterState.status.qi.max-1)}eatFood(e,i=1){let r=e.value;this.characterService.characterState.status.nourishment.value+=i+i*r*.05,this.characterService.characterState.healthBonusFood+=i*r*.01,this.characterService.characterState.status.health.value+=i*r*.01,this.characterService.characterState.status.stamina.value+=i*r*.01,this.characterService.characterState.status.qi.value+=i*r*.01;let o=Math.min(r*365,7300);this.characterService.characterState.foodLifespan+i<=o?this.characterService.characterState.foodLifespan+=i:this.characterService.characterState.foodLifespan<o&&(this.characterService.characterState.foodLifespan=o),e.subtype==="meal"&&(this.characterService.characterState.status.stamina.max+=i*r/100),this.characterService.characterState.checkOverage()}addItem(e,i=1,r=0){if(i<1&&(i=1),this.totalItemsReceived+=i,this.autoReloadCraftInputs){let a=this.homeService?.workstations;if(a)for(let s of a){let l=s.inputs.find(c=>c.item?.id===e.id);if(l)return l.quantity+=i,-1}}for(let a of this.autoBalanceItems)if(a.name===e.name){if(this.hellService?.inHell)return this.useItem(e,i*a.useNumber),-1;if(a.useNumber<1){if(a.sellNumber<1)break;return this.characterService.characterState.updateMoney(e.value*i),-1}else if(a.sellNumber<1)return this.useItem(e,i*a.useNumber),-1;let s=i%(a.useNumber+a.sellNumber);for(i-=s;s>0;){if(a.index<a.useNumber)if(s+a.index<=a.useNumber){this.useItem(e,s),a.index+=s;break}else this.useItem(e,a.useNumber-a.index),s-=a.useNumber-a.index,a.index=a.useNumber;if(a.index<a.useNumber+a.sellNumber)if(s+a.index<a.useNumber+a.sellNumber){this.characterService.characterState.updateMoney(e.value*s),a.index+=s;break}else this.characterService.characterState.updateMoney(e.value*(a.useNumber+a.sellNumber-a.index)),s-=a.useNumber+a.sellNumber-a.index,a.index=0;a.index>=a.useNumber+a.sellNumber&&(a.index-=a.useNumber+a.sellNumber)}if(i&&(i/=a.useNumber+a.sellNumber,this.useItem(e,i*a.useNumber),this.characterService.characterState.updateMoney(e.value*i),i=0),i<1)return-1;break}if(this.autoPotionEnabled&&e.type==="potion")return this.useItem(e,i),-1;if(this.autoPillEnabled&&e.type==="pill")return this.useItem(e,i),-1;if(e.type!=="food"){for(let a of this.autoUseEntries)if(a.name===e.name){let s=this.getQuantityByName(e.name)+i-a.reserve;if(s>i&&(s=i),s>0&&(this.useItem(e,i),i-=s,i===0))return-1}}if(this.autoSellOldGemsEnabled&&e.type==="gem"&&!this.hellService?.inHell)for(let a=0;a<this.itemStacks.length;a++){let s=this.itemStacks[a];s.item&&s.item.type==="gem"&&s.item.value<e.value&&(this.characterService.characterState.updateMoney(s.item.value*s.quantity),this.setItemEmptyStack(a))}for(let a of this.autoSellEntries)if(a.name===e.name&&!this.hellService?.inHell){let s=this.getQuantityByName(e.name)+i-a.reserve;if(s>i&&(s=i),s>0&&(this.characterService.characterState.updateMoney(e.value*s),i-=s,i===0))return-1}let o=-1;if(e.type!=="equipment")for(let a=0;a<this.itemStacks.length;a++){let s=this.itemStacks[a];if(s.item&&s.item.name===e.name){if(s.quantity+i<=this.maxStackSize)return s.quantity+=i,o===-1&&(o=a),this.fixId(a),o;o===-1&&(o=a),i-=this.maxStackSize-s.quantity,s.quantity=this.maxStackSize,this.fixId(a)}}for(let a=r;a<this.itemStacks.length;a++)if(!this.itemStacks[a].item){if(o===-1&&(o=a),i<=this.maxStackSize)return this.itemStacks[a]={item:e,quantity:i,id:a+e.name+i},o;this.itemStacks[a]={item:e,quantity:this.maxStackSize,id:a+e.name+i},i-=this.maxStackSize}return this.autoSellUnlocked&&!this.hellService?.inHell?(this.logService.log(S.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you sold it."),this.characterService.characterState.updateMoney(e.value*i)):this.logService.log(S.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you threw it away."),this.thrownAwayItems+=i,o}sell(e,i){if(!e.item||e.item.value===1/0||this.hellService?.inHell)return;this.lifetimeSoldItems+=i,e.item.type==="gem"&&(this.lifetimeGemsSold+=i);let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.setItemEmptyStack(r),this.characterService.characterState.updateMoney(e.quantity*e.item.value)):(e.quantity-=i,this.fixIdByStack(e),this.characterService.characterState.updateMoney(i*e.item.value))}sellAll(e){if(!this.hellService?.inHell)for(let i of this.itemStacks)i.item&&i.item.name===e.name&&this.sell(i,i.quantity)}autoSell(e){e.value!==1/0&&this.autoSellUnlocked&&(Vt(e)||(this.autoSellEntries.some(i=>i.name===e.name)||this.autoSellEntries.push({name:e.name,type:e.type,reserve:0}),this.sellAll(e)))}unAutoSell(e){let i=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(i,1)}useItemStack(e,i=1){if(e.item&&(i<1&&(i=1),i>e.quantity&&(i=e.quantity),this.useItem(e.item,i),e.item.useConsumes))if(e.quantity-=i,e.quantity<=0){let r=this.itemStacks.indexOf(e);this.setItemEmptyStack(r)}else this.fixIdByStack(e)}useItem(e,i=1){if(i<1&&(i=1),e.type==="food"){this.lifetimeUsedFood++,this.eatFood(e,i);return}else this.lifetimeUsedItems++;e.type==="potion"&&aF(e)?this.usePotion(e,i):e.type==="pill"&&sF(e)?this.usePill(e,i):e.use&&(e.use(i),e.type==="food"&&this.hellService&&(this.hellService.daysFasted=0))}autoUse(e){if(!(!this.autoUseUnlocked&&e.type!=="food"||!this.autoEatUnlocked&&e.type==="food")&&!(e.type!=="potion"&&e.type!=="pill"&&e.type!=="food"&&!e.use)&&(this.autoUseEntries.some(i=>i.name===e.name)||this.autoUseEntries.push({name:e.name,type:e.type,reserve:0}),e.useConsumes&&e.type!=="food"))for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];r.item&&r.item.name===e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){let i=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name===e){this.autoBalanceItems.splice(i,1);return}}equip(e){let i=e.item;if(!i||!Vt(i)){if(i?.pouchable){let a=this.itemStacks.indexOf(e);for(let s=0;s<this.characterService.characterState.itemPouches.length;s++)if(this.characterService.characterState.itemPouches[s].item?.name===i.name){this.characterService.characterState.itemPouches[s].quantity+=e.quantity,this.setItemEmptyStack(a);return}for(let s=0;s<this.characterService.characterState.itemPouches.length;s++)if(!this.characterService.characterState.itemPouches[s].item){this.moveToPouch(a,s);return}}return}let r=this.characterService.characterState.equipment[i.slot];r&&this.addItem(r),this.characterService.characterState.equipment[i.slot]=i;let o=this.itemStacks.indexOf(e);this.setItemEmptyStack(o)}equipBest(e){let i=0,r=!0;e==="leftHand"||e==="rightHand"?i=this.characterService.characterState.equipment[e]?.weaponStats?.baseDamage||0:(r=!1,i=this.characterService.characterState.equipment[e]?.armorStats?.defense||0);for(let o=0;o<this.itemStacks.length;o++){let a=this.itemStacks[o];if(a.item){let s=a.item;if(Vt(s)&&s.slot===e){let l=0;r&&s.weaponStats?l=s.weaponStats?.baseDamage:!r&&s.armorStats&&(l=s.armorStats?.defense),l>i&&this.equip(a)}}}}consume(e,i=1,r=!1){i<0&&(i=0);let o=-1;r&&(o=1/0);let a=-1;for(let s=0;s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item&&l.item.type===e&&(r?o>l.item.value&&(o=l.item.value,a=s):o<l.item.value&&(o=l.item.value,a=s))}if(a>=0){let s=this.itemStacks[a];if(s.item){let l=Math.min(s.quantity,i);s.quantity-=l,i-=l,s.quantity<=0?this.setItemEmptyStack(a):this.fixId(a)}}return i>0&&a>=0&&(o=this.consume(e,i)),r&&o===1/0&&(o=-1),o}consumeById(e,i=1){i<0&&(i=0);let r=-1,o=0;for(let s=0;s<this.itemStacks.length;s++){let l=this.itemStacks[s];l.item&&l.item.id===e&&(r=s)}if(r<0)return 0;let a=this.itemStacks[r];if(a.item){let s=Math.min(a.quantity,i);a.quantity-=s,i-=s,o+=s,a.quantity<=0?this.setItemEmptyStack(r):this.fixId(r)}return i>0&&r>=0&&(o+=this.consumeById(e,i)),o}checkFor(e){let i=-1;for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item&&o.item.type===e&&i<o.item.value&&(i=o.item.value)}return i}getQuantityByName(e){let i=0;for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item&&o.item.name===e&&(i+=o.quantity)}return i}getQuantityByType(e){let i=0;for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o.item&&o.item.type===e&&(i+=o.quantity)}return i}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i,this.characterService.characterState.attributes[e.attribute].value+=e.increase*i}usePill(e,i=1){i<1&&(i=1),this.lifetimePillsUsed+=i,e.effect==="Longevity"?(this.characterService.characterState.alchemyLifespan+=e.power*i,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):e.effect==="Empowerment"&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(let i of this.itemStacks)i.item||e++;return e}mergeEquipment(e,i,r){if(e.slot!==i.slot)return;let o=0;e.slot==="rightHand"||e.slot==="leftHand"?o=this.addItem(this.generateWeapon(e.value+i.value,e.weaponStats?.material+"",e.weaponStats?.baseName,e.weaponStats?.effect)):o=this.addItem(this.generateArmor(e.value+i.value,e.slot,e.armorStats?.baseName,e.armorStats?.effect)),o!==r&&!this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[o],this.setItemEmptyStack(o))}mergeItemStacks(e,i,r,o){e.item&&i.item&&e.item.name===i.item.name&&e.quantity+i.quantity<this.maxStackSize&&(i.quantity+=e.quantity,this.fixId(o),this.setItemEmptyStack(r))}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){let i=-1,r=null,o=null,a=-1;for(let s=0;s<this.itemStacks.length;s++){let l=this.itemStacks[s]?.item;l&&Vt(l)&&l.slot===e&&(i===-1?(i=s,a=s,r=l):(o=l,r&&(this.setItemEmptyStack(i),this.setItemEmptyStack(s),this.mergeEquipment(r,o,i),l=this.itemStacks[i]?.item,l?Vt(l)&&l.slot===e&&(r=l):i=-1)))}this.automergeEquipped&&r&&this.autoequipBestEnabled&&(this.autoequipBestWeapon||this.autoequipBestArmor)&&((e==="rightHand"||e==="leftHand")&&this.autoequipBestWeapon||e!=="rightHand"&&e!=="leftHand"&&this.autoequipBestArmor)&&this.mergeEquippedSlot(e,r,a)}mergeEquippedSlot(e,i,r){let o=this.characterService.characterState.equipment[e];if(!o)return;if(i.type==="gem"&&o){this.gemifyEquipment(r,o);return}if(!Vt(i))return;let a;if(!o){this.characterService.characterState.equipment[e]=i,this.setItemEmptyStack(r);return}e==="rightHand"||e==="leftHand"?a=this.generateWeapon(o.value+i.value,i.weaponStats?.material+"",o.weaponStats?.baseName,o.weaponStats?.effect):a=this.generateArmor(o.value+i.value,e,o.armorStats?.baseName,o.armorStats?.effect),this.characterService.characterState.equipment[e]=a,this.setItemEmptyStack(r)}mergeSpiritGem(e,i=0){if(e.item&&!(e.quantity<10-i)){e.quantity-=10-i,this.addItem(this.generateSpiritGem(e.item.value/10+1));for(let r=0;r<this.itemStacks.length;r++)if(this.itemStacks[r]===e)if(e.quantity===0){this.setItemEmptyStack(r);return}else this.fixId(r)}}mergeAnySpiritGem(e=0){let i=this.characterService.meridianRank();e>i-5&&(e=i-5),e<0&&(e=0);for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];if(o.item&&o.item.type==="gem"&&o.quantity>=10-e){this.mergeSpiritGem(o,e);return}}}stashWeapons(){this.characterService.stashWeapons();for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&Vt(i)&&i.weaponStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreWeapons(){this.characterService.restoreWeapons();for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&Vt(i.item)&&i.item.weaponStats&&(this.addItem(i.item,i.quantity),this.stashedItemStacks.splice(e,1))}}stashArmor(){this.characterService.stashArmor();for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&Vt(i)&&i.armorStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreArmor(){this.characterService.restoreArmor();for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&Vt(i.item)&&i.item.armorStats&&(this.addItem(i.item,i.quantity),this.stashedItemStacks.splice(e,1))}}stashInventory(){for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e]?.item;i&&i.type!=="food"&&i.type!=="gem"&&(this.stashedItemStacks.push(this.itemStacks[e]),this.setItemEmptyStack(e))}}restoreInventory(){for(let e=this.stashedItemStacks.length-1;e>=0;e--){let i=this.stashedItemStacks[e];i&&i.item&&this.addItem(i.item,i.quantity)}this.stashedItemStacks=[]}gemifyEquipment(e,i){let r=this.itemStacks[e],o=this.itemStacks[e]?.item;if(r&&o&&o.type==="gem"){let a=o.type.substring(0,o.type.length-3);this.upgradeEquipment(i,Math.floor(Math.pow(o.value/10,2.4)),a),this.updateArmorDescription(i),r.quantity>1?(r.quantity--,this.fixId(e)):this.setItemEmptyStack(e),this.characterService.characterState.yang++,this.characterService.characterState.yin++}}removeItemStack(e){let i=this.itemStacks.indexOf(e);this.thrownAwayItems+=e.quantity,this.setItemEmptyStack(i)}setItemEmptyStack(e){this.selectedItem===this.itemStacks[e]&&(this.selectedItem=this.getEmptyItemStack()),this.itemStacks[e]=this.getEmptyItemStack()}getEmptyItemStack(){return{item:null,quantity:0,id:this.emptyIdPrefix+this.emptyIdCounter++}}fixId(e){this.itemStacks[e].item?this.itemStacks[e].id=e+this.itemStacks[e].item.name+this.itemStacks[e].quantity:this.itemStacks[e].id=this.emptyIdPrefix+this.emptyIdCounter++}fixIdByStack(e){for(let i=0;i<this.itemStacks.length;i++)if(e===this.itemStacks[i]){this.fixId(i);return}for(let i=0;i<this.characterService.characterState.itemPouches.length;i++)if(e===this.characterService.characterState.itemPouches[i]){e.id=i+this.characterService.characterState.itemPouches[i].item.name+this.characterService.characterState.itemPouches[i].quantity;return}}moveToPouch(e,i){if(this.itemStacks[e].item&&this.itemStacks[e].item?.pouchable)if(this.characterService.characterState.itemPouches[i].item){if(this.characterService.characterState.itemPouches[i].item?.name===this.itemStacks[e].item?.name){this.characterService.characterState.itemPouches[i].quantity+=this.itemStacks[e].quantity,this.itemStacks[e]=this.getEmptyItemStack();return}let r=this.itemStacks[e];this.itemStacks[e]=this.characterService.characterState.itemPouches[i],this.characterService.characterState.itemPouches[i]=r,this.characterService.characterState.itemPouches[i].id=i+this.characterService.characterState.itemPouches[i].item.name+this.characterService.characterState.itemPouches[i].quantity,this.fixId(e)}else this.characterService.characterState.itemPouches[i]=this.itemStacks[e],this.characterService.characterState.itemPouches[i].id=i+this.characterService.characterState.itemPouches[i].item.name+this.characterService.characterState.itemPouches[i].quantity,this.itemStacks[e]=this.getEmptyItemStack()}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ot),x(X),x(ve),x(Bt),x(rt),x(nt))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vt(t){return"slot"in t}function aF(t){return"attribute"in t}function sF(t){return"effect"in t}var Rt=(()=>{class t{constructor(e,i,r,o,a,s,l){this.injector=e,this.characterService=i,this.inventoryService=r,this.homeService=a,this.itemRepoService=l,this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.fields=[],this.extraFields=0,this.hellFood=!1,this.smoothFarming=!1,this.farmedPlots=0,this.mostFields=0,this.consecutiveHarvests=0,this.fallowPlots=0,this.unlockedCrops=["rice"],setTimeout(()=>this.hellService=this.injector.get(ye)),o.homeTickSubject.subscribe(()=>{this.tick()}),o.longTickSubject.subscribe(()=>{let c=this.fallowPlots;for(let h of this.fields)c+=h.plots;c>this.mostFields&&(this.mostFields=c)}),s.reincarnateSubject.subscribe(()=>{this.reset()})}tick(){this.characterService.characterState.dead||(!this.hellService?.inHell||this.hellFood)&&this.ageFields()}getProperties(){return{fields:this.fields,autoFieldLimit:this.autoFieldLimit,mostFields:this.mostFields,hellFood:this.hellFood,autoFieldUnlocked:this.autoFieldUnlocked,fallowPlots:this.fallowPlots,unlockedCrops:this.unlockedCrops}}setProperties(e){this.fields=e.fields,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.mostFields=e.mostFields||0,this.hellFood=e.hellFood||!1,this.fallowPlots=e.fallowPlots,this.unlockedCrops=e.unlockedCrops,this.farmedPlots=0;for(let i of this.fields)this.farmedPlots+=i.plots}reset(){if(this.homeService.keepHome)for(let e of this.fields)e.averageYield=0,e.yield=0,e.daysToHarvest=e.originalDaysToHarvest;else this.fields=[],this.extraFields=0,this.farmedPlots=0}changeCrop(e){let i=this.unlockedCrops.indexOf(this.fields[e].cropName);i++,i>=this.unlockedCrops.length&&(i=0);let r=this.inventoryService.farmFoodList.find(o=>o.id===this.unlockedCrops[i]);r&&(this.fields[e].cropName=this.unlockedCrops[i],this.fields[e].yield=0,this.fields[e].maxPlotYield=Math.floor(200/r.value),this.fields[e].daysToHarvest=180+r.value,this.fields[e].originalDaysToHarvest=180+r.value,this.fields[e].averageYield=0,this.fields[e].imageFile=r.imageFile)}plowPlot(e=1){e<0&&(e=this.homeService.land),e>this.homeService.land&&(e=this.homeService.land),this.fallowPlots+=e,this.homeService.land-=e}clearPlot(e=1){e<0&&(e=this.fallowPlots),e>this.fallowPlots&&(e=this.fallowPlots),this.fallowPlots-=e,this.homeService.land+=e}addField(){let e=this.inventoryService.farmFoodList[0];this.fields.push({cropName:e.id,plots:0,yield:0,maxPlotYield:Math.floor(200/e.value),daysToHarvest:180+e.value,originalDaysToHarvest:180+e.value,averageYield:0,imageFile:e.imageFile})}removeField(e){this.unassignPlots(e),this.fields.splice(e,1)}workFields(e){for(let i of this.fields)i.yield+=e*i.plots,i.yield>i.maxPlotYield*i.plots&&(i.yield=i.maxPlotYield*i.plots)}assignFallowPlots(e,i=1){i>this.fallowPlots&&(i=this.fallowPlots),this.fields[e].plots+=i,this.farmedPlots+=i,this.fallowPlots-=i}unassignPlots(e,i=-1){(i<0||i>this.fields[e].plots)&&(i=this.fields[e].plots),this.fields[e].plots-=i,this.farmedPlots-=i,this.fallowPlots+=i}ageFields(){let e=0,i=!1;for(let r of this.fields){let o=0;!this.hellService?.inHell&&r.plots>0&&(r.daysToHarvest<=0?(o=r.yield,e+=o,this.inventoryService.addItem(this.itemRepoService.items[r.cropName],o),i=!0,r.daysToHarvest=r.originalDaysToHarvest,r.yield=0):r.daysToHarvest--),r.averageYield=(r.averageYield*364+o)/365,this.smoothFarming&&!i&&this.fields.length>0&&r.averageYield>.5&&this.inventoryService.addItem(this.itemRepoService.items[r.cropName],Math.round(r.averageYield))}e>0||this.smoothFarming?this.consecutiveHarvests++:this.consecutiveHarvests=0}unlockCrop(e){this.unlockedCrops.includes(e)||this.unlockedCrops.push(e)}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(X),x(Y),x(ve),x(we),x(Bt),x(rt))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $e=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f){this.injector=e,this.logService=i,this.characterService=r,this.homeService=o,this.farmService=a,this.inventoryService=s,this.itemRepoService=l,this.battleService=f,this.camelToTitle=new yi,this.followersUnlocked=!1,this.followerLifespanDoubled=!1,this.followers=[],this.pets=[],this.stashedFollowers=[],this.stashedPets=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.maxPetsByType={},this.stashedFollowersMaxes={},this.stashedPetMaxes={},this.followerCap=0,this.petsCap=0,this.followersMaxed="UNMAXED",this.petsMaxed="UNMAXED",this.sortField="Job",this.sortAscending=!0,this.totalRecruited=0,this.totalDied=0,this.totalDismissed=0,this.highestLevel=0,this.unlockedHiddenJobs=[],this.autoReplaceUnlocked=!1,this.petsEnabled=!1,this.onlyWantedFollowers=!1,this.jobs={builder:{work:g=>{this.homeService.nextHomeCostReduction+=this.jobs.builder.totalPower,this.homeService.upgrading&&this.homeService.upgradeTick(this.jobs.builder.totalPower*g)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster.",totalPower:0},hunter:{work:g=>{if(this.hellService?.inHell){this.jobs.hunter.totalPower>1e3&&this.inventoryService.addItem(this.itemRepoService.items.spiritMeat,Math.floor(this.jobs.hunter.totalPower/1e3*g));return}this.inventoryService.addItem(this.itemRepoService.items.meat,this.jobs.hunter.totalPower*g)},description:"Hunters collect meat and help you hunt for hides.",totalPower:0,runEachTick:!0},farmer:{work:g=>{this.farmService.workFields(this.jobs.farmer.totalPower*g)},description:"Farmers work your fields, helping your crops to grow.",totalPower:0,runEachTick:!0},weaponsmith:{work:g=>{let v=this.jobs.weaponsmith.totalPower;this.hellService?.inHell&&(v/=10);let _=this.characterService.characterState.equipment.rightHand,C=this.characterService.characterState.equipment.leftHand;_&&_.weaponStats&&(_.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(v/10),2))*g,_.value+=Math.ceil(Math.pow(Math.floor(v/10),2))*g),C&&C.weaponStats&&(C.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(v/10),2))*g,C.value+=Math.ceil(Math.pow(Math.floor(v/10),2))*g)},description:"Weaponsmiths help you take care of your currently equipped weapons, adding power to them each day. Higher levels can also help improve them.",totalPower:0},armorer:{work:g=>{let v=this.jobs.armorer.totalPower;this.hellService?.inHell&&(v/=10);let _=T=>ke(j({},T),{armorStats:T.armorStats?ke(j({},T.armorStats),{defense:T.armorStats?.defense+Math.ceil(Math.pow(Math.floor(v/10),2)/2)*g}):void 0,value:T.value+Math.ceil(Math.pow(Math.floor(v/10),2)/2)*g}),C=this.characterService.characterState.equipment;C.head&&C.head.armorStats&&(C.head=_(C.head)),C.body&&C.body.armorStats&&(C.body=_(C.body)),C.legs&&C.legs.armorStats&&(C.legs=_(C.legs)),C.feet&&C.feet.armorStats&&(C.feet=_(C.feet))},description:"Armorers help you take care of your currently equipped pieces of armor, adding defense to them each day. Higher levels can also help improve them.",totalPower:0},brawler:{work:g=>{let v=this.jobs.brawler.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("strength",v)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength.",totalPower:0},sprinter:{work:g=>{let v=this.jobs.sprinter.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("speed",v)},description:"Sprinters challenge you to footraces and help you increase your speed.",totalPower:0},trainer:{work:g=>{let v=this.jobs.trainer.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("toughness",v)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness.",totalPower:0},tutor:{work:g=>{let v=this.jobs.tutor.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("intelligence",v)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence.",totalPower:0},mediator:{work:g=>{let v=this.jobs.mediator.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("charisma",v)},description:"Mediators teach you how to persuade others, increasing your charisma.",totalPower:0},priest:{work:g=>{let v=this.jobs.priest.totalPower*g;this.hellService?.inHell&&(v/=10),this.characterService.characterState.increaseAttribute("spirituality",v)},description:"Priests help you get closer to the divine, increasing your sprituality.",totalPower:0},gemologist:{work:g=>{let v=this.jobs.gemologist.totalPower;this.hellService?.inHell&&(v/=10),v=Math.floor(v/50),v>4&&(v=4);for(let _=0;_<g;_++)this.inventoryService.mergeAnySpiritGem(v)},description:"Gemologists combine spirit gems into higher grades.",totalPower:0},scout:{work:g=>{let v=this.jobs.scout.totalPower*g;this.hellService?.inHell&&(v/=10),this.battleService.trouble()},description:"Scouts help you track down and fight monsters faster.",totalPower:0,runEachTick:!0},damned:{work:g=>{this.battleService.trouble()},description:"Damned are souls working off karmic debt in hell that hav decided to join you. Having this follower seems to enrage the demons around you.",hidden:!0,totalPower:0},prophet:{work:g=>{for(let v=0;v<g;v++)Math.random()<this.jobs.prophet.totalPower*1e-5&&this.generateFollower()},description:"Prophets are dedicated to spreading the word of your greatness. Prophets can even find other followers for you if you are out of the mortal realm.",hidden:!0,totalPower:0},moneyBurner:{work:g=>{let v=this.jobs.moneyBurner.totalPower;v=Math.floor(v/50),v>10?v=10:v<1&&(v=1);let _=1e6/v,C=g;this.characterService.characterState.money<_*C&&(C=Math.floor(this.characterService.characterState.money/_)),this.characterService.characterState.updateMoney(0-C*_),this.characterService.characterState.hellMoney+=C},description:"Money Burners dedicate themselves to burning mortal money to produce hell money.",hidden:!0,totalPower:0},banker:{work:g=>{let v=this.jobs.banker.totalPower;this.hellService?.inHell&&(v/=10);for(let _=0;_<g;_++)this.characterService.characterState.updateMoney(this.characterService.characterState.money*273e-9*v),this.characterService.characterState.hellMoney+=this.characterService.characterState.hellMoney*273e-9*v},description:"Bankers put your money to use, earning interest on what you have. Surprisingly, this works for hell money too.",hidden:!0,totalPower:0},snake:{work:g=>{this.characterService.characterState.increaseAttribute("fireLore",this.jobs.snake.totalPower*g)},description:"A fiery serpent. Snakes understand fire and can teach you the hidden secrets of the flames.",hidden:!0,pet:!0,totalPower:0},tiger:{work:g=>{this.characterService.characterState.increaseAttribute("woodLore",this.jobs.tiger.totalPower*g)},description:"Tigers know the secrets of the jungle and can teach you the deepest mysteries of Wood Lore.",hidden:!0,pet:!0,totalPower:0},ox:{work:g=>{this.characterService.characterState.increaseAttribute("earthLore",this.jobs.ox.totalPower*g)},description:"Oxen connect deeply to the earth and can teach you their secret understanding.",hidden:!0,pet:!0,totalPower:0},monkey:{work:g=>{this.characterService.characterState.increaseAttribute("metalLore",this.jobs.monkey.totalPower*g)},description:"Monkeys know more about metal than the greatest of human blacksmiths.",hidden:!0,pet:!0,totalPower:0},pig:{work:g=>{this.characterService.characterState.increaseAttribute("waterLore",this.jobs.pig.totalPower*g)},description:"Pigs understand the secrets of water and can teach them to you.",hidden:!0,pet:!0,totalPower:0}},setTimeout(()=>this.hellService=this.injector.get(ye)),c.yearOrLongTickSubject.subscribe(g=>{if(this.followersUnlocked){if(!g)return}else return;this.updateFollowerCap(),this.yearTickFollowers(this.followers,g),this.yearTickFollowers(this.pets,g),this.followersWorks(g),this.sortFollowers(this.sortAscending,!0),this.sortFollowers(this.sortAscending,!1)}),c.tickSubject.subscribe(()=>{this.followersUnlocked&&(this.characterService.characterState.dead||(this.characterService.characterState.age%18250===0&&!this.hellService?.inHell&&this.generateFollower(),this.followersWorks(),this.followersMaxed=this.followers.length<this.followerCap?this.followersMaxed="UNMAXED":this.followersMaxed="MAXED",this.petsMaxed=this.pets.length<this.petsCap?this.petsMaxed="UNMAXED":this.petsMaxed="MAXED"))}),h.reincarnateSubject.subscribe(()=>{this.reset()})}yearTickFollowers(e,i){for(let r=e.length-1;r>=0;r--){let o=e[r];if(o.age+=i,o.age>=e[r].lifespan){if(this.totalDied++,e.splice(r,1),this.autoReplaceUnlocked){let a=this.generateFollower(o.pet,o.job);a&&(a.power=Math.round(o.power/2),a.cost=100*a.power,this.logService.log(S.FOLLOWER,"Your follower "+o.name+" passed away from old age but was replaced by their child "+a?.name+".")),this.logService.log(S.FOLLOWER,"Your follower "+o.name+" passed away from old age and was not replaced because of your choices in follower jobs.")}else this.logService.injury(S.FOLLOWER,"Your follower "+o.name+" passed away from old age.");this.updateFollowerTotalPower()}else this.characterService.characterState.money<e[r].cost*i&&!this.hellService?.inHell?(this.totalDismissed++,this.logService.injury(S.FOLLOWER,"You didn't have enough money to suppport your follower "+e[r].name+" so they left your service."),e.splice(r,1),this.updateFollowerTotalPower()):this.hellService?.inHell||this.characterService.characterState.updateMoney(0-e[r].cost*i)}}updateFollowerCap(){this.followerCap=1+this.homeService.homeValue*3+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank,this.petsCap=Math.round(1+this.characterService.meridianRank()/10+this.characterService.soulCoreRank()/10+this.characterService.characterState.bloodlineRank/10+Math.log10(this.characterService.characterState.attributes.animalHandling.value)),this.followersMaxed=this.followers.length<this.followerCap?this.followersMaxed="UNMAXED":this.followersMaxed="MAXED"}updateFollowerTotalPower(){for(let e of Object.keys(this.jobs))this.jobs[e].totalPower=0;for(let e=this.followers.length-1;e>=0;e--)this.jobs[this.followers[e].job].totalPower+=this.followers[e].power;for(let e=this.pets.length-1;e>=0;e--)this.jobs[this.pets[e].job].totalPower+=this.pets[e].power}sortFollowers(e,i=!1){let r=1,o=-1;e||(r=-1,o=1);let a=this.followers;if(i&&(a=this.pets),this.sortField==="Remaining Life")a.sort((s,l)=>s.lifespan-s.age>l.lifespan-l.age?r:s.lifespan-s.age===l.lifespan-l.age?0:o);else{let s=this.sortField.toLowerCase();a.sort((l,c)=>(l[s]??0)>(c[s]??0)?r:l[s]===c[s]?0:o)}}followersWorks(e){for(let i of Object.keys(this.jobs)){let r=this.jobs[i];r.totalPower>0&&(e&&!r.runEachTick?r.work(e):!e&&r.runEachTick&&r.work(1))}}reset(){this.characterService.characterState.bloodlineRank>=7?this.logService.log(S.FOLLOWER,"Your imperial entourage rejoins you as you set out."):(this.followers.splice(0,this.followers.length),this.followersMaxed="UNMAXED"),this.followersRecruited=0,this.updateFollowerTotalPower()}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,pets:this.pets,stashedFollowers:this.stashedFollowers,stashedPets:this.stashedPets,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType,maxPetsByType:this.maxPetsByType,stashedFollowersMaxes:this.stashedFollowersMaxes,stashedPetMaxes:this.stashedPetMaxes,sortField:this.sortField,sortAscending:this.sortAscending,totalRecruited:this.totalRecruited,totalDied:this.totalDied,totalDismissed:this.totalDismissed,highestLevel:this.highestLevel,unlockedHiddenJobs:this.unlockedHiddenJobs,autoReplaceUnlocked:this.autoReplaceUnlocked,petsEnabled:this.petsEnabled,onlyWantedFollowers:this.onlyWantedFollowers}}setProperties(e){this.followers=e.followers||[],this.pets=e.pets||[],this.stashedFollowers=e.stashedFollowers||[],this.stashedPets=e.stashedPets||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.maxFollowerByType=e.maxFollowerByType||{},this.maxPetsByType=e.maxPetsByType||{},this.stashedFollowersMaxes=e.stashedFollowersMaxes||{},this.stashedPetMaxes=e.stashedPetMaxes||{},this.sortField=e.sortField||"Job",e.sortAscending===void 0?this.sortAscending=!0:this.sortAscending=e.sortAscending,this.totalRecruited=e.totalRecruited||0,this.totalDied=e.totalDied||0,this.totalDismissed=e.totalDismissed||0,this.highestLevel=e.highestLevel||0,this.unlockedHiddenJobs=e.unlockedHiddenJobs||[],this.autoReplaceUnlocked=e.autoReplaceUnlocked||!1,this.petsEnabled=e.petsEnabled||!1,this.onlyWantedFollowers=e.onlyWantedFollowers||!1,this.unhideUnlockedJobs(),this.updateFollowerTotalPower()}unlockJob(e){this.unlockedHiddenJobs.includes(e)||this.unlockedHiddenJobs.push(e),this.unhideUnlockedJobs()}unhideUnlockedJobs(){for(let e of this.unlockedHiddenJobs)this.jobs[e].hidden=!1}generateFollower(e=!1,i){let r=this.followers,o=this.followerCap;if(e&&(r=this.pets,o=this.petsCap),this.totalRecruited++,this.followersRecruited++,r.length>=o)if(this.onlyWantedFollowers){let c=Object.keys(this.jobs),h=!1;for(let f of c){if(this.jobs[f].hidden)continue;let g=this.maxFollowerByType[f]!==void 0?this.maxFollowerByType[f]:1e3;e&&(g=this.maxPetsByType[f]!==void 0?this.maxPetsByType[f]:1e3);let v=0;for(let _ of r)if(_.job===f&&v++,v>g){h=!0,this.dismissFollower(_);break}if(h)break}if(!h)return this.logService.injury(S.FOLLOWER,"A new follower shows up, but you already have all the followers you want."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null}else return this.logService.injury(S.FOLLOWER,"A new follower shows up, but you already have too many. You are forced to turn them away."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null;if(i=i||this.generateFollowerJob(e,r),i==="")return null;let a=this.maxFollowerByType[i]!==void 0?this.maxFollowerByType[i]:1e3;if(e&&(a=this.maxPetsByType[i]!==void 0?this.maxPetsByType[i]:1e3),this.numFollowersOnJob(i,r)>=a)return this.logService.log(S.FOLLOWER,"A new follower shows up, but they were a "+this.camelToTitle.transform(i)+" and you don't want any more of those."),this.totalDismissed++,null;let s=this.followerLifespanDoubled?5:10;this.logService.log(S.FOLLOWER,"A new "+this.camelToTitle.transform(i)+" has come to learn at your feet.");let l={name:this.generateFollowerName(),age:0,lifespan:Math.min(this.characterService.characterState.lifespan/s,365e3),job:i,power:1,cost:100,pet:e};return r.push(l),this.sortFollowers(this.sortAscending,e),r.length>=o&&(e?this.petsMaxed="MAXED":this.followersMaxed="MAXED"),this.updateFollowerTotalPower(),l}numFollowersOnJob(e,i){let r=0;for(let o of i)o.job===e&&r++;return r}generateFollowerName(){return wg[Math.floor(Math.random()*wg.length)]}generateFollowerJob(e=!1,i){let r=Object.keys(this.jobs),o=[];for(let a of r)if(!this.jobs[a].hidden&&(e&&this.jobs[a].pet||!e&&!this.jobs[a].pet))if(this.onlyWantedFollowers){let s=this.maxFollowerByType[a]!==void 0?this.maxFollowerByType[a]:1e3;e&&(s=this.maxPetsByType[a]!==void 0?this.maxPetsByType[a]:1e3),this.numFollowersOnJob(a,i)<s&&o.push(a)}else o.push(a);return o.length===0?"":o[Math.floor(Math.random()*o.length)]}dismissFollower(e){if(this.totalDismissed++,e.pet){let i=this.pets.indexOf(e);this.pets.splice(i,1),this.petsMaxed="UNMAXED"}else{let i=this.followers.indexOf(e);this.followers.splice(i,1),this.followersMaxed="UNMAXED"}this.updateFollowerTotalPower()}dismissAllFollowers(e=null,i=!1){let r=this.followers;if(i?(r=this.pets,this.petsMaxed="UNMAXED"):this.followersMaxed="UNMAXED",e)for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&(r.splice(o,1),this.totalDismissed++);else this.totalDismissed+=r.length,r.splice(0);this.updateFollowerTotalPower()}limitFollower(e){let i=0,r=this.followers;e.pet&&(r=this.pets);for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&i++;e.pet?this.maxPetsByType[e.job]=i:this.maxFollowerByType[e.job]=i}setMaxFollowers(e,i){!i||i<0?this.maxFollowerByType[e]=0:this.maxFollowerByType[e]=i}setMaxPets(e,i){!i||i<0?this.maxPetsByType[e]=0:this.maxPetsByType[e]=i}stashFollowers(){this.stashedFollowers=this.followers,this.followers=[],this.stashedPets=this.pets,this.pets=[],this.stashedFollowersMaxes=this.maxFollowerByType,this.stashedPetMaxes=this.maxPetsByType,this.maxFollowerByType={},this.maxPetsByType={}}restoreFollowers(){this.followers=this.stashedFollowers,this.stashedFollowers=[],this.pets=this.stashedPets,this.stashedPets=[],this.maxFollowerByType=this.stashedFollowersMaxes,this.maxPetsByType=this.stashedPetMaxes,this.stashedFollowersMaxes={},this.stashedPetMaxes={}}hellPurge(){let e=["prophet","moneyBurner","damned"];for(let i=this.followers.length-1;i>=0;i--)e.includes(this.followers[i].job)||this.followers.splice(i,1);this.updateFollowerTotalPower()}unlockElementalPets(){this.petsEnabled=!0,this.unlockJob("snake"),this.unlockJob("tiger"),this.unlockJob("ox"),this.unlockJob("monkey"),this.unlockJob("pig")}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ot),x(X),x(we),x(Rt),x(Y),x(rt),x(ve),x(Bt),x(et))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var G=function(t){return t[t.TongueRipping=0]="TongueRipping",t[t.Scissors=1]="Scissors",t[t.TreesOfKnives=2]="TreesOfKnives",t[t.Mirrors=3]="Mirrors",t[t.Steamers=4]="Steamers",t[t.CopperPillars=5]="CopperPillars",t[t.MountainOfKnives=6]="MountainOfKnives",t[t.MountainOfIce=7]="MountainOfIce",t[t.CauldronsOfOil=8]="CauldronsOfOil",t[t.CattlePit=9]="CattlePit",t[t.CrushingBoulder=10]="CrushingBoulder",t[t.MortarsAndPestles=11]="MortarsAndPestles",t[t.BloodPool=12]="BloodPool",t[t.WrongfulDead=13]="WrongfulDead",t[t.Dismemberment=14]="Dismemberment",t[t.MountainOfFire=15]="MountainOfFire",t[t.Mills=16]="Mills",t[t.Saws=17]="Saws",t}(G||{}),ye=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f){this.injector=e,this.logService=i,this.characterService=r,this.activityService=s,this.followerService=l,this.battleService=c,this.inventoryService=h,this.itemRepoService=f,this.inHell=!1,this.currentHell=-1,this.completedHellTasks=[],this.completedHellBosses=[],this.beaten=!1,this.mountainSteps=0,this.animalsHealed=0,this.boulderHeight=0,this.daysFasted=0,this.swimDepth=0,this.exitFound=!1,this.soulsEscaped=0,this.relicsReturned=0,this.timesCrushed=0,this.contractsExamined=0,this.atonedKills=0,this.fasterHellMoney=!1,this.burnedMoney=0,this.burnMoney={level:0,name:["Burn Money"],activityType:P.BurnMoney,description:["Burn mortal realm money to receive hell money."],yinYangEffect:[z.None],consequenceDescription:["Uses a huge pile of mortal money (one million). Gives you some hell money."],consequence:[()=>{if(this.characterService.characterState.money<1e6){this.logService.log(S.EVENT,"You fail to burn the money that you don't have, and feel pretty dumb for trying.");return}this.characterService.characterState.updateMoney(-1e6),this.burnedMoney+=1e6,this.fasterHellMoney?this.characterService.characterState.hellMoney+=10:this.characterService.characterState.hellMoney++}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.hellRecruiting={level:0,name:["Recruiting the Damned"],activityType:P.HellRecruiting,description:["Look for followers willing to help you."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina and 1000 hell money. Gives you a small chance of finding a follower."],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e6){this.logService.log(S.EVENT,"You completely fail to catch the attention of any of the damned.");return}if(this.characterService.characterState.hellMoney<1e3){this.logService.injury(S.EVENT,"You don't have enough hell money. The damned souls around you team up with the demons to give you a beating."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.2,this.characterService.characterState.status.health.value<=0&&(this.beaten=!0);return}this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.hellMoney-=1e3,Math.random()<.01?(this.followerService.generateFollower(!1,"damned"),this.logService.log(S.EVENT,"Your recruiting efforts seem to infuriate the demons here.")):this.logService.log(S.EVENT,"You pass around some bribes but fail to find any interested followers today.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.rehabilitation={level:0,name:["Rehabilitate Troublemakers"],activityType:P.Rehabilitation,description:["You recognize a bunch of the troublemakers here as people who used to beat and rob you in your past lives. Perhaps you can give them some some friendly rehabilitation. With your fists."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina and 10 hell money as bait. Breaks a troublemaker out of their basket and picks a fight with them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.battleService.addEnemy({name:"Troublemaker",baseName:"deadtroublemaker",health:100,maxHealth:100,defense:10,defeatEffect:"respawnDouble",loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:10}]})}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.honorAncestors={level:0,name:["Honor Ancestors"],activityType:P.HonorAncestors,description:["You look around and realize that you have many family members and ancestors here. You should probably give them some credit for what they have done for you. And some money."],yinYangEffect:[z.None],consequenceDescription:["Uses 1 hell money."],consequence:[()=>{if(this.characterService.characterState.hellMoney<1){this.logService.log(S.EVENT,"Your ancestors are not impressed with your lack of financial offerings.");return}this.characterService.characterState.hellMoney--,this.inventoryService.addItem(this.itemRepoService.items.tokenOfGratitude)}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.copperMining={level:0,name:["Copper Mining"],activityType:P.CopperMining,description:["The copper pillars here look like they're made of a decent grade of copper. It looks like you have enough slack in your chains to turn and break off some pieces."],yinYangEffect:[z.None],consequenceDescription:["Uses 100,000 stamina and produces one copper bar."],consequence:[()=>{if(this.characterService.characterState.attributes.strength.value<1e24){this.logService.log(S.EVENT,"You try to crack into the pillar, but you're not strong enough.");return}this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.addItem(this.itemRepoService.items.copperBar)}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.forgeHammer={level:0,name:["Forge Hammer"],activityType:P.ForgeHammer,description:["Shape a bar of copper into a hammer using your bare hands. This would be so much easier with an anvil and tools."],yinYangEffect:[z.None],consequenceDescription:["Uses 100,000 stamina and produces the worst hammer in the world."],consequence:[()=>{if(this.characterService.characterState.attributes.strength.value<1e24){this.logService.log(S.EVENT,"Your weak muscles flinch at the very thought of trying to mold metal by hand.");return}if(this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.consume("metal",1)>0){let g={id:"weapon",imageFile:"copperHammer",name:"Copper Hammer",type:"equipment",slot:"rightHand",value:1,weaponStats:{baseDamage:1,material:"metal",baseName:"hammer"},description:"A crude copper hammer."};this.inventoryService.addItem(g)}}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.climbMountain={level:0,name:["Climb the Mountain"],activityType:P.ClimbMountain,description:["Take another step up the mountain. The path before you seems exceptionally jagged. Maybe you shouldn't have killed so very many little spiders."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 stamina and works off some of that murderous karma you have built up."],consequence:[()=>{if(this.characterService.characterState.attributes.strength.value<1e24||this.characterService.characterState.attributes.toughness.value<1e24){this.logService.log(S.EVENT,"Your legs give out before you can take a single step up the mountain. Maybe if you were stronger and tougher you could climb.");return}this.characterService.characterState.status.stamina.value-=1e3,this.mountainSteps++}],resourceUse:[{stamina:1e3}],requirements:[{strength:1e24,toughness:1e24}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.attackClimbers={level:0,name:["Attack Climbers"],activityType:P.AttackClimbers,description:["The murderers on this mountain look pretty distracted. It wouldn't be hard to knock them down to the bottom."],yinYangEffect:[z.None],consequenceDescription:["Knock a climber off the mountain."],consequence:[()=>{this.mountainSteps=0}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.meltMountain={level:0,name:["Melt the Mountain"],activityType:P.MeltMountain,description:["The mountain is far to slippery climb. The only way you're getting to the top is to bring the top down to you."],yinYangEffect:[z.None],consequenceDescription:["Focus your connection to fire and melt that sucker down."],consequence:[()=>{if(this.characterService.characterState.attributes.fireLore.value<1e16){this.logService.log(S.EVENT,"Your connection to fire isn't nearly as strong as you thought it was.");return}let g=Math.log10(this.characterService.characterState.attributes.fireLore.value);for(let v=0;v<g;v++)this.battleService.addEnemy({name:"Ice Golem",baseName:"icegolem",health:1e15,maxHealth:1e15,defense:1e6,loot:[this.itemRepoService.items.iceCore],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.freezeMountain={level:0,name:["Rock the Lava"],activityType:P.FreezeMountain,description:["Swimming in lava is less fun that it seemed like it would be."],yinYangEffect:[z.None],consequenceDescription:["Focus your connection to water and turn that lava back to stone."],consequence:[()=>{if(this.characterService.characterState.attributes.waterLore.value<1e16){this.logService.log(S.EVENT,"Your connection to water isn't nearly as strong as you thought it was.");return}let g=Math.log10(this.characterService.characterState.attributes.waterLore.value);for(let v=0;v<g;v++)this.battleService.addEnemy({name:"Lava Golem",baseName:"lavagolem",health:1e15,maxHealth:1e15,defense:1e6,loot:[this.itemRepoService.items.fireCore],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.healAnimals={level:0,name:["Heal Animals"],activityType:P.HealAnimals,description:["You notice that not all the animals here are frenzied killers. Some of them are sick, wounded, and miserable. You resolve to do what good you can here."],yinYangEffect:[z.None],consequenceDescription:["Uses 10,000 Qi and 10,000 stamina. Heals an animal."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.status.qi.value-=1e4,this.animalsHealed++}],resourceUse:[{stamina:1e4,qi:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.liftBoulder={level:0,name:["Lift the Boulder Higher"],activityType:P.LiftBoulder,description:["The boulder is heavy, but you are strong. See how high you can lift it."],yinYangEffect:[z.None],consequenceDescription:["Uses 100,000 stamina."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5,this.boulderHeight++}],resourceUse:[{stamina:1e4,qi:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.swim={level:0,name:["Swim Deeper into the Blood"],activityType:P.Swim,description:["Swim down further into the crimson depths."],yinYangEffect:[z.None],consequenceDescription:["Uses 2000 Stamina. Reduce health by 1000."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=2e3,this.characterService.characterState.status.health.value-=1e3,this.swimDepth++}],resourceUse:[{stamina:2e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.searchForExit={level:0,name:["Search for the Exit"],activityType:P.SearchForExit,description:["The lost souls here are searching for a way out, and they can't seem to see the portal you came in on. You could help them search for the exit they're seeking."],yinYangEffect:[z.None],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=2e5,this.characterService.characterState.attributes.intelligence.value<=1e24){this.logService.log(S.EVENT,"You stumble around completely lost like the rest of the souls here. If only you were smarter.");return}let g=Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24)*1e-5;Math.random()<g&&(this.exitFound=!0,this.hells[G.WrongfulDead].activities.includes(this.teachTheWay)||(this.hells[G.WrongfulDead].activities.push(this.teachTheWay),this.activityService.reloadActivities()))}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.teachTheWay={level:0,name:["Teach the Way to the Exit"],activityType:P.TeachTheWay,description:["Teach the other damned souls here the way out."],yinYangEffect:[z.None],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=2e5,this.characterService.characterState.attributes.charisma.value<=1e24){this.logService.log(S.EVENT,"The damned souls completely ignore your attempts at instruction.");return}let g=Math.floor(Math.log10(this.characterService.characterState.attributes.charisma.value-1e24));this.soulsEscaped+=g}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.interrogate={level:0,name:["Interrogate the Damned"],activityType:P.Interrogate,description:["Find out where the tomb looters here hid their stolen treasures. You might be able to reverse some of the damage they have done."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.charisma.value<=1e24){this.logService.log(S.EVENT,"The damned here completely ignore you attempts.");return}let g=Math.log10(this.characterService.characterState.attributes.charisma.value-1e24)*1e-5;Math.random()<g?this.inventoryService.addItem(this.itemRepoService.items.treasureMap):this.logService.log(S.EVENT,"You almost talk a soul into telling you where their treasure is hidden.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.recoverTreasure={level:0,name:["Recover a Treasure"],activityType:P.RecoverTreasure,description:["Recover a stolen relic. You'll need all your wits to find it even if you have one the sketchy maps the damned can provide."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.intelligence.value<=1e24){this.logService.log(S.EVENT,"The puzzle your best puzzling but can't figure out how to even start on this relic.");return}let g=Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24)*1e-5;Math.random()<g?this.inventoryService.consume("treasureMap")>0&&this.inventoryService.addItem(this.itemRepoService.items.stolenRelic):this.logService.log(S.EVENT,"You think you're getting close to figuring out where this relic is. If only you were more clever.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.replaceTreasure={level:0,name:["Replace a Treasure"],activityType:P.ReplaceTreasure,description:["Return a stolen relic to the tomb where it came from. You'll need to be quick to avoid the tomb's traps."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.speed.value<=1e24){this.logService.log(S.EVENT,"You are too slow to even attempt replacing a treasure.");return}let g=Math.log10(this.characterService.characterState.attributes.speed.value-1e24)*1e-5;Math.random()<g?this.inventoryService.consume("stolenRelic")>0&&this.relicsReturned++:this.logService.log(S.EVENT,"You make a good effort to run through the tomb, but you fail. Try harder!")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.endureTheMill={level:0,name:["Endure the Mill"],activityType:P.Endure,description:["Trapped under the millstone like this, there's not much you can do but endure the punishment. Fortunately, you probably never went out looking for tiny spiders to squash, right?"],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 stamina. Try not to give up. You can do this!"],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let g=Math.max(1e5-this.characterService.characterState.attributes.toughness.value/1e23,100);this.characterService.characterState.status.health.value-=g,this.characterService.characterState.status.health.value<=0?this.beaten=!0:this.timesCrushed++}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.examineContracts={level:0,name:["Examine Contracts"],activityType:P.ExamineContracts,description:["As if the saw-weilding demons weren't bad enough, this place is a haven for fiendish bureaucrats. Huge piles of paper containing the contracts, covenants, bylaws, stipulations, regulations, and heretofor unspecified legal nonsense for this hell. Maybe if you go through them carefully, you can find a loophole to get yourself an audience with the boss."],yinYangEffect:[z.None],consequenceDescription:["Uses 500,000 stamina because hellish legalese is so incredibly boring."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=5e5,this.characterService.characterState.attributes.intelligence.value<=1e24){this.logService.log(S.EVENT,"You can't even begin to read the complex contracts.");return}let g=Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24)*1e-5;Math.random()<g?this.contractsExamined++:this.logService.log(S.EVENT,"You very nearly make out the meaning of the scrawled contract.")}],resourceUse:[{stamina:5e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.hells=[{name:"Hell of Tongue-ripping",description:"Torment for gossips and everyone one who made trouble with their words. The demons here reach for your tongue to rip it out.",index:G.TongueRipping,entryEffect:()=>{this.followerService.stashFollowers()},dailyEffect:()=>{this.characterService.characterState.attributes.charisma.value*=.9},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.logService.log(S.STORY,"Together with your new followers, you have seized control of the Hell of Tongue-ripping. Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.hellRecruiting,this.activityService.TrainingFollowers],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It's hard to talk with all these demons going for your mouth, but maybe if you can get some help from the other prisoners here you could take control of this place.",progress:()=>{let g=0;for(let v of this.followerService.followers)g+=v.power;return g},progressMax:()=>5e3,successCheck:()=>{let g=0;for(let v of this.followerService.followers)g+=v.power;return g>5e3}},{name:"Hell of Scissors",description:"Torment for those who ruin marriages. The demons here will cut your fingers right off.",index:G.Scissors,entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},completeEffect:()=>{this.logService.log(S.STORY,"Using nothing but the strength of your body and mind, you have seized control of the Hell of Scissors. Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"These demons don't seem content to just take your fingers. You'd better get ready to defend yourself.",progress:()=>this.inventoryService.getQuantityByName("fingers"),progressMax:()=>100,successCheck:()=>this.inventoryService.getQuantityByName("fingers")>=100},{name:"Hell of Trees of Knives",description:"Torment for those who cause trouble between family members. The demons here will tie you to a tree made of sharp knives",index:G.TreesOfKnives,entryEffect:()=>{this.characterService.stashMoney()},dailyEffect:()=>{let g=this.characterService.characterState.status.health.value*.1;this.logService.injury(S.COMBAT,"The knives dig into your flesh, causing "+g+" damage."),this.characterService.characterState.status.health.value-=g},exitEffect:()=>{this.characterService.restoreMoney()},completeEffect:()=>{this.logService.log(S.STORY,"You have reconciled yourself with all of your family members and satisfied the demands of this hell. Now all that remains is to defeat its lord (while still tied to this tree).")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.honorAncestors],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Heal your family bonds.",progress:()=>this.inventoryService.getQuantityByName("token of gratitude"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("token of gratitude")>=1e4},{name:"Hell of Mirrors",description:"Torment for those who escaped punishment for their crimes. The mirrors here shine with a terrifying glow.",index:G.Mirrors,entryEffect:()=>{this.followerService.stashFollowers()},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.inventoryService.consume("mirrorShard",1e3),this.logService.log(S.STORY,"You piece together the shards of mirror that you have collected to form a new mirror. A dark shape looms beyond it.")},activities:[this.activityService.Resting,this.activityService.CombatTraining,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Master yourself. All by yourself.",progress:()=>this.inventoryService.getQuantityByName("mirror shard"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("mirror shard")>=1e3},{name:"Hell of Steamers",description:"Torment for hypocrites and troublemakers. The steam baskets here are just the right size for you.",index:G.Steamers,entryEffect:()=>{this.inventoryService.stashWeapons(),this.inventoryService.stashArmor()},exitEffect:()=>{this.inventoryService.restoreWeapons(),this.inventoryService.restoreArmor()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let g=this.characterService.characterState.status.health.value*.05;this.logService.injury(S.COMBAT,"The steam cooks your skin, causing "+g+" damage."),this.characterService.characterState.status.health.value-=g}Math.random()<.2&&(this.logService.log(S.EVENT,"As if the constant scalding steam isn't enough, one of these troublemakers stole some money! Why does this feel so familiar?"),this.characterService.characterState.hellMoney-=this.characterService.characterState.hellMoney*.1)},completeEffect:()=>{this.battleService.clearEnemies(),this.logService.log(S.STORY,"You defeat so many troublemakers that the rest all beg to return to their baskets for their regular torment.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.rehabilitation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"There so many troublemakers here that deserve some payback from you. I wonder if you can take them all on.",progress:()=>this.battleService.enemies.length,progressMax:()=>100,successCheck:()=>this.battleService.enemies.length>100},{name:"Hell of Copper Pillars",description:"Torment for arsonists. The red-hot copper pillars you will be bound to remind you of all those times you played with fire.",index:G.CopperPillars,entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let g=Math.max(this.characterService.characterState.status.health.value*.1,20);this.characterService.characterState.status.health.value-=g,this.logService.injury(S.COMBAT,"The heat of the pillars burns you for "+g+" damage.")}},completeEffect:()=>{this.logService.log(S.STORY,"You finally forge a hammer powerful enough to break through the chains that bind you to the pillar. The Lord of this Hell comes to investigate all the commotion as the chains fall to the ground.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.copperMining,this.forgeHammer],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You'll need a really strong hammer to break through these hellsteel chain. Too bad the only material around is copper.",progress:()=>this.characterService.characterState.equipment.rightHand?.weaponStats?.baseDamage||0,progressMax:()=>100,successCheck:()=>(this.characterService.characterState.equipment.rightHand?.weaponStats?.baseDamage||0)>100},{name:"Hell of the Mountain of Knives",description:"Torment for those who killed for pleasure. The mountain of sharp blades looks like it might be rough on footwear.",index:G.MountainOfKnives,dailyEffect:()=>{let g=this.battleService.totalKills/100-this.mountainSteps-this.atonedKills;this.atonedKills++,g<0&&(g=0),this.characterService.characterState.status.health.value-=g,g>0&&this.logService.injury(S.COMBAT,"The mountain's blades shred you for "+g+" damage.")},completeEffect:()=>{this.logService.log(S.STORY,"You finally reach the peak. The karmic weight of all the killing you've ever done drops from your shoulders. Now to defeat this hell's lord without taking any pleasure in the act.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.climbMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It seems you've accrued a lot of karma from all the killing you've done over your many lives. The bill is due.",progress:()=>this.mountainSteps,progressMax:()=>this.battleService.totalKills/100,successCheck:()=>this.mountainSteps>=this.battleService.totalKills/100},{name:"Hell of the Mountain of Ice",description:"Torment for adulterers and schemers. The chill wind blowing through the gate is so cold it burns.",index:G.MountainOfIce,completeEffect:()=>{this.logService.log(S.STORY,"You realize that the power of the ice cores is all that prevents the heat from the neighboring hells from turning the mountain into slush. With enough of these tucked away in your pack, the mountain dwindles down to a managable size. Now to see who's in charge around here.")},dailyEffect:()=>{this.inventoryService.consume("fireCore")<0&&(this.characterService.characterState.status.health.value-=1e3,this.logService.injury(S.COMBAT,"The mountain's ice freezes you for 1000 damage."));let v=.9;this.characterService.characterState.attributes.fireLore.value*=v},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.meltMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Burn it down!",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e4},{name:"Hell of the Cauldrons of Oil",description:"Torment for rapists and abusers. Next on the menu: deep fried immortal.",index:G.CauldronsOfOil,dailyEffect:()=>{if(!this.completedHellTasks.includes(G.CauldronsOfOil)){if(this.inventoryService.consume("iceCore")>0){this.logService.injury(S.EVENT,"The ice cores you brought in with you make the oil sputter and pop, baking you in a cloud of superheated steam."),this.characterService.characterState.status.health.value-=1e5;return}let g=Math.max(this.characterService.characterState.status.health.value*.1,20);this.logService.injury(S.COMBAT,"The oil scorches you, causing "+g+" damage."),this.characterService.characterState.status.health.value-=g}if(Math.random()<.1){this.logService.injury(S.COMBAT,"Your weapons slip from your oily hands."),this.inventoryService.autoequipBestEnabled=!1;let g=this.characterService.characterState.equipment.rightHand;g&&(this.inventoryService.addItem(g),this.characterService.characterState.equipment.rightHand=null),g=this.characterService.characterState.equipment.leftHand,g&&(this.inventoryService.addItem(g),this.characterService.characterState.equipment.leftHand=null)}},completeEffect:()=>{this.logService.log(S.STORY,"The pile of ice cores you brought in with you make the oil sputter and pop, but you are tough enough to withstand the superheated steam. Out of the cauldron now, you look around for the boss.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You'd need to be incredibly resilient to survive this place.",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e3&&this.characterService.characterState.status.health.value>1e5},{name:"Hell of the Cattle Pit",description:"Torment for animal abusers. The cows are looking a little restless.",index:G.CattlePit,completeEffect:()=>{this.logService.log(S.STORY,"The horde of rampaging cattle finally seems to understand that you're not there to hurt them. They back off and leave you alone. All except for that really big cow over there.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.healAnimals],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Look at those poor sick cows. And those other cows that for some reason are standing up on two legs and charging you with weapons.",progress:()=>this.animalsHealed,progressMax:()=>1e6,successCheck:()=>this.animalsHealed>1e6},{name:"Hell of the Crushing Boulder",description:"Torment for child-killer and abondoners where the damned have to lift giant boulders or be crushed under them. Atlas had it easy compared to these people.",index:G.CrushingBoulder,dailyEffect:()=>{if(this.boulderHeight>100)return;let g=500;this.characterService.characterState.status.health.value-=g,this.logService.injury(S.COMBAT,"The boulder crushes you for "+g+" damage."),Math.random()<.1&&this.battleService.addEnemy({name:"An Annoying Imp",baseName:"imp",health:10,maxHealth:10,defense:100,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:100}]})},entryEffect:()=>{this.boulderHeight=0},completeEffect:()=>{this.logService.log(S.STORY,"You hoist the boulder high over your head, then throw it high into the air. It lands with a satisfying thud. Unfortunately, it grows arms and legs and walks back to you, and this time it looks angry.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.liftBoulder],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It's leg day. No, it's arm day. Must be both! Lift!",progress:()=>this.boulderHeight,progressMax:()=>1e3,successCheck:()=>this.boulderHeight>1e3},{name:"Hell of Mortars and Pestles",description:"Torment for food wasters. You didn't really need to eat all those peaches, did you? The diet here is pure hellfire.",index:G.MortarsAndPestles,dailyEffect:()=>{this.daysFasted++},completeEffect:()=>{this.logService.log(S.STORY,"Your righteous asceticism have served you well. The lord of this hell has arrived to deal with you personally.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You begin to feel remorse for your gluttony across your many lives. Perhaps a nice, long fast would help you feel better. Hopefully you can keep the demons from spoonfeeding you their fiery concoction.",progress:()=>this.daysFasted,progressMax:()=>1e3,successCheck:()=>this.daysFasted>1e3},{name:"Hell of the Blood Pool",description:"Torment for those who disrespect others. The pool looks deep, but it's hard to tell with all that blood.",index:G.BloodPool,entryEffect:()=>{this.swimDepth=0},completeEffect:()=>{this.logService.log(S.STORY,"You finally reach the bottom of the pool where you find a massive plug. When you pull it, the pool begins to drain, revealing the source of all this blood.")},activities:[this.swim],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Not this again!",progress:()=>this.swimDepth,progressMax:()=>1e4,successCheck:()=>this.swimDepth>1e4},{name:"Hell of the Wrongful Dead",description:"Torment for those who gave up their lives too early. Fortunately you've probably never done that. The pounding Rains of Pain and the blowing Winds of Sorrow give unrelenting misery to everyone here.",index:G.WrongfulDead,entryEffect:()=>{this.exitFound&&(this.hells[G.WrongfulDead].activities.includes(this.teachTheWay)||this.hells[G.WrongfulDead].activities.push(this.teachTheWay))},dailyEffect:()=>{this.logService.injury(S.COMBAT,"The constant storm saps you of 500 health and 100 stamina."),this.characterService.characterState.status.health.value-=500,this.characterService.characterState.status.stamina.value-=100},completeEffect:()=>{this.logService.log(S.STORY,"You sigh in relief as you usher the last of the damned out. The hell is finally empty. Well, empty except for the monstrous Hell Lord coming toward you.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.searchForExit],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"These people don't belong here. Get them out.",progress:()=>this.soulsEscaped,progressMax:()=>1e6,successCheck:()=>this.soulsEscaped>1e6},{name:"Hell of Dismemberment",description:"Torment for tomb-raiders and grave-robbers. The demons here look awfully handy with those giant axes.",index:G.Dismemberment,completeEffect:()=>{this.logService.log(S.STORY,"As you help more of the damned here to resolve their crimes, an angry cry sounds through the hell. The lord has arrived.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.interrogate],projectionActivities:[this.activityService.OddJobs,this.burnMoney,this.recoverTreasure,this.replaceTreasure],hint:"Unloot those tombs.",progress:()=>this.relicsReturned,progressMax:()=>1e4,successCheck:()=>this.relicsReturned>1e4},{name:"Hell of the Mountain of Fire",description:"Torment for thieves. The volcano where the poor souls are thrown looks a little toasty for comfort.",index:G.MountainOfFire,dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){let g=Math.max(this.characterService.characterState.status.health.value*.1,20);this.logService.injury(S.COMBAT,"The oppressive heat of the volcano burns you for "+g+" damage."),this.characterService.characterState.status.health.value-=g}},completeEffect:()=>{this.logService.log(S.STORY,"You realize that the power of the fire cores is essential to keeping the lava in the volcano liquid. With enough of these tucked away in your pack, the the surface finally cools enough to turn back to stone. Someone is not happy with this change.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.freezeMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"How does this volcano stay so hot?",progress:()=>this.inventoryService.getQuantityByName("fire core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("fire core")>=1e4},{name:"Hell of Mills",description:"Torment for any who abused their power to oppress the weak. You don't look forward to being ground into immortal flour.",index:G.Mills,completeEffect:()=>{this.logService.log(S.STORY,"Your karmic debt for all the oppression you've ever inflicted is paid off. Now you just need to show the strongest demon here not to pick on the weak.")},activities:[this.endureTheMill],projectionActivities:[],hint:"Just endure.",progress:()=>this.timesCrushed,progressMax:()=>this.characterService.characterState.totalLives*100,successCheck:()=>this.timesCrushed>this.characterService.characterState.totalLives*100},{name:"Hell of Saws",description:"Torment for swindlers and business cheats. The demons sharpen their saws and grin at you. You wish now that you'd stayed out of politics.",index:G.Saws,dailyEffect:()=>{this.contractsExamined<=2e4&&(this.logService.injury(S.COMBAT,"The saws tear into your flesh, causing 100 damage."),this.characterService.characterState.status.health.value-=100)},completeEffect:()=>{this.logService.log(S.STORY,"You finally find article 131 of bylaw 8888 subsection 42(b)6.42 where paragraph fourty-eight clearly states that you have the right to confront the Hell Lord. Time to party!")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.examineContracts],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You read legalese, right?",progress:()=>this.contractsExamined,progressMax:()=>2e4,successCheck:()=>this.contractsExamined>2e4}],o.tickSubject.subscribe(()=>{if(this.currentHell<0)return;let g=this.hells[this.currentHell];g.dailyEffect&&g.dailyEffect(),this.beaten&&(this.beaten=!1,this.logService.injury(S.EVENT,"You fall to your knees, unable to bear more damage. You crawl back through this hell's gate to get a moment of respite at the gates of Lord Yama's realm."),this.battleService.enemies=[],this.battleService.currentEnemy=null,g.exitEffect&&g.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()),!this.completedHellTasks.includes(this.currentHell)&&g.successCheck()&&(g.completeEffect(),this.completedHellTasks.push(this.currentHell))}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){if(this.inHell){if(this.currentHell>0){let e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect()}this.inHell=!1,this.currentHell=-1,this.activityService.reloadActivities()}}trouble(){if(this.currentHell<0)return;let e=this.hells[this.currentHell].progress();if(this.currentHell===G.TongueRipping)this.battleService.addEnemy({name:"Tongue Ripper",baseName:"tongueripper",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6+1e4*e}]});else if(this.currentHell===G.Scissors)this.battleService.addEnemy({name:"Scissors Demon",baseName:"scissorsdemon",health:1e15+1e14*e,maxHealth:1e15+1e14*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corruption"),this.itemRepoService.items.fingers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6+1e4*e}]});else if(this.currentHell===G.TreesOfKnives)this.battleService.addEnemy({name:"Hungry Crow",baseName:"crow",health:1e6,maxHealth:1e6,defense:1e6,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]});else if(this.currentHell===G.Mirrors)this.battleService.addEnemy({name:"Your Reflection",baseName:"mirror",health:this.characterService.characterState.status.health.value,maxHealth:this.characterService.characterState.status.health.value,defense:this.characterService.characterState.defense,loot:[this.itemRepoService.items.mirrorShard],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:this.characterService.characterState.attackPower}]});else if(this.currentHell===G.CauldronsOfOil)this.battleService.addEnemy({name:"Oiled Demon",baseName:"oileddemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]});else if(this.currentHell===G.CattlePit){if(this.animalsHealed<=1e6)for(let i=0;i<10;i++)this.battleService.addEnemy({name:"Demonic Cow",baseName:"demoniccow",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]})}else this.currentHell===G.MortarsAndPestles?this.battleService.addEnemy({name:"Force Feeder",baseName:"forcefeeder",health:1e6,maxHealth:1e6,defense:1e6,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Force Feeding",ticks:0,ticksRequired:10,baseDamage:1e6,effect:"feeder",hitTracker:0}]}):this.currentHell===G.Dismemberment?this.battleService.addEnemy({name:"Axe Demon",baseName:"axedemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]}):this.currentHell===G.Saws&&this.battleService.addEnemy({name:"Saw Demon",baseName:"sawdemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e6}]})}fightHellBoss(){this.currentHell===G.TongueRipping?this.battleService.addEnemy({name:"Gorbolash the Gossip Gasher",baseName:"Gorbolash",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownTongueRippers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Scissors?this.battleService.addEnemy({name:"Malgorath the Marriage Masher",baseName:"Malgorath",health:1e27,maxHealth:1e27,defense:1e12,loot:[this.itemRepoService.items.hellCrownScissors],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e11}]}):this.currentHell===G.TreesOfKnives?this.battleService.addEnemy({name:"Flamgolus the Family Flayer",baseName:"Flamgolus",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownTreesOfKnives],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Mirrors?this.battleService.addEnemy({name:"Myorshuggath the Mirror Master",baseName:"Myorshuggath",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownMirrors],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Steamers?this.battleService.addEnemy({name:"Stactolus the Steamer",baseName:"Stactolus",health:1e27,maxHealth:1e27,defense:1e12,loot:[this.itemRepoService.items.hellCrownSteamers],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.CopperPillars?this.battleService.addEnemy({name:"Ignificor the Forever Burning",baseName:"Ignificor",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownPillars],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.MountainOfKnives?this.battleService.addEnemy({name:"Malignus the Murderer Muncher",baseName:"Malignus",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfKnives],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.MountainOfIce?this.battleService.addEnemy({name:"The Cheat",baseName:"Cheat",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfIce],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.CauldronsOfOil?this.battleService.addEnemy({name:"Nestor the Molestor",baseName:"Nestor",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownCauldronsOfOil],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.CattlePit?this.battleService.addEnemy({name:"The Cow Emperor",baseName:"CowEmperor",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownCattlePit],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.CrushingBoulder?this.battleService.addEnemy({name:"The Crusher",baseName:"Crusher",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownCrushingBoulder],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.MortarsAndPestles?this.battleService.addEnemy({name:"Glorbulskath the Gluttonous",baseName:"Glorbulskath",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownMortarsAndPestles],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.BloodPool?this.battleService.addEnemy({name:"Gnarlyathor the Ever-Bleeding",baseName:"Gnarlyathor",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownBloodPool],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.WrongfulDead?this.battleService.addEnemy({name:"Azoth-Raketh the Storm Master",baseName:"Azoth-Raketh",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownWrongfulDead],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Dismemberment?this.battleService.addEnemy({name:"Druskall the Dismemberer",baseName:"Druskall",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownDismemberment],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.MountainOfFire?this.battleService.addEnemy({name:"Magmar the Lava King",baseName:"Magmar",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownFireMountain],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Mills?this.battleService.addEnemy({name:"Grimstone The Human Grinder",baseName:"Grimstone",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownMills],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]}):this.currentHell===G.Saws&&this.battleService.addEnemy({name:"Crognaslark the Corrupter",baseName:"Crognaslark",health:1e30,maxHealth:1e30,defense:1e12,loot:[this.itemRepoService.items.hellCrownSaws],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e10}]})}getProperties(){return{inHell:this.inHell,currentHell:this.currentHell,completedHellTasks:this.completedHellTasks,completedHellBosses:this.completedHellBosses,mountainSteps:this.mountainSteps,animalsHealed:this.animalsHealed,boulderHeight:this.boulderHeight,daysFasted:this.daysFasted,swimDepth:this.swimDepth,exitFound:this.exitFound,soulsEscaped:this.soulsEscaped,relicsReturned:this.relicsReturned,timesCrushed:this.timesCrushed,contractsExamined:this.contractsExamined,atonedKills:this.atonedKills,fasterHellMoney:this.fasterHellMoney,burnedMoney:this.burnedMoney}}setProperties(e){this.inHell=e.inHell||!1,this.currentHell=e.currentHell??-1,this.completedHellTasks=e.completedHellTasks||[],this.completedHellBosses=e.completedHellBosses||[],this.mountainSteps=e.mountainSteps||0,this.animalsHealed=e.animalsHealed||0,this.boulderHeight=e.boulderHeight||0,this.daysFasted=e.daysFasted||0,this.swimDepth=e.swimDepth||0,this.exitFound=e.exitFound||!1,this.soulsEscaped=e.soulsEscaped||0,this.relicsReturned=e.relicsReturned||0,this.timesCrushed=e.timesCrushed||0,this.contractsExamined=e.contractsExamined||0,this.atonedKills=e.atonedKills||0,this.fasterHellMoney=e.fasterHellMoney||!1,this.burnedMoney=e.burnedMoney||0,this.activityService.reloadActivities()}getActivityList(){let e=[];if(this.currentHell===-1)this.activityService.activityHeader="The Gates of Hell",this.activityService.activityHeaderDescription="The heavens have cast you down to the depths of hell.<br>You'll need to defeat every level to escape.",this.setEnterHellsArray(e);else{this.activityService.activityHeader=this.hells[this.currentHell].name,this.activityService.activityHeaderDescription=this.hells[this.currentHell].description;let i=this.hells[this.currentHell];for(let r of i.activities)r&&(r.projectionOnly=!1,e.push(r));for(let r of i.projectionActivities)r&&(r.projectionOnly=!0,e.push(r));e.push(this.flee())}return e}flee(){return{level:0,name:["Escape from this hell"],activityType:P.EscapeHell,description:["Return to the gates of Lord Yama's realm."],yinYangEffect:[z.None],consequenceDescription:[""],consequence:[()=>{this.battleService.enemies=[],this.battleService.currentEnemy=null;let e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0,portal:!0}}setEnterHellsArray(e){e.push(this.activityService.Resting),e.push(this.activityService.CombatTraining),e.push(this.activityService.CoreCultivation),e.push(this.activityService.SoulCultivation),e.push(this.activityService.InfuseBody),this.activityService.purifyGemsUnlocked&&e.push(this.activityService.PurifyGems),e.push(this.activityService.InfuseEquipment);let i=!0;for(let r of this.hells){let o="";this.completedHellBosses.includes(r.index)?o="You have proven your mastery over this hell.":(this.completedHellTasks.includes(r.index)&&(o="The Lord of this Hell is available to challenge."),i=!1),e.push({level:0,name:[r.name],activityType:P.Hell+r.index,description:[r.description],yinYangEffect:[z.None],consequenceDescription:[o],consequence:[()=>{this.currentHell=r.index;let a=this.hells[r.index];a.entryEffect&&a.entryEffect(),this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0,portal:!0})}i&&e.push({level:0,name:["Challenge Lord Yama"],activityType:P.FinishHell,description:["You've had enough of this place and learned everything these hells can teach you. Your karmic debt is paid. Challenge Lord Yama to prove you deserve your rightful place in the heavens."],yinYangEffect:[z.None],consequenceDescription:[""],consequence:[()=>{this.battleService.enemies.length===0&&(this.battleService.addEnemy({name:"Lord Yama",baseName:"Yama",health:1e40,maxHealth:1e40,defense:1e18,loot:[this.itemRepoService.items.portalKey],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:1e14}]}),this.battleService.addEnemy({name:"Horse Face",baseName:"HorseFace",health:1e39,maxHealth:1e39,defense:5e17,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:5e13}]}),this.battleService.addEnemy({name:"Ox Head",baseName:"OxHead",health:1e39,maxHealth:1e39,defense:5e17,loot:[],techniques:[{name:"Attack",ticks:0,ticksRequired:10,baseDamage:5e13}]}))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0})}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ot),x(X),x(ve),x(Bt),x(Ne),x($e),x(et),x(Y),x(rt))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var je=function(t){return t[t.SquatterTent=0]="SquatterTent",t[t.OwnTent=1]="OwnTent",t[t.DirtyShack=2]="DirtyShack",t[t.SimpleHut=3]="SimpleHut",t[t.PleasantCottage=4]="PleasantCottage",t[t.LargeHouse=5]="LargeHouse",t[t.CourtyardHouse=6]="CourtyardHouse",t[t.Manor=7]="Manor",t[t.Mansion=8]="Mansion",t[t.Palace=9]="Palace",t[t.Castle=10]="Castle",t[t.Fortress=11]="Fortress",t[t.Mountain=12]="Mountain",t[t.ForbiddenCity=13]="ForbiddenCity",t[t.Capital=14]="Capital",t[t.ImperialSeat=15]="ImperialSeat",t[t.Godthrone=16]="Godthrone",t}(je||{}),we=(()=>{class t{constructor(e,i,r,o,a,s,l){if(this.injector=e,this.characterService=i,this.inventoryService=r,this.logService=o,this.mainLoopService=a,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.keepFurniture=!1,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.thugPause=!1,this.hellHome=!1,this.homeUnlocked=!1,this.smoothFarming=!1,this.keepHome=!1,this.bedroomFurniture=[null,null,null,null,null,null,null,null,null],this.openBedroomFurnitureSlots=0,this.seeFurnitureEffects=!1,this.workstations=[],this.totalCrafts=0,this.homesList=[{name:"Squatter Tent",type:je.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty, so you should really buy some land and get a safer place to stay.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"",consequence:()=>{},maxFurniture:0,maxWorkstations:0,daysToBuild:1},{name:"Tent of Your Own",type:je.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,upgradeToTooltip:"Get a better home and stop the mouse invasions.<br>A better home will cost 100 taels and take up 1 land.<br>The new home will restore 1 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.checkOverage()},maxFurniture:0,maxWorkstations:0,daysToBuild:1},{name:"Dirty Shack",type:je.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,upgradeToTooltip:"Get a better home and stop the troublemakers from stealing your wealth.<br>A better home will cost 1,000 taels and take up 5 land.<br>The new home will restore 3 stamina and a bit of health each night.<br>It also has walls.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},maxFurniture:1,maxWorkstations:0,daysToBuild:1},{name:"Simple Hut",type:je.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night. This home and all future homes will remain in your family, and you wiil reincarnate as its heir.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,upgradeToTooltip:"Get a better house and give your descendants a permanent place to settle.<br>A better home will cost 10,000 taels and take up 10 land.<br>The new home will restore 5 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},maxFurniture:2,maxWorkstations:0,daysToBuild:10},{name:"Pleasant Cottage",type:je.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina, 1 health and a bit of Qi each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,upgradeToTooltip:"Get a better house.<br>A better home will cost 100,000 taels and take up 20 land.<br>The new home will restore 10 stamina and 1 health and a bit of Qi each night (if unlocked).",consequence:()=>{this.characterService.characterState.status.qi.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},maxFurniture:3,maxWorkstations:1,daysToBuild:30},{name:"Large House",type:je.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina, 2 health, and a bit of Qi each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,upgradeToTooltip:"Get a better house.<br>A better home will cost 1M taels and take up 50 land.<br>The new home will restore 15 stamina, 2 health, and a bit of Qi each night (if unlocked).",consequence:()=>{this.characterService.characterState.status.qi.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},maxFurniture:4,maxWorkstations:1,daysToBuild:90},{name:"Courtyard House",type:je.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina, 3 health, and a bit of Qi each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,upgradeToTooltip:"Get a better house.<br>A better home will cost 10m taels and take up 80 land.<br>The new home will restore 20 stamina, 3 health, and a bit of Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},maxFurniture:5,maxWorkstations:1,daysToBuild:180},{name:"Manor",type:je.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina, 4 health, and a bit of Qi each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,upgradeToTooltip:"Get a better house.<br>A better home will cost 100m taels and take up 100 land.<br>The new home will restore 25 stamina, 4 health, and a bit of Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},maxFurniture:6,maxWorkstations:2,daysToBuild:365},{name:"Mansion",type:je.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina, 5 health, and a bit of Qi each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,upgradeToTooltip:"Get a better house.<br>A better home will cost 1B taels and take up 120 land.<br>The new home will restore 30 stamina, 5 health, and a bit of Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},maxFurniture:7,maxWorkstations:2,daysToBuild:3650},{name:"Palace",type:je.Palace,description:"A lavish palace. Automatically restores 35 stamina, 10 health, and 1 Qi each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,upgradeToTooltip:"Get a better house.<br>A better home will cost 10B taels and take up 150 land.<br>The new home will restore 35 stamina, 10 health, and 1 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},maxFurniture:8,maxWorkstations:2,daysToBuild:36500},{name:"Castle",type:je.Castle,description:"An imposing castle. Automatically restores 40 stamina, 15 health, and 2 Qi each night.",cost:1e11,costPerDay:150,landRequired:150,maxInventory:40,upgradeToTooltip:"Get a better house.<br>A better home will cost 100B taels and take up 150 land.<br>The new home will restore 40 stamina, 15 health, and 2 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:3,daysToBuild:365e3},{name:"Fortress",type:je.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina, 20 health, and 3 Qi each night.",cost:1e12,costPerDay:180,landRequired:180,maxInventory:50,upgradeToTooltip:"Get a better house.<br>A better home will cost 1T taels and take up 180 land.<br>The new home will restore 50 stamina, 20 health, and 3 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:3,daysToBuild:365e4},{name:"Mountain",type:je.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina, 30 health, and 4 Qi each night.",cost:1e13,costPerDay:500,landRequired:500,maxInventory:60,upgradeToTooltip:"Get a better house.<br>A better home will cost 10T taels and take up 500 land.<br>The new home will restore 100 stamina, 30 health, and 4 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:3,daysToBuild:365e5},{name:"Forbidden City",type:je.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina, 50 health, and 5 Qi each night.",cost:1e14,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house.<br>better home will cost 100T taels and take up 1,000 land.<br>The new home will restore 200 stamina, 50 health, and 5 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:4,daysToBuild:365e6},{name:"Capital",type:je.Capital,description:"The entire province is yours now. Automatically restores 300 stamina, 80 health, and 10 Qi each night.",cost:1e15,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house.<br>A better home will cost 1q taels and take up 10,000 land.<br>The new home will restore 300 stamina, 80 health, and 10 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:4,daysToBuild:365e7},{name:"Seat of the Empire",type:je.ImperialSeat,description:"You've built quite an empire. Automatically restores 500 stamina, 100 health, and 20 Qi each night.",cost:1e16,costPerDay:1e6,landRequired:1e6,maxInventory:125,upgradeToTooltip:"Get a better house.<br>A better home will cost 10q taels and take up 1,000,000 land.<br>The new home will restore 500 stamina, 100 health, and 20 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=20,this.characterService.characterState.status.health.value+=100,this.characterService.characterState.status.stamina.value+=500,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:4,daysToBuild:365e8},{name:"Godthrone",type:je.Godthrone,description:"The entire land kneels far beneath you. Automatically restores 1000 stamina, 150 health, and 30 Qi each night.",cost:1e17,costPerDay:1e7,landRequired:1e7,maxInventory:150,upgradeToTooltip:"Get a better house.<br>A better home will cost 100q taels and take up 10,000,000 land.<br>The new home will restore 1000 stamina, 150 health, and 30 Qi each night.",consequence:()=>{this.characterService.characterState.status.qi.value+=30,this.characterService.characterState.status.health.value+=150,this.characterService.characterState.status.stamina.value+=1e3,this.characterService.characterState.checkOverage()},maxFurniture:9,maxWorkstations:5,daysToBuild:365e9}],this.workstationsList=[{id:"Smelter",triggerActivity:P.Smelting,power:0,setupCost:1e3,maintenanceCost:10,description:"A smelter that will produce metal bars when you do Smelting.<br>You will need to provide your own ore and fuel.",maxInputs:2,inputs:[],consequence:c=>{if(c.inputs.length<2)return;let h=c.inputs.find(g=>g.item?.subtype==="fuel"),f=c.inputs.find(g=>g.item?.type==="ore");h&&f&&f.quantity>0&&h.quantity>0&&(this.totalCrafts++,this.inventoryService.addItem(this.inventoryService.getBar(f.item?.value||1)),f.quantity--,h.quantity--)}},{id:"Basic Anvil",triggerActivity:P.Blacksmithing,power:0,setupCost:1e4,maintenanceCost:100,description:"A simple anvil that will let you craft your own equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:1,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Heavy Anvil",triggerActivity:P.Blacksmithing,power:1,setupCost:1e6,maintenanceCost:1e3,description:"A massive anvil that will let you craft more powerful equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:2,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Masterwork Anvil",triggerActivity:P.Blacksmithing,power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted anvil that will let you craft extremely powerful equipment when you do Blacksmithing.<br>You will need to provide your own metal bars.",maxInputs:3,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Basic Woodworking Bench",triggerActivity:P.Woodworking,power:0,setupCost:1e4,maintenanceCost:100,description:"A simple woodworking workbench that will let you craft your own equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:1,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Advanced Woodworking Bench",triggerActivity:P.Woodworking,power:1,setupCost:1e6,maintenanceCost:1e3,description:"A fully stocked woodworking workbench that will let you craft more powerful equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:2,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Masterwork Woodworking Bench",triggerActivity:P.Woodworking,power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted woodworking workbench that will let you craft extremely powerful equipment when you do Woodworking.<br>You will need to provide your own wood.",maxInputs:3,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Basic Leatherworking Station",triggerActivity:P.Leatherworking,power:0,setupCost:1e4,maintenanceCost:100,description:"A simple leatherworking station that will let you craft your own equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:1,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Advanced Leatherworking Station",triggerActivity:P.Leatherworking,power:1,setupCost:1e6,maintenanceCost:1e3,description:"A fully stocked leatherworking station that will let you craft more powerful equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:2,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Masterwork Leatherworking Station",triggerActivity:P.Leatherworking,power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted leatherworking station that will let you craft extremely powerful equipment when you do Leatherworking.<br>You will need to provide your own hides.",maxInputs:3,inputs:[],consequence:c=>{this.createEquipment(c)}},{id:"Basic Cauldron",triggerActivity:P.Alchemy,power:0,setupCost:1e4,maintenanceCost:100,description:"A simple cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:2,inputs:[],consequence:c=>{this.craftAlchemy(c)}},{id:"Large Cauldron",triggerActivity:P.Alchemy,power:1,setupCost:1e6,maintenanceCost:1e3,description:"A large cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:4,inputs:[],consequence:c=>{this.craftAlchemy(c)}},{id:"Enchanted Cauldron",triggerActivity:P.Alchemy,power:2,setupCost:1e7,maintenanceCost:1e4,description:"An enchanted cauldron for brewing potions and making pills when you do alchemy.<br>You will need to provide your own herbs.",maxInputs:6,inputs:[],consequence:c=>{this.craftAlchemy(c)}},{id:"Cook Pot",triggerActivity:P.Cooking,power:0,setupCost:100,maintenanceCost:10,description:"A simple cook pot to prepare meals.<br>You will need to provide your own ingredients.",maxInputs:2,inputs:[],consequence:c=>{this.cookFood(c)}},{id:"Roasting Spit",triggerActivity:P.Cooking,power:1,setupCost:1e4,maintenanceCost:100,description:"A simple spit to roast your foods, letting you add more variety to your diet.<br>You will need to provide your own ingredients.",maxInputs:3,inputs:[],consequence:c=>{this.cookFood(c)}},{id:"Chef Kitchen",triggerActivity:P.Cooking,power:1,setupCost:1e6,maintenanceCost:1e3,description:"A restaurant quality kitchen allowing you to make magnificent meals.<br>You will need to provide your own ingredients.",maxInputs:5,inputs:[],consequence:c=>{this.cookFood(c)}}],this.baguaMap=[["books","wood","purple","red","green"],["bed","trophy","fire","red","orange"],["bed","portrait","earth","red","pink"],["portrait","fitness","wood","green","blue"],["fitness","earth","yellow","brown"],["portrait","metal","white","pastel"],["books","spiritual","water","earth","blue","black","green"],["water","black"],["books","metal","gray","white","black"]],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.highestLand=0,this.highestLandPrice=100,this.bestHome=0,setTimeout(()=>this.hellService=this.injector.get(ye)),setTimeout(()=>this.activityService=this.injector.get(Ne)),this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),this.home===void 0||this.homeValue===void 0||this.nextHome===void 0)throw Error("Home service not initialized correctly.");a.homeTickSubject.subscribe(()=>{this.tick()}),a.longTickSubject.subscribe(()=>{this.land>this.highestLand&&(this.highestLand=this.land),this.landPrice>this.highestLandPrice&&(this.highestLandPrice=this.landPrice),this.homeValue>this.bestHome&&(this.bestHome=this.homeValue),this.upgrading&&this.nextHome===this.home&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.home))}),s.reincarnateSubject.subscribe(()=>{this.reset(),this.keepHome?this.logService.log(S.EVENT,"You reincarnate as one of your own descendants and your family recognizes you as the reborn heir as you age."):this.homeValue===je.SquatterTent&&this.grandfatherTent&&(this.logService.log(S.EVENT,"Your grandfather gives you a bit of land and helps you set up a tent on it."),this.setCurrentHome(this.nextHome)),this.characterService.characterState.updateMoney(this.home.costPerDay*30)})}tick(){if(!this.characterService.characterState.dead){if(this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),!this.hellService?.inHell||this.hellHome){this.home.consequence();for(let e of this.bedroomFurniture)e?.use&&e?.use()}if(!this.hellService?.inHell&&!this.characterService.characterState.god){let e=0;for(let i of this.workstations)e+=i.maintenanceCost;e+=this.home.costPerDay,e>this.characterService.characterState.money?(this.logService.injury(S.EVENT,"You can't afford the upkeep on your home. Some thugs rough you up over the debt. You'd better start doing activities that make more money, fast, or you'll work yourself to death."),this.thugPause&&(this.mainLoopService.pause=!0),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.updateMoney(0-e)}}}getProperties(){return{homeValue:this.homeValue,bedroomFurniture:this.bedroomFurniture,land:this.land,landPrice:this.landPrice,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,keepFurniture:this.keepFurniture,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture,highestLand:this.highestLand,highestLandPrice:this.highestLandPrice,bestHome:this.bestHome,thugPause:this.thugPause,hellHome:this.hellHome,homeUnlocked:this.homeUnlocked,keepHome:this.keepHome,seeFurnitureEffects:this.seeFurnitureEffects,workstations:this.workstations,totalCrafts:this.totalCrafts}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.keepFurniture=e.keepFurniture||!1,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(let i=0;i<e.bedroomFurniture.length;i++){let r=e.bedroomFurniture[i];r?this.bedroomFurniture[i]=this.itemRepoService.getFurnitureById(r.id):this.bedroomFurniture[i]=null}this.ownedFurniture=e.ownedFurniture||[],this.highestLand=e.highestLand||0,this.highestLandPrice=e.highestLandPrice||100,this.bestHome=e.bestHome||0,this.thugPause=e.thugPause||!1,this.hellHome=e.hellHome||!1,this.homeUnlocked=e.homeUnlocked||!1,this.keepHome=e.keepHome,this.seeFurnitureEffects=e.keepHome,this.totalCrafts=e.totalCrafts,this.workstations=[];for(let i of e.workstations)this.addWorkstation(i.id,i);this.recalculateFengShui()}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}getPreviousHome(){if(this.homeValue===je.SquatterTent)return this.home;for(let e=1;e<this.homesList.length;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e-1];return this.home}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.updateMoney(0-this.nextHomeCost),this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.log(S.EVENT,"You start upgrading your home to a "+this.nextHome.name))}downgradeHome(){this.upgrading&&(this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!1),this.setCurrentHome(this.previousHome)}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.log(S.EVENT,"You finished upgrading your home. You now live in a "+this.home.name))}reset(){if(this.keepHome||this.setCurrentHome(this.homesList[0]),!this.keepFurniture){for(let e=0;e<this.bedroomFurniture.length;e++)this.bedroomFurniture[e]=null;this.recalculateFengShui(),this.ownedFurniture=[]}this.characterService.characterState.bloodlineRank<7&&(this.upgrading=!1,this.houseBuildingProgress=1),this.inventoryService.changeMaxItems(this.home.maxInventory),this.nextHomeCostReduction=0,this.land=0,this.landPrice=100}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.previousHome=this.getPreviousHome(),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory),this.recalculateFengShui()}getHomeFromValue(e){for(let i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}buyLand(e){let i=10*(e*(e-1)/2),r=this.landPrice*e+i;return this.characterService.characterState.money>=r&&(this.characterService.characterState.updateMoney(0-r),this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){let i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}hasWorkstation(e){return this.workstations.find(i=>i.id.includes(e))!==void 0}setFurniture(e,i){if(e===null&&this.bedroomFurniture[i])this.bedroomFurniture[i]=null,this.openBedroomFurnitureSlots++;else if(e!==null&&this.bedroomFurniture[i])this.bedroomFurniture[i]=e;else if(e!==null&&!this.bedroomFurniture[i]){if(this.openBedroomFurnitureSlots<=0)return;this.bedroomFurniture[i]=e}this.recalculateFengShui()}recalculateFengShui(){this.openBedroomFurnitureSlots=this.home.maxFurniture;let e=0;for(let i=0;i<this.bedroomFurniture.length;i++){let r=this.bedroomFurniture[i];if(r&&(this.openBedroomFurnitureSlots--,this.baguaMap[i].includes(r.subtype||"")&&(e+=1),this.baguaMap[i].includes(r.color||"")&&(e+=1),r.elements))for(let o of r.elements)this.baguaMap[i].includes(o)&&(e+=1)}this.characterService.characterState.fengshuiScore=e}removeWorkstation(e){for(let r of e.inputs)r.item&&this.inventoryService.addItem(r.item,r.quantity);let i=this.workstations.indexOf(e);this.workstations.splice(i,1)}addWorkstation(e,i=null){if(this.workstations.length>=this.home.maxWorkstations)return;let r=this.workstationsList.find(({id:l})=>l===e);if(!r)return;let o=0;for(let l of this.workstations)l.id===e&&o++;let a=[];for(let l=0;l<r.maxInputs;l++)a.push(this.inventoryService.getEmptyItemStack());let s={index:this.workstations.length,name:e+" #"+(o+1),id:e,triggerActivity:r?.triggerActivity,power:r.power,setupCost:r.setupCost,maintenanceCost:r.maintenanceCost,description:r.description,maxInputs:r.maxInputs,inputs:a,consequence:r.consequence};i&&(s.inputs=i.inputs),this.workstations.push(s)}triggerWorkstations(e){for(let i of this.workstations)i.triggerActivity===e&&i.consequence(i)}moveItemToWorkstation(e,i,r){if(this.inventoryService.itemStacks[e].item)if(this.workstations[i].inputs[r].item){if(this.workstations[i].inputs[r].item?.name===this.inventoryService.itemStacks[e].item?.name){this.workstations[i].inputs[r].quantity+=this.inventoryService.itemStacks[e].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack();return}let o=this.inventoryService.itemStacks[e];this.inventoryService.itemStacks[e]=this.workstations[i].inputs[r],this.workstations[i].inputs[r]=o,this.workstations[i].inputs[r].id=i+"_"+r+this.workstations[i].inputs[r].item.name+this.workstations[i].inputs[r].quantity,this.inventoryService.fixId(e)}else this.workstations[i].inputs[r]=this.inventoryService.itemStacks[e],this.workstations[i].inputs[r].id=i+"_"+r+this.workstations[i].inputs[r].item.name+this.workstations[i].inputs[r].quantity,this.inventoryService.itemStacks[e]=this.inventoryService.getEmptyItemStack()}cookFood(e){if(e.inputs.length<2)return;let i=[],r=[],o=0;for(let c of e.inputs)c.item&&c.item.type==="food"&&c.item.subtype!=="meal"&&!i.includes(c.item.id)&&c.quantity>1&&(i.push(c.item.id),c.item.subtype&&!r.includes(c.item.subtype)&&r.push(c.item.subtype),o+=c.item.value,c.quantity--);if(o<1)return;o*=i.length,o*=r.length,o*=e.power+1;let a=this.activityService?.getActivityByType(e.triggerActivity)?.level||0,s="meal",l="Menu Special #"+o;a>0&&(o*=4,s="soulfood",l="Soul Food Special #"+o),this.totalCrafts++,this.inventoryService.addItem({id:l,imageFile:s,name:l,type:"food",subtype:"meal",value:o,description:"A home-made meal that can nourish you much more than raw ingredients.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0})}createEquipment(e){if(e.inputs.length<1)return;let i="metal";e.triggerActivity===P.Woodworking?i="wood":e.triggerActivity===P.Leatherworking&&(i="hide");let r=this.activityService?.getActivityByType(e.triggerActivity)?.level||0,o=e.inputs.find(l=>l.item?.type===i),a=e.inputs.find(l=>l.item?.type==="gem"),s=e.inputs.find(l=>l.item?.type!==i&&(l.item?.type==="wood"||l.item?.type==="metal"||l.item?.type==="hide"));if(o&&o.quantity>=10){let l=(o?.item?.value||1)+e.power*5;l+=Math.log10(this.characterService.characterState.attributes.metalLore.value),l+=r,a&&a.quantity>0&&(l+=a?.item?.value||1,a.quantity--),s&&s.quantity>0&&(l+=s?.item?.value||1,s.quantity--),this.totalCrafts++;let c;e.triggerActivity===P.Leatherworking?c=this.inventoryService.generateArmor(Math.floor(l/10),this.inventoryService.randomArmorSlot()):c=this.inventoryService.generateWeapon(Math.floor(l/10),i),this.inventoryService.addItem(c),o.quantity-=10}}craftAlchemy(e){if(e.inputs.length<1)return;let i=[],r=[],o=0,a=!1,s=!1,l=!1,c=!1;for(let h of e.inputs)h.item&&h.item.type==="herb"&&!i.includes(h.item.id)&&h.quantity>1&&(i.push(h.item.id),h.item.subtype&&!r.includes(h.item.subtype)&&r.push(h.item.subtype),o+=h.item.value,h.quantity--);if(!(o<1)){for(let h of e.inputs)h.item&&h.item.type==="gem"&&h.quantity>1?(a=!0,h.quantity--):h.item&&h.item.type==="pillMold"&&h.quantity>1?(s=!0,h.quantity--):h.item&&h.item.type==="pillBox"&&h.quantity>1?(l=!0,h.quantity--):h.item&&h.item.type==="pillPouch"&&h.quantity>1&&(c=!0,h.quantity--);this.totalCrafts++,a&&s&&l&&c?this.inventoryService.generateEmpowermentPill():a?this.inventoryService.generatePill(o):this.inventoryService.generatePotion(o)}}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(X),x(Y),x(ot),x(ve),x(Bt),x(rt))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ne=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f,g,v){this.injector=e,this.characterService=i,this.inventoryService=r,this.homeService=o,this.farmService=a,this.mainLoopService=l,this.itemRepoService=c,this.battleService=h,this.logService=f,this.followerService=g,this.impossibleTaskService=v,this.activityLoop=[],this.savedActivityLoop=[],this.savedActivityLoop2=[],this.savedActivityLoop3=[],this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnImpossibleFail=!0,this.pauseOnDeath=!0,this.pauseBeforeDeath=!1,this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=void 0,this.activityDeath=!1,this.autoRestUnlocked=!1,this.totalExhaustedDays=0,this.activityHeader="",this.activityHeaderDescription="",this.spiritActivityProgress=!1,this.purifyGemsUnlocked=!1,this.trainingFollowersDays=0,this.trainingPetsDays=0,this.immediateActivity=null,this.lifeActivities={},this.familySpecialty=null,this.supportedSpecialties=[P.Begging,P.Cooking,P.Blacksmithing,P.Alchemy,P.Woodworking,P.Leatherworking],this.tauntCounter=0,this.pillMoldCounter=0,this.pillBoxCounter=0,this.pillPouchCounter=0,this.forgeChainsCounter=0,this.researchWindCounter=0,this.miningCounter=0,this.huntingCounter=0,this.fishingCounter=0,this.recruitingCounter=0,this.petRecruitingCounter=0,this.coreCultivationCounter=0,this.defineActivities(),this.activities=[],setTimeout(()=>this.activities=this.getActivityList()),s.reincarnateSubject.subscribe(()=>{this.reset()}),l.longTickSubject.subscribe(C=>{this.characterService.characterState.bloodlineRank>=9&&!(this.hellService?.inHell&&this.hellService.currentHell===G.TreesOfKnives)&&this.characterService.characterState.increaseAptitudeDaily(C)});let _=(C,T,B)=>{let W=!1,ne=()=>(1-Math.pow(B.power/100,.55))/(365e5/(3650+B.age*Math.log2(C/1e10+1))),Q=()=>{let Ie=1-ne();return Ze=>Ze>0?Math.pow(Ie,Ze):1},Ge=T;for(;Ge>0;){let Ie=Q(),Ze=Math.random();if(Ze<Ie(Ge)){Ge=0;break}W=!0;let ht=Math.max(1,Math.ceil(Math.log(Ze)/Math.log(1-ne())));Ge-=ht,B.power++,B.power>this.followerService.highestLevel&&(this.followerService.highestLevel=B.power),B.cost=100*B.power,this.logService.log(S.FOLLOWER,B.name+" gains additional power as a "+B.job)}return W};l.yearOrLongTickSubject.subscribe(()=>{if(this.trainingFollowersDays+this.trainingPetsDays>0&&this.followerService.followersUnlocked){if(this.followerService.followersUnlocked){let C=!0,T=!0,B=!1;for(let W of this.followerService.followers){let ne=this.characterService.characterState.attributes.charisma.value,Q=this.trainingFollowersDays;if(W.power>=100){W.power=100;continue}else C=!1;Q!==0&&(B||=_(ne,Q,W))}for(let W of this.followerService.pets){let ne=this.characterService.characterState.attributes.animalHandling.value,Q=this.trainingPetsDays;if(W.power>=100){W.power=100;continue}else T=!1;Q!==0&&(B||=_(ne,Q,W))}C&&this.trainingFollowersDays&&this.logService.log(S.FOLLOWER,"You try to train your followers, but they are all already as powerful as they can be. You pat them each on the back and tell them they are great."),T&&this.trainingPetsDays&&this.logService.log(S.FOLLOWER,"You try to train your pets, but they are all already as powerful as they can be. You give them all belly rubs and tell them they are great."),B&&this.followerService.updateFollowerTotalPower()}this.trainingFollowersDays=0,this.trainingPetsDays=0}}),l.activityTickSubject.subscribe(()=>{if(this.activityLoop.length===0&&!this.immediateActivity){this.mainLoopService.pause=!0;return}if(!this.characterService.characterState.dead){if(this.pauseBeforeDeath&&this.characterService.characterState.age>=this.characterService.characterState.lifespan-1&&!this.characterService.characterState.immortal&&(this.logService.injury(S.EVENT,"The end of your natural life is imminent. Game paused."),this.mainLoopService.pause=!0),this.exhaustionDays>0){this.totalExhaustedDays++,this.exhaustionDays--,this.immediateActivity&&this.logService.log(S.EVENT,"You were too exhausted to do "+this.immediateActivity.name[this.immediateActivity.level]+" today, but you are getting better.");return}if(this.immediateActivity){let C=this.immediateActivity;this.autoRestUnlocked&&this.checkResourceUse(C)!==""&&(C=this.Resting),this.lifeActivities[C.activityType]=(this.lifeActivities[C.activityType]||0)+1,C.consequence[C.level](),this.homeService.triggerWorkstations(C.activityType),this.checkExhaustion(),this.checkQiOveruse(),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.handleSpiritActivity(),this.characterService.characterState.money>this.characterService.characterState.maxMoney&&(this.characterService.characterState.money=this.characterService.characterState.maxMoney);return}if(this.currentIndex<this.activityLoop.length){this.currentLoopEntry=this.activityLoop[this.currentIndex];let C=this.getActivityByType(this.currentLoopEntry.activity);if(C===null||this.currentLoopEntry.disabled||this.currentLoopEntry.repeatTimes===0){let T=0;for(this.currentIndex<this.activityLoop.length-1&&(T=this.currentIndex+1);T!==this.currentIndex&&(this.activityLoop[T].repeatTimes===0||this.activityLoop[T].disabled||this.getActivityByType(this.activityLoop[T].activity)===null);)T++,T>=this.activityLoop.length&&(T=0);if(T===this.currentIndex){this.mainLoopService.pause=!0;return}else this.currentIndex=T,this.currentLoopEntry=this.activityLoop[this.currentIndex],C=this.getActivityByType(this.currentLoopEntry.activity),this.currentTickCount=0}if(C?(this.autoRestUnlocked&&this.checkResourceUse(C)!==""&&(C=this.Resting),this.lifeActivities[C.activityType]=(this.lifeActivities[C.activityType]||0)+1,C.consequence[C.level](),this.homeService.triggerWorkstations(C.activityType)):console.log("Invalid activity, skipping activity for the day"),this.checkExhaustion(),this.checkQiOveruse(),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes){this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0);let T=this.currentIndex;for(;this.activityLoop[this.currentIndex].repeatTimes===0||this.activityLoop[this.currentIndex].disabled||this.getActivityByType(this.activityLoop[this.currentIndex].activity)===null;)if(this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0),this.currentIndex===T&&(this.activityLoop[this.currentIndex].repeatTimes===0||this.activityLoop[this.currentIndex].disabled||this.getActivityByType(this.activityLoop[this.currentIndex].activity)===null)){this.mainLoopService.pause=!0;return}}}else this.currentIndex=0;this.handleSpiritActivity(),this.characterService.characterState.money>this.characterService.characterState.maxMoney&&(this.characterService.characterState.money=this.characterService.characterState.maxMoney)}}),l.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}checkExhaustion(){this.characterService.characterState.status.stamina.value<0&&(this.logService.injury(S.EVENT,"You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again."),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max)}checkQiOveruse(){this.characterService.characterState.status.qi.value<0&&(this.logService.injury(S.EVENT,"You overextend your Qi and damage your Qi channels. It takes you 10 days to recover."),this.characterService.characterState.status.qi.max>1&&(this.characterService.characterState.status.qi.max-=1),this.exhaustionDays=10,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max)}checkResourceUse(e,i=!1){if(!e.resourceUse||!e.resourceUse[e.level])return"";if(i&&(e.resourceUse[e.level].qi||(e.resourceUse[e.level].qi=0),this.characterService.characterState.status.qi.value<(e.resourceUse[e.level]?.qi??0)+5))return"qi";for(let r in e.resourceUse[e.level])if(this.characterService.characterState.status[r].value<(e.resourceUse?.[e.level]?.[r]??0))return r;return""}handleSpiritActivity(){if(this.spiritActivity!==null&&this.characterService.characterState.status.qi.value>=5){this.spiritActivityProgress=!0;let e=this.getActivityByType(this.spiritActivity);e!==null&&this.checkResourceUse(e,!0)===""&&e.unlocked?(this.lifeActivities[e.activityType]=(this.lifeActivities[e.activityType]||0)+1,e.consequence[e.level](),this.homeService.triggerWorkstations(e.activityType),this.characterService.characterState.status.qi.value-=5):this.spiritActivityProgress=!1}else this.spiritActivityProgress=!1}getYinYangDescription(e){return e===z.Yang?`

Promotes the development of Yang energy.`:e===z.Yin?`

Promotes the development of Yin energy.`:e===z.Balance?`

Promotes a balance of Yin and Yang energies.`:""}getProperties(){let e=[],i=[];for(let r of this.activities)r.unlocked&&e.push(r.activityType),r.discovered&&i.push(r.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,discoveredActivities:i,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop,savedActivityLoop2:this.savedActivityLoop2,savedActivityLoop3:this.savedActivityLoop3,autoRestUnlocked:this.autoRestUnlocked,pauseOnImpossibleFail:this.pauseOnImpossibleFail,totalExhaustedDays:this.totalExhaustedDays,purifyGemsUnlocked:this.purifyGemsUnlocked,lifeActivities:this.lifeActivities,familySpecialty:this.familySpecialty,tauntCounter:this.tauntCounter,forgeChainsCounter:this.forgeChainsCounter,researchWindCounter:this.researchWindCounter,miningCounter:this.miningCounter,huntingCounter:this.huntingCounter,fishingCounter:this.fishingCounter,recruitingCounter:this.recruitingCounter,petRecruitingCounter:this.petRecruitingCounter,coreCultivationCounter:this.coreCultivationCounter}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];let i=e.unlockedActivities||[P.OddJobs,P.Resting],r=e.discoveredActivities||[P.OddJobs,P.Resting];for(let o of this.activities)o.unlocked=i.includes(o.activityType),o.discovered||(o.discovered=r.includes(o.activityType)||i.includes(o.activityType));this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity??null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship,this.savedActivityLoop=e.savedActivityLoop||[],this.savedActivityLoop2=e.savedActivityLoop2||[],this.savedActivityLoop3=e.savedActivityLoop3||[],this.autoRestUnlocked=e.autoRestUnlocked||!1,this.purifyGemsUnlocked=e.purifyGemsUnlocked||!1,this.lifeActivities=e.lifeActivities,this.familySpecialty=e.familySpecialty,e.pauseOnImpossibleFail===void 0?this.pauseOnImpossibleFail=!0:this.pauseOnImpossibleFail=e.pauseOnImpossibleFail,this.totalExhaustedDays=e.totalExhaustedDays||0;for(let o=0;o<5;o++)this.upgradeActivities(!0);this.tauntCounter=e.tauntCounter,this.forgeChainsCounter=e.forgeChainsCounter,this.researchWindCounter=e.researchWindCounter,this.miningCounter=e.miningCounter,this.huntingCounter=e.huntingCounter,this.fishingCounter=e.fishingCounter,this.recruitingCounter=e.recruitingCounter,this.petRecruitingCounter=e.petRecruitingCounter,this.coreCultivationCounter=e.coreCultivationCounter}meetsRequirements(e){if(this.meetsRequirementsByLevel(e,e.level)){if(e.unlocked=!0,e.discovered)for(let i of this.activityLoop)i.activity===e.activityType&&i.disabled&&(i.disabled=!1);else e.discovered=!0;return!0}return e.relockable&&(e.unlocked=!1),!1}meetsRequirementsByLevel(e,i){if(e.skipApprenticeshipLevel>0&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&!this.completedApprenticeships.includes(e.activityType))return!1;let r=Object.keys(e.requirements[i]);for(let o in r){let a=r[o],s=0;if(e.requirements[i][a]!==void 0&&(s=e.requirements[i][a]??0),this.characterService.characterState.attributes[a].value<=s)return!1}return!(e.landRequirements&&this.homeService.land<e.landRequirements||e.fallowLandRequirements&&this.farmService.fallowPlots<e.fallowLandRequirements||e.farmedLandRequirements&&this.farmService.farmedPlots<e.farmedLandRequirements)}checkRequirements(e){for(let i of this.activities)this.meetsRequirements(i)&&!i.unlocked&&(e||this.logService.log(S.EVENT,"A new activity is available. Maybe you should try "+i.name[i.level]+"."));for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity)?.unlocked||(this.activityLoop[i].disabled=!0)}upgradeActivities(e){for(let i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1)&&(!e&&i.unlocked&&this.logService.log(S.EVENT,"Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1]),i.level++)}getActivityName(e){let i=this.getActivityByType(e);return i?i.name[i.level]:""}reset(){let e=0;for(let i in this.lifeActivities){let r=parseInt(i),o=this.lifeActivities[r]||0;r&&o>e&&this.supportedSpecialties.includes(r)&&(e=o,this.familySpecialty=r)}this.lifeActivities={},this.openApprenticeships=1,this.currentApprenticeship=void 0,this.oddJobDays=0,this.beggingDays=0;for(let i of this.activities)i.level=0,i.unlocked=!1;for(let i=0;i<5;i++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==fe.Swim&&(this.Resting.unlocked=!0,this.OddJobs.unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&!this.characterService.characterState.immortal&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(let i of this.activities)if(i.activityType===e)return i;return null}checkApprenticeship(e){if(!this.completedApprenticeships.includes(e)){if(this.currentApprenticeship===e){let i=this.getActivityByType(e);i&&i.level>=i.skipApprenticeshipLevel&&this.completedApprenticeships.push(e)}else if(this.openApprenticeships>0){this.openApprenticeships--,this.currentApprenticeship=e;for(let i of this.activities)i.skipApprenticeshipLevel>0&&(i.unlocked=!1);this.checkRequirements(!0)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(let r of this.activities)r.activityType===this.activityLoop[e].activity&&(i=!0),r.discovered||this.meetsRequirements(r);i||(this.activityLoop[e].disabled=!0)}if(this.spiritActivity){let e=!1;for(let i of this.activities)i.activityType===this.spiritActivity&&(e=!0);e||(this.spiritActivity=null)}for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(e=1){e===1?this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop)):e===2?this.savedActivityLoop2=JSON.parse(JSON.stringify(this.activityLoop)):e===3&&(this.savedActivityLoop3=JSON.parse(JSON.stringify(this.activityLoop)))}loadActivityLoop(e=1){e===1?this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)):e===2?this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop2)):e===3&&(this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop3))),this.checkRequirements(!0)}getActivityList(){let e=[];if(this.activityHeader="",this.activityHeaderDescription="",this.impossibleTaskService.activeTaskIndex>=0&&(this.activityHeader="Do the impossible: "+this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].name,this.activityHeaderDescription=this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].description),this.hellService||(this.hellService=this.injector.get(ye)),this.hellService.inHell)return this.hellService.getActivityList();if(this.impossibleTaskService.activeTaskIndex===fe.Swim)return e.push(this.Swim),e;this.impossibleTaskService.activeTaskIndex===fe.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex===fe.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex===fe.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex===fe.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex===fe.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex===fe.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex===fe.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.Resting),e.push(this.OddJobs),e.push(this.Begging),e.push(this.Cooking),e.push(this.Burning),e.push(this.Taunting),e.push(this.Plowing),e.push(this.Clearing),e.push(this.Farming),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.ChopWood),e.push(this.Woodworking),e.push(this.Hunting),e.push(this.Leatherworking),e.push(this.Fishing),e.push(this.GatherHerbs),e.push(this.Alchemy),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.BalanceChi),this.characterService.characterState.qiUnlocked&&(e.push(this.CoreCultivation),e.push(this.InfuseEquipment),e.push(this.InfuseBody),e.push(this.ExtendLife)),this.characterService.characterState.immortal&&e.push(this.SoulCultivation),this.purifyGemsUnlocked&&e.push(this.PurifyGems),e.push(this.Recruiting),this.followerService.petsEnabled&&(e.push(this.PetRecruiting),e.push(this.PetTraining)),e.push(this.TrainingFollowers),e.push(this.CombatTraining);for(let i of e)i.projectionOnly=!1;return e}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],imageBaseName:"swim",activityType:P.Swim,description:["Swim down further into the depths."],yinYangEffect:[z.None],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[fe.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.Swim].complete&&this.logService.log(S.STORY,"Your preparations were worthwhile! You dove all the way to the bottom of the ocean, through a hidden tunnel that led impossibly deep, and found a mythical sunken island.")}],resourceUse:[{stamina:20}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],imageBaseName:"forgechains",activityType:P.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina. If you have the right facilities, materials, and knowledge you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let i=this.inventoryService.consume("metal");this.homeService.hasWorkstation("anvil")&&i>=150&&this.characterService.characterState.attributes.metalLore.value>=1e9?(this.forgeChainsCounter++,this.forgeChainsCounter>10?(this.logService.log(S.CRAFTING,"Your anvil gives off an ear-splitting ringing and echoes endlessly into the depths. The new chain glows with power!"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain),this.forgeChainsCounter=0):this.logService.log(S.CRAFTING,"Your anvil rings and weakly echoes into the depths. You throw aside the useless dull chain.")):this.characterService.characterState.attributes.metalLore.value<1e9?(this.logService.injury(S.EVENT,"You lack the necessary knowledge and cause a deadly explosion."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.6,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.injury(S.EVENT,"You fumble with the wrong tools and materials and hurt yourself."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],imageBaseName:"attachchains",activityType:P.AttachChains,description:["Swim deep and attach one of your chains to the island, then pull."],yinYangEffect:[z.None],consequenceDescription:["Uses 1,000,000 Stamina. These chains are really, REALLY heavy. You better plan on having an Unbreakable Chain and a good place to rest afterwards."],consequence:[()=>{this.characterService.characterState.status.stamina.value>=1e6&&this.inventoryService.consume("chain")>0?(this.characterService.characterState.status.stamina.value-=1e6,this.logService.log(S.EVENT,"You attach a chain to the island, and give your chains a long, strenuous tug."),this.impossibleTaskService.taskProgress[fe.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.RaiseIsland].complete&&this.logService.log(S.STORY,"With a mighty pull of 777 chains, the island comes loose. You haul it to the surface.")):this.inventoryService.consume("chain",0)?(this.logService.injury(S.EVENT,"You strain yourself trying to lug the chain to an anchor point and collapse."),this.characterService.characterState.status.stamina.value-=1e6,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.injury(S.EVENT,"You pass time exploring the hidden tunnels without a chain until a horror of the depths takes a nibble."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e6}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],imageBaseName:"makebrick",activityType:P.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let i=this.inventoryService.consume("ore",200),r=Math.floor((this.followerService.jobs.builder.totalPower+10)/10);i>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,r),this.logService.log(S.CRAFTING,"You and your followers made "+(1+r)+" "+this.itemRepoService.items.everlastingBrick.name)):(this.logService.injury(S.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],imageBaseName:"scaffolding",activityType:P.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let i=0;i=this.inventoryService.consume("wood",200),i>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.log(S.CRAFTING,"You made "+this.itemRepoService.items.scaffolding.name)):(this.logService.injury(S.EVENT,"You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],imageBaseName:"makemortar",activityType:P.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let i=this.inventoryService.consume("ore"),r=Math.floor((this.followerService.jobs.builder.totalPower+100)/100);this.homeService.hasWorkstation("cauldron")&&i>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,r),this.logService.log(S.CRAFTING,"You and your followers made "+(1+r)+" "+this.itemRepoService.items.everlastingMortar.name)):(this.logService.injury(S.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],imageBaseName:"buildtower",activityType:P.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let i=0;for(let o of this.followerService.followers)o.job==="builder"&&i++;if(i<10){this.logService.injury(S.EVENT,"You fumble without the proper help and hurt yourself."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.05,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}let r=0;if(r=this.inventoryService.consume("scaffolding"),r<1){this.logService.injury(S.EVENT,"You try building without a scaffolding, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.2,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}if(r=0,r=this.inventoryService.consume("mortar",100),r<1){this.logService.injury(S.EVENT,"You try building without enough mortar, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.2,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}if(r=0,r=this.inventoryService.consume("brick",1e3),r<1){this.logService.injury(S.EVENT,"You try building without enough bricks, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.2,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}this.impossibleTaskService.taskProgress[fe.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.BuildTower].complete&&this.logService.log(S.STORY,"You have acheived the impossible and built a tower beyond the heavens.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],imageBaseName:"researchwind",activityType:P.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina and Qi. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.qi.value-=100,this.characterService.characterState.status.stamina.value<0||this.characterService.characterState.status.qi.value<0){this.logService.log(S.EVENT,"You try to research, but you just don't have the energy.");return}this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.qi.value>=0&&(this.researchWindCounter++,this.researchWindCounter>100&&(this.logService.log(S.CRAFTING,"Research breakthrough! You produce a tome!."),this.inventoryService.addItem(this.itemRepoService.items.windTome),this.researchWindCounter=0))}],resourceUse:[{stamina:100,qi:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],imageBaseName:"tamewind",activityType:P.TameWinds,description:["Use your research to tame the winds."],yinYangEffect:[z.None],consequenceDescription:["Uses 100 Stamina. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let i=0;i=this.inventoryService.consume("windTome"),i>0?(this.impossibleTaskService.taskProgress[fe.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.TameWinds].complete&&this.logService.log(S.STORY,"You acheived the impossible and tamed a hurricane.")):(this.logService.injury(S.EVENT,"You try to tame the winds, but without the proper preparation you are blown off the top of the tower."),this.characterService.characterState.status.health.value-=this.characterService.characterState.status.health.max*.5,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],imageBaseName:"learntofly",activityType:P.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],yinYangEffect:[z.None],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[fe.LearnToFly].progress++,this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<2222?(this.logService.injury(S.EVENT,"Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something."),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<4444?(this.logService.injury(S.EVENT,"You feel like you might have flown a litte bit, somewhere near the time you hit the ground."),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[fe.LearnToFly].progress<6666?(this.logService.injury(S.EVENT,"You definitely did better that time. You did some great flying but sticking the landing is still tricky."),this.characterService.characterState.status.health.value-=100):(this.logService.injury(S.EVENT,"Almost there! Perfect landings are so hard."),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.LearnToFly].complete&&this.logService.log(S.STORY,"You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.")}],resourceUse:[{health:1001}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],imageBaseName:"offerfood",activityType:P.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],yinYangEffect:[z.None],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let i=0;if(i=this.inventoryService.consume("food",1e3),i<1){this.logService.injury(S.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.characterState.status.health.value-=1e3,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++:this.logService.log(S.EVENT,"The dragon doesn't seem interested in any more food.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],imageBaseName:"offergold",activityType:P.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],yinYangEffect:[z.None],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9){this.logService.injury(S.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.characterState.status.health.value-=1e3,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}this.characterService.characterState.updateMoney(1e9),this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++:this.logService.log(S.EVENT,"The dragon doesn't seem interested in any more money.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],imageBaseName:"talktodragon",activityType:P.TalkToDragon,description:["Try to strike up a conversation with the dragon."],yinYangEffect:[z.None],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10){this.logService.injury(S.EVENT,"The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first."),this.characterService.characterState.status.health.value-=1e3,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}if(this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress<3500){this.logService.log(S.EVENT,"The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.");return}this.impossibleTaskService.taskProgress[fe.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.BefriendDragon].complete&&this.logService.log(S.STORY,"You did the impossible and made friends with a dragon!")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],imageBaseName:"gatherarmy",activityType:P.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],yinYangEffect:[z.None],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<je.Capital){this.logService.injury(S.EVENT,"You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.");for(let r=0;r<3;r++)this.battleService.addArmy();return}let i=0;if(i=this.inventoryService.consume("food",1e4),i<1){this.logService.injury(S.EVENT,"You don't have enough food to feed your army, so they revolt and fight you instead."),this.battleService.addArmy(),this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}if(this.characterService.characterState.money<1e10){this.logService.injury(S.EVENT,"You don't have enough money to pay your army, so they revolt and fight you instead."),this.battleService.addArmy(),this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}this.characterService.characterState.updateMoney(1e10),this.inventoryService.addItem(this.itemRepoService.items.army)}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],imageBaseName:"conquer",activityType:P.ConquerTheWorld,description:["Send out your armies to conquer the world."],yinYangEffect:[z.None],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let i=0;if(i=this.inventoryService.consume("army",this.impossibleTaskService.taskProgress[fe.ConquerTheWorld].progress+1),i<1){for(let r=0;r<5;r++)this.battleService.addArmy();this.logService.log(S.EVENT,"Your armies failed you and you are forced to fight the enemy armies to a standstill."),this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0);return}this.impossibleTaskService.taskProgress[fe.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.ConquerTheWorld].complete&&this.logService.log(S.STORY,"You did the impossible and conquered the world! Under your wise rule all human suffering ceases.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],imageBaseName:"movestars",activityType:P.MoveStars,description:["Extend your vast magical powers into the heavens and force the stars into alignment."],yinYangEffect:[z.None],consequenceDescription:["Uses 1000 Stamina and Qi."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.qi.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.qi.value>=0&&(this.impossibleTaskService.taskProgress[fe.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[fe.RearrangeTheStars].complete&&this.logService.log(S.STORY,"You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches."))}],resourceUse:[{stamina:1e3,qi:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0};let e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live.";this.hellService?.inHell?e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for an aspiring god, but you can't manage anything more profitable when you're projecting your spirit this far.":this.characterService.characterState.immortal&&(e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Why would you stoop to jobs like this now that you are immortal?"),this.OddJobs={level:0,name:["Odd Jobs"],imageBaseName:"oddjobs",activityType:P.OddJobs,description:[e],yinYangEffect:[z.None],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("toughness",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("intelligence",.02),this.characterService.characterState.increaseAttribute("charisma",.02),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.updateMoney(3),this.OddJobs.lastIncome=3,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity","Finding True Inner Peace"],imageBaseName:"resting",activityType:P.Resting,yinYangEffect:[z.Yin,z.Yin,z.Yin,z.Balance],description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities.","Turn your senses inward and find pure stillness within."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Qi (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Qi (if unlocked).","Restores 300 Stamina, 30 Health, and 20 Qi (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage(),this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.qiUnlocked&&(this.characterService.characterState.status.qi.value+=1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.qi.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage(),this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.qi.value+=20,this.characterService.characterState.increaseAttribute("spirituality",1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++}],resourceUse:[{},{},{},{}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4},{strength:1e21,speed:1e21,charisma:1e21,intelligence:1e21,toughness:1e21,spirituality:1e21,fireLore:1e18,waterLore:1e18,earthLore:1e18,metalLore:1e18,woodLore:1e18}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],imageBaseName:"begging",activityType:P.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],yinYangEffect:[z.Yang,z.Yang,z.Yang,z.Yang],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder if there is more to life than just money and fame."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;let i=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.familySpecialty===P.Begging&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Begging.lastIncome=i,this.beggingDays++,this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;let i=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.familySpecialty===P.Begging&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Begging.lastIncome=i,this.beggingDays++,this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;let i=20+Math.log2(this.characterService.characterState.attributes.charisma.value*2);this.familySpecialty===P.Begging&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Begging.lastIncome=i,this.beggingDays++,this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;let i=30+Math.log2(this.characterService.characterState.attributes.charisma.value*10);this.familySpecialty===P.Begging&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Begging.lastIncome=i,this.beggingDays++,this.characterService.characterState.yang++}],resourceUse:[{stamina:5},{stamina:5},{stamina:5},{stamina:5}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Cooking={level:0,name:["Cooking","Soul Food Preparation"],imageBaseName:"cooking",activityType:P.Cooking,description:["Work as a chef. If you have a cooking workstation of your own, you can even make some meals for yourself.","Work as a spiritual chef, devoting great energy to creating food that feeds both body and soul. If you have a cooking workstation of your own, you can even make some meals for yourself."],yinYangEffect:[z.None,z.Balance],consequenceDescription:["Uses 10 Stamina. Increases charisma and intelligence and provides a little money.","Uses 100 Stamina. Increases charisma, intelligence, and spirituality."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.05),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;let i=5+Math.log2((this.characterService.characterState.attributes.charisma.value+2*this.characterService.characterState.attributes.intelligence.value)/3);this.familySpecialty===P.Cooking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Cooking.lastIncome=i},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.status.stamina.value-=10}],resourceUse:[{stamina:10},{stamina:100}],requirements:[{charisma:10,intelligence:20},{charisma:1e4,intelligence:2e4,spirituality:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],imageBaseName:"blacksmithing",activityType:P.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],yinYangEffect:[z.Balance,z.Balance,z.Balance,z.Balance],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.familySpecialty===P.Blacksmithing&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Blacksmithing.lastIncome=i,this.characterService.characterState.increaseAttribute("metalLore",.1),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value*2;this.familySpecialty===P.Blacksmithing&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Blacksmithing.lastIncome=i,this.characterService.characterState.increaseAttribute("metalLore",.2),this.characterService.characterState.increaseAttribute("fireLore",.02),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+this.characterService.characterState.attributes.metalLore.value*5;this.familySpecialty===P.Blacksmithing&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Blacksmithing.lastIncome=i,this.characterService.characterState.increaseAttribute("metalLore",.3),this.characterService.characterState.increaseAttribute("fireLore",.05),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+this.characterService.characterState.attributes.metalLore.value*10;this.familySpecialty===P.Blacksmithing&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Blacksmithing.lastIncome=i,this.characterService.characterState.increaseAttribute("metalLore",.5),this.characterService.characterState.increaseAttribute("fireLore",.1),this.pillMoldCounter++,this.pillMoldCounter>1e3&&(this.pillMoldCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillMold)),this.characterService.characterState.yin++,this.characterService.characterState.yang++}],resourceUse:[{stamina:25},{stamina:25},{stamina:25},{stamina:50}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],imageBaseName:"herbs",activityType:P.GatherHerbs,description:["Search the natural world for useful herbs."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003),this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],imageBaseName:"alchemy",activityType:P.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],yinYangEffect:[z.Yin,z.Yin,z.Yin,z.Yin],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;let i=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.familySpecialty===P.Alchemy&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Alchemy.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.05),this.characterService.characterState.increaseAttribute("waterLore",.1),this.characterService.characterState.yin++},()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;let i=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value*2;this.familySpecialty===P.Alchemy&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Alchemy.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("waterLore",.2),this.characterService.characterState.yin++},()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;let i=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value*5;this.familySpecialty===P.Alchemy&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Alchemy.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.15),this.characterService.characterState.increaseAttribute("waterLore",.3),this.characterService.characterState.yin++},()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value*10;this.familySpecialty===P.Alchemy&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Alchemy.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.characterService.characterState.yin++}],resourceUse:[{stamina:10},{stamina:10},{stamina:10},{stamina:20}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],imageBaseName:"chopping",activityType:P.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01),this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],imageBaseName:"woodworking",activityType:P.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],yinYangEffect:[z.Yang,z.Yang,z.Yang,z.Yang],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.familySpecialty===P.Woodworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Woodworking.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value*2;this.familySpecialty===P.Woodworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Woodworking.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.005),this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value*5;this.familySpecialty===P.Woodworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Woodworking.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.02),this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;let i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value*10;this.familySpecialty===P.Woodworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Woodworking.lastIncome=i,this.characterService.characterState.increaseAttribute("woodLore",.6),this.pillBoxCounter++,this.pillBoxCounter>1e3&&(this.pillBoxCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillBox)),this.characterService.characterState.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],imageBaseName:"leatherworking",activityType:P.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],yinYangEffect:[z.Balance,z.Balance,z.Balance,z.Balance],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.familySpecialty===P.Leatherworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Leatherworking.lastIncome=i,this.characterService.characterState.increaseAttribute("animalHandling",.001),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value*2;this.familySpecialty===P.Leatherworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Leatherworking.lastIncome=i,this.characterService.characterState.increaseAttribute("animalHandling",.002),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;let i=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value*5;this.familySpecialty===P.Leatherworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Leatherworking.lastIncome=i,this.characterService.characterState.increaseAttribute("animalHandling",.003),this.characterService.characterState.yin++,this.characterService.characterState.yang++},()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;let i=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value*10;this.familySpecialty===P.Leatherworking&&(i+=i*.2),this.characterService.characterState.updateMoney(i),this.Leatherworking.lastIncome=i,this.characterService.characterState.increaseAttribute("animalHandling",.1),this.pillPouchCounter++,this.pillPouchCounter>1e3&&(this.pillPouchCounter=0,this.inventoryService.addItem(this.itemRepoService.items.pillPouch)),this.characterService.characterState.yin++,this.characterService.characterState.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Plowing={level:0,name:["Plowing Land"],imageBaseName:"plowing",activityType:P.Plowing,description:["Plow an unused plot of land into a field for growing crops."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 50 Stamina. Increases strength and speed."],consequence:[()=>{this.farmService.plowPlot(),this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001),this.characterService.characterState.yang++}],resourceUse:[{stamina:50}],requirements:[{strength:10,speed:10}],landRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Clearing={level:0,name:["Clearing Land"],imageBaseName:"clearing",activityType:P.Clearing,description:["Clear a fallow plot of farmland into an empty plot of land."],yinYangEffect:[z.Yin],consequenceDescription:["Uses 50 Stamina. Increases strength and speed."],consequence:[()=>{this.farmService.clearPlot(),this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001),this.characterService.characterState.yin++}],resourceUse:[{stamina:50}],requirements:[{strength:10,speed:10}],fallowLandRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Farming={level:0,name:["Farming"],imageBaseName:"farming",activityType:P.Farming,description:["Cultivate the crops in your fields. This is a waste of time if you don't have planted fields ready to work."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let i=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));i<1&&(i=1),this.farmService.workFields(i),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001),this.characterService.characterState.yang++}],resourceUse:[{stamina:20}],requirements:[{strength:10,speed:10}],farmedLandRequirements:1,unlocked:!1,relockable:!0,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],imageBaseName:"mining",activityType:P.Mining,description:["Dig in the ground for usable minerals."],yinYangEffect:[z.Yin],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("earthLore",.05),this.miningCounter++,this.miningCounter>5&&(this.miningCounter=0,this.inventoryService.addItem(this.inventoryService.getOre())),this.characterService.characterState.yin++}],resourceUse:[{stamina:20}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],imageBaseName:"smelting",activityType:P.Smelting,description:["Smelt metal ores and fuel into usable metal. You can even keep the metal bars if you have a smelter of your own."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.characterService.characterState.yin++,this.characterService.characterState.yang++}],resourceUse:[{stamina:20}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],imageBaseName:"hunting",activityType:P.Hunting,description:["Hunt for animals in the nearby woods."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let i=10;this.homeService.bedroomFurniture.find(r=>r?.id==="dogKennel")&&(i=5),this.characterService.characterState.increaseAttribute("animalHandling",.1),this.huntingCounter++,this.huntingCounter>i&&(this.huntingCounter=0,this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.inventoryService.getHide(),Math.floor(this.followerService.jobs.hunter.totalPower/20))),this.characterService.characterState.yang++}],resourceUse:[{stamina:50}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],imageBaseName:"fishing",activityType:P.Fishing,description:["Grab your net and see if you can catch some fish."],yinYangEffect:[z.Yin],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("animalHandling",.02),this.characterService.characterState.increaseAttribute("waterLore",.01),this.fishingCounter++,this.fishingCounter>10&&(this.fishingCounter=0,this.inventoryService.addItem(this.itemRepoService.items.carp)),this.characterService.characterState.yin++}],resourceUse:[{stamina:30}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],imageBaseName:"burning",activityType:P.Burning,description:["Light things on fire and watch them burn."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;let i=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.updateMoney(0-i),this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.characterService.characterState.yang++}],resourceUse:[{stamina:5}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BalanceChi={level:0,name:["Balance Your Chi"],imageBaseName:"balance",activityType:P.BalanceChi,description:["Balance the flow of your chi and widen your meridians."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 100 Stamina. Increases your weakest lore."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let i="earthLore";for(let o of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[o].value<this.characterService.characterState.attributes[i].value&&(i=o);let r=.01;(this.characterService.characterState.qiUnlocked||this.characterService.characterState.easyMode)&&(r=.1),this.characterService.characterState.increaseAttribute(i,r),this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++}],resourceUse:[{stamina:100}],requirements:[{strength:1e3,speed:1e3,toughness:1e3,charisma:1e3,intelligence:1e3,earthLore:1e3,metalLore:1e3,woodLore:1e3,waterLore:1e3,fireLore:1e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],imageBaseName:"bodycultivation",activityType:P.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yang++}],resourceUse:[{stamina:100}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],imageBaseName:"mindcultivation",activityType:P.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],yinYangEffect:[z.Yin],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yin++}],resourceUse:[{stamina:100}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],imageBaseName:"corecultivation",activityType:P.CoreCultivation,description:["Focus on the development of your soul core."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your Qi capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.qiUnlocked&&(this.coreCultivationCounter++,this.coreCultivationCounter>100&&(this.coreCultivationCounter=0,this.characterService.characterState.status.qi.max++,this.characterService.characterState.status.qi.value++)),this.characterService.characterState.yang++,this.characterService.characterState.yin++}],resourceUse:[{stamina:200}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.SoulCultivation={level:0,name:["Soul Cultivation"],imageBaseName:"soulcultivation",activityType:P.SoulCultivation,description:["Focus on the development of your immortal soul."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 1000 health. An immortal's cultivation technique. Balance your attributes and your lore, and improve yourself in every way."],consequence:[()=>{this.characterService.characterState.status.health.value-=1e3;let i="earthLore";for(let r of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[r].value<this.characterService.characterState.attributes[i].value&&(i=r);this.characterService.characterState.increaseAttribute(i,1),i="strength";for(let r of["speed","toughness","intelligence","charisma"])this.characterService.characterState.attributes[r].value<this.characterService.characterState.attributes[i].value&&(i=r);this.characterService.characterState.increaseAttribute(i,1),this.characterService.characterState.increaseAttribute("spirituality",.01),this.characterService.characterState.healthBonusSoul++,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.status.qi.max++,this.characterService.characterState.checkOverage(),this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++}],resourceUse:[{health:1e3}],requirements:[{spirituality:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseEquipment={level:0,name:["Infuse Equipment"],imageBaseName:"infuseequipment",activityType:P.InfuseEquipment,description:["Infuse the power of a gem into your equipment."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 200 Stamina and 10 Qi. An advanced magical technique."],consequence:[()=>{if(!this.characterService.characterState.qiUnlocked)return;this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.status.qi.value-=10;let i=this.inventoryService.consume("gem",1,this.inventoryService.useCheapestSpiritGem);i>0&&this.characterService.characterState.status.qi.value>=0&&this.inventoryService.upgradeEquppedEquipment(Math.floor(Math.pow(i/10,2.4))),this.characterService.characterState.yang++,this.characterService.characterState.yin++}],resourceUse:[{stamina:200,qi:10}],requirements:[{strength:2e7,toughness:2e7,speed:2e7,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],imageBaseName:"infusebody",activityType:P.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 10 Qi and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.qiUnlocked&&this.characterService.characterState.status.qi.value>=10&&(this.characterService.characterState.status.qi.value-=10,this.characterService.characterState.healthBonusMagic++),this.characterService.characterState.yang++,this.characterService.characterState.yin++}],resourceUse:[{stamina:200,qi:10}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],imageBaseName:"extendlife",activityType:P.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 20 Qi and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.qiUnlocked&&this.characterService.characterState.status.qi.value>=20&&(this.characterService.characterState.status.qi.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)),this.characterService.characterState.yang++,this.characterService.characterState.yin++}],resourceUse:[{stamina:400,qi:20}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],imageBaseName:"recruiting",activityType:P.Recruiting,description:["Look for followers willing to serve you."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,!(this.characterService.characterState.money<=1e6)&&(this.characterService.characterState.updateMoney(-1e6),this.followerService.followersUnlocked&&this.characterService.characterState.money>0?(this.recruitingCounter++,this.recruitingCounter>100&&(this.recruitingCounter=0,this.followerService.generateFollower())):this.logService.injury(S.EVENT,"All of your potential followers ignore your recruiting efforts after sensing your low cultivation."),this.characterService.characterState.yang++)}],resourceUse:[{stamina:100}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],imageBaseName:"trainingfollowers",activityType:P.TrainingFollowers,description:["Train your followers to make them more powerful."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 1000 Stamina. Gives you a small chance for each follower of increasing their power. They might learn more if you are a better leader."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.trainingFollowersDays++,this.characterService.characterState.yang++}],resourceUse:[{stamina:1e3}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0},this.Taunting={level:0,name:["Looking for Trouble"],imageBaseName:"taunting",activityType:P.Taunting,description:["Go looking for an enemy and call them out to battle."],yinYangEffect:[z.Yang],consequenceDescription:["Has a chance to incite a fight."],consequence:[()=>{this.tauntCounter++,this.tauntCounter>10&&(this.battleService.trouble(),this.tauntCounter=0),this.characterService.characterState.yang++}],resourceUse:[{}],requirements:[{strength:100,toughness:100}],unlocked:!1,skipApprenticeshipLevel:0},this.CombatTraining={level:0,name:["Combat Training"],imageBaseName:"combattraining",activityType:P.CombatTraining,description:["Hone every fiber of your being to martial sepremacy. Your experience in the Hell of Mirrors allowed you to examine your own combat form and understand how to improve it. Now all you need is practice."],yinYangEffect:[z.Balance],consequenceDescription:["Uses 10000 stamina. Trains your Combat Mastery."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.increaseAttribute("combatMastery",.01),this.characterService.characterState.yang++,this.characterService.characterState.yin++}],resourceUse:[{stamina:1e4}],requirements:[{combatMastery:1}],unlocked:!1,skipApprenticeshipLevel:0},this.PetRecruiting={level:0,name:["Finding Pets"],imageBaseName:"findingpets",activityType:P.PetRecruiting,description:["Look for animals that want to be your pets."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 100 Stamina and 100,000 food. Gives you a small chance of finding a pet."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.characterState.status.stamina.value-=100,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.characterState.increaseAttribute("animalHandling",1),this.followerService.followersUnlocked&&this.followerService.petsEnabled&&(this.petRecruitingCounter++,this.petRecruitingCounter>100&&(this.petRecruitingCounter=0,this.followerService.generateFollower(!0))),this.characterService.characterState.yang++))}],resourceUse:[{stamina:100}],requirements:[{animalHandling:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.PetTraining={level:0,name:["Training Pets"],imageBaseName:"trainingpets",activityType:P.PetTraining,description:["Train your pets to make them more powerful."],yinYangEffect:[z.Yang],consequenceDescription:["Uses 1000 Stamina and 100k food. Gives you a small chance for each pet of increasing their power. They might learn more if you are a better with animals."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.characterState.status.stamina.value-=1e3,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.characterState.increaseAttribute("animalHandling",1),this.trainingPetsDays++,this.characterService.characterState.yang++))}],resourceUse:[{stamina:1e3}],requirements:[{animalHandling:1e18}],unlocked:!1,skipApprenticeshipLevel:0},this.PurifyGems={level:0,name:["Purifying Gems"],imageBaseName:"purifyinggems",activityType:P.PurifyGems,description:["Purify corrupted spirit gems into something more useful."],yinYangEffect:[z.None],consequenceDescription:["Uses 100000 Stamina and a corrupted spirit gem."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5;let i=this.inventoryService.consume("corruptionGem");i>0&&this.inventoryService.addItem(this.inventoryService.generateSpiritGem(i/10,"life"))}],resourceUse:[{stamina:1e5}],requirements:[{spirituality:1e24}],unlocked:!1,skipApprenticeshipLevel:0}}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(X),x(Y),x(we),x(Rt),x(Bt),x(ve),x(rt),x(et),x(ot),x($e),x(ri))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lF(t,n){t&1&&(d(0,"div",1)(1,"span"),p(2,"Don't worry. Each mortal life is just a drop of time in the vast ocean of eternity. You are destined for immortality, and immortality you will achieve! Your experiences in your previous life will let you learn faster and grow stronger in the next life."),u()())}function cF(t,n){if(t&1&&(d(0,"div",1)(1,"span"),p(2),u()()),t&2){let e=y();m(2),pe(e.tip)}}var ZC=(()=>{class t{constructor(e,i,r,o,a,s){this.data=e,this.characterService=i,this.activityService=r,this.inventoryService=o,this.followerSerivce=a,this.impossibleTaskService=s,this.causeOfDeath="",this.attributeGains="",this.tip="",this.causeOfDeath=e.causeOfDeath,this.attributeGains=e.attributeGains,this.tip="",this.characterService.characterState.age<25*365?this.tip="Life for an aspiring immortal can be brutal in the beginning. You may need to swallow your pride and do whatever is necessary to survive. A better home goes a long way toward keeping you safe.":this.characterService.characterState.age<35*365&&this.characterService.characterState.attributes.intelligence.value<200?this.tip="Life for an aspiring immortal can be frustratingly short. Perhaps increasing your intelligence might open up new avenues for extending your life.":this.characterService.characterState.age<140*365?this.tip="Life for an aspiring immortal can be frustratingly short. Farming some healthy food might give you just what you need.":this.activityService.completedApprenticeships.length<4&&this.characterService.characterState.attributes.spirituality.value<=0?this.tip="Blacksmithing, alchemy, woodworking, and leatherworking are all essential trades for an aspiring immortal. You should master them all.":this.characterService.characterState.attributes.spirituality.value<=0?this.tip="Balance is important to aspiring immortals. You'll need to develop all of your attributes if you want to progress in your journey.":this.characterService.characterState.attributes.spirituality.value<=10?this.tip="Developing your spirituality is essential. Focusing on your spiritual development will help you on your way to immortality.":this.inventoryService.autoWeaponMergeUnlocked?this.inventoryService.autoArmorMergeUnlocked?this.characterService.characterState.bloodlineRank<1||this.characterService.soulCoreRank()<1||this.characterService.meridianRank()<1?this.tip="Ascension provides a pathway to the power you'll need to achieve immortality. Each ascension technique benefits you in unique and important ways.":this.characterService.characterState.qiUnlocked?this.characterService.characterState.status.stamina.max<200?this.tip="Building up your stamina requires protein. Hunting of fishing can provide you with the food that you need to take on more challenging tasks.":this.followerSerivce.followers.length<5?this.tip="Recruiting more followers will help you advance toward immortality. Perhaps its time to return to politics to build up the charm you'll need to recruit.":this.followerSerivce.highestLevel<=1?this.tip="Your followers are too weak to give you the help you need. Perhaps its time to return to politics to build up the charm you'll need to train them to be stronger.":this.impossibleTaskService.impossibleTasksUnlocked?this.characterService.characterState.immortal||(this.tip="You're so close now. If you could only manage to do the impossible, you know you would achieve immortality."):this.tip="Ascensions are the key to your progress now. Push forward!":this.tip="Magic will be required for your journey to immortality. Only by balancing your mastery of the five elements will you be able to access magical powers.":this.tip="Your quest toward immortality will require battling mighty foes. Reliable armor will be critical to surviving.":this.tip="Your quest toward immortality will require battling mighty foes. Powerful weapons will be critical to defeating them."}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showLifeSummary=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(k(lr),k(X),k(Ne),k(Y),k($e),k(ri))}}static{this.\u0275cmp=U({type:t,selectors:[["app-life-summary"]],decls:22,vars:5,consts:[[1,"darkMode","lifeSummary"],[1,"textDiv"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"A New Life Begins"),u(),F(3,"hr")(4,"br"),d(5,"div",1)(6,"span"),p(7),u()(),F(8,"br"),L(9,lF,3,0,"div",1),F(10,"br"),d(11,"div",1)(12,"span"),p(13),u()(),F(14,"br"),L(15,cF,3,1,"div",1),F(16,"br"),d(17,"div",1)(18,"span")(19,"input",2),w("change",function(a){return r.showLifeSummaryChange(a)}),u(),d(20,"label",3),p(21,"Show this summary at the start of each life"),u()()()()),i&2&&(m(7),A(" ",r.causeOfDeath," "),m(2),M(r.characterService.characterState.immortal?-1:9),m(4),pe(r.attributeGains),m(2),M(r.characterService.characterState.showTips?15:-1),m(4),R("checked",r.characterService.characterState.showLifeSummary))},styles:[".textDiv[_ngcontent-%COMP%]{white-space:pre-wrap}.lifeSummary[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var xg=18*365,ku=class{constructor(n,e,i,r,o){this.logService=n,this.camelToTitlePipe=e,this.bigNumberPipe=i,this.mainLoopService=r,this.dialog=o,this.maxMoney=99999e19,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=5*Math.pow(1.5,9),this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=1e3,this.bloodlineRank=0,this.qiUnlocked=!1,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.healthBonusSoul=0,this.empowermentFactor=1,this.empowermentMult=1,this.imperial=!1,this.immortal=!1,this.god=!1,this.easyMode=!1,this.ascensionUnlocked=!1,this.yinYangBoosted=!1,this.yin=1,this.yang=1,this.yinYangBalance=0,this.righteousWrathUnlocked=!1,this.bonusMuscles=!1,this.bonusBrains=!1,this.bonusHealth=!1,this.showLifeSummary=!0,this.showTips=!1,this.showUpdateAnimations=!0,this.dialogRef=null,this.moneyUpdates=0,this.statusToFlash=[],this.fengshuiScore=0,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"pets"},combatMastery:{description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"},magicMastery:{description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},qi:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food, you will automatically spend some money on cheap scraps each day.",value:30,max:30}},this.money=0,this.stashedMoney=0,this.hellMoney=0,this.age=xg,this.baseLifespan=30*365,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.stashedEquipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.itemPouches=[],this.highestMoney=0,this.highestAge=0,this.highestHealth=0,this.highestStamina=0,this.highestQi=0,this.highestAttributes={},r.frameSubject.subscribe(()=>{this.empowermentMult=this.getEmpowermentMult();let a=Object.keys(this.attributes);for(let s in a)this.attributes[a[s]].aptitudeMult=this.getAptitudeMultipier(this.attributes[a[s]].aptitude),(a[s]==="strength"||a[s]==="speed"||a[s]==="toughness")&&this.bonusMuscles&&(this.attributes[a[s]].aptitudeMult*=1e3),(a[s]==="intelligence"||a[s]==="charisma")&&this.bonusBrains&&(this.attributes[a[s]].aptitudeMult*=1e3)}),this.attributeUpdates={strength:0,toughness:0,speed:0,intelligence:0,charisma:0,spirituality:0,earthLore:0,metalLore:0,woodLore:0,waterLore:0,fireLore:0,animalHandling:0,combatMastery:0,magicMastery:0}}reincarnate(n){this.totalLives++;let e="",i=Object.keys(this.attributes);for(let o in i)if(this.attributes[i[o]].value>0){let a=(this.attributes[i[o]].value-(this.attributes[i[o]].lifeStartValue||0))/this.aptitudeGainDivider;if(a>0){this.attributes[i[o]].aptitude+=a;let s="Your aptitude for "+this.camelToTitlePipe.transform(i[o])+" increased by "+this.bigNumberPipe.transform(a)+`
    New aptitude: `+this.bigNumberPipe.transform(this.attributes[i[o]].aptitude);this.logService.log(S.EVENT,s),e+=s+`
    New starting value: `+this.bigNumberPipe.transform(this.getAttributeStartingValue(this.attributes[i[o]].value,this.attributes[i[o]].aptitude))+`
`}this.attributes[i[o]].value=this.getAttributeStartingValue(this.attributes[i[o]].value,this.attributes[i[o]].aptitude),this.attributes[i[o]].lifeStartValue=this.attributes[i[o]].value}this.showLifeSummary&&(this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialog.open(ZC,{width:"600px",data:{causeOfDeath:n,attributeGains:e},autoFocus:!1})),this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=30,this.status.nourishment.max=30,this.qiUnlocked?(this.status.qi.max=1,this.status.qi.value=1):(this.status.qi.max=0,this.status.qi.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=xg,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let r=0;r+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(r/5),this.bloodlineRank<5?this.statLifespan*=.1:this.statLifespan*=5,this.money<0&&(this.money=0),this.bloodlineRank<3?this.money=0:this.bloodlineRank<4?this.money=this.money/8:this.money=4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney=0,this.recalculateDerivedStats(),this.bloodlineRank===0?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null),this.yin=1,this.yang=1}getAttributeStartingValue(n,e){return n<=0?0:(e<0&&(e=0),n<1?n/10:e<this.attributeSoftCap?1+e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1)))}recalculateDerivedStats(){let n=1;this.bonusHealth&&(n=5),n+=this.fengshuiScore/20,this.status.health.max=(100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+this.healthBonusSoul+Math.floor(Math.log2(this.attributes.toughness.value+2)*5))*n,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney);let e=Object.keys(this.attributes);for(let f in e)this.attributes[e[f]].aptitudeMult=this.getAptitudeMultipier(this.attributes[e[f]].aptitude);this.spiritualityLifespan=this.getAptitudeMultipier(this.attributes.spirituality.value,!0)*5,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan;let i=1,r=1,o=1,a=1,s=1,l=1;this.equipment.leftHand&&(i=this.equipment.leftHand.weaponStats?.baseDamage||1),this.equipment.rightHand&&(r=this.equipment.rightHand.weaponStats?.baseDamage||1),this.equipment.head&&(o=this.equipment.head.armorStats?.defense||1),this.equipment.body&&(a=this.equipment.body.armorStats?.defense||1),this.equipment.legs&&(s=this.equipment.legs.armorStats?.defense||1),this.equipment.feet&&(l=this.equipment.feet.armorStats?.defense||1);let c=Math.sqrt(this.attributes.strength.value)||1;this.attackPower=Math.floor(c*Math.sqrt(r*i))||1,this.attributes.combatMastery.value>1&&(this.attackPower*=Math.log(this.attributes.combatMastery.value+100)/4.605170185988092),this.righteousWrathUnlocked&&(this.attackPower*=2);let h=Math.sqrt(this.attributes.toughness.value)||1;this.defense=Math.floor(h*(o+a+s+l))||1,this.righteousWrathUnlocked&&(this.defense*=2),this.yinYangBoosted?this.yinYangBalance=Math.max(10-10*Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0):this.yinYangBalance=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0)}getEmpowermentMult(){let e=this.empowermentFactor-1,i=1+2*99/(1+Math.pow(1.02,-e/3))-99;return this.easyMode&&(i*=100),i}getAptitudeMultipier(n,e=!1){n<0&&(n=0);let i=e?1:this.empowermentMult,r=1;if(n<this.attributeScalingLimit)r=n*i;else if(n<this.attributeScalingLimit*10)r=(this.attributeScalingLimit+(n-this.attributeScalingLimit)/4)*i;else if(n<this.attributeScalingLimit*100)r=(this.attributeScalingLimit+this.attributeScalingLimit*9/4+(n-this.attributeScalingLimit*10)/20)*i;else if(n<=this.attributeSoftCap)r=(this.attributeScalingLimit+this.attributeScalingLimit*9/4+this.attributeScalingLimit*90/20+(n-this.attributeScalingLimit*100)/100)*i;else{let a=this.attributeScalingLimit+this.attributeScalingLimit*9/4+this.attributeScalingLimit*90/20+(this.attributeSoftCap-this.attributeScalingLimit*100)/100;r=(Math.pow((n-this.attributeSoftCap)*Math.pow(this.attributeScalingLimit/1e13,.15),.5)+a)*i}if(this.bloodlineRank>=8)return r;let o=365e3;return this.yinYangBoosted?o+=this.yinYangBalance*o:o+=this.yinYangBalance*o*.1,o/(-1-Math.log((r+o)/o))+o}updateMoney(n){let e=1+this.fengshuiScore/100;this.money+=n*e,this.showUpdateAnimations&&(this.moneyUpdates+=n)}flashStatus(n){this.statusToFlash.includes(n)||this.statusToFlash.push(n)}increaseAttribute(n,e){let i=e*this.attributes[n].aptitudeMult;return i<e&&(i=e),this.attributes[n].value+=i,(!this.highestAttributes[n]||this.highestAttributes[n]<this.attributes[n].value)&&(this.highestAttributes[n]=this.attributes[n].value),this.showUpdateAnimations&&(this.attributeUpdates[n]+=i),i}increaseAptitudeDaily(n){let e=Object.keys(this.attributes),i=["combatMastery","magicMastery"];for(let r in e)i.includes(r)?this.attributes[e[r]].aptitude+=this.attributes[e[r]].value/1e14*n:this.attributes[e[r]].aptitude+=this.attributes[e[r]].value/1e7*n}increaseBaseLifespan(n,e){return this.baseLifespan+n<e*365?(this.baseLifespan+=n,!0):(this.baseLifespan<e*365&&(this.baseLifespan=e*365),!1)}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3);let n=1e4,e=2e4;this.yinYangBoosted&&(n+=2*this.yinYangBalance*n,e+=2*this.yinYangBalance*e),this.healthBonusMagic>n&&(this.healthBonusMagic=n),this.healthBonusSoul>e&&(this.healthBonusSoul=e),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.qi.max>1e6&&(this.status.qi.max=1e6),this.status.nourishment.max>1e3&&(this.status.nourishment.max=1e3),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.qi.value>this.status.qi.max&&(this.status.qi.value=this.status.qi.max),this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,stashedMoney:this.stashedMoney,hellMoney:this.hellMoney,equipment:this.equipment,stashedEquipment:this.stashedEquipment,itemPouches:this.itemPouches,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineRank:this.bloodlineRank,qiUnlocked:this.qiUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,healthBonusSoul:this.healthBonusSoul,empowermentFactor:this.empowermentFactor,immortal:this.immortal,god:this.god,easyMode:this.easyMode,highestMoney:this.highestMoney,highestAge:this.highestAge,highestHealth:this.highestHealth,highestStamina:this.highestStamina,highestQi:this.highestQi,highestAttributes:this.highestAttributes,yinYangBoosted:this.yinYangBoosted,yin:this.yin,yang:this.yang,righteousWrathUnlocked:this.righteousWrathUnlocked,bonusMuscles:this.bonusMuscles,bonusBrains:this.bonusBrains,bonusHealth:this.bonusHealth,showLifeSummary:this.showLifeSummary,showTips:this.showTips,showUpdateAnimations:this.showUpdateAnimations}}setProperties(n){this.attributes=n.attributes,this.money=n.money,this.stashedMoney=n.stashedMoney||0,this.hellMoney=n.hellMoney||0,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney),this.equipment=n.equipment,this.stashedEquipment=n.stashedEquipment||{head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.itemPouches=n.itemPouches||[],this.age=n.age||xg,this.status=n.status,this.baseLifespan=n.baseLifespan,this.foodLifespan=n.foodLifespan||0,this.alchemyLifespan=n.alchemyLifespan||0,this.statLifespan=n.statLifespan||0,this.spiritualityLifespan=n.spiritualityLifespan||0,this.magicLifespan=n.magicLifespan||0,this.condenseSoulCoreCost=n.condenseSoulCoreCost,this.aptitudeGainDivider=5*Math.pow(1.5,9-Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)),this.reinforceMeridiansCost=n.reinforceMeridiansCost,this.attributeScalingLimit=10*Math.pow(2,Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)),this.attributeSoftCap=n.attributeSoftCap,this.bloodlineRank=n.bloodlineRank,this.bloodlineCost=1e3*Math.pow(100,this.bloodlineRank),this.qiUnlocked=n.qiUnlocked||!1,this.totalLives=n.totalLives||1,this.healthBonusFood=n.healthBonusFood||0,this.healthBonusBath=n.healthBonusBath||0,this.healthBonusMagic=n.healthBonusMagic||0,this.healthBonusSoul=n.healthBonusSoul||0,this.empowermentFactor=n.empowermentFactor||1,this.immortal=n.immortal||!1,this.god=n.god||!1,this.easyMode=n.easyMode||!1,this.highestMoney=n.highestMoney||0,this.highestAge=n.highestAge||0,this.highestHealth=n.highestHealth||0,this.highestStamina=n.highestStamina||0,this.highestQi=n.highestQi||0,this.highestAttributes=n.highestAttributes||{},this.yinYangBoosted=n.yinYangBoosted||!1,this.yin=n.yin||1,this.yang=n.yang||1,this.righteousWrathUnlocked=n.righteousWrathUnlocked||!1,this.bonusMuscles=n.bonusMuscles||!1,this.bonusBrains=n.bonusBrains||!1,this.bonusHealth=n.bonusHealth||!1,this.showLifeSummary=n.showLifeSummary??!0,this.showTips=n.showTips||!1,this.showUpdateAnimations=n.showUpdateAnimations??!0,this.attributes.combatMastery||(this.attributes.combatMastery={description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"}),this.attributes.magicMastery||(this.attributes.magicMastery={description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}),this.recalculateDerivedStats()}};var dF=["mat-button",""],uF=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hF=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var mF=new $("MAT_BUTTON_CONFIG");var pF=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],fF=(()=>{class t{_elementRef=b(me);_ngZone=b(te);_animationMode=b(ii,{optional:!0});_focusMonitor=b(Fa);_rippleLoader=b(Jw);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){b(Hi).load(iu);let e=b(mF,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:a}of pF)i.hasAttribute(o)&&r.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Qe],disabled:[2,"disabled","disabled",Qe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe]}})}return t})();var XC=(()=>{class t extends fF{static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Be("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ir(r.color?"mat-"+r.color:""),ft("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[It],attrs:dF,ngContentSelectors:hF,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(ji(uF),F(0,"span",0),Si(1),d(2,"span",1),Si(3,1),u(),Si(4,2),F(5,"span",2)(6,"span",3)),i&2&&ft("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})();function gF(t,n){if(t&1){let e=V();d(0,"div",1)(1,"button",2),w("click",function(){E(e);let r=y();return D(r.action())}),p(2),u()()}if(t&2){let e=y();m(2),A(" ",e.data.action," ")}}var vF=["label"];function yF(t,n){}var bF=Math.pow(2,31)-1,pl=class{_overlayRef;instance;containerInstance;_afterDismissed=new H;_afterOpened=new H;_onAction=new H;_durationTimeoutId;_dismissedByAction=!1;constructor(n,e){this._overlayRef=e,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,bF))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},JC=new $("MatSnackBarData"),Ha=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},_F=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),SF=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),wF=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),CF=(()=>{class t{snackBarRef=b(pl);data=b(JC);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0),p(1),u(),L(2,gF,3,1,"div",1)),i&2&&(m(),A(" ",r.data.message,`
`),m(),M(r.hasAction?2:-1))},dependencies:[XC,_F,SF,wF],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),Eg="_mat-snack-bar-enter",Dg="_mat-snack-bar-exit",kF=(()=>{class t extends Lr{_ngZone=b(te);_elementRef=b(me);_changeDetectorRef=b(Kt);_platform=b(St);_rendersRef;_animationsDisabled=b(ii,{optional:!0})==="NoopAnimations";snackBarConfig=b(Ha);_document=b(Se);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new H;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new H;_onExit=new H;_onEnter=new H;_animationState="void";_live;_label;_role;_liveElementId=b(Ui).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Us(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===Dg?this._completeExit():e===Eg&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Eg)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Eg)},200)))}exit(){return this._destroyed?ie(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(mt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Dg)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Dg),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(kt(gn,7),kt(vF,7)),i&2){let o;Xe(o=Je())&&(r._portalOutlet=o.first),Xe(o=Je())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&w("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&ft("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[It],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(d(0,"div",1)(1,"div",2,0)(3,"div",3),L(4,yF,0,0,"ng-template",4),u(),F(5,"div"),u()()),i&2&&(m(5),Be("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[gn],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return t})();function xF(){return new Ha}var EF=new $("mat-snack-bar-default-options",{providedIn:"root",factory:xF}),xu=(()=>{class t{_overlay=b(zi);_live=b($w);_injector=b(ee);_breakpointObserver=b(Yd);_parentSnackBar=b(t,{optional:!0,skipSelf:!0});_defaultConfig=b(EF);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=CF;snackBarContainerComponent=kF;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let o=j(j({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=ee.create({parent:r||this._injector,providers:[{provide:Ha,useValue:i}]}),a=new pn(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){let r=j(j(j({},new Ha),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new pl(a,o);if(e instanceof zt){let l=new fn(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new pn(e,void 0,l),h=a.attachComponentPortal(c);s.instance=h.instance}return this._breakpointObserver.observe(Ow.HandsetPortrait).pipe(ct(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new Mo;i.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return ee.create({parent:r||this._injector,providers:[{provide:pl,useValue:i},{provide:JC,useValue:e.data}]})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X=(()=>{class t{constructor(e,i,r,o,a){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.dialog=a,this.camelToTitlePipe=new yi,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",setTimeout(()=>this.hellService=this.injector.get(ye)),this.snackBar=this.injector.get(xu),this.bigNumberPipe=this.injector.get(Te),this.characterState=new ku(r,this.camelToTitlePipe,this.bigNumberPipe,i,a);let s=this.mainLoopService.totalTicks;i.longTickSubject.subscribe(l=>{let c=this.mainLoopService.totalTicks,h=3650,f=Math.floor(l/h);s%h>c%h&&f++,f>0&&this.characterState.increaseBaseLifespan(f,70),s=c}),i.tickSubject.subscribe(()=>{this.characterState.dead||this.characterState.age++,this.checkForDeath()}),i.longTickSubject.subscribe(()=>{this.characterState.highestMoney<this.characterState.money&&(this.characterState.highestMoney=this.characterState.money),this.characterState.highestAge<this.characterState.age&&(this.characterState.highestAge=this.characterState.age),this.characterState.highestHealth<this.characterState.status.health.value&&(this.characterState.highestHealth=this.characterState.status.health.value),this.characterState.highestStamina<this.characterState.status.stamina.value&&(this.characterState.highestStamina=this.characterState.status.stamina.value),this.characterState.highestQi<this.characterState.status.qi.value&&(this.characterState.highestQi=this.characterState.status.qi.value),!this.characterState.dead&&(this.characterState.recalculateDerivedStats(),this.hellService?.inHell&&this.hellService.currentHell===G.CrushingBoulder&&!this.hellService.completedHellTasks.includes(G.CrushingBoulder)&&(this.characterState.attackPower=1),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&this.characterState.bloodlineRank<6&&(this.logService.log(S.EVENT,"Your father puts some coins in your purse before sending you on your way."),this.characterState.updateMoney(200))})}checkForDeath(){let e="";if(this.forceRebirth)e="You release your soul from your body at the age of "+this.formatAge()+".";else if(this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal)e="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".";else if(this.characterState.status.nourishment.value<=0)if(this.characterState.status.nourishment.value=0,this.characterState.attributes.spirituality.value>0){let i=Math.max(this.characterState.status.health.value*.2,20);this.logService.injury(S.COMBAT,"You take "+this.bigNumberPipe.transform(i)+" damage from starvation."),this.characterState.status.health.value-=i,this.characterState.status.health.value<0&&(this.characterState.status.health.value=0),this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(this.characterState.immortal?this.hellService?.inHell&&(this.hellService.beaten=!0):e="You starve to death at the age of "+this.formatAge()+".")}else this.characterState.immortal||(e="You starve to death at the age of "+this.formatAge()+".");else this.characterState.status.health.value<=0&&!this.characterState.immortal?(this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.activityDeath?e="You die from overwork at the age of "+this.formatAge()+".":e="You succumb to your wounds and die at the age of "+this.formatAge()+"."):this.characterState.immortal&&this.characterState.status.health.value<0&&(this.characterState.status.health.value=0);return e!==""?(this.characterState.immortal||(this.logService.injury(S.EVENT,e),this.forceRebirth||this.logService.log(S.EVENT,"You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.")),this.characterState.dead=!0,this.characterState.showLifeSummary||this.toast("A new life begins."),this.characterState.reincarnate(e),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{this.characterState.dead=!1,this.deathSubscriber?.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.log(S.EVENT,"You are born anew, still an immortal but with the fresh vigor of youth."):(this.logService.log(S.EVENT,"Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one."),this.logService.log(S.EVENT,"It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!")),!0):!1}formatAge(){let e=Math.floor(this.characterState.age/365),i=this.characterState.age%365;return e+" years, "+i+" days"}setLifespanTooltip(){if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0){this.lifespanTooltip="You have done nothing to extend your lifespan.";return}let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.immortal&&(e="You are immortal. If you had remained mortal, your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" would be extended by"),this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.magicLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":this.bigNumberPipe.transform(Math.floor(e/365))+" years"}resetAptitudes(){let e=Object.keys(this.characterState.attributes);for(let i in e){let r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1+r.aptitude/this.characterState.aptitudeGainDivider,parseInt(i)<5?r.value=1:r.value=0}this.activityService||(this.activityService=this.injector.get(Ne)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=5||(this.logService.log(S.STORY,"Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger."),this.logService.log(S.STORY,"You now gain additional aptitude each time you reincarnate."),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider/=1.5,this.resetAptitudes())}soulCoreRank(){return Math.log10(this.characterState.condenseSoulCoreCost/this.characterState.condenseSoulCoreOriginalCost)}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.log(S.STORY,"The pathways that carry your chi through your body have been strengthened and reinforced."),this.logService.log(S.STORY,"Your aptitudes can now give you a greater increase when gaining attributes."),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){return Math.log10(this.characterState.reinforceMeridiansCost/this.characterState.reinforceMeridiansOriginalCost)}upgradeBloodline(){this.characterState.bloodlineRank>=9||(this.logService.log(S.STORY,"You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants."),this.logService.log(S.STORY,"You will be reborn into your own family line and reap greater benefits from your previous lives."),this.characterState.bloodlineCost*=100,this.characterState.bloodlineRank++,this.resetAptitudes())}stashWeapons(){this.characterState.stashedEquipment.rightHand=this.characterState.equipment.rightHand,this.characterState.stashedEquipment.leftHand=this.characterState.equipment.leftHand,this.characterState.equipment.rightHand=null,this.characterState.equipment.leftHand=null}restoreWeapons(){this.characterState.equipment.rightHand=this.characterState.stashedEquipment.rightHand,this.characterState.equipment.leftHand=this.characterState.stashedEquipment.leftHand,this.characterState.stashedEquipment.rightHand=null,this.characterState.stashedEquipment.leftHand=null}stashArmor(){this.characterState.stashedEquipment.head=this.characterState.equipment.head,this.characterState.stashedEquipment.body=this.characterState.equipment.body,this.characterState.stashedEquipment.legs=this.characterState.equipment.legs,this.characterState.stashedEquipment.feet=this.characterState.equipment.feet,this.characterState.equipment.head=null,this.characterState.equipment.body=null,this.characterState.equipment.legs=null,this.characterState.equipment.feet=null}restoreArmor(){this.characterState.equipment.head=this.characterState.stashedEquipment.head,this.characterState.equipment.body=this.characterState.stashedEquipment.body,this.characterState.equipment.legs=this.characterState.stashedEquipment.legs,this.characterState.equipment.feet=this.characterState.stashedEquipment.feet,this.characterState.stashedEquipment.head=null,this.characterState.stashedEquipment.body=null,this.characterState.stashedEquipment.legs=null,this.characterState.stashedEquipment.feet=null}stashMoney(){this.characterState.stashedMoney=this.characterState.money,this.characterState.money=0}restoreMoney(){this.characterState.money=this.characterState.stashedMoney,this.characterState.stashedMoney=0}toast(e,i=5e3){let r=this.snackBar.open(e,"Close",{duration:i,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["snackBar","darkMode"]});this.snackBarObservable=r.onAction().subscribe(()=>{this.snackBarObservable?.unsubscribe()})}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(ve),x(ot),x(Bt),x(it))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ur=25,ek=500,Eu=1e3,ve=(()=>{class t{constructor(e,i){this.injector=e,this.dialog=i,this.tickSubject=new H,this.homeTickSubject=new H,this.inventoryTickSubject=new H,this.activityTickSubject=new H,this.battleTickSubject=new H,this.frameSubject=new H,this.longTickSubject=new H,this.yearOrLongTickSubject=new H,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.topDivider=10,this.unlockAgeSpeed=!1,this.unlockPlaytimeSpeed=!1,this.lastTime=new Date().getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useBankedTicks=!0,this.scientificNotation=!1,this.earnedTicks=0,this.playMusic=!1,this.timeUnlocked=!1,this.importing=!1,this.gameLoading=!0,setTimeout(()=>this.battleService=this.injector.get(et)),this.audio=new Audio("./assets/music/Shaolin-Dub-Rising-Sun-Beat.mp3"),this.audio.volume=.2,this.audio.loop=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,unlockAgeSpeed:this.unlockAgeSpeed,unlockPlaytimeSpeed:this.unlockPlaytimeSpeed,offlineDivider:this.offlineDivider,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks,scientificNotation:this.scientificNotation,playMusic:this.playMusic,timeUnlocked:this.timeUnlocked}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.topDivider=10,this.unlockFastestSpeed?this.topDivider=1:this.unlockFasterSpeed?this.topDivider=2:this.unlockFastSpeed&&(this.topDivider=5),this.unlockAgeSpeed=e.unlockAgeSpeed,this.unlockPlaytimeSpeed=e.unlockPlaytimeSpeed,this.tickDivider=e.tickDivider,this.offlineDivider=e.offlineDivider||10,this.lastTime=e.lastTime;let i=new Date().getTime();i-this.lastTime>168*60*60*1e3?this.earnedTicks=(3*168*60*60*1e3+i-this.lastTime)/(ur*this.offlineDivider*4):this.earnedTicks=(i-this.lastTime)/(ur*this.offlineDivider),this.bankedTicks=e.bankedTicks+this.earnedTicks,this.lastTime=i,this.totalTicks=e.totalTicks||0,this.useBankedTicks=e.useBankedTicks??!0,this.scientificNotation=e.scientificNotation||!1,this.playMusic=e.playMusic,this.timeUnlocked=e.timeUnlocked||!1,this.gameLoading?(this.pause=!0,this.gameLoading=!1):this.pause=e.pause}playAudio(){this.playMusic?this.audio.play():this.audio.pause()}start(){this.characterService||(this.characterService=this.injector.get(X)),this.playAudio();let e=(s,l)=>{let c=!1,h=()=>{},f=()=>{c=!0,h!==null&&h()},g=_=>()=>clearTimeout(_),v=()=>{if(c)return;let _=new Date;s();let T=new Date().getTime()-_.getTime(),B=l-T;c||(B<=0?h=g(setTimeout(v,0)):h=g(setTimeout(v,B)))};return h=g(setTimeout(v,l)),f},i=(s,l)=>{l>=Eu&&e(s,l);let c=Math.floor(Eu/l),h=()=>{},f=()=>{h(),document.hidden?h=e(()=>{for(let g=0;g<c;g++)s()},Eu):h=e(s,l)};f(),document.addEventListener("visibilitychange",f)},r=s=>s.pipe(J(()=>this.totalTicks),zh(2,1),J(l=>l[1]-l[0]));this.frameSubject.pipe(Qh(ek),r).subscribe(this.longTickSubject);let o=Date.now(),a=this.totalTicks;this.tickSubject.subscribe(()=>{let s=Date.now();(s-o>ek||this.totalTicks-a<=365)&&(this.yearOrLongTickSubject.next(this.totalTicks-a),o=s,a=this.totalTicks)}),i(()=>{this.frameSubject.next(!0)},ur),i(()=>{if(this.importing)return;let s=document.hidden?Eu:ur,l=new Date().getTime(),c=l-this.lastTime;this.lastTime=l;let h=c/ur;if(this.pause)this.bankedTicks+=h/this.offlineDivider;else if(c>900*1e3){let f=h/this.offlineDivider;this.bankedTicks+=f,this.dialog.open(Cu,{data:{earnedTicks:f},autoFocus:!1})}else{let f=this.getTPS(this.tickDivider)/1e3*ur,g=this.getTPS(this.topDivider)/1e3*ur,v=!1;if(this.bankedTicks>0&&this.useBankedTicks&&this.tickDivider<40){let C=h*10*(f/g);C>this.bankedTicks&&(C=this.bankedTicks),this.bankedTicks-=C,h*=11,v=!0}h*=f,this.tickCount+=h;let _=new Date().getTime();for(;!this.pause&&this.tickCount>=1&&_<s+l;)this.tick(),this.tickCount--,_=new Date().getTime();this.tickCount>=1&&(v&&(this.bankedTicks+=this.tickCount/(f*11)*(10*(f/g))),this.tickCount=0)}},ur)}getTPS(e){let i=1e3/ur;this.characterService&&this.unlockAgeSpeed&&this.tickDivider<40&&(i*=Math.min(8,Math.sqrt(1+this.characterService.characterState.age/73e3))),this.unlockPlaytimeSpeed&&this.tickDivider<40&&(i*=Math.pow(1+this.totalTicks/(2e3*365),.3)),i/=e;let r=40;return e>1&&i>r&&(e>=10?i=r:i=r+(i-r)/e),i}tick(){this.battleService&&this.battleService.enemies.length>0?this.battleTickSubject.next(1):(this.totalTicks++,this.homeTickSubject.next(1),this.inventoryTickSubject.next(1),this.activityTickSubject.next(1),this.tickSubject.next(1))}static{this.\u0275fac=function(i){return new(i||t)(x(ee),x(it))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var DF=5e3,Mg=function(t){return t.Standard="STANDARD",t.Injury="INJURY",t}(Mg||{}),S=function(t){return t.STORY="Story",t.EVENT="Event",t.COMBAT="Combat",t.CRAFTING="Crafting",t.FOLLOWER="Follower",t}(S||{}),ot=(()=>{class t{constructor(e){this.topicProperties=Object.values(S).reduce((i,r)=>ke(j({},i),{[r]:{enabled:[S.STORY,S.EVENT].includes(r),hasNewMessages:!1}}),{}),this.logs=Object.values(S).reduce((i,r)=>ke(j({},i),{[r]:[]}),{}),this.currentLog=[],this.startingStoryLogEntries=["Once in a very long while, a soul emerges from the chaos that is destined for immortality.","You are such a soul.","Your journey to immortality begins as a humble youth leaves home to experience the world.","Choose the activities that will help you cultivate the attributes of an immortal.","Be careful, the world can be a dangerous place.","It may take you many reincarnations before you achieve your goals.","With each new life you will rise with greater aptitudes that allow you to learn and grow faster.","Destiny cannot be denied.","One day, you will be immortal!"],this.longTickCounter=0,e.frameSubject.subscribe(()=>{this.updateLogTopics()}),e.longTickSubject.subscribe(()=>{if(this.startingStoryLogEntries.length>0){if(this.longTickCounter>10)this.longTickCounter=0;else{this.longTickCounter++;return}this.log(S.STORY,this.startingStoryLogEntries[0]),this.startingStoryLogEntries.splice(0,1)}})}log(e,i){this.fullLog(e,Mg.Standard,i)}injury(e,i){this.fullLog(e,Mg.Injury,i)}fullLog(e,i,r){let o=this.logs[e],a=Date.now();this.isRepeat(r,a,o)?o[o.length-1].repeat=(o[o.length-1].repeat||1)+1:o.push({message:r,type:i,topic:e,timestamp:a}),this.topicProperties[e].enabled||(this.topicProperties[e].hasNewMessages=!0)}isRepeat(e,i,r){return r.length>0&&i-r[r.length-1].timestamp<=DF&&e===r[r.length-1].message}getProperties(){return{logTopics:Object.entries(this.topicProperties).filter(e=>e[1].enabled).map(e=>e[0]).map(e=>e.toUpperCase()),storyLog:this.logs[S.STORY],startingStoryLogEntries:this.startingStoryLogEntries}}setProperties(e){this.logs[S.STORY]=e.storyLog||[],e.logTopics.forEach(i=>{this.topicProperties[S[i]].enabled=!0}),this.startingStoryLogEntries=e.startingStoryLogEntries,this.updateLogTopics()}enableLogTopic(e,i){this.topicProperties[e].enabled=i,this.updateLogTopics()}updateLogTopics(){Object.values(S).forEach(e=>{e!==S.STORY&&(this.logs[e]=this.logs[e].slice(-300)),this.topicProperties[e].enabled&&(this.topicProperties[e].hasNewMessages=!1)}),this.currentLog=Object.keys(this.logs).map(e=>e).filter(e=>this.topicProperties[e].enabled).flatMap(e=>this.logs[e]).sort((e,i)=>i.timestamp-e.timestamp).slice(0,299)}static{this.\u0275fac=function(i){return new(i||t)(x(ve))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vi=(()=>{class t{constructor(e,i,r,o,a,s){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=a,this.dialog=s,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[je.Palace],this.storeOpened=!1,this.furnitureIndex=0,this.selectedItem=null,this.manuals=[],this.regularStoreItems=[this.itemRepoService.items.rice,this.itemRepoService.items.meat]}setFurnitureIndex(e){this.furnitureIndex=e,this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.updateMoney(0-this.selectedItem.value),this.selectedItem.type==="manual"&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}isManualAvailable(){for(let e of this.manuals)if(e.owned&&!e.owned())return!0;return!1}buyFurniture(e){let i=e?.value;if(this.homeService.ownedFurniture.includes(e.id))i=0;else if(this.characterService.characterState.money>=i)this.characterService.characterState.updateMoney(0-e.value),this.homeService.ownedFurniture.push(e.id);else return;let r=this.homeService.bedroomFurniture.findIndex(o=>e.id===o?.id);r>=0&&this.homeService.setFurniture(null,r),this.homeService.setFurniture(e,this.furnitureIndex)}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.characterService.characterState.bloodlineRank===0?this.bloodlineLabel="Establish Bloodline":this.bloodlineLabel="Enhance Bloodline",this.characterService.characterState.bloodlineRank===0?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Mansion]):this.characterService.characterState.bloodlineRank===1?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Palace]):this.characterService.characterState.bloodlineRank===2?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Castle]):this.characterService.characterState.bloodlineRank===3?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Fortress]):this.characterService.characterState.bloodlineRank===4?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Mountain]):this.characterService.characterState.bloodlineRank===5?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. You will keep your weapons, armor, and money with interest. ",this.bloodLineHomeRequirement=this.homeService.homesList[je.ForbiddenCity]):this.characterService.characterState.bloodlineRank===6?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your followers will have enhanced bloodlines and will follow you between incarnations. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Capital]):this.characterService.characterState.bloodlineRank===7?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Break through the limits of humanity. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[je.ImperialSeat]):this.characterService.characterState.bloodlineRank===8?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline one last time. Finally, you will gain aptitudes every day from your current Attributes, improving constantly. You will keep your weapons, armor, money with interest, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[je.Godthrone]):this.characterService.characterState.bloodlineRank===9&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. Your followers also have enhanced bloodlines and will follow you between incarnations. You will keep your Empire, and can break through the limits of humanity. Finally, you will gain aptitudes every day from your current Attributes.")}condenseSoulCore(){if(this.soulCoreRank>=9){this.logService.injury(S.EVENT,"You can't condense your soul core any further.");return}if(this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost){this.logService.injury(S.EVENT,"You don't have the spirituality required to ascend.");return}if(this.inventoryService.checkFor("gem")<(this.soulCoreRank+12)*10){this.logService.injury(S.EVENT,"You don't have the gem required to ascend.");return}this.characterService.condenseSoulCore(),this.dialog.closeAll()}reinforceMeridians(){if(this.meridianRank>=9){this.logService.injury(S.EVENT,"You can't reinforce your meridians any further.");return}if(this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost){this.logService.injury(S.EVENT,"You don't have the spirituality required to ascend.");return}if(this.inventoryService.checkFor("gem")<(this.meridianRank+16)*10){this.logService.injury(S.EVENT,"You don't have the gem required to ascend.");return}this.characterService.reinforceMeridians(),this.dialog.closeAll()}upgradeBloodline(){if(this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost){this.logService.injury(S.EVENT,"You don't have the spirituality required to ascend.");return}if(this.characterService.characterState.bloodlineRank>=9){this.logService.injury(S.EVENT,"You can't enhance your bloodline any further.");return}if(this.homeService.home.type<this.bloodLineHomeRequirement.type){this.logService.injury(S.EVENT,"You don't have a powerful enough home to ascend.");return}this.characterService.upgradeBloodline(),this.dialog.closeAll()}static{this.\u0275fac=function(i){return new(i||t)(x(ot),x(X),x(Y),x(rt),x(we),x(it))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MF=(t,n)=>({selectedItem:t,ownedItem:n}),TF=(t,n)=>n.id;function IF(t,n){if(t&1&&(d(0,"div"),p(1),I(2,"bigNumber"),u()),t&2){let e=y().$implicit;m(),A("$ ",N(2,1,e.value),"")}}function PF(t,n){t&1&&(d(0,"div"),p(1,"OWNED"),u())}function AF(t,n){if(t&1){let e=V();d(0,"div")(1,"div",4),w("click",function(){let r=E(e).$implicit,o=y();return D(o.slotClicked(r))}),d(2,"div")(3,"mat-icon"),p(4,"menu_book"),u()(),d(5,"div"),p(6),I(7,"titlecase"),u(),L(8,IF,3,3,"div")(9,PF,2,0,"div"),u()()}if(t&2){let e=n.$implicit,i=y();m(),K("tooltip",e.description),R("ngClass",Ri(7,MF,e===i.storeService.selectedItem,e.owned&&e.owned())),m(5),pe(N(7,5,e.name)),m(2),M(e.owned&&!e.owned()?8:-1),m(),M(e.owned&&e.owned()?9:-1)}}var tk=(()=>{class t{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,e.owned&&e.owned()?this.buyDisabled=!0:this.buyDisabled=!1)}static{this.\u0275fac=function(i){return new(i||t)(k(vi),k(X),k(we),k(Y),k(rt),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-store-modal"]],decls:10,vars:1,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],[3,"click","disabled"],["tabindex","0",1,"itemSlot",3,"click","ngClass","tooltip"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Manuals Shop"),u(),F(3,"hr"),d(4,"div",1)(5,"div",2),re(6,AF,10,10,"div",null,TF),u()(),d(8,"button",3),w("click",function(){return r.storeService.buyManual()}),p(9," Buy "),u()()),i&2&&(m(6),oe(r.storeService.manuals),m(2),R("disabled",r.buyDisabled))},dependencies:()=>[ut,Ye,nt,Te,Fe],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var RF=t=>({selectedItem:t}),OF=(t,n)=>({selectedItem:t,ownedItem:n}),FF=(t,n)=>n.id;function NF(t,n){if(t&1&&F(0,"img",4),t&2){let e=y();qe("src","assets/images/items/",e.landItem.imageFile,".png",Tt)}}function LF(t,n){if(t&1&&F(0,"img",4),t&2){let e=y().$implicit;qe("src","assets/images/items/",e.imageFile,".png",Tt)}}function BF(t,n){if(t&1){let e=V();d(0,"div")(1,"div",3),w("click",function(){let r=E(e).$implicit,o=y();return D(o.slotClicked(r))}),d(2,"div"),L(3,LF,1,2,"img",4),u(),d(4,"div"),p(5),I(6,"titlecase"),u(),d(7,"div"),p(8),I(9,"bigNumber"),u()()()}if(t&2){let e=n.$implicit,i=y();m(),K("tooltip",e.description),R("ngClass",Ri(9,OF,e===i.storeService.selectedItem,e.owned&&e.owned())),m(2),M(e.imageFile?3:-1),m(2),pe(N(6,5,e.name)),m(3),A("$ ",N(9,7,e.value*2),"")}}var ik=(()=>{class t{constructor(e,i,r,o,a,s){this.storeService=e,this.homeService=i,this.inventoryService=r,this.characterService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0,this.landItem={id:"land",name:"land",description:"A plot of empty land, suitable for building a home on or plowing into a farm field.<br>Price increases with each plot purchased",value:100,type:"land",imageFile:"land"},this.landItem.value=this.homeService.landPrice}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!1)}buyItem(e){let i=this.storeService.selectedItem;if(i)if(i===this.landItem)this.homeService.buyLand(e),this.landItem.value=this.homeService.landPrice;else{let r=e*i.value*2;this.characterService.characterState.money>r&&(this.inventoryService.addItem(i,e),this.characterService.characterState.updateMoney(0-r))}}static{this.\u0275fac=function(i){return new(i||t)(k(vi),k(we),k(Y),k(X),k(rt),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-store-modal"]],decls:24,vars:14,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","ngClass","tooltip"],["width","48","height","48",1,"itemImage",3,"src"],[3,"click","disabled"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Regular People Shop"),u(),F(3,"hr"),d(4,"div",1)(5,"div",2)(6,"div")(7,"div",3),w("click",function(){return r.slotClicked(r.landItem)}),d(8,"div"),L(9,NF,1,2,"img",4),u(),d(10,"div"),p(11),I(12,"titlecase"),u(),d(13,"div"),p(14),I(15,"bigNumber"),u()()(),re(16,BF,10,12,"div",null,FF),u()(),d(18,"button",5),w("click",function(){return r.buyItem(1)}),p(19," Buy "),u(),d(20,"button",5),w("click",function(){return r.buyItem(10)}),p(21," Buy 10 "),u(),d(22,"button",5),w("click",function(){return r.buyItem(100)}),p(23," Buy 100 "),u()()),i&2&&(m(7),K("tooltip",r.landItem.description),R("ngClass",We(12,RF,r.landItem===r.storeService.selectedItem)),m(2),M(r.landItem.imageFile?9:-1),m(2),pe(N(12,8,r.landItem.name)),m(3),A("$ ",N(15,10,r.landItem.value),""),m(2),oe(r.storeService.regularStoreItems),m(2),R("disabled",r.buyDisabled),m(2),R("disabled",r.buyDisabled),m(2),R("disabled",r.buyDisabled))},dependencies:()=>[ut,nt,Te,Fe],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Tg=t=>({highlighted:t}),nk=(()=>{class t{constructor(e){this.gameStateService=e,this.error=""}fileClicked(e){this.gameStateService.saveSlot=e,this.gameStateService.setSaveFile();let i=this.gameStateService.loadFromLocalStorage();this.error=i?"":"Empty Save Selected",i&&(this.gameStateService.updateImportFlagKey(!0),window.location.href=window.location.href)}autoSaveInterval(e){e.target instanceof HTMLInputElement&&this.gameStateService.changeAutoSaveInterval(parseInt(e.target.value))}static{this.\u0275fac=function(i){return new(i||t)(k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-save-modal"]],decls:24,vars:11,consts:[[1,"darkMode"],[1,"spaced",3,"click","ngClass"],[1,"green"],[1,"spaced"],["for","autoSaveInterval"],["type","number","min","1","max","900","step","1","id","autoSaveInterval",3,"change","value"],[1,"spaced","warning"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Save Menu"),u(),F(3,"hr"),d(4,"div")(5,"span"),p(6,"Select Save File "),u()(),d(7,"div")(8,"button",1),w("click",function(){return r.fileClicked("")}),p(9," Slot 0 "),u(),d(10,"button",1),w("click",function(){return r.fileClicked("1")}),p(11," Slot 1 "),u(),d(12,"button",1),w("click",function(){return r.fileClicked("2")}),p(13," Slot 2 "),u(),d(14,"span",2),p(15),u()(),d(16,"div",3)(17,"span")(18,"label",4),p(19,"Change how often the game autosaves (in seconds) "),u(),d(20,"input",5),w("change",function(a){return r.autoSaveInterval(a)}),u(),p(21,"\xA0 "),d(22,"span",6),p(23,"Changing this will save immediately."),u()()()()),i&2&&(m(8),R("ngClass",We(5,Tg,r.gameStateService.saveSlot==="")),m(2),R("ngClass",We(7,Tg,r.gameStateService.saveSlot==="1")),m(2),R("ngClass",We(9,Tg,r.gameStateService.saveSlot==="2")),m(3),pe(r.error),m(5),K("value",r.gameStateService.saveInterval))},dependencies:()=>[ut],styles:[".rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.spaced[_ngcontent-%COMP%]{margin-top:3px;margin-right:6px}.warning[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}}return t})();var Ig=class{_box;_destroyed=new H;_resizeSubject=new H;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new le(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(Pe(e=>e.some(i=>i.target===n)),Tc({bufferSize:1,refCount:!0}),ct(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},rk=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=b(te);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Ig(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fg=["*"];function HF(t,n){t&1&&Si(0)}var UF=["tabListContainer"],qF=["tabList"],zF=["tabListInner"],$F=["nextPaginator"],GF=["previousPaginator"],WF=["content"];function YF(t,n){}var KF=["tabBodyWrapper"],QF=["tabHeader"];function ZF(t,n){}function XF(t,n){if(t&1&&L(0,ZF,0,0,"ng-template",12),t&2){let e=y().$implicit;R("cdkPortalOutlet",e.templateLabel)}}function JF(t,n){if(t&1&&p(0),t&2){let e=y().$implicit;pe(e.textLabel)}}function eN(t,n){if(t&1){let e=V();d(0,"div",7,2),w("click",function(){let r=E(e),o=r.$implicit,a=r.$index,s=y(),l=Ia(1);return D(s._handleClick(o,l,a))})("cdkFocusChange",function(r){let o=E(e).$index,a=y();return D(a._tabFocusChanged(r,o))}),F(2,"span",8)(3,"div",9),d(4,"span",10)(5,"span",11),L(6,XF,1,1,null,12)(7,JF,1,1),u()()()}if(t&2){let e=n.$implicit,i=n.$index,r=Ia(1),o=y();Ir(e.labelClass),ft("mdc-tab--active",o.selectedIndex===i),R("id",o._getTabLabelId(i))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),Be("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),m(3),R("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),m(3),M(e.templateLabel?6:7)}}function tN(t,n){t&1&&Si(0)}function iN(t,n){if(t&1){let e=V();d(0,"mat-tab-body",13),w("_onCentered",function(){E(e);let r=y();return D(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){E(e);let o=y();return D(o._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){E(e);let o=y();return D(o._bodyCentered(r))}),u()}if(t&2){let e=n.$implicit,i=n.$index,r=y();Ir(e.bodyClass),R("id",r._getTabContentId(i))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Be("tabindex",r.contentTabIndex!=null&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}var nN=new $("MatTabContent"),rN=(()=>{class t{template=b(zt);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","matTabContent",""]],features:[ni([{provide:nN,useExisting:t}])]})}return t})(),oN=new $("MatTabLabel"),lk=new $("MAT_TAB"),Ng=(()=>{class t extends DC{_closestTab=b(lk,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275dir=Me({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ni([{provide:oN,useExisting:t}]),It]})}return t})(),ck=new $("MAT_TAB_GROUP"),Lg=(()=>{class t{_viewContainerRef=b(li);_closestTabGroup=b(ck,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new H;position=null;origin=null;isActive=!1;constructor(){b(Hi).load(iu)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new fn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(i&1&&(hn(o,Ng,5),hn(o,rN,7,zt)),i&2){let a;Xe(a=Je())&&(r.templateLabel=a.first),Xe(a=Je())&&(r._explicitContent=a.first)}},viewQuery:function(i,r){if(i&1&&kt(zt,7),i&2){let o;Xe(o=Je())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Qe],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[ni([{provide:lk,useExisting:t}]),Pi],ngContentSelectors:Fg,decls:1,vars:0,template:function(i,r){i&1&&(ji(),L(0,HF,1,0,"ng-template"))},encapsulation:2})}return t})(),Pg="mdc-tab-indicator--active",ok="mdc-tab-indicator--no-transition",Ag=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let e=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){let r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},aN=(()=>{class t{_elementRef=b(me);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(Pg);return}let r=i.getBoundingClientRect(),o=e.width/r.width,a=e.left-r.left;i.classList.add(ok),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(ok),i.classList.add(Pg),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Pg)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Qe]}})}return t})();var dk=(()=>{class t extends aN{elementRef=b(me);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275dir=Me({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){i&2&&(Be("aria-disabled",!!r.disabled),ft("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",Qe]},features:[It]})}return t})(),ak={passive:!0},sN=650,lN=100,cN=(()=>{class t{_elementRef=b(me);_changeDetectorRef=b(Kt);_viewportRuler=b(Eo);_dir=b(qi,{optional:!0});_ngZone=b(te);_platform=b(St);_sharedResizeObserver=b(rk);_injector=b(ee);_renderer=b(Wt);_animationMode=b(ii,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new H;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new H;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new de;indexFocused=new de;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(At(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),ak),At(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),ak))}ngAfterContentInit(){let e=this._dir?this._dir.change:ie("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(cn(32),ct(this._destroyed)),r=this._viewportRuler.change(150).pipe(ct(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Xd(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),pi(o,{injector:this._injector}),Et(e,r,i,this._items.changes,this._itemsResized()).pipe(ct(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?Xt:this._items.changes.pipe(Dt(this._items),yt(e=>new le(i=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Xr(1),Pe(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Rr(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement,s,l;this._getLayoutDirection()=="ltr"?(s=o,l=s+a):(l=this._tabListInner.nativeElement.offsetWidth-o,s=l-a);let c=this.scrollDistance,h=this.scrollDistance+r;s<c?this.scrollDistance-=c-s:l>h&&(this.scrollDistance+=Math.min(l-h,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,r=e-i>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),$n(sN,lN).pipe(ct(Et(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",Qe],selectedIndex:[2,"selectedIndex","selectedIndex",Pr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),dN=(()=>{class t extends cN{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Ag(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(i&1&&hn(o,dk,4),i&2){let a;Xe(a=Je())&&(r._items=a)}},viewQuery:function(i,r){if(i&1&&(kt(UF,7),kt(qF,7),kt(zF,7),kt($F,5),kt(GF,5)),i&2){let o;Xe(o=Je())&&(r._tabListContainer=o.first),Xe(o=Je())&&(r._tabList=o.first),Xe(o=Je())&&(r._tabListInner=o.first),Xe(o=Je())&&(r._nextPaginator=o.first),Xe(o=Je())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){i&2&&ft("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Qe]},features:[It],ngContentSelectors:Fg,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(i&1){let o=V();ji(),d(0,"div",5,0),w("click",function(){return E(o),D(r._handlePaginatorClick("before"))})("mousedown",function(s){return E(o),D(r._handlePaginatorPress("before",s))})("touchend",function(){return E(o),D(r._stopInterval())}),F(2,"div",6),u(),d(3,"div",7,1),w("keydown",function(s){return E(o),D(r._handleKeydown(s))}),d(5,"div",8,2),w("cdkObserveContent",function(){return E(o),D(r._onContentChanges())}),d(7,"div",9,3),Si(9),u()()(),d(10,"div",10,4),w("mousedown",function(s){return E(o),D(r._handlePaginatorPress("after",s))})("click",function(){return E(o),D(r._handlePaginatorClick("after"))})("touchend",function(){return E(o),D(r._stopInterval())}),F(12,"div",6),u()}i&2&&(ft("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),R("matRippleDisabled",r._disableScrollBefore||r.disableRipple),m(3),ft("_mat-animation-noopable",r._animationMode==="NoopAnimations"),m(2),Be("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),m(5),ft("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),R("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[qf,Lw],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return t})(),uN=new $("MAT_TABS_CONFIG"),sk=(()=>{class t extends gn{_host=b(Rg);_centeringSub=_e.EMPTY;_leavingSub=_e.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Dt(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","matTabBodyHost",""]],features:[It]})}return t})(),Rg=(()=>{class t{_elementRef=b(me);_dir=b(qi,{optional:!0});_ngZone=b(te);_injector=b(ee);_renderer=b(Wt);_animationsModule=b(ii,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=_e.EMPTY;_position;_previousPosition;_onCentering=new de;_beforeCentering=new de;_afterLeavingCenter=new de;_onCentered=new de(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=b(Kt);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),pi(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,i=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",i),this._renderer.listen(e,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),pi(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(i&1&&(kt(sk,5),kt(WF,5)),i&2){let o;Xe(o=Je())&&(r._portalHost=o.first),Xe(o=Je())&&(r._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,r){i&2&&Be("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){i&1&&(d(0,"div",1,0),L(2,YF,0,0,"ng-template",2),u()),i&2&&ft("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[sk,IC],styles:[".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}"],encapsulation:2})}return t})(),uk=(()=>{class t{_elementRef=b(me);_changeDetectorRef=b(Kt);_ngZone=b(te);_tabsSubscription=_e.EMPTY;_tabLabelSubscription=_e.EMPTY;_tabBodySubscription=_e.EMPTY;_animationMode=b(ii,{optional:!0});_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Er;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new de;focusChange=new de;animationDone=new de;selectedTabChange=new de(!0);_groupId;_isServer=!b(St).isBrowser;constructor(){let e=b(uN,{optional:!0});this._groupId=b(Ui).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Dt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new Og;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Et(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let i=this._lastFocusedTabIndex??this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}_bodyCentered(e){e&&this._tabBodies?.forEach((i,r)=>i._setActiveClass(r===this._selectedIndex))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(i&1&&hn(o,Lg,5),i&2){let a;Xe(a=Je())&&(r._allTabs=a)}},viewQuery:function(i,r){if(i&1&&(kt(KF,5),kt(QF,5),kt(Rg,5)),i&2){let o;Xe(o=Je())&&(r._tabBodyWrapper=o.first),Xe(o=Je())&&(r._tabHeader=o.first),Xe(o=Je())&&(r._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,r){i&2&&(Be("mat-align-tabs",r.alignTabs),Ir("mat-"+(r.color||"primary")),lt("--mat-tab-animation-duration",r.animationDuration),ft("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Qe],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Qe],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Qe],selectedIndex:[2,"selectedIndex","selectedIndex",Pr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Pr],disablePagination:[2,"disablePagination","disablePagination",Qe],disableRipple:[2,"disableRipple","disableRipple",Qe],preserveContent:[2,"preserveContent","preserveContent",Qe],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[ni([{provide:ck,useExisting:t}])],ngContentSelectors:Fg,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,r){if(i&1){let o=V();ji(),d(0,"mat-tab-header",3,0),w("indexFocused",function(s){return E(o),D(r._focusChanged(s))})("selectFocusedIndex",function(s){return E(o),D(r.selectedIndex=s)}),re(2,eN,8,17,"div",4,Ue),u(),L(4,tN,1,0),d(5,"div",5,1),re(7,iN,1,10,"mat-tab-body",6,Ue),u()}i&2&&(R("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),m(2),oe(r._tabs),m(2),M(r._isServer?4:-1),m(),ft("_mat-animation-noopable",r._animationMode==="NoopAnimations"),m(2),oe(r._tabs))},dependencies:[dN,dk,Gw,qf,gn,Rg],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})(),Og=class{index;tab};var hk=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[Fn,Fn]})}return t})();var hN=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(k(Wt),k(me))};static \u0275dir=Me({type:t})}return t})(),pk=(()=>{class t extends hN{static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275dir=Me({type:t,features:[It]})}return t})(),fk=new $("");var mN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AX=ke(j({},mN),{"[class.ng-submitted]":"isSubmitted"});var pN=new $("",{providedIn:"root",factory:()=>gk}),gk="always";var fN={provide:fk,useExisting:ba(()=>yk),multi:!0};function vk(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function gN(t){return t.split(":")[0]}var yk=(()=>{class t extends pk{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),r=vk(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=gN(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275dir=Me({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&w("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([fN]),It]})}return t})(),Du=(()=>{class t{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(vk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(k(me),k(Wt),k(yk,9))};static \u0275dir=Me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),vN={provide:fk,useExisting:ba(()=>bk),multi:!0};function mk(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function yN(t){return t.split(":")[0]}var bk=(()=>{class t extends pk{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=i.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=yN(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275dir=Me({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&w("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([vN]),It]})}return t})(),Mu=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(mk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(k(me),k(Wt),k(bk,9))};static \u0275dir=Me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var bN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();var Ua=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:pN,useValue:e.callSetDisabledState??gk}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({imports:[bN]})}return t})();var _N=(t,n)=>n.name;function SN(t,n){t&1&&(d(0,"span",32),p(1,"Game"),u())}function wN(t,n){t&1&&(d(0,"span"),p(1," \xA0\xA0Only starting your journey to immortality from the beginning again (Hard Reset) will prove you never took the easy path. "),u())}function CN(t,n){t&1&&(d(0,"span",32),p(1,"Home"),u())}function kN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span"),p(2," Automatically buy up to "),d(3,"input",33),w("change",function(r){E(e);let o=y(2);return D(o.autoBuyLandLimitChanged(r))}),u(),p(4," land (including fields) "),u()()}if(t&2){let e=y(2);m(3),K("value",e.homeService.autoBuyLandLimit)}}function xN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span"),p(2," Automatically plow up to "),d(3,"input",33),w("change",function(r){E(e);let o=y(2);return D(o.autoFieldLimitChanged(r))}),u(),p(4," fields "),u()()}if(t&2){let e=y(2);m(3),K("value",e.farmService.autoFieldLimit)}}function EN(t,n){if(t&1&&(d(0,"option",35),p(1),u()),t&2){let e=n.$implicit,i=y(3);K("value",e.type),R("selected",i.homeService.autoBuyHomeLimit===e.type),m(),A(" ",e.name," ")}}function DN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span"),p(2," Automatically upgrade your home up to a "),d(3,"select",34),w("change",function(r){E(e);let o=y(2);return D(o.autoBuyHomeLimitChanged(r))}),re(4,EN,2,3,"option",35,_N),u()()()}if(t&2){let e=y(2);m(4),oe(e.homeService.homesList)}}function MN(t,n){if(t&1){let e=V();d(0,"mat-tab"),L(1,CN,2,0,"ng-template",3)(2,kN,5,1,"div",4)(3,xN,5,1,"div",4)(4,DN,6,0,"div",4),d(5,"div")(6,"span")(7,"input",8),w("change",function(r){E(e);let o=y();return D(o.autoPauseThugs(r))}),u(),d(8,"label",9),p(9,"Automatically pause if thugs rough you up."),u()()()()}if(t&2){let e=y();m(2),M(e.homeService.autoBuyLandUnlocked?2:-1),m(),M(e.farmService.autoFieldUnlocked?3:-1),m(),M(e.homeService.autoBuyHomeUnlocked?4:-1),m(3),R("checked",e.homeService.thugPause)}}function TN(t,n){t&1&&(d(0,"span",32),p(1,"Crafting"),u())}function IN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",36),w("change",function(r){E(e);let o=y(2);return D(o.autoPotionChange(r))}),u(),d(3,"label",37),p(4,"Automatically consume potions when you make them"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoPotionEnabled)}}function PN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",38),w("change",function(r){E(e);let o=y(2);return D(o.autoPillChange(r))}),u(),d(3,"label",39),p(4,"Automatically consume pills when you make them"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoPillEnabled)}}function AN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",40),w("change",function(r){E(e);let o=y(2);return D(o.autoequipEnableChange(r))}),u(),d(3,"label",41),p(4,"Automatically equip best equipment"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoequipBestEnabled)}}function RN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",42),w("change",function(r){E(e);let o=y(2);return D(o.automergeEquippedChange(r))}),u(),d(3,"label",43),p(4,"Automatically merge onto equipped equipment"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.automergeEquipped)}}function ON(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",44),w("change",function(r){E(e);let o=y(2);return D(o.useSpiritGemWeaponsChange(r))}),u(),d(3,"label",45),p(4,"Use spirit gem when crafting weapons"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.useSpiritGemWeapons)}}function FN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",46),w("change",function(r){E(e);let o=y(2);return D(o.useSpiritGemPotionsChange(r))}),u(),d(3,"label",47),p(4,"Use spirit gem when crafting potions"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.useSpiritGemPotions)}}function NN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",48),w("change",function(r){E(e);let o=y(2);return D(o.useCheapestSpiritGemChange(r))}),u(),d(3,"label",49),p(4,"Use your lowest grade spirit gem instead of your highest"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.useCheapestSpiritGem)}}function LN(t,n){if(t&1&&(d(0,"mat-tab"),L(1,TN,2,0,"ng-template",3)(2,IN,5,1,"div",4)(3,PN,5,1,"div",4)(4,AN,5,1,"div",4)(5,RN,5,1,"div",4)(6,ON,5,1,"div",4)(7,FN,5,1,"div",4)(8,NN,5,1,"div",4),u()),t&2){let e=y();m(2),M(e.inventoryService.autoPotionUnlocked?2:-1),m(),M(e.inventoryService.autoPillUnlocked?3:-1),m(),M(e.inventoryService.autoequipBestArmor||e.inventoryService.autoequipBestWeapon?4:-1),m(),M(e.inventoryService.autoequipBestArmor&&e.inventoryService.autoArmorMergeUnlocked||e.inventoryService.autoequipBestWeapon&&e.inventoryService.autoWeaponMergeUnlocked?5:-1),m(),M(e.inventoryService.useSpiritGemUnlocked?6:-1),m(),M(e.inventoryService.useSpiritGemUnlocked?7:-1),m(),M(e.inventoryService.useSpiritGemUnlocked?8:-1)}}function BN(t,n){t&1&&(d(0,"span",32),p(1,"Sales"),u())}function jN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",50),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldHerbs(r))}),u(),d(3,"label",51),p(4,"Automatically sell lower grade herbs than what current activities produce"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldHerbsEnabled)}}function VN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",52),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldWood(r))}),u(),d(3,"label",53),p(4,"Automatically sell lower grade wood than what current activities produce"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldWoodEnabled)}}function HN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",54),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldOre(r))}),u(),d(3,"label",55),p(4,"Automatically sell lower grade ore than what current activities produce"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldOreEnabled)}}function UN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",56),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldBars(r))}),u(),d(3,"label",57),p(4,"Automatically sell lower grade bars than what current activities produce"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldBarsEnabled)}}function qN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",58),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldHides(r))}),u(),d(3,"label",59),p(4,"Automatically sell lower grade hides than what current activities produce"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldHidesEnabled)}}function zN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",60),w("change",function(r){E(e);let o=y(2);return D(o.autoSellOldGems(r))}),u(),d(3,"label",61),p(4,"Automatically sell lower grade gems than what current monsters drop"),u()()()}if(t&2){let e=y(2);m(2),R("checked",e.inventoryService.autoSellOldGemsEnabled)}}function $N(t,n){if(t&1){let e=V();d(0,"div")(1,"span"),p(2),I(3,"titlecase"),u(),d(4,"span"),p(5," - Reserve \xA0"),d(6,"input",33),w("change",function(r){let o=E(e).$implicit,a=y(3);return D(a.autoSellReserveChange(r,o))}),u(),p(7,"\xA0 "),d(8,"button",29),w("click",function(){let r=E(e).$implicit,o=y(3);return D(o.inventoryService.unAutoSell(r.name))}),p(9,"Stop Selling"),u()()()}if(t&2){let e=n.$implicit;m(2),A(" - ",N(3,2,e.name)," "),m(4),K("value",e.reserve)}}function GN(t,n){if(t&1&&(d(0,"div",4)(1,"span"),p(2," Automatically Sold Items: "),u(),d(3,"div",62),re(4,$N,10,4,"div",null,Ue),u()()),t&2){let e=y(2);m(4),oe(e.inventoryService.autoSellEntries)}}function WN(t,n){if(t&1){let e=V();d(0,"div")(1,"span"),p(2),I(3,"titlecase"),u(),d(4,"span"),p(5," - Reserve \xA0"),d(6,"input",33),w("change",function(r){E(e);let o=y().$implicit,a=y(3);return D(a.autoUseReserveChange(r,o))}),u(),p(7,"\xA0 "),d(8,"button",29),w("click",function(){E(e);let r=y().$implicit,o=y(3);return D(o.inventoryService.unAutoUse(r.name))}),p(9,"Stop Using"),u()()()}if(t&2){let e=y().$implicit;m(2),A(" - ",N(3,2,e.name)," "),m(4),K("value",e.reserve)}}function YN(t,n){if(t&1&&L(0,WN,10,4,"div"),t&2){let e=n.$implicit;M(e.type!=="food"?0:-1)}}function KN(t,n){if(t&1&&(d(0,"div",4)(1,"span"),p(2,"Automatically Used Items:"),u(),d(3,"div",62),re(4,YN,1,1,null,null,Ue),u()()),t&2){let e=y(2);m(4),oe(e.inventoryService.autoUseEntries)}}function QN(t,n){if(t&1){let e=V();d(0,"div")(1,"span"),p(2),I(3,"titlecase"),u(),d(4,"span"),p(5," \xA0 "),d(6,"button",29),w("click",function(){E(e);let r=y().$implicit,o=y(3);return D(o.inventoryService.unAutoUse(r.name))}),p(7,"Stop Wisely Eating"),u()()()}if(t&2){let e=y().$implicit;m(2),A(" - ",N(3,1,e.name)," ")}}function ZN(t,n){if(t&1&&L(0,QN,8,3,"div"),t&2){let e=n.$implicit;M(e.type==="food"?0:-1)}}function XN(t,n){if(t&1){let e=V();d(0,"div",4)(1,"div")(2,"span"),p(3,"Wisely Eaten Foods:"),u(),d(4,"div",62),re(5,ZN,1,1,null,null,Ue),u()(),d(7,"div")(8,"span"),p(9," When wisely eaten food is available: "),u()(),d(10,"div")(11,"span")(12,"input",63),w("change",function(r){E(e);let o=y(2);return D(o.autoEatNutritionChanged(r))}),u(),d(13,"label",64),p(14,"Eat until nutrition is full"),u()()(),d(15,"div")(16,"span")(17,"input",65),w("change",function(r){E(e);let o=y(2);return D(o.autoEatHealthChanged(r))}),u(),d(18,"label",66),p(19,"Eat until Health is full"),u()()(),d(20,"div")(21,"span")(22,"input",67),w("change",function(r){E(e);let o=y(2);return D(o.autoEatStaminaChanged(r))}),u(),d(23,"label",68),p(24,"Eat until Stamina is full"),u()()(),d(25,"div")(26,"span")(27,"input",69),w("change",function(r){E(e);let o=y(2);return D(o.autoEatQiChanged(r))}),u(),d(28,"label",70),p(29,"Eat until Qi is full"),u()()(),d(30,"div")(31,"span")(32,"input",71),w("change",function(r){E(e);let o=y(2);return D(o.autoEatAllChanged(r))}),u(),d(33,"label",72),p(34,"Just eat it all!"),u()()()()}if(t&2){let e=y(2);m(5),oe(e.inventoryService.autoUseEntries),m(7),R("checked",e.inventoryService.autoEatNutrition),m(5),R("checked",e.inventoryService.autoEatHealth),m(5),R("checked",e.inventoryService.autoEatStamina),m(5),R("checked",e.inventoryService.autoEatQi),m(5),R("checked",e.inventoryService.autoEatAll)}}function JN(t,n){if(t&1){let e=V();d(0,"div")(1,"span"),p(2),I(3,"titlecase"),d(4,"input",33),w("change",function(r){let o=E(e).$implicit,a=y(3);return D(a.autoBalanceUseChanged(r,o))}),u(),p(5," then Sell "),d(6,"input",33),w("change",function(r){let o=E(e).$implicit,a=y(3);return D(a.autoBalanceSellChanged(r,o))}),u(),d(7,"button",29),w("click",function(){let r=E(e).$implicit,o=y(3);return D(o.inventoryService.unAutoBalance(r.name))}),p(8,"Stop Balancing"),u()()()}if(t&2){let e=n.$implicit;m(2),A(" -",N(3,3,e.name)," Use "),m(2),K("value",e.useNumber),m(2),K("value",e.sellNumber)}}function eL(t,n){if(t&1&&(d(0,"div",4)(1,"span"),p(2,"Automatically Balanced Items:"),u(),d(3,"div",62),re(4,JN,9,5,"div",null,Ue),u()()),t&2){let e=y(2);m(4),oe(e.inventoryService.autoBalanceItems)}}function tL(t,n){if(t&1&&(d(0,"mat-tab"),L(1,BN,2,0,"ng-template",3)(2,jN,5,1,"div",4)(3,VN,5,1,"div",4)(4,HN,5,1,"div",4)(5,UN,5,1,"div",4)(6,qN,5,1,"div",4)(7,zN,5,1,"div",4)(8,GN,6,0,"div",4)(9,KN,6,0,"div",4)(10,XN,35,5,"div",4)(11,eL,6,0,"div",4),u()),t&2){let e=y();m(2),M(e.inventoryService.autoSellOldHerbs?2:-1),m(),M(e.inventoryService.autoSellOldWood?3:-1),m(),M(e.inventoryService.autoSellOldOre?4:-1),m(),M(e.inventoryService.autoSellOldOre?5:-1),m(),M(e.inventoryService.autoSellOldHides?6:-1),m(),M(e.inventoryService.autoSellOldGemsUnlocked?7:-1),m(),M(e.inventoryService.autoSellUnlocked?8:-1),m(),M(e.inventoryService.autoUseUnlocked?9:-1),m(),M(e.inventoryService.autoEatUnlocked?10:-1),m(),M(e.inventoryService.autoBalanceUnlocked?11:-1)}}function iL(t,n){t&1&&(d(0,"span",32),p(1,"Auto-buy"),u())}function nL(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span")(2,"input",73),w("change",function(r){E(e);let o=y(2);return D(o.useAutoBuyReserveChanged(r))}),u(),d(3,"label",74),p(4,"Auto-buying should reserve "),u(),d(5,"input",33),w("change",function(r){E(e);let o=y(2);return D(o.autoBuyReserveAmountChanged(r))}),u(),p(6," taels instead of 10 days worth of expenses "),u()()}if(t&2){let e=y(2);m(2),R("checked",e.homeService.useAutoBuyReserve),m(3),K("value",e.homeService.autoBuyReserveAmount)}}function rL(t,n){if(t&1){let e=V();d(0,"tr")(1,"td")(2,"button",77),w("click",function(){let r=E(e).$index,o=y(3);return D(o.autoBuySettingsPriorityChanged(r,!0))}),p(3,"\u25B2"),u()(),d(4,"td")(5,"button",77),w("click",function(){let r=E(e).$index,o=y(3);return D(o.autoBuySettingsPriorityChanged(r,!1))}),p(6,"\u25BC"),u()(),d(7,"td",78),p(8),u(),d(9,"td",79)(10,"input",80),w("change",function(r){let o=E(e).$implicit,a=y(3);return D(a.autoBuySettingsEnabledChange(r,o))}),u()(),d(11,"td",79)(12,"input",80),w("change",function(r){let o=E(e).$implicit,a=y(3);return D(a.autoBuySettingsWaitForFinishChange(r,o))}),u()()()}if(t&2){let e=n.$implicit,i=n.$index,r=n.$count;m(2),R("disabled",i===0),m(3),R("disabled",i===r-1),m(3),pe(e.label),m(2),R("checked",e.enabled),m(2),R("checked",e.waitForFinish)}}function oL(t,n){if(t&1&&(d(0,"div",4)(1,"span"),p(2," Auto-Buyer Options: "),d(3,"table",75)(4,"tr")(5,"th",76),p(6,"Priority Order"),u(),d(7,"th"),p(8,"Enabled"),u(),d(9,"th"),p(10,"Wait For Finish"),u()(),re(11,rL,13,5,"tr",null,Ue),u()()()),t&2){let e=y(2);m(11),oe(e.autoBuyerService.autoBuyerSettings)}}function aL(t,n){if(t&1&&(d(0,"mat-tab"),L(1,iL,2,0,"ng-template",3)(2,nL,7,2,"div",4)(3,oL,13,0,"div",4),u()),t&2){let e=y();m(2),M(e.homeService.autoBuyLandUnlocked||e.homeService.autoBuyHomeUnlocked?2:-1),m(),M(e.autoBuyerService.autoBuyerSettingsUnlocked?3:-1)}}var Sk=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f){this.homeService=e,this.farmService=i,this.characterService=r,this.inventoryService=o,this.gameStateService=a,this.followerService=s,this.autoBuyerService=l,this.mainLoopService=c,this.activityService=h,this.dialog=f}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&(e.shiftKey||e.altKey)?this.gameStateService.loadFromLocalStorage(!0):e.shiftKey||e.altKey?this.dialog.open(nk,{width:"400px",data:{someField:"foo"},autoFocus:!1}):(this.gameStateService.savetoLocalStorage(),this.characterService.toast("Manual Save Complete"))}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}autoSellReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoUseReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=Math.floor(parseFloat(e.target.value)),this.homeService.autoBuyLandLimit||(this.homeService.autoBuyLandLimit=0))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.farmService.autoFieldLimit=Math.floor(parseFloat(e.target.value)),this.farmService.autoFieldLimit||(this.farmService.autoFieldLimit=0))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoPauseThugs(e){e.target instanceof HTMLInputElement&&(this.homeService.thugPause=!this.homeService.thugPause)}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseFloat(e.target.value),this.homeService.autoBuyReserveAmount||(this.homeService.autoBuyReserveAmount=0))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=Math.floor(parseFloat(e.target.value)),i.useNumber||(i.useNumber=0))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=Math.floor(parseFloat(e.target.value)),i.sellNumber||(i.sellNumber=0))}autoEatNutritionChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatNutrition=e.target.checked)}autoEatHealthChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatHealth=e.target.checked)}autoEatStaminaChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatStamina=e.target.checked)}autoEatQiChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatQi=e.target.checked)}autoEatAllChanged(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoEatAll=e.target.checked)}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}useCheapestSpiritGemChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useCheapestSpiritGem=e.target.checked)}autoPotionChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoPotionEnabled=e.target.checked)}autoPillChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoPillEnabled=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}automergeEquippedChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.automergeEquipped=e.target.checked)}autoSellOldHerbs(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHerbsEnabled=e.target.checked)}autoSellOldWood(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldWoodEnabled=e.target.checked)}autoSellOldOre(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldOreEnabled=e.target.checked)}autoSellOldBars(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldBarsEnabled=e.target.checked)}autoSellOldHides(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHidesEnabled=e.target.checked)}autoSellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,i){this.autoBuyerService.autoBuyerSettings.splice(e+(i?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,i){e.target instanceof HTMLInputElement&&(i.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,i){e.target instanceof HTMLInputElement&&(i.waitForFinish=e.target.checked)}easyModeChange(e){if(e.target instanceof HTMLInputElement)if(e.preventDefault(),e.stopPropagation(),this.characterService.characterState.easyMode)this.characterService.characterState.easyMode=!1;else{if(!this.gameStateService.easyModeEver)if(confirm("This will enable easy mode and mark your save permanently. Are you sure?"))this.gameStateService.easyModeEver=!0;else{e.target.checked=!1;return}this.characterService.characterState.easyMode=!0,this.activityService.reloadActivities()}}autoBuyFoodChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoBuyFood=e.target.checked)}playMusicChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.playMusic=e.target.checked,this.mainLoopService.playAudio())}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showLifeSummary=e.target.checked)}showTipsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showTips=e.target.checked)}showUpdateAnimationsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showUpdateAnimations=e.target.checked)}scientificNotationChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.scientificNotation=e.target.checked,this.gameStateService.savetoLocalStorage(),window.location.href=window.location.href)}importGameFileClick(e){let r=e.target?.files?.[0];if(r){let o=new FileReader,a=this.gameStateService,s=this.mainLoopService;o.readAsText(r,"UTF-8"),o.onload=function(){typeof o.result=="string"&&(s.importing=!0,a.importGame(o.result),a.savetoLocalStorage(),a.updateImportFlagKey(!0),setTimeout(()=>{window.location.reload()},10))}}}exportGameFileClick(){let e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getGameExport())}`),e.setAttribute("download",`Immortality_Idle_${this.gameStateService.isExperimental?"Experimental":"v"+vo.appVersion}_${new Date().toISOString()}.txt`);let i=new MouseEvent("click");e.dispatchEvent(i)}importLayoutFileClick(e){let r=e.target?.files?.[0];if(r){let o=new FileReader,a=this.gameStateService;o.readAsText(r,"UTF-8"),o.onload=function(){typeof o.result=="string"&&(a.importLayout(o.result),a.savetoLocalStorage())}}}exportLayoutFileClick(){let e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getLayoutExport())}`),e.setAttribute("download",`Immortality_Idle_Layout_${this.gameStateService.isExperimental?"Experimental":"v"+vo.appVersion}_${new Date().toISOString()}.txt`);let i=new MouseEvent("click");e.dispatchEvent(i)}static{this.\u0275fac=function(i){return new(i||t)(k(we),k(Rt),k(X),k(Y),k(se),k($e),k(Po),k(ve),k(Ne),k(it))}}static{this.\u0275cmp=U({type:t,selectors:[["app-options-modal"]],decls:84,vars:13,consts:[["importLayoutFile",""],["importGameFile",""],[1,"darkMode","optionsDiv"],["mat-tab-label",""],[1,"optionField"],["tooltip",`This game is much too hard and takes much too long to play to the end.<br>Click this to make it easier and allow you to rush through the game.<br>
          Be warned:<br>you will forever be known as a cultivator who took the easy path to immortality.`],["type","checkbox","id","easyMode",3,"change","checked"],["for","easyMode"],["type","checkbox","id","autoBuyFood",3,"change","checked"],["for","autoBuyFood"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"],["type","checkbox","id","showTips",3,"change","checked"],["for","showTips"],["type","checkbox","id","showUpdateAnimations",3,"change","checked"],["for","showUpdateAnimations"],["type","checkbox","id","scientificNotation",3,"change","checked"],["for","scientificNotation"],[1,"spaced","warning"],["tooltip","Enable background music (this allows the game to run in the background without throttling on some browsers)."],["type","checkbox","id","backgroundMusic",3,"change","checked"],["for","backgroundMusic"],["href","/assets/music/Shaolin-Dub-Rising-Sun-Beat.mp3","download",""],["href","https://creativecommons.org/licenses/by-nc-nd/4.0/","target","_blank"],["tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip",`Click to save your game now.
          Shift-click for save options.
          Ctrl-shift-click to load backup save.`,3,"click"],["type","checkbox","id","darkMode",3,"change","checked"],["for","darkMode"],["type","file","id","importLayoutFile",3,"change"],[3,"click"],["type","file","id","importGameFile",3,"change"],["tooltip","Completely restart your journey toward immortality.",1,"warning",3,"click"],[1,"tab-label"],["min","0","type","number",1,"inputBox",3,"change","value"],["name","homeList","id","homeList",3,"change"],[3,"value","selected"],["type","checkbox","id","autoPotionEnable",3,"change","checked"],["for","autoPotionEnable"],["type","checkbox","id","autoPillEnable",3,"change","checked"],["for","autoPillEnable"],["type","checkbox","id","autoequipEnable",3,"change","checked"],["for","autoequipEnable"],["type","checkbox","id","automergeEquipped",3,"change","checked"],["for","automergeEquipped"],["type","checkbox","id","useSpiritGemWeapons",3,"change","checked"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"change","checked"],["for","useSpiritGemPotions"],["type","checkbox","id","useCheapestSpiritGem",3,"change","checked"],["for","useCheapestSpiritGem"],["type","checkbox","id","autosellOldHerbs",3,"change","checked"],["for","autosellOldHerbs"],["type","checkbox","id","autosellOldWood",3,"change","checked"],["for","autosellOldWood"],["type","checkbox","id","autosellOldOre",3,"change","checked"],["for","autosellOldOre"],["type","checkbox","id","autoSellOldBars",3,"change","checked"],["for","autoSellOldBars"],["type","checkbox","id","autosellOldHides",3,"change","checked"],["for","autosellOldHides"],["type","checkbox","id","autosellOldGems",3,"change","checked"],["for","autosellOldGems"],[1,"scrollingDiv"],["type","checkbox","id","autoEatNutrition",3,"change","checked"],["for","autoEatNutrition"],["type","checkbox","id","autoEatHealth",3,"change","checked"],["for","autoEatHealth"],["type","checkbox","id","autoEatStamina",3,"change","checked"],["for","autoEatStamina"],["type","checkbox","id","autoEatQi",3,"change","checked"],["for","autoEatQi"],["type","checkbox","id","autoEatAll",3,"change","checked"],["for","autoEatAll"],["type","checkbox","id","useAutoBuyReserve",3,"change","checked"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[1,"reorderListButton",3,"click","disabled"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"change","checked"]],template:function(i,r){if(i&1){let o=V();d(0,"div",2)(1,"span"),p(2,"Options"),u(),d(3,"mat-tab-group")(4,"mat-tab"),L(5,SN,2,0,"ng-template",3),d(6,"div",4)(7,"span",5)(8,"input",6),w("change",function(s){return E(o),D(r.easyModeChange(s))}),u(),d(9,"label",7),p(10,"Easy Mode"),u()(),L(11,wN,2,0,"span"),u(),d(12,"div",4)(13,"span")(14,"input",8),w("change",function(s){return E(o),D(r.autoBuyFoodChange(s))}),u(),d(15,"label",9),p(16,"Automatically buy scraps each day if you have no food to avoid starvation."),u()()(),d(17,"div",4)(18,"span")(19,"input",10),w("change",function(s){return E(o),D(r.showLifeSummaryChange(s))}),u(),d(20,"label",11),p(21,"Show a previous life summary at the start of each life"),u()()(),d(22,"div",4)(23,"span")(24,"input",12),w("change",function(s){return E(o),D(r.showTipsChange(s))}),u(),d(25,"label",13),p(26,"Include tips in the life summary. Warning, this can spoil the fun of discovering things for yourself."),u()()(),d(27,"div",4)(28,"span")(29,"input",14),w("change",function(s){return E(o),D(r.showUpdateAnimationsChange(s))}),u(),d(30,"label",15),p(31,"Show animated updates when attributes or money values change."),u()()(),d(32,"div",4)(33,"span")(34,"input",16),w("change",function(s){return E(o),D(r.scientificNotationChange(s))}),u(),d(35,"label",17),p(36,"Turn on numbers with scientific notation."),u(),p(37,"\xA0 "),d(38,"span",18),p(39,"Changing this will save and reload immediately."),u()()(),d(40,"div",4)(41,"span",19)(42,"input",20),w("change",function(s){return E(o),D(r.playMusicChange(s))}),u(),d(43,"label",21),p(44,"Background Music (also improves background play) - "),d(45,"a",22),p(46,"Rising Sun Beat by Shaolin Dub"),u(),p(47," ("),d(48,"a",23),p(49,"Creative Commons License"),u(),p(50,")"),u()()(),d(51,"div",4)(52,"button",24),w("click",function(s){return E(o),D(r.rebirthClicked(s))}),p(53," Reincarnate "),u()(),d(54,"div",4)(55,"button",25),w("click",function(s){return E(o),D(r.saveClicked(s))}),p(56," Manual Save "),u()(),d(57,"div",4)(58,"span")(59,"input",26),w("change",function(){return E(o),D(r.darkModeToggle())}),u(),d(60,"label",27),p(61,"Dark Mode"),u()()(),d(62,"div",4)(63,"div")(64,"input",28,0),w("change",function(s){return E(o),D(r.importLayoutFileClick(s))}),u(),d(66,"button",29),w("click",function(){E(o);let s=Ia(65);return D(s.click())}),p(67,"Import Layout File"),u(),d(68,"button",29),w("click",function(){return E(o),D(r.exportLayoutFileClick())}),p(69,"Export Layout File"),u()(),d(70,"div")(71,"input",30,1),w("change",function(s){return E(o),D(r.importGameFileClick(s))}),u(),d(73,"button",29),w("click",function(){E(o);let s=Ia(72);return D(s.click())}),p(74,"Import Game File"),u(),d(75,"button",29),w("click",function(){return E(o),D(r.exportGameFileClick())}),p(76,"Export Game File"),u()()(),d(77,"div",4)(78,"button",31),w("click",function(s){return E(o),D(r.hardResetClicked(s))}),p(79,"Hard Reset"),u()()(),L(80,MN,10,4,"mat-tab")(81,LN,9,7,"mat-tab")(82,tL,12,10,"mat-tab")(83,aL,4,2,"mat-tab"),u()()}i&2&&(m(8),R("checked",r.characterService.characterState.easyMode),m(3),M(r.gameStateService.easyModeEver?11:-1),m(3),R("checked",r.inventoryService.autoBuyFood),m(5),R("checked",r.characterService.characterState.showLifeSummary),m(5),R("checked",r.characterService.characterState.showTips),m(5),R("checked",r.characterService.characterState.showUpdateAnimations),m(5),R("checked",r.mainLoopService.scientificNotation),m(8),R("checked",r.mainLoopService.playMusic),m(17),R("checked",r.gameStateService.isDarkMode),m(21),M(r.homeService.autoBuyLandUnlocked||r.farmService.autoFieldUnlocked||r.homeService.autoBuyHomeUnlocked?80:-1),m(),M(r.inventoryService.autoequipBestArmor||r.inventoryService.autoequipBestWeapon||r.inventoryService.useSpiritGemUnlocked||r.inventoryService.autoPillUnlocked||r.inventoryService.autoPotionUnlocked?81:-1),m(),M(r.inventoryService.autoSellOldHerbs||r.inventoryService.autoSellOldWood||r.inventoryService.autoSellOldOre||r.inventoryService.autoSellOldHides||r.inventoryService.autoSellOldGemsUnlocked||r.inventoryService.autoSellUnlocked||r.inventoryService.autoUseUnlocked||r.inventoryService.autoEatUnlocked||r.inventoryService.autoBalanceUnlocked?82:-1),m(),M(r.homeService.autoBuyLandUnlocked||r.homeService.autoBuyHomeUnlocked||r.autoBuyerService.autoBuyerSettingsUnlocked?83:-1))},dependencies:()=>[uk,Lg,Ng,Ua,Du,Mu,nt],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}#importLayoutFile[_ngcontent-%COMP%], #importGameFile[_ngcontent-%COMP%]{display:none}"]})}}return t})();function sL(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"bigNumber"),u()),t&2){let e=y();m(),Yt(" Next rank requires ",N(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," spirit gem. ")}}function lL(t,n){t&1&&(d(0,"span"),p(1," Max Rank "),u())}function cL(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"bigNumber"),u()),t&2){let e=y();m(),Yt(" Next rank requires ",N(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," spirit gem. ")}}function dL(t,n){t&1&&(d(0,"span"),p(1," Max Rank "),u())}function uL(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"bigNumber"),u()),t&2){let e=y();m(),Yt(" Next rank requires ",N(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function hL(t,n){t&1&&(d(0,"span"),p(1," Max Rank "),u())}function mL(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"number"),I(3,"number"),u()),t&2){let e=y();m(),Yt(" You have consumed ",Pt(2,2,(e.characterService.characterState.empowermentFactor-1)*100,"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",Pt(3,5,e.characterService.characterState.getEmpowermentMult(),"1.0-3"),". You will always keep this bonus, even after ascending. ")}}var wk=(()=>{class t{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s}static{this.\u0275fac=function(i){return new(i||t)(k(vi),k(X),k(we),k(Y),k(rt),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-ascension-store-modal"]],decls:40,vars:12,consts:[[1,"darkMode"],[1,"ascensionContainer"],[3,"click","disabled"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Ascension Techniques"),u(),F(3,"hr"),d(4,"div",1)(5,"table")(6,"tr")(7,"td")(8,"button",2),w("click",function(){return r.storeService.condenseSoulCore()}),p(9,"Condense Soul Core"),u()(),d(10,"td"),p(11," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),F(12,"br"),p(13),F(14,"br"),L(15,sL,3,4,"span")(16,lL,2,0,"span"),u()(),d(17,"tr")(18,"td")(19,"button",2),w("click",function(){return r.storeService.reinforceMeridians()}),p(20,"Reinforce Meridians"),u()(),d(21,"td"),p(22," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the power of your aptitudes to improve your attribute gains. "),F(23,"br"),p(24),F(25,"br"),L(26,cL,3,4,"span")(27,dL,2,0,"span"),u()(),d(28,"tr")(29,"td")(30,"button",2),w("click",function(){return r.storeService.upgradeBloodline()}),p(31),u()(),d(32,"td"),p(33),F(34,"br"),p(35),F(36,"br"),L(37,uL,3,4,"span")(38,hL,2,0,"span"),u()()(),L(39,mL,4,8,"span"),u()()),i&2&&(m(8),R("disabled",r.storeService.soulCoreRank>8),m(5),A(" Current Rank: ",r.storeService.soulCoreRank," "),m(2),M(r.storeService.soulCoreRank<9?15:16),m(4),R("disabled",r.storeService.meridianRank>8),m(5),A(" Current Rank: ",r.storeService.meridianRank," "),m(2),M(r.storeService.meridianRank<9?26:27),m(4),R("disabled",r.characterService.characterState.bloodlineRank>=9),m(),pe(r.storeService.bloodlineLabel),m(2),A(" ",r.storeService.bloodlineDescription," "),m(2),A(" Current Rank: ",r.characterService.characterState.bloodlineRank," "),m(2),M(r.characterService.characterState.bloodlineRank<9?37:38),m(2),M(r.characterService.characterState.empowermentFactor>1?39:-1))},dependencies:()=>[On,Te],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}.ascensionContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}}return t})();var pL=(t,n)=>t+""+n.unlocked;function fL(t,n){if(t&1&&(d(0,"div"),p(1),u()),t&2){let e=y(2).$implicit;m(),pe(e.displayName)}}function gL(t,n){if(t&1&&(d(0,"div"),p(1),u()),t&2){let e=y(2).$implicit;m(),pe(e.name)}}function vL(t,n){if(t&1&&(d(0,"div",3),L(1,fL,2,1,"div")(2,gL,2,1,"div"),u()),t&2){let e=y().$implicit;K("tooltip",e.description),m(),M(e.displayName?1:-1),m(),M(e.displayName?-1:2)}}function yL(t,n){if(t&1&&(d(0,"div",4),p(1," ? "),u()),t&2){let e=y().$implicit;K("tooltip",e.hint)}}function bL(t,n){if(t&1&&(d(0,"div"),L(1,vL,3,3,"div",3)(2,yL,2,1,"div",4),u()),t&2){let e=n.$implicit;m(),M(e.unlocked?1:2)}}var Ck=(()=>{class t{constructor(e){this.achievementService=e}static{this.\u0275fac=function(i){return new(i||t)(k(Va))}}static{this.\u0275cmp=U({type:t,selectors:[["app-achievement-panel"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"achievementContainer"],[1,"achievementGrid"],["tabindex","0",1,"itemSlot",3,"tooltip"],[1,"itemSlot",3,"tooltip"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2),u(),F(3,"hr"),d(4,"div",1)(5,"div",2),re(6,bL,3,1,"div",null,pL),u()()()),i&2&&(m(2),Yt("Achievements (",r.achievementService.unlockedAchievements.length," / ",r.achievementService.achievements.length,")"),m(4),oe(r.achievementService.achievements))},dependencies:()=>[Fe],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}.achievementContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}"]})}}return t})();function _L(t,n){if(t&1&&(d(0,"span")(1,"mat-icon",4),p(2," help "),u(),p(3),u()),t&2){let e=y().$implicit;m(),K("tooltip",e.description),m(2),A(" ",e.name," ")}}function SL(t,n){t&1&&(d(0,"span"),p(1," ???????????? "),u())}function wL(t,n){if(t&1&&(d(0,"div",3),F(1,"span"),u()),t&2){let e=y().$implicit,i=y();Be("value",i.Math.floor(i.impossibleTaskService.taskProgress[e.taskType].progress))("max",i.Math.floor(e.progressRequired)),m(),lt("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%")}}function CL(t,n){t&1&&(d(0,"span")(1,"mat-icon"),p(2," done "),u()())}function kL(t,n){if(t&1){let e=V();d(0,"span")(1,"button",5),w("click",function(){E(e);let r=y(2);return D(r.impossibleTaskService.stopTask())}),p(2,"Stop"),u()()}}function xL(t,n){if(t&1){let e=V();d(0,"span")(1,"button",5),w("click",function(){E(e);let r=y(2);return D(r.impossibleTaskService.startTask())}),p(2,"Start"),u()()}}function EL(t,n){if(t&1&&(d(0,"tr")(1,"td"),L(2,_L,4,2,"span")(3,SL,2,0,"span"),u(),d(4,"td"),L(5,wL,2,4,"div",3),u(),d(6,"td"),L(7,CL,3,0,"span")(8,kL,3,0,"span")(9,xL,3,0,"span"),u()()),t&2){let e=n.$implicit,i=y();m(2),M(i.impossibleTaskService.nextTask>=e.taskType?2:-1),m(),M(i.impossibleTaskService.nextTask<e.taskType?3:-1),m(2),M(i.impossibleTaskService.nextTask>=e.taskType?5:-1),m(2),M(i.impossibleTaskService.taskProgress[e.taskType].complete?7:-1),m(),M(i.impossibleTaskService.activeTaskIndex===e.taskType?8:-1),m(),M(i.impossibleTaskService.activeTaskIndex===-1&&i.impossibleTaskService.nextTask===e.taskType?9:-1)}}var kk=(()=>{class t{constructor(e,i,r){this.impossibleTaskService=e,this.gameStateService=i,this.activityService=r,this.Math=Math}pauseOnImpossibleFailChange(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnImpossibleFail=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(k(ri),k(se),k(Ne))}}static{this.\u0275cmp=U({type:t,selectors:[["app-impossible-task-panel"]],decls:12,vars:1,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnImpossibleFail",3,"change","checked"],["for","pauseOnImpossibleFail"],[1,"progress-bar",2,"height","20px"],[3,"tooltip"],[3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"Impossible Tasks"),u(),d(3,"span")(4,"input",1),w("change",function(a){return r.pauseOnImpossibleFailChange(a)}),u(),d(5,"label",2),p(6,"Automatically pause if task related activity fails"),u()(),F(7,"hr"),d(8,"div")(9,"table"),re(10,EL,10,6,"tr",null,Ue),u()()()),i&2&&(m(4),R("checked",r.activityService.pauseOnImpossibleFail),m(6),oe(r.impossibleTaskService.tasks))},dependencies:()=>[Ye,Fe],styles:["ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var xk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-tutorial-panel"]],decls:25,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"Tutorial"),u(),F(3,"hr"),d(4,"div",1)(5,"span"),p(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),u(),F(7,"hr"),d(8,"span"),p(9," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),u(),F(10,"hr"),d(11,"span"),p(12," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),u(),F(13,"hr"),d(14,"span"),p(15," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),u(),F(16,"hr"),d(17,"span"),p(18," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy enough scraps to keep you from starving. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),u(),F(19,"hr"),d(20,"span"),p(21," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),u(),F(22,"hr"),d(23,"span"),p(24," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. If you find the game too difficult, an easy mode is available in the options panel. Now, it's time to develop your potential for immortality. Get to it! "),u()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:600px}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Ek=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-changelog-panel"]],decls:11,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"Change Log"),u(),F(3,"hr"),d(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8,"v2.0.0"),u(),d(9,"td"),p(10,"A whole new version of the game."),u()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}td[_ngcontent-%COMP%]{vertical-align:top}"]})}}return t})();var Tu=(()=>{class t{constructor(e){this.daysPerSecond=0,e.longTickSubject.pipe(Xh(),J(r=>r.value/(r.interval/1e3)),$h(5e3),J(r=>r.reduce((o,a)=>o+a,0)/r.length)).subscribe(r=>{this.daysPerSecond=r})}static{this.\u0275fac=function(i){return new(i||t)(x(ve))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function DL(t,n){if(t&1&&(d(0,"tr")(1,"td"),p(2),I(3,"camelToTitle"),u(),d(4,"td"),p(5),u()()),t&2){let e=n.$implicit,i=y();m(2),A(" Days of ",N(3,2,i.getActivityName(e.key))," "),m(3),A(" ",e.value," ")}}function ML(t,n){if(t&1&&(d(0,"tr")(1,"td"),p(2),I(3,"camelToTitle"),u(),d(4,"td"),p(5),I(6,"bigNumber"),u()()),t&2){let e=n.$implicit;m(2),A(" Highest ",N(3,2,e.key)," "),m(3),A(" ",N(6,4,e.value)," ")}}var Mk=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f,g){this.mainLoopService=e,this.storeService=i,this.inventoryService=r,this.homeService=o,this.farmService=a,this.followerService=s,this.characterService=l,this.battleService=c,this.activityService=h,this.achievementService=f,this.statisticsService=g,this.originalOrder=()=>0}getActivityName(e){return this.activityService.getActivityName(parseInt(e))}static{this.\u0275fac=function(i){return new(i||t)(k(ve),k(vi),k(Y),k(we),k(Rt),k($e),k(X),k(et),k(Ne),k(Va),k(Tu))}}static{this.\u0275cmp=U({type:t,selectors:[["app-statistics-panel"]],decls:246,vars:72,consts:[[1,"darkMode"],[1,"statisticsDiv"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"Statistics"),u(),F(3,"hr"),d(4,"div",1),F(5,"br")(6,"br"),d(7,"span"),p(8,"This Life's Activities"),u(),F(9,"br"),d(10,"table"),re(11,DL,6,4,"tr",null,Ue),I(13,"keyvalue"),u(),F(14,"br"),d(15,"table")(16,"tr")(17,"td"),p(18," Enemies killed this life: "),u(),d(19,"td"),p(20),u()(),d(21,"tr")(22,"td"),p(23," Items used: "),u(),d(24,"td"),p(25),u()(),d(26,"tr")(27,"td"),p(28," Healthy Food Eaten: "),u(),d(29,"td"),p(30),u()(),d(31,"tr")(32,"td"),p(33," Items sold: "),u(),d(34,"td"),p(35),u()(),d(36,"tr")(37,"td"),p(38," Potions used: "),u(),d(39,"td"),p(40),u()(),d(41,"tr")(42,"td"),p(43," Pills used: "),u(),d(44,"td"),p(45),u()(),d(46,"tr")(47,"td"),p(48," Gems sold: "),u(),d(49,"td"),p(50),u()()(),F(51,"br")(52,"br"),d(53,"span"),p(54,"Across All Lives"),u(),F(55,"br"),d(56,"table")(57,"tr")(58,"td"),p(59," Game days per real second: "),u(),d(60,"td"),p(61),I(62,"number"),u()(),d(63,"tr")(64,"td"),p(65," Game years per real minute: "),u(),d(66,"td"),p(67),I(68,"number"),u()(),d(69,"tr")(70,"td"),p(71," Game years per real hour: "),u(),d(72,"td"),p(73),I(74,"number"),u()(),d(75,"tr")(76,"td"),p(77," Total days lived: "),u(),d(78,"td"),p(79),I(80,"bigNumber"),u()(),d(81,"tr")(82,"td"),p(83," Total lives lived: "),u(),d(84,"td"),p(85),u()(),d(86,"tr")(87,"td"),p(88," Total enemies killed: "),u(),d(89,"td"),p(90),u()(),d(91,"tr")(92,"td"),p(93," Troubling monsters encountered: "),u(),d(94,"td"),p(95),u()(),d(96,"tr")(97,"td"),p(98," Manuals discovered: "),u(),d(99,"td"),p(100),u()(),d(101,"tr")(102,"td"),p(103," Inventory Capacity: "),u(),d(104,"td"),p(105),u()(),d(106,"tr")(107,"td"),p(108," Automatically sold items: "),u(),d(109,"td"),p(110),u()(),d(111,"tr")(112,"td"),p(113," Automatically used items: "),u(),d(114,"td"),p(115),u()(),d(116,"tr")(117,"td"),p(118," Automatically balanced items: "),u(),d(119,"td"),p(120),u()(),d(121,"tr")(122,"td"),p(123," Items overflowed: "),u(),d(124,"td"),p(125),u()(),d(126,"tr")(127,"td"),p(128," Unlocked Achievements: "),u(),d(129,"td"),p(130),u()(),d(131,"tr")(132,"td"),p(133," Most land owned: "),u(),d(134,"td"),p(135),I(136,"bigNumber"),u()(),d(137,"tr")(138,"td"),p(139," Highest land price: "),u(),d(140,"td"),p(141),I(142,"bigNumber"),u()(),d(143,"tr")(144,"td"),p(145," Most fields owned: "),u(),d(146,"td"),p(147),I(148,"bigNumber"),u()(),d(149,"tr")(150,"td"),p(151," Best home owned: "),u(),d(152,"td"),p(153),u()(),d(154,"tr")(155,"td"),p(156," Follower recruited: "),u(),d(157,"td"),p(158),u()(),d(159,"tr")(160,"td"),p(161," Followers recruited lately: "),u(),d(162,"td"),p(163),u()(),d(164,"tr")(165,"td"),p(166," Followers died: "),u(),d(167,"td"),p(168),u()(),d(169,"tr")(170,"td"),p(171," Followers dismissed: "),u(),d(172,"td"),p(173),u()(),d(174,"tr")(175,"td"),p(176," Highest follower level: "),u(),d(177,"td"),p(178),u()(),d(179,"tr")(180,"td"),p(181," Most money: "),u(),d(182,"td"),p(183),I(184,"bigNumber"),u()(),d(185,"tr")(186,"td"),p(187," Oldest age: "),u(),d(188,"td"),p(189),u()(),re(190,ML,7,6,"tr",null,Ue),I(192,"keyvalue"),d(193,"tr")(194,"td"),p(195," Highest health: "),u(),d(196,"td"),p(197),u()(),d(198,"tr")(199,"td"),p(200," Highest stamina: "),u(),d(201,"td"),p(202),u()(),d(203,"tr")(204,"td"),p(205," Highest qi: "),u(),d(206,"td"),p(207),u()(),d(208,"tr")(209,"td"),p(210," Highest damage dealt: "),u(),d(211,"td"),p(212),I(213,"bigNumber"),u()(),d(214,"tr")(215,"td"),p(216," Highest damage taken: "),u(),d(217,"td"),p(218),I(219,"bigNumber"),u()(),d(220,"tr")(221,"td"),p(222," Days spent exhausted "),u(),d(223,"td"),p(224),I(225,"bigNumber"),u()(),d(226,"tr")(227,"td"),p(228," Completed Apprenticeships "),u(),d(229,"td"),p(230),u()(),d(231,"tr")(232,"td"),p(233," Open apprenticeships: "),u(),d(234,"td"),p(235),u()(),d(236,"tr")(237,"td"),p(238," Consecutive harvest days: "),u(),d(239,"td"),p(240),u()(),d(241,"tr")(242,"td"),p(243," Pieces of equipment created: "),u(),d(244,"td"),p(245),u()()()()()),i&2&&(m(11),oe(Pt(13,42,r.activityService.lifeActivities,r.originalOrder)),m(9),A(" ",r.battleService.kills," "),m(5),A(" ",r.inventoryService.lifetimeUsedItems," "),m(5),A(" ",r.inventoryService.lifetimeUsedFood," "),m(5),A(" ",r.inventoryService.lifetimeSoldItems," "),m(5),A(" ",r.inventoryService.lifetimePotionsUsed," "),m(5),A(" ",r.inventoryService.lifetimePillsUsed," "),m(5),A(" ",r.inventoryService.lifetimeGemsSold," "),m(11),A(" ",Pt(62,45,r.statisticsService.daysPerSecond,"1.0-2")," "),m(6),A(" ",Pt(68,48,r.statisticsService.daysPerSecond*60/365,"1.0-2")," "),m(6),A(" ",Pt(74,51,r.statisticsService.daysPerSecond*60*60/365,"1.0-2")," "),m(6),A(" ",N(80,54,r.mainLoopService.totalTicks)," "),m(6),A(" ",r.characterService.characterState.totalLives," "),m(5),A(" ",r.battleService.totalKills," "),m(5),A(" ",r.battleService.troubleKills," "),m(5),A(" ",r.storeService.manuals.length," "),m(5),A(" ",r.inventoryService.maxItems," "),m(5),A(" ",r.inventoryService.autoSellEntries.length," "),m(5),A(" ",r.inventoryService.autoUseEntries.length," "),m(5),A(" ",r.inventoryService.autoBalanceItems.length," "),m(5),A(" ",r.inventoryService.thrownAwayItems," "),m(5),A(" ",r.achievementService.unlockedAchievements.length," "),m(5),A(" ",N(136,56,r.homeService.highestLand)," "),m(6),A(" ",N(142,58,r.homeService.highestLandPrice)," "),m(6),A(" ",N(148,60,r.farmService.mostFields)," "),m(6),A(" ",r.homeService.homesList[r.homeService.bestHome].name," "),m(5),A(" ",r.followerService.totalRecruited," "),m(5),A(" ",r.followerService.followersRecruited," "),m(5),A(" ",r.followerService.totalDied," "),m(5),A(" ",r.followerService.totalDismissed," "),m(5),A(" ",r.followerService.highestLevel," "),m(5),A(" ",N(184,62,r.characterService.characterState.highestMoney)," "),m(6),A(" ",r.characterService.yearify(r.characterService.characterState.highestAge)," "),m(),oe(N(192,64,r.characterService.characterState.highestAttributes)),m(7),A(" ",r.characterService.characterState.highestHealth," "),m(5),A(" ",r.characterService.characterState.highestStamina," "),m(5),A(" ",r.characterService.characterState.highestQi," "),m(5),A(" ",N(213,66,r.battleService.highestDamageDealt)," "),m(6),A(" ",N(219,68,r.battleService.highestDamageTaken)," "),m(6),A(" ",N(225,70,r.activityService.totalExhaustedDays)," "),m(6),A(" ",r.activityService.completedApprenticeships.length," "),m(5),A(" ",r.activityService.openApprenticeships," "),m(5),A(" ",r.farmService.consecutiveHarvests," "),m(5),A(" ",r.inventoryService.equipmentCreated," "))},dependencies:()=>[On,Aa,yi,Te],styles:["table[_ngcontent-%COMP%]{width:100%}.statisticsDiv[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto}td[_ngcontent-%COMP%]{width:45%}"]})}}return t})();var TL=["resizeElem"],jk=["*"],IL=!1;function PL(t){let n=0,e;for(let i=0,r=t.length;i<r;i++)e=t[i].y+t[i].h,e>n&&(n=e);return n}function AL(t){let n={w:t.w,h:t.h,x:t.x,y:t.y,id:t.id,moved:!!t.moved,static:!!t.static};return t.minW!==void 0&&(n.minW=t.minW),t.maxW!==void 0&&(n.maxW=t.maxW),t.minH!==void 0&&(n.minH=t.minH),t.maxH!==void 0&&(n.maxH=t.maxH),t.isDraggable!==void 0&&(n.isDraggable=t.isDraggable),t.isResizable!==void 0&&(n.isResizable=t.isResizable),n}function Gg(t,n){return!(t.id===n.id||t.x+t.w<=n.x||t.x>=n.x+n.w||t.y+t.h<=n.y||t.y>=n.y+n.h)}function Wg(t,n,e){let i=NL(t),r=Vk(t,n),o=Array(t.length);for(let a=0,s=r.length;a<s;a++){let l=AL(r[a]);l.static||(l=OL(i,l,n,e,r),i.push(l)),o[t.indexOf(r[a])]=l,l.moved=!1}return o}var RL={x:"w",y:"h"};function Hg(t,n,e,i){let r=RL[i];n[i]+=1;let o=t.map(a=>a.id).indexOf(n.id);for(let a=o+1;a<t.length;a++){let s=t[a];if(!s.static){if(s.y>n.y+n.h)break;Gg(n,s)&&Hg(t,s,e+n[r],i)}}n[i]=e}function OL(t,n,e,i,r){let o=e==="vertical",a=e==="horizontal";if(o)for(n.y=Math.min(PL(t),n.y);n.y>0&&!za(t,n);)n.y--;else if(a)for(;n.x>0&&!za(t,n);)n.x--;let s;for(;s=za(t,n);)if(a?Hg(r,n,s.x+s.w,"x"):Hg(r,n,s.y+s.h,"y"),a&&n.x+n.w>i)for(n.x=i-n.w,n.y++;n.x>0&&!za(t,n);)n.x--;return n.y=Math.max(n.y,0),n.x=Math.max(n.x,0),n}function za(t,n){for(let e=0,i=t.length;e<i;e++)if(Gg(t[e],n))return t[e];return null}function FL(t,n){return t.filter(e=>Gg(e,n))}function NL(t){return t.filter(n=>n.static)}function Ug(t,n,e,i,r,o,a,s){if(n.static&&n.isDraggable!==!0||n.y===i&&n.x===e)return t;Au(`Moving element ${n.id} to [${String(e)},${String(i)}] from [${n.x},${n.y}]`);let l=n.x,c=n.y;typeof e=="number"&&(n.x=e),typeof i=="number"&&(n.y=i),n.moved=!0;let h=Vk(t,a);(a==="vertical"&&typeof i=="number"?c>=i:a==="horizontal"&&typeof e=="number"?l>=e:!1)&&(h=h.reverse());let g=FL(h,n);if(o&&g.length)return Au(`Collision prevented on ${n.id}, reverting.`),n.x=l,n.y=c,n.moved=!1,t;for(let v=0,_=g.length;v<_;v++){let C=g[v];Au(`Resolving collision between ${n.id} at [${n.x},${n.y}] and ${C.id} at [${C.x},${C.y}]`),!C.moved&&(C.static?t=Tk(t,C,n,r,a,s):t=Tk(t,n,C,r,a,s))}return t}function Tk(t,n,e,i,r,o){let a=r==="horizontal",s=r!=="horizontal",l=n.static;if(i){i=!1;let c={x:a?Math.max(n.x-e.w,0):e.x,y:s?Math.max(n.y-e.h,0):e.y,w:e.w,h:e.h,id:"-1"};if(!za(t,c))return Au(`Doing reverse collision on ${e.id} up to [${c.x},${c.y}].`),Ug(t,e,a?c.x:void 0,s?c.y:void 0,i,l,r,o)}return Ug(t,e,a?e.x+1:void 0,s?e.y+1:void 0,i,l,r,o)}function Vk(t,n){return n==="horizontal"?BL(t):LL(t)}function LL(t){return[].concat(t).sort(function(n,e){return n.y>e.y||n.y===e.y&&n.x>e.x?1:n.y===e.y&&n.x===e.x?0:-1})}function BL(t){return[].concat(t).sort(function(n,e){return n.x>e.x||n.x===e.x&&n.y>e.y?1:-1})}function Au(...t){IL&&console.log(...t)}var fl;function jL(){if(fl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fl=!0}))}finally{fl=fl||!1}return fl}function Fu(t){return jL()?t:!!t.capture}var VL=Fu({passive:!0}),Hk=Fu({passive:!1}),Iu=null;function Yg(){if(Iu!=null)return Iu;let t=/Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent),n=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return Iu=t||n,Iu}function Ru(t){return t.clientX!=null}function yl(t){return Ru(t)?t.clientX:t.touches[0].clientX}function bl(t){return Ru(t)?t.clientY:t.touches[0].clientY}function Ik(t){return{clientX:Ru(t)?t.clientX:t.touches[0].clientX,clientY:Ru(t)?t.clientY:t.touches[0].clientY}}function Pk(t){return t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse"}function Kg(){return!!window.PointerEvent}function HL(t,n=1){return ea(()=>Yg(),Jt(t,"touchstart",VL).pipe(Pe(e=>e.touches.length===n)),Jt(t,"mousedown",Hk).pipe(Pe(e=>e.button===0)))}function UL(t,n=1){return Et(Jt(t,"touchend").pipe(Pe(e=>e.touches.length===n-1)),Jt(t,"touchcancel").pipe(Pe(e=>e.touches.length===n-1)))}function qL(t,n=1){return ea(()=>Yg(),UL(t,n),Jt(t,"mouseup"))}function Pu(t){return Kg()?Jt(t,"pointerdown",Hk).pipe(Pe(n=>n.isPrimary)):HL(t)}function qg(t){return Kg()?Jt(t,"pointerup").pipe(Pe(n=>n.isPrimary)):qL(t)}function Uk(t,n){return n.id}function Nu(t,n,e){let i=t.reduce((a,s)=>Math.max(a,Math.max(s.y+s.h,0)),0),r=(i-1)*e;return(n-r)/i}function zL(t,n,e,i){let o=(e-i*(n-1))/n,s=(e-o)/(n-1);return Math.round(t/s)}function $L(t,n,e,i){return Math.round(t/(n+i))}function GL(t,n,e,i){let o=(e-i*(n-1))/n,a=t-o;return Math.round(a/(o+i))+1}function WL(t,n,e,i){let r=t-n;return Math.round(r/(n+i))+1}function YL(t,n,e,i){let{pointerDownEvent:r,pointerDragEvent:o,gridElemClientRect:a,dragElemClientRect:s,scrollDifference:l}=i,c=t.id,h=n.layout.find(wn=>wn.id===c),f=yl(r),g=bl(r),v=yl(o),_=bl(o),C=f-s.left,T=g-s.top,B=a.left+l.left,W=a.top+l.top,ne=v-B-C,Q=_-W-T,Ge=n.rowHeight==="fit"?Nu(n.layout,n.height??a.height,n.gap):n.rowHeight,Ie=ke(j({},h),{x:zL(ne,n.cols,a.width,n.gap),y:$L(Q,Ge,a.height,n.gap)});Ie.x=Math.max(0,Ie.x),Ie.y=Math.max(0,Ie.y),Ie.x+Ie.w>n.cols&&(Ie.x=Math.max(0,n.cols-Ie.w));let Ze=n.layout,ht=Ze.find(wn=>wn.id===c),ai=Ug(Ze,ht,Ie.x,Ie.y,!0,n.preventCollision,e,n.cols);return ai=Wg(ai,e,n.cols),{layout:ai,draggedItemPos:{top:Q,left:ne,width:s.width,height:s.height}}}function KL(t,n,e,i){let{pointerDownEvent:r,pointerDragEvent:o,gridElemClientRect:a,dragElemClientRect:s,scrollDifference:l}=i,c=t.id,h=yl(r),f=bl(r),g=yl(o),v=bl(o),_=s.width-(h-s.left),C=s.height-(f-s.top),T=n.layout.find(Ie=>Ie.id===c),B=g+_-(s.left+l.left),W=v+C-(s.top+l.top),ne=n.rowHeight==="fit"?Nu(n.layout,n.height??a.height,n.gap):n.rowHeight,Q=ke(j({},T),{w:GL(B,n.cols,a.width,n.gap),h:WL(W,ne,a.height,n.gap)});if(Q.w=Ak(Q.w,t.minW??Q.minW,t.maxW??Q.maxW),Q.h=Ak(Q.h,t.minH??Q.minH,t.maxH??Q.maxH),Q.x+Q.w>n.cols&&(Q.w=Math.max(1,n.cols-Q.x)),n.preventCollision){let Ie=Q.w,Ze=Q.h,ht=qa(n.layout,Q),ai;for(;ht;)ai=QL(Q,ai),Q[ai]--,ht=qa(n.layout,Q);if(ai==="w")for(Q.h=Ze,ht=qa(n.layout,Q);ht;)Q.h--,ht=qa(n.layout,Q);if(ai==="h")for(Q.w=Ie,ht=qa(n.layout,Q);ht;)Q.w--,ht=qa(n.layout,Q)}let Ge=n.layout.map(Ie=>Ie.id===c?Q:Ie);return{layout:Wg(Ge,e,n.cols),draggedItemPos:{top:s.top-a.top,left:s.left-a.left,width:B,height:W}}}function qa(t,n){return!!za(t,n)}function QL(t,n){return t.h<=1?"w":t.w<=1||n==="w"?"h":"w"}function Ak(t,n=1,e=1/0){return Math.min(Math.max(t,n<1?1:n),e)}function ZL(t,n){return t.id===n.id&&t.x===n.x&&t.y===n.y&&t.w===n.w&&t.h===n.h}var qk=new $("KtdGridDragHandle"),zk=(()=>{class t{constructor(e){this.element=e}static{this.\u0275fac=function(i){return new(i||t)(k(me))}}static{this.\u0275dir=Me({type:t,selectors:[["","ktdGridDragHandle",""]],hostAttrs:[1,"ktd-grid-drag-handle"],features:[ni([{provide:qk,useExisting:t}])]})}}return t})(),XL=new $("KtdGridResizeHandle");var JL=new $("KtdGridItemPlaceholder");function Ou(t){return t!=null&&`${t}`!="false"}function vl(t,n=0){return e2(t)?Number(t):n}function e2(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}var $k=new $("GRID_ITEM_GET_RENDER_DATA_TOKEN");function t2(t){return n=>new le(e=>t.runOutsideAngular(()=>n.subscribe(e)))}function i2(){return t=>t.pipe(Pe(()=>!1))}var Bg=Fu({passive:!1,capture:!0}),Qg=(()=>{class t{constructor(e){this.ngZone=e,this.touchMoveSubject=new H,this.touchMove$=this.touchMoveSubject.asObservable(),this.registerTouchMoveSubscription()}ngOnDestroy(){this.touchMoveSubscription.unsubscribe()}mouseOrTouchMove$(e){return Kg()?Jt(e,"pointermove",Bg):ea(()=>Yg(),this.touchMove$,Jt(e,"mousemove",Bg))}registerTouchMoveSubscription(){this.touchMoveSubscription=this.ngZone.runOutsideAngular(()=>Jt(document,"touchmove",Bg).pipe(Pe(e=>e.touches.length===1)).subscribe(e=>this.touchMoveSubject.next(e)))}static{this.\u0275fac=function(i){return new(i||t)(x(te))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zg=(()=>{class t{get id(){return this._id}set id(e){this._id=e}get dragStartThreshold(){return this._dragStartThreshold}set dragStartThreshold(e){this._dragStartThreshold=vl(e)}get draggable(){return this._draggable}set draggable(e){this._draggable=Ou(e),this._draggable$.next(this._draggable)}get resizable(){return this._resizable}set resizable(e){this._resizable=Ou(e),this._resizable$.next(this._resizable)}constructor(e,i,r,o,a){this.elementRef=e,this.gridService=i,this.renderer=r,this.ngZone=o,this.getItemRenderData=a,this.transition="transform 500ms ease, width 500ms ease, height 500ms ease",this._dragStartThreshold=0,this._draggable=!0,this._draggable$=new vt(this._draggable),this._manualDragEvents$=new H,this._resizable=!0,this._resizable$=new vt(this._resizable),this.dragStartSubject=new H,this.resizeStartSubject=new H,this.subscriptions=[],this.dragStart$=this.dragStartSubject.asObservable(),this.resizeStart$=this.resizeStartSubject.asObservable()}ngOnInit(){let e=this.getItemRenderData(this.id);this.setStyles(e)}ngAfterContentInit(){this.subscriptions.push(this._dragStart$().subscribe(this.dragStartSubject),this._resizeStart$().subscribe(this.resizeStartSubject))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}startDragManually(e){this._manualDragEvents$.next(e)}setStyles({top:e,left:i,width:r,height:o}){this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translateX(${i}) translateY(${e})`),this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.renderer.setStyle(this.elementRef.nativeElement,"transition",this.transition),r!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"width",r),o!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"height",o)}_dragStart$(){return Et(this._manualDragEvents$,this._draggable$.pipe(yt(e=>e?this._dragHandles.changes.pipe(Dt(this._dragHandles),yt(i=>ea(()=>i.length>0,Et(...i.toArray().map(r=>Pu(r.element.nativeElement))),Pu(this.elementRef.nativeElement)))):ta))).pipe(vs(e=>{Pk(e)&&e.preventDefault();let i=Ik(e);return this.gridService.mouseOrTouchMove$(document).pipe(ct(qg(document)),t2(this.ngZone),Pe(r=>{r.preventDefault();let o=Ik(r),a=Math.abs(i.clientX-o.clientX),s=Math.abs(i.clientY-o.clientY);return a+s>=this.dragStartThreshold}),mt(1),J(()=>e))}))}_resizeStart$(){return this._resizable$.pipe(yt(e=>e?this._resizeHandles.changes.pipe(Dt(this._resizeHandles),yt(i=>i.length>0?(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),Et(...i.toArray().map(r=>Pu(r.element.nativeElement)))):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","block"),Pu(this.resizeElem.nativeElement))),st(i=>{Pk(i)&&i.preventDefault()})):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),ta)))}static{this.\u0275fac=function(i){return new(i||t)(k(me),k(Qg),k(Wt),k(te),k($k))}}static{this.\u0275cmp=U({type:t,selectors:[["ktd-grid-item"]],contentQueries:function(i,r,o){if(i&1&&(hn(o,JL,5),hn(o,qk,5),hn(o,XL,5)),i&2){let a;Xe(a=Je())&&(r.placeholder=a.first),Xe(a=Je())&&(r._dragHandles=a),Xe(a=Je())&&(r._resizeHandles=a)}},viewQuery:function(i,r){if(i&1&&kt(TL,7,me),i&2){let o;Xe(o=Je())&&(r.resizeElem=o.first)}},inputs:{minW:"minW",minH:"minH",maxW:"maxW",maxH:"maxH",transition:"transition",id:"id",dragStartThreshold:"dragStartThreshold",draggable:"draggable",resizable:"resizable"},ngContentSelectors:jk,decls:3,vars:0,consts:[["resizeElem",""],[1,"grid-item-resize-icon"]],template:function(i,r){i&1&&(ji(),Si(0),F(1,"div",1,0))},styles:['[_nghost-%COMP%]{display:none;position:absolute;z-index:1;overflow:hidden;touch-action:none}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none;z-index:10}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]{cursor:se-resize;width:20px;height:20px;bottom:0;right:0;color:inherit}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid;border-bottom:2px solid}.display-none[_ngcontent-%COMP%]{display:none!important}'],changeDetection:0})}}return t})();function zg(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}var Gk=.05;function Rk(t,n){t===window?t.scrollBy(0,n):t.scrollTop+=n}function Ok(t,n){t===window?t.scrollBy(n,0):t.scrollLeft+=n}function n2(t,n){let{top:e,bottom:i,height:r}=t,o=r*Gk;return n>=e-o&&n<=e+o?1:n>=i-o&&n<=i+o?2:0}function r2(t,n){let{left:e,right:i,width:r}=t,o=r*Gk;return n>=e-o&&n<=e+o?1:n>=i-o&&n<=i+o?2:0}function o2(t,n,e,i=2){return gs(0,Zo).pipe(st(()=>{n===1?Rk(t,-i):n===2&&Rk(t,i),e===1?Ok(t,-i):e===2&&Ok(t,i)}),i2())}function a2(t,n){let e,i,r;if(t===document){e=document.defaultView;let{width:o,height:a}=l2();i={width:o,height:a,top:0,right:o,bottom:a,left:0},r=c2()}else e=t,i=zg(t),r=t.scrollWidth;return n=n||{},n.disableHorizontal==null&&r<=i.width&&(n.disableHorizontal=!0),o=>o.pipe(J(({pointerX:a,pointerY:s})=>{let l=n2(i,s),c=r2(i,a);return n?.disableVertical&&(l=0),n?.disableHorizontal&&(c=0),{verticalScrollDirection:l,horizontalScrollDirection:c}}),ia((a,s)=>a.verticalScrollDirection===s.verticalScrollDirection&&a.horizontalScrollDirection===s.horizontalScrollDirection),yt(({verticalScrollDirection:a,horizontalScrollDirection:s})=>a||s?o2(e,a,s,n?.scrollStep):ta))}function s2(t){let n;return t===document?n=Fk():n={top:t.scrollTop,left:t.scrollLeft},Jt(t,"scroll",Fu({capture:!0})).pipe(J(()=>{let e,i;if(t===document){let a=Fk();e=a.top,i=a.left}else e=t.scrollTop,i=t.scrollLeft;let r=n.top-e,o=n.left-i;return{top:r,left:o}}))}function l2(){let t=document.defaultView||window;return{width:t.innerWidth,height:t.innerHeight}}function Fk(){let t=document.defaultView||window,n=document.documentElement,e=n.getBoundingClientRect(),i=-e.top||document.body.scrollTop||t.scrollY||n.scrollTop||0,r=-e.left||document.body.scrollLeft||t.scrollX||n.scrollLeft||0;return{top:i,left:r}}function c2(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)}function Nk(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function d2(t){let n=getComputedStyle(t),e=jg(n,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=jg(n,"transition-duration"),a=jg(n,"transition-delay");return Nk(o[r])+Nk(a[r])}function jg(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}function Vg(t,n){return{layout:n,layoutItem:n.find(e=>e.id===t.id),gridItemRef:t}}function u2(t,n){let{cols:e,gap:i}=t;return(n-Math.max(i*(e-1),0))/e}function Wk(t,n){let{rowHeight:e,layout:i,gap:r}=t;return e==="fit"?Nu(i,n,r):e}function Lk(t,n,e){let{layout:i,gap:r}=t,o=Wk(t,e),a=u2(t,n),s={};for(let l of i)s[l.id]={id:l.id,top:l.y*o+r*l.y,left:l.x*a+r*l.x,width:l.w*a+r*Math.max(l.w-1,0),height:l.h*o+r*Math.max(l.h-1,0)};return s}function Bk(t,n,e){return t.reduce((i,r)=>Math.max(i,(r.y+r.h)*n+Math.max(r.y+r.h-1,0)*e),0)}function $g(t){return{id:t.id,top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`}}function h2(t){return function(n){return $g(t.getItemRenderData(n))}}function m2(t){return h2(t)}var gl={borderColor:"#ffa72678",gapColor:"transparent",rowColor:"transparent",columnColor:"transparent",borderWidth:1},Xg=(()=>{class t{get compactOnPropsChange(){return this._compactOnPropsChange}set compactOnPropsChange(e){this._compactOnPropsChange=Ou(e)}get preventCollision(){return this._preventCollision}set preventCollision(e){this._preventCollision=Ou(e)}get scrollSpeed(){return this._scrollSpeed}set scrollSpeed(e){this._scrollSpeed=vl(e,2)}get compactType(){return this._compactType}set compactType(e){this._compactType=e}get rowHeight(){return this._rowHeight}set rowHeight(e){this._rowHeight=e==="fit"?e:Math.max(1,Math.round(vl(e)))}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(vl(e)))}get layout(){return this._layout}set layout(e){this._layout=e}get gap(){return this._gap}set gap(e){this._gap=Math.max(vl(e),0)}get height(){return this._height}set height(e){this._height=typeof e=="number"?Math.max(e,0):null}get backgroundConfig(){return this._backgroundConfig}set backgroundConfig(e){this._backgroundConfig=e;let i=this.elementRef.nativeElement.classList;this._backgroundConfig!==null?i.add("ktd-grid-background"):i.remove("ktd-grid-background"),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")}get config(){return{cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:this.layout,preventCollision:this.preventCollision,gap:this.gap}}constructor(e,i,r,o,a){this.gridService=e,this.elementRef=i,this.viewContainerRef=r,this.renderer=o,this.ngZone=a,this.layoutUpdated=new de,this.dragStarted=new de,this.resizeStarted=new de,this.dragEnded=new de,this.resizeEnded=new de,this.gridItemResize=new de,this.scrollableParent=null,this._compactOnPropsChange=!0,this._preventCollision=!1,this._scrollSpeed=2,this._compactType="vertical",this._rowHeight=100,this._cols=6,this._gap=0,this._height=null,this._backgroundConfig=null,this.subscriptions=[]}ngOnChanges(e){this.rowHeight==="fit"&&this.height==null&&console.warn("KtdGridComponent: The @Input() height should not be null when using rowHeight 'fit'");let i=!1,r=!1;(e.compactType||e.cols||e.layout)&&(i=!0),(i||e.rowHeight||e.height||e.gap||e.backgroundConfig)&&(r=!0),i&&this.compactOnPropsChange&&this.compactLayout(),r&&this.calculateRenderData()}ngAfterContentInit(){this.initSubscriptions()}ngAfterContentChecked(){this.render()}resize(){this.calculateRenderData(),this.render()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}compactLayout(){this.layout=Wg(this.layout,this.compactType,this.cols)}getItemsRenderData(){return j({},this._gridItemsRenderData)}getItemRenderData(e){return this._gridItemsRenderData[e]}calculateRenderData(){let e=this.elementRef.nativeElement.getBoundingClientRect();this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?e.height:Bk(this.layout,this.rowHeight,this.gap)),this._gridItemsRenderData=Lk(this.config,e.width,this.gridCurrentHeight),this.setBackgroundCssVariables(Wk(this.config,this.gridCurrentHeight))}render(){this.renderer.setStyle(this.elementRef.nativeElement,"height",`${this.gridCurrentHeight}px`),this.updateGridItemsStyles()}setBackgroundCssVariables(e){let i=this.elementRef.nativeElement.style;this._backgroundConfig?(i.setProperty("--gap",this.gap+"px"),i.setProperty("--row-height",e+"px"),i.setProperty("--columns",`${this.cols}`),i.setProperty("--border-width",(this._backgroundConfig.borderWidth??gl.borderWidth)+"px"),i.setProperty("--border-color",this._backgroundConfig.borderColor??gl.borderColor),i.setProperty("--gap-color",this._backgroundConfig.gapColor??gl.gapColor),i.setProperty("--row-color",this._backgroundConfig.rowColor??gl.rowColor),i.setProperty("--column-color",this._backgroundConfig.columnColor??gl.columnColor)):(i.removeProperty("--gap"),i.removeProperty("--row-height"),i.removeProperty("--columns"),i.removeProperty("--border-width"),i.removeProperty("--border-color"),i.removeProperty("--gap-color"),i.removeProperty("--row-color"),i.removeProperty("--column-color"))}updateGridItemsStyles(){this._gridItems.forEach(e=>{let i=this._gridItemsRenderData[e.id];i==null?console.error(`Couldn't find the specified grid item for the id: ${e.id}`):e.setStyles($g(i))})}setGridBackgroundVisible(e){let i=this.elementRef.nativeElement.classList;e?i.add("ktd-grid-background-visible"):i.remove("ktd-grid-background-visible")}initSubscriptions(){this.subscriptions=[this._gridItems.changes.pipe(Dt(this._gridItems),yt(e=>Et(...e.map(i=>i.dragStart$.pipe(J(r=>({event:r,gridItem:i,type:"drag"})))),...e.map(i=>i.resizeStart$.pipe(J(r=>({event:r,gridItem:i,type:"resize"}))))).pipe(vs(({event:i,gridItem:r,type:o})=>(this.ngZone.run(()=>(o==="drag"?this.dragStarted:this.resizeStarted).emit(Vg(r,this.layout))),this.setGridBackgroundVisible(this._backgroundConfig?.show==="whenDragging"||this._backgroundConfig?.show==="always"),this.performDragSequence$(r,i,o).pipe(J(a=>({layout:a,gridItem:r,type:o})))))))).subscribe(({layout:e,gridItem:i,type:r})=>{this.layout=e,this.calculateRenderData(),(r==="drag"?this.dragEnded:this.resizeEnded).emit(Vg(i,e)),this.layoutUpdated.emit(e),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")})]}performDragSequence$(e,i,r){return new le(o=>{let a=zg(this.elementRef.nativeElement),s=zg(e.elementRef.nativeElement),l=typeof this.scrollableParent=="string"?document.getElementById(this.scrollableParent):this.scrollableParent;this.renderer.addClass(e.elementRef.nativeElement,"no-transitions"),this.renderer.addClass(e.elementRef.nativeElement,"ktd-grid-item-dragging");let c=ke(j({},s),{left:s.left-a.left,top:s.top-a.top});this.createPlaceholderElement(c,e.placeholder);let h,f=this.ngZone.runOutsideAngular(()=>(l?this.gridService.mouseOrTouchMove$(document).pipe(J(v=>({pointerX:yl(v),pointerY:bl(v)})),a2(l,{scrollStep:this.scrollSpeed})):ta).pipe(ct(qg(document))).subscribe()),g=this.ngZone.runOutsideAngular(()=>Et(zn([this.gridService.mouseOrTouchMove$(document),...l?[s2(l).pipe(Dt({top:0,left:0}))]:[ie({top:0,left:0})]])).pipe(ct(qg(document))).subscribe(([v,_])=>{v.preventDefault();let C=h||this.layout,T=r==="drag"?YL:KL,{layout:B,draggedItemPos:W}=T(e,{layout:C,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:i,pointerDragEvent:v,gridElemClientRect:a,dragElemClientRect:s,scrollDifference:_});h=B,this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?a.height:Bk(h,this.rowHeight,this.gap)),this._gridItemsRenderData=Lk({cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:h,preventCollision:this.preventCollision,gap:this.gap},a.width,a.height);let ne=j({},this._gridItemsRenderData[e.id]),Q=$g(ne);if(this.placeholder.style.width=Q.width,this.placeholder.style.height=Q.height,this.placeholder.style.transform=`translateX(${Q.left}) translateY(${Q.top})`,this._gridItemsRenderData[e.id]=ke(j({},W),{id:this._gridItemsRenderData[e.id].id}),this.setBackgroundCssVariables(this.rowHeight==="fit"?Nu(h,a.height,this.gap):this.rowHeight),this.render(),r==="resize"){let Ge=C.find(Ze=>Ze.id===e.id),Ie=h.find(Ze=>Ze.id===e.id);ZL(Ge,Ie)||this.gridItemResize.emit({width:ne.width,height:ne.height,gridItemRef:Vg(e,h).gridItemRef})}},v=>o.error(v),()=>{this.ngZone.run(()=>{this.renderer.removeClass(e.elementRef.nativeElement,"no-transitions"),this.renderer.removeClass(e.elementRef.nativeElement,"ktd-grid-item-dragging"),this.addGridItemAnimatingClass(e).subscribe(),this.destroyPlaceholder(),h?o.next(h.map(v=>({id:v.id,x:v.x,y:v.y,w:v.w,h:v.h,minW:v.minW,minH:v.minH,maxW:v.maxW,maxH:v.maxH}))):o.next(this.layout),o.complete()})}));return()=>{f.unsubscribe(),g.unsubscribe()}})}addGridItemAnimatingClass(e){return new le(i=>{let r=d2(e.elementRef.nativeElement);if(r===0){i.next(),i.complete();return}this.renderer.addClass(e.elementRef.nativeElement,"ktd-grid-item-animating");let o=l=>{(!l||l.target===e.elementRef.nativeElement&&l.propertyName==="transform")&&(this.renderer.removeClass(e.elementRef.nativeElement,"ktd-grid-item-animating"),s(),clearTimeout(a),i.next(),i.complete())},a=setTimeout(o,r*1.5),s=this.renderer.listen(e.elementRef.nativeElement,"transitionend",o)})}createPlaceholderElement(e,i){this.placeholder=this.renderer.createElement("div"),this.placeholder.style.width=`${e.width}px`,this.placeholder.style.height=`${e.height}px`,this.placeholder.style.transform=`translateX(${e.left}px) translateY(${e.top}px)`,this.placeholder.classList.add("ktd-grid-item-placeholder"),this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder),i?(this.placeholderRef=this.viewContainerRef.createEmbeddedView(i.templateRef,i.data),this.placeholderRef.rootNodes.forEach(r=>this.placeholder.appendChild(r)),this.placeholderRef.detectChanges()):this.placeholder.classList.add("ktd-grid-item-placeholder-default")}destroyPlaceholder(){this.placeholder?.remove(),this.placeholderRef?.destroy(),this.placeholder=this.placeholderRef=null}static{this.\u0275fac=function(i){return new(i||t)(k(Qg),k(me),k(li),k(Wt),k(te))}}static{this.\u0275cmp=U({type:t,selectors:[["ktd-grid"]],contentQueries:function(i,r,o){if(i&1&&hn(o,Zg,5),i&2){let a;Xe(a=Je())&&(r._gridItems=a)}},inputs:{scrollableParent:"scrollableParent",compactOnPropsChange:"compactOnPropsChange",preventCollision:"preventCollision",scrollSpeed:"scrollSpeed",compactType:"compactType",rowHeight:"rowHeight",cols:"cols",layout:"layout",gap:"gap",height:"height",backgroundConfig:"backgroundConfig"},outputs:{layoutUpdated:"layoutUpdated",dragStarted:"dragStarted",resizeStarted:"resizeStarted",dragEnded:"dragEnded",resizeEnded:"resizeEnded",gridItemResize:"gridItemResize"},features:[ni([{provide:$k,useFactory:m2,deps:[t]}]),Pi],ngContentSelectors:jk,decls:1,vars:0,template:function(i,r){i&1&&(ji(),Si(0))},styles:[`ktd-grid{display:block;position:relative;width:100%}ktd-grid.ktd-grid-background:before{content:"";border:none;position:absolute;inset:0;z-index:0;transition:opacity .2s;opacity:0;background-image:repeating-linear-gradient(var(--border-color) 0 var(--border-width),var(--row-color) var(--border-width) calc(var(--row-height) - var(--border-width)),var(--border-color) calc(var(--row-height) - var(--border-width)) calc(var(--row-height)),var(--gap-color) calc(var(--row-height)) calc(var(--row-height) + var(--gap))),repeating-linear-gradient(90deg,var(--border-color) 0 var(--border-width),var(--column-color) var(--border-width) calc(100% - (var(--border-width) + var(--gap))),var(--border-color) calc(100% - (var(--border-width) + var(--gap))) calc(100% - var(--gap)),var(--gap-color) calc(100% - var(--gap)) 100%);background-size:calc((100% + var(--gap)) / var(--columns)) calc(var(--row-height) + var(--gap));background-position:0 0}ktd-grid.ktd-grid-background.ktd-grid-background-visible:before{opacity:1}ktd-grid ktd-grid-item.ktd-grid-item-dragging,ktd-grid ktd-grid-item.ktd-grid-item-animating{z-index:1000}ktd-grid ktd-grid-item.no-transitions{transition:none!important}ktd-grid .ktd-grid-item-placeholder{position:absolute;z-index:0;transition-property:transform;transition:all .15s ease}ktd-grid .ktd-grid-item-placeholder-default{background-color:#8b0000;opacity:.6}
`],encapsulation:2,changeDetection:0})}}return t})(),Yk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=De({type:t})}static{this.\u0275inj=Ee({providers:[Qg]})}}return t})();function p2(t,n){if(t&1){let e=V();d(0,"input",19),w("change",function(r){E(e);let o=y();return D(o.pauseOnDeath(r))}),u()}if(t&2){let e=y();R("checked",e.activityService.pauseOnDeath)}}function f2(t,n){t&1&&(d(0,"label",2),p(1,"Pause on Death"),u())}function g2(t,n){if(t&1){let e=V();d(0,"input",20),w("change",function(r){E(e);let o=y(2);return D(o.pauseBeforeDeath(r))}),u(),d(1,"label",21),p(2,"Pause Before Death - This will pause one day before the end of your expected lifespan."),u()}if(t&2){let e=y(2);R("checked",e.activityService.pauseBeforeDeath)}}function v2(t,n){if(t&1&&(d(0,"div")(1,"span"),L(2,g2,3,1),u()()),t&2){let e=y();m(2),M(e.activityService.autoRestart?2:-1)}}var Kk=(()=>{class t{constructor(e){this.activityService=e}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(k(Ne))}}static{this.\u0275cmp=U({type:t,selectors:[["app-time-options-panel"]],decls:44,vars:3,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnDeath",3,"checked"],["for","pauseOnDeath"],[1,"saveButtonBar"],[1,"saveButtonGroup"],["tooltip","Save your current schedule of actviities (Schedule #1).",1,"saveButton",3,"click"],["aria-label","Save Schedule 1","aria-hidden","false",1,"iconButton","saveIcon"],[1,"saveSlot"],["tooltip","Save your current schedule of actviities (Schedule #2).",1,"saveButton",3,"click"],["aria-label","Save Schedule 2","aria-hidden","false",1,"iconButton","saveIcon"],["tooltip","Save your current schedule of actviities (Schedule #3).",1,"saveButton",3,"click"],["aria-label","Save Schedule 3","aria-hidden","false",1,"iconButton","saveIcon"],["tooltip","Load your saved schedule of actviities (Schedule #1). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 1","aria-hidden","false",1,"iconButton","saveIcon"],["tooltip","Load your saved schedule of actviities (Schedule #2). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 2","aria-hidden","false",1,"iconButton","saveIcon"],["tooltip","Load your saved schedule of actviities (Schedule #3). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 3","aria-hidden","false",1,"iconButton","saveIcon"],["tooltip","Clear your current schedule.","aria-label","Clear Schedule","aria-hidden","false",1,"iconButton","saveIcon",3,"click"],["type","checkbox","id","pauseOnDeath",3,"change","checked"],["type","checkbox","id","pauseBeforeDeath",3,"change","checked"],["for","pauseBeforeDeath"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Schedule Options"),u(),F(3,"hr"),d(4,"div")(5,"span"),L(6,p2,1,1,"input",1)(7,f2,2,0,"label",2),u()(),L(8,v2,3,1,"div"),d(9,"div",3)(10,"div",4)(11,"div",5),w("click",function(){return r.activityService.saveActivityLoop()}),d(12,"mat-icon",6),p(13," content_paste "),u(),d(14,"div",7),p(15,"1"),u()(),d(16,"div",8),w("click",function(){return r.activityService.saveActivityLoop(2)}),d(17,"mat-icon",9),p(18," content_paste "),u(),d(19,"div",7),p(20,"2"),u()(),d(21,"div",10),w("click",function(){return r.activityService.saveActivityLoop(3)}),d(22,"mat-icon",11),p(23," content_paste "),u(),d(24,"div",7),p(25,"3"),u()()(),d(26,"div",4)(27,"div",12),w("click",function(){return r.activityService.loadActivityLoop()}),d(28,"mat-icon",13),p(29," content_paste_go "),u(),d(30,"div",7),p(31,"1"),u()(),d(32,"div",14),w("click",function(){return r.activityService.loadActivityLoop(2)}),d(33,"mat-icon",15),p(34," content_paste_go "),u(),d(35,"div",7),p(36,"2"),u()(),d(37,"div",16),w("click",function(){return r.activityService.loadActivityLoop(3)}),d(38,"mat-icon",17),p(39," content_paste_go "),u(),d(40,"div",7),p(41,"3"),u()()(),d(42,"mat-icon",18),w("click",function(){return r.activityService.activityLoop=[]}),p(43," delete_sweep "),u()()()),i&2&&(m(6),M(r.activityService.autoRestart?6:-1),m(),M(r.activityService.autoRestart?7:-1),m(),M(r.activityService.autoPauseUnlocked?8:-1))},dependencies:()=>[Ye],styles:[".saveSlot[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:9px;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);font-size:10px;border-radius:3px;z-index:1;color:var(--bodyText)}.saveButton[_ngcontent-%COMP%]{width:30px;height:30px;overflow:hidden;position:relative}.saveIcon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.saveButtonBar[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:90%}.saveButtonGroup[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function ux(t){let n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?Xk(t,n):(i==="input"||i==="select"||i==="textarea")&&Zk(t,n),Qk("canvas",t,n,Xk),Qk("input, textarea, select",t,n,Zk),n}function Qk(t,n,e,i){let r=n.querySelectorAll(t);if(r.length){let o=e.querySelectorAll(t);for(let a=0;a<r.length;a++)i(r[a],o[a])}}var y2=0;function Zk(t,n){n.type!=="file"&&(n.value=t.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${y2++}`)}function Xk(t,n){let e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function av(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function tv(t,n,e){let{top:i,bottom:r,left:o,right:a}=t;return e>=i&&e<=r&&n>=o&&n<=a}function wl(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function Jk(t,n,e,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=t,h=l*n,f=c*n;return i>r-f&&i<a+f&&e>s-h&&e<o+h}var Lu=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:av(e)})})}handleScroll(n){let e=ci(n),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,h)=>{c.clientRect&&e!==h&&e.contains(h)&&wl(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function hx(t,n){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let i=n.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function sv(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];r?t.setProperty(i,r,e?.has(i)?"important":""):t.removeProperty(i)}return t}function $a(t,n){let e=n?"":"none";sv(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ex(t,n,e){sv(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Bu(t,n){return n&&n!="none"?t+" "+n:t}function tx(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=ju(n.left,n.top)}function ju(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function ix(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function b2(t){let n=getComputedStyle(t),e=Jg(n,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=Jg(n,"transition-duration"),a=Jg(n,"transition-delay");return ix(o[r])+ix(a[r])}function Jg(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}var _2=new Set(["position"]),iv=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,i,r,o,a,s,l,c,h){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),nx(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return b2(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,i=n?n.template:null,r;if(i&&n){let o=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),r=hx(a,this._document),this._previewEmbeddedView=a,n.matchSize?tx(r,o):r.style.transform=ju(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=ux(this._rootElement),tx(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return sv(r.style,{"pointer-events":"none",margin:nx(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},_2),$a(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function nx(t){return"showPopover"in t}var S2={passive:!0},rx={passive:!1},w2={passive:!1,capture:!0},C2=800,ox=new Set(["position"]),nv=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=go(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new H;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=_e.EMPTY;_pointerUpSubscription=_e.EMPTY;_scrollSubscription=_e.EMPTY;_resizeSubscription=_e.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>$a(e,n)))}_disabled=!1;beforeStarted=new H;started=new H;released=new H;ended=new H;entered=new H;exited=new H;dropped=new H;moved=this._moveEvents;data;constrainPosition;constructor(n,e,i,r,o,a,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Lu(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>Qt(i)),this._handles.forEach(i=>$a(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=Qt(n);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[At(this._renderer,e,"mousedown",this._pointerDown,rx),At(this._renderer,e,"touchstart",this._pointerDown,S2),At(this._renderer,e,"dragstart",this._nativeDragStart,rx)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Qt(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),$a(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),$a(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!s){this._endDragSequence(n);return}(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){_l(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=At(this._renderer,e,"selectstart",k2,w2)}),i){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new iv(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),ex(r,!1,ox),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=_l(e),o=!r&&e.button!==0,a=this._rootElement,s=ci(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+C2>Date.now(),c=r?el(e):Js(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){let g=a.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=av(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){ex(this._rootElement,!0,ox),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(n),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,n,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=s=>{(!s||this._preview&&ci(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=hx(this._placeholderRef,this._document)):i=ux(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():n,a=_l(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-n.left+l,y:o.top-n.top+c}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),i=_l(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=s.top+a,f=s.bottom-(c-a),g=s.left+o,v=s.right-(l-o);i=ax(i,g,v),r=ax(r,h,f)}return{x:i,y:r}}_updatePointerDirectionDelta(n){let{x:e,y:i}=n,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,$a(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let i=1/this.scale,r=ju(n*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Bu(r,this._initialTransform)}_applyPreviewTransform(n,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=ju(n,e);this._preview.setTransform(Bu(r,i))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(n+=o),a>0&&(n-=a)):n=0,r.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:_l(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let i=ci(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&wl(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Oa(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let i=this._previewContainer||"global";if(i==="parent")return n;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Qt(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}};function ax(t,n,e){return Math.max(n,Math.min(e,t))}function _l(t){return t.type[0]==="t"}function k2(t){t.preventDefault()}function mx(t,n,e){let i=sx(n,t.length-1),r=sx(e,t.length-1);if(i===r)return;let o=t[i],a=r<i?-1:1;for(let s=i;s!==r;s+=a)t[s]=t[s+a];t[r]=o}function sx(t,n){return Math.max(0,Math.min(n,t))}var Vu=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,i,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,i,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(T=>T.drag===n),c=o[a],h=o[l].clientRect,f=c.clientRect,g=l>a?1:-1,v=this._getItemOffsetPx(h,f,g),_=this._getSiblingOffsetPx(l,o,g),C=o.slice();return mx(o,l,a),o.forEach((T,B)=>{if(C[B]===T)return;let W=T.drag===n,ne=W?v:_,Q=W?n.getPlaceholderElement():T.drag.getRootElement();T.offset+=ne;let Ge=Math.round(T.offset*(1/T.drag.scale));s?(Q.style.transform=Bu(`translate3d(${Ge}px, 0, 0)`,T.initialTransform),wl(T.clientRect,0,ne)):(Q.style.transform=Bu(`translate3d(0, ${Ge}px, 0)`,T.initialTransform),wl(T.clientRect,ne,0))}),this._previousSwap.overlaps=tv(f,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(n,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,i):r,a=this._activeDraggables,s=a.indexOf(n),l=n.getPlaceholderElement(),c=a[o];if(c===n&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let h=c.getRootElement();h.parentElement.insertBefore(l,h),a.splice(o,0,n)}else this._element.appendChild(l),a.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{wl(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:av(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,e,i){let r=this.orientation==="horizontal",o=r?e.left-n.left:e.top-n.top;return i===-1&&(o+=r?e.width-n.width:e.height-n.height),o}_getSiblingOffsetPx(n,e,i){let r=this.orientation==="horizontal",o=e[n].clientRect,a=e[n+i*-1],s=o[r?"width":"height"]*i;if(a){let l=r?"left":"top",c=r?"right":"bottom";i===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return r?n>=a.right:e>=a.bottom}else{let a=i[0].clientRect;return r?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,i,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===n)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},rv=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(n)}sort(n,e,i,r){let o=this._getItemIndexFromPointerPosition(n,e,i),a=this._previousSwap;if(o===-1||this._activeItems[o]===n)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(n),c=n.getPlaceholderElement(),h=s.getRootElement();o>l?h.after(c):h.before(c),mx(this._activeItems,l,o);let f=this._getRootNode().elementFromPoint(e,i);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=h===f||h.contains(f),{previousIndex:l,currentIndex:o}}enter(n,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,i):r;o===-1&&(o=this._getClosestItemIndexToPointer(n,e,i));let a=this._activeItems[o],s=this._activeItems.indexOf(n);s>-1&&this._activeItems.splice(s,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(o,0,n),a.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===n&&r.nextSibling!==o&&(o===null?n.appendChild(r):o.parentNode===n&&n.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,n)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Oa(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==n){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),h=Math.hypot(e-l,i-c);h<r&&(r=h,o=a)}}return o}},lx=.05,px=.05,nn=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(nn||{}),xi=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(xi||{}),ov=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new H;entered=new H;exited=new H;dropped=new H;sorted=new H;receivingStarted=new H;receivingStopped=new H;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=_e.EMPTY;_verticalScrollDirection=nn.NONE;_horizontalScrollDirection=xi.NONE;_scrollNode;_stopScrollTimers=new H;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=Qt(n);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Lu(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,r,o,a,s,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>n.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof Vu&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new rv(this._document,this._dragDropRegistry);else{let e=new Vu(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=Qt(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,r){if(this.sortingDisabled||!this._domRect||!Jk(this._domRect,lx,e,i))return;let o=this._sortStrategy.sort(n,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,r=nn.NONE,o=xi.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||Jk(a.clientRect,lx,n,e)&&([r,o]=x2(s,a.clientRect,this._direction,n,e),(r||o)&&(i=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=fx(l,e),o=gx(l,n),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),gs(0,Zo).pipe(ct(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===nn.UP?n.scrollBy(0,-e):this._verticalScrollDirection===nn.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===xi.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===xi.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&tv(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(r=>r._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!tv(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(n,e){let i=this._activeSiblings;!i.has(n)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=Oa(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function fx(t,n){let{top:e,bottom:i,height:r}=t,o=r*px;return n>=e-o&&n<=e+o?nn.UP:n>=i-o&&n<=i+o?nn.DOWN:nn.NONE}function gx(t,n){let{left:e,right:i,width:r}=t,o=r*px;return n>=e-o&&n<=e+o?xi.LEFT:n>=i-o&&n<=i+o?xi.RIGHT:xi.NONE}function x2(t,n,e,i,r){let o=fx(n,r),a=gx(n,i),s=nn.NONE,l=xi.NONE;if(o){let c=t.scrollTop;o===nn.UP?c>0&&(s=nn.UP):t.scrollHeight-c>t.clientHeight&&(s=nn.DOWN)}if(a){let c=t.scrollLeft;e==="rtl"?a===xi.RIGHT?c<0&&(l=xi.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=xi.LEFT):a===xi.LEFT?c>0&&(l=xi.LEFT):t.scrollWidth-c>t.clientWidth&&(l=xi.RIGHT)}return[s,l]}var Sl={capture:!0},ev={passive:!1,capture:!0},E2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return t})(),vx=(()=>{class t{_ngZone=b(te);_document=b(Se);_styleLoader=b(Hi);_renderer=b(Mt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=go([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new H;pointerUp=new H;scroll=new H;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=At(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,ev)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(E2),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this.scroll.next(s),Sl],["selectstart",this._preventDefaultWhileDragging,ev]];r?a.push(["touchend",o,Sl],["touchcancel",o,Sl]):a.push(["mouseup",o,Sl]),r||a.push(["mousemove",s=>this.pointerMove.next(s),ev]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>At(this._renderer,this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new le(r=>this._ngZone.runOutsideAngular(()=>{let o=At(this._renderer,e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},Sl);return()=>{o()}}))),Et(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),D2={dragStartThreshold:5,pointerDirectionChangeThreshold:5},lv=(()=>{class t{_document=b(Se);_ngZone=b(te);_viewportRuler=b(Eo);_dragDropRegistry=b(vx);_renderer=b(Mt).createRenderer(null,null);constructor(){}createDrag(e,i=D2){return new nv(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new ov(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cx=new $("CDK_DRAG_PARENT");var M2=new $("CdkDragHandle");var yx=new $("CDK_DRAG_CONFIG"),bx=new $("CdkDropList"),Bn=(()=>{class t{element=b(me);dropContainer=b(bx,{optional:!0,skipSelf:!0});_ngZone=b(te);_viewContainerRef=b(li);_dir=b(qi,{optional:!0});_changeDetectorRef=b(Kt);_selfHandle=b(M2,{optional:!0,self:!0});_parentDrag=b(cx,{optional:!0,skipSelf:!0});_dragDropRegistry=b(vx);_destroyed=new H;_handles=new vt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new de;released=new de;ended=new de;entered=new de;exited=new de;dropped=new de;moved=new le(e=>{let i=this._dragRef.moved.pipe(J(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=b(ee);constructor(){let e=this.dropContainer,i=b(yx,{optional:!0}),r=b(lv);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(ct(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){pi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Qt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:ar(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(mt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){e.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(st(e=>{let i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),yt(e=>Et(...e.map(i=>i._stateChanges.pipe(Dt(i))))),ct(this._destroyed)).subscribe(e=>{let i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&ft("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Qe],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Pr]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ni([{provide:cx,useExisting:t}]),Pi]})}return t})(),dx=new $("CdkDropListGroup");var jn=(()=>{class t{element=b(me);_changeDetectorRef=b(Kt);_scrollDispatcher=b(ll);_dir=b(qi,{optional:!0});_group=b(dx,{optional:!0,skipSelf:!0});_destroyed=new H;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=b(Ui).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new de;entered=new de;exited=new de;sorted=new de;_unsortedItems=new Set;constructor(){let e=b(lv),i=b(yx,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,a)=>this.sortPredicate(r,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Dt(this._dir.value),ct(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=Or(this.connectedTo).map(r=>{if(typeof r=="string"){let o=t._dropLists.find(a=>a.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{i.indexOf(r)===-1&&i.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=ar(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Et(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){i&2&&(Be("id",r.id),ft("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Qe],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Qe],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Qe],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ni([{provide:dx,useValue:void 0},{provide:bx,useExisting:t}])]})}return t})();var _x=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({providers:[lv],imports:[pu]})}return t})();function T2(t,n){if(t&1&&(d(0,"div",2),F(1,"img",3),u()),t&2){let e=y();m(),K("src",e.imageFile,Tt)}}var Ro=(()=>{class t{constructor(e){this.data=e,this.titleText="",this.bodyText="",this.imageFile="",this.titleText=e.titleText,this.bodyText=e.bodyText,this.imageFile=e.imageFile}static{this.\u0275fac=function(i){return new(i||t)(k(lr))}}static{this.\u0275cmp=U({type:t,selectors:[["app-text-panel"]],decls:8,vars:3,consts:[[1,"darkMode"],[1,"textDiv"],[1,"imageDiv"],["alt","An activity image goes here","width","160","height","200",3,"src"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2),u(),F(3,"hr"),d(4,"div",1)(5,"span"),p(6),u()(),L(7,T2,2,1,"div",2),u()),i&2&&(m(2),pe(r.titleText),m(4),A(" ",r.bodyText," "),m(),M(r.imageFile!==""?7:-1))},styles:[".textDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;white-space:pre-line}.imageDiv[_ngcontent-%COMP%]{text-align:center}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Ga=t=>({iconActive:t}),I2=t=>({disabledSchedule:t}),P2=t=>({indeterminate:t}),cv=(t,n)=>({currentRow:t,disabled:n});function A2(t,n){if(t&1){let e=V();d(0,"mat-icon",13),I(1,"number"),w("click",function(){E(e);let r=y();return D(r.fastClick())}),p(2," fast_forward "),u()}if(t&2){let e=y();qe("tooltip","Fast Game Speed (",Pt(1,3,e.mainLoopService.getTPS(5),"1.0-2"),` days/sec).<br>
      Hotkey: Alt-3`),R("ngClass",We(6,Ga,e.mainLoopService.tickDivider===5&&!e.mainLoopService.pause))}}function R2(t,n){if(t&1){let e=V();d(0,"mat-icon",14),I(1,"number"),w("click",function(){E(e);let r=y();return D(r.fasterClick())}),p(2," skip_next "),u()}if(t&2){let e=y();qe("tooltip","Faster Game Speed (",Pt(1,3,e.mainLoopService.getTPS(2),"1.0-2"),` days/sec).<br>
      Hotkey: Alt-4`),R("ngClass",We(6,Ga,e.mainLoopService.tickDivider===2&&!e.mainLoopService.pause))}}function O2(t,n){if(t&1){let e=V();d(0,"mat-icon",15),I(1,"number"),w("click",function(){E(e);let r=y();return D(r.fastestClick())}),p(2," bolt "),u()}if(t&2){let e=y();qe("tooltip","Fastest Game Speed (",Pt(1,3,e.mainLoopService.getTPS(1),"1.0-2"),` days/sec).<br>
      Hotkey: Alt-5`),R("ngClass",We(6,Ga,e.mainLoopService.tickDivider===1&&!e.mainLoopService.pause))}}function F2(t,n){if(t&1){let e=V();d(0,"mat-icon",16),w("click",function(){E(e);let r=y();return D(r.timeOptions())}),p(1," settings "),u()}}function N2(t,n){if(t&1){let e=V();d(0,"tr")(1,"td"),p(2),u(),d(3,"td")(4,"div",19),F(5,"span"),u()(),d(6,"td")(7,"mat-icon",20),w("click",function(){E(e);let r=y(2);return D(r.removeSpiritActivity())}),p(8,"clear"),u()()()}if(t&2){let e=y(2);m(2),pe(e.activityService.getActivityName(e.activityService.spiritActivity)),m(2),R("ngClass",We(2,P2,e.activityService.spiritActivityProgress&&!e.mainLoopService.pause))}}function L2(t,n){if(t&1){let e=V();d(0,"table",17),w("drop",function(r){E(e);let o=y();return D(o.spiritActivityDrop(r))}),d(1,"tr")(2,"td",18),p(3," Spiritual Projection "),u()(),L(4,N2,9,4,"tr"),u()}if(t&2){let e=y();m(4),M(e.activityService.spiritActivity!==null?4:-1)}}function B2(t,n){if(t&1){let e=V();d(0,"tr",22),w("cdkDragStarted",function(){E(e);let r=y(2);return D(r.dragStart())})("cdkDragEnded",function(){E(e);let r=y(2);return D(r.dragEnd())})("cdkDragMoved",function(r){E(e);let o=y(2);return D(o.dragMoved(r))})("cdkDragReleased",function(r){E(e);let o=y(2);return D(o.dragReleased(r))}),d(1,"td",23)(2,"mat-icon",24),w("click",function(r){E(e);let o=y().$implicit,a=y();return D(a.showActivity(r,o.activity))}),p(3," help "),u(),p(4),u(),d(5,"td",23)(6,"div",25),F(7,"span"),u()(),d(8,"td",23)(9,"mat-icon",26),w("click",function(r){E(e);let o=y().$implicit,a=y();return D(a.onMinusClick(o,r))}),p(10,"remove"),u(),d(11,"mat-icon",27),w("click",function(r){E(e);let o=y().$implicit,a=y();return D(a.onPlusClick(o,r))}),p(12,"add"),u(),d(13,"mat-icon",28),w("click",function(){E(e);let r=y().$implicit,o=y();return D(o.onDisableClick(r))}),p(14,"cancel"),u(),d(15,"mat-icon",20),w("click",function(){E(e);let r=y().$implicit,o=y();return D(o.onRemoveClick(r))}),p(16,"clear"),u()()()}if(t&2){let e=y(),i=e.$implicit,r=e.$index,o=y();qe("id","activityLoopIndex",r,""),R("cdkDragData",r),m(),qe("id","activityLoopIndex0",r,""),R("ngClass",Ri(17,cv,r===o.activityService.currentIndex,i.disabled)),m(3),rr(" ",o.activityService.getActivityName(i.activity)," (",i.repeatTimes," ",i.repeatTimes===1?"day":"days",") "),m(),qe("id","activityLoopIndex1",r,""),R("ngClass",Ri(20,cv,r===o.activityService.currentIndex,i.disabled)),m(2),lt("width",100*(r!==o.activityService.currentIndex||i.disabled?i.repeatTimes:o.activityService.currentTickCount)/i.repeatTimes,"%"),m(),qe("id","activityLoopIndex2",r,""),R("ngClass",Ri(23,cv,r===o.activityService.currentIndex,i.disabled))}}function j2(t,n){if(t&1&&L(0,B2,17,26,"tr",21),t&2){let e=n.$implicit,i=y();M(i.activityService.getActivityName(e.activity)!==""?0:-1)}}var Sx=(()=>{class t{constructor(e,i,r,o,a,s){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.gameStateService=o,this.battleService=a,this.dialog=s,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.dragPositionX=0,this.dragPositionY=0}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}slowClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=40}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}timeOptions(){this.dialog.open(Kk,{width:"700px",data:{someField:"foo"},autoFocus:!1})}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}onDisableClick(e){e.disabled=!e.disabled,e.disabled||this.activityService.checkRequirements(!0)}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data,a=document.elementsFromPoint(i,r),s=this.activityService.activityLoop.length,l=!1,c=!1;for(let h of a)h.id==="activityDropDiv"?l=!0:h.id.startsWith("activityLoopIndex")?s=parseInt(h.id.substring(18)):h.id==="spiritActivity"&&(c=!0);if(l&&o>=0&&o<this.activityService.activityLoop.length)if(c){let h=this.activityService.activityLoop[o].activity;this.activityService.spiritActivity=h}else{let h=this.activityService.activityLoop.splice(o,1);s>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(h[0]):this.activityService.activityLoop.splice(s,0,h[0])}}spiritActivityDrop(e){e.preventDefault(),e.stopPropagation();let i=e.dataTransfer?.getData("activityloop")+"";if(i===""){if(i=e.dataTransfer?.getData("activity")+"",i==="")return;let r=parseInt(i);this.activityService.spiritActivity=r}else{let r=parseInt(i);if(r>=0&&r<this.activityService.activityLoop.length){let o=this.activityService.activityLoop[r].activity;this.activityService.spiritActivity=o}}}showActivity(e,i){e.stopPropagation();let r=this.activityService.getActivityByType(i);if(r===null)return;let o=r.description[r.level]+`

`+r.consequenceDescription[r.level];o+=this.activityService.getYinYangDescription(r.yinYangEffect[r.level]),r.projectionOnly&&(o+=`

This activity can only be performed by a spiritual projection of yourself back in the mortal realm.`);let a={titleText:r.name[r.level],bodyText:o,imageFile:""};r.imageBaseName&&(a.imageFile="assets/images/activities/"+r.imageBaseName+r.level+".png"),this.dialog.open(Ro,{width:"400px",data:a,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(k(ve),k(Ne),k(X),k(se),k(et),k(it))}}static{this.\u0275cmp=U({type:t,selectors:[["app-time-panel"]],decls:25,vars:26,consts:[["id","activityDropDiv",1,"dropAccepter"],["tooltip",`Pause the game.<br>
      Hotkey: Alt-0 to pause or spacebar to toggle.<br>
      Clicking this again while paused will step time forward a single day.<br>
      When paused, you can also advance one day by pressing the Enter key.`,"aria-label","Pause","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip",`Slow Game Speed (1 day/sec).<br>
      Hotkey: Alt-1`,"aria-label","Slow Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["aria-label","Standard Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","tooltip"],["aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"ngClass","tooltip"],["aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"ngClass","tooltip"],["aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"ngClass","tooltip"],["tooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton"],["type","checkbox","id","useSavedTicks",3,"change","checked"],["for","useSavedTicks"],["cdkDropList","","cdkDropListSortingDisabled","",1,"overflow"],["id","spiritActivity",1,"spiritActivityPanel"],[3,"ngClass"],["aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","tooltip"],["aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","tooltip"],["aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","tooltip"],["tooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton",3,"click"],["id","spiritActivity",1,"spiritActivityPanel",3,"drop"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work.<br>Whatever activity you drop here will be completed each day as long as you have enough Qi to support the effort.<br>Requires 5 Qi per day in addition to the regular requirements of the activity.",1,"spiritProjectionLabel"],[1,"progress-bar",3,"ngClass"],["tooltip","Remove this activity from the schedule.","aria-label","Remove Activity","aria-hidden","false",1,"iconButton",3,"click"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"id","cdkDragData"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","id","cdkDragData"],[3,"ngClass","id"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",3,"click"],[1,"progress-bar"],["tooltip",`Spend fewer days on this.

            Shift- or Ctrl-click to remove 10x
            Shift-Ctrl-click to remove 100x`,"aria-label","Remove Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip",`Spend more days on this.

            Shift- or Ctrl-click to add 10x
            Shift-Ctrl-click to add 100x`,"aria-label","Add Days","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Disable this activity on the schedule.","aria-label","Disable Activity","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3")(2,"span"),p(3," How will you spend your days? "),u(),d(4,"mat-icon",1),w("click",function(){return r.pauseClick()}),p(5," pause "),u(),d(6,"mat-icon",2),w("click",function(){return r.slowClick()}),p(7," slow_motion_video "),u(),d(8,"mat-icon",3),I(9,"number"),w("click",function(){return r.standardClick()}),p(10," play_arrow "),u(),L(11,A2,3,8,"mat-icon",4)(12,R2,3,8,"mat-icon",5)(13,O2,3,8,"mat-icon",6)(14,F2,2,0,"mat-icon",7),d(15,"h6")(16,"input",8),w("change",function(a){return r.useSavedTicks(a)}),u(),d(17,"label",9),p(18),I(19,"bigNumber"),u()()(),d(20,"div",10),L(21,L2,5,1,"table",11),d(22,"table",12),re(23,j2,1,1,null,null,Ue),u()()()),i&2&&(m(4),R("ngClass",We(18,Ga,r.mainLoopService.pause)),m(2),R("ngClass",We(20,Ga,r.mainLoopService.tickDivider===40&&!r.mainLoopService.pause)),m(2),qe("tooltip","Standard Game Speed (",Pt(9,13,r.mainLoopService.getTPS(10),"1.0-2"),` days/sec).<br>
      Hotkey: Alt-2`),R("ngClass",We(22,Ga,r.mainLoopService.tickDivider===10&&!r.mainLoopService.pause)),m(3),M(r.mainLoopService.unlockFastSpeed?11:-1),m(),M(r.mainLoopService.unlockFasterSpeed?12:-1),m(),M(r.mainLoopService.unlockFastestSpeed?13:-1),m(),M(r.activityService.autoRestart?14:-1),m(2),R("checked",r.mainLoopService.useBankedTicks),m(2),A("Use banked time to accelerate reality (10x). ",N(19,16,r.mainLoopService.bankedTicks)," time ticks left."),m(3),M(r.characterService.characterState.qiUnlocked?21:-1),m(),R("ngClass",We(24,I2,r.battleService.enemies.length>0)),m(),oe(r.activityService.activityLoop))},dependencies:()=>[Ye,ut,jn,Bn,On,Te,Fe],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--qiColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}.disabledSchedule[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function V2(t,n){if(t&1&&(d(0,"div",5)(1,"mat-icon"),p(2),u(),d(3,"span"),p(4),I(5,"camelToTitle"),u()()),t&2){let e=y().$implicit;K("tooltip",e.value.description),m(2),pe(e.value.icon),m(2),A(" ",N(5,3,e.key),": ")}}function H2(t,n){if(t&1&&L(0,V2,6,5,"div",5),t&2){let e=n.$implicit,i=y();M(e.value.value!==0||i.character.highestAttributes[e.key]?0:-1)}}function U2(t,n){if(t&1&&(d(0,"div",5),I(1,"bigNumber"),I(2,"camelToTitle"),I(3,"bigNumber"),d(4,"span"),p(5),I(6,"bigNumber"),u()()),t&2){let e=y().$implicit;Ws("tooltip","Your aptitude of ",N(1,5,e.value.aptitude)," multiplies your ",N(2,7,e.key)," gains by ",N(3,9,e.value.aptitudeMult),"."),m(5),A(" ",N(6,11,e.value.aptitude)," ")}}function q2(t,n){if(t&1&&L(0,U2,7,13,"div",5),t&2){let e=n.$implicit,i=y();M(e.value.value!==0||i.character.highestAttributes[e.key]?0:-1)}}function z2(t,n){if(t&1){let e=V();d(0,"span",6),w("@popupText.done",function(r){E(e);let o=y(2).$implicit,a=y();return D(a.animationDoneEvent(r,o.key))}),p(1),I(2,"bigNumber"),u()}if(t&2){let e=n.$implicit;R("@popupText",e),m(),A("+",N(2,2,e),"")}}function $2(t,n){if(t&1&&(d(0,"div",3)(1,"span"),p(2),I(3,"bigNumber"),u(),re(4,z2,3,4,"span",6,Ue),u()),t&2){let e=y().$implicit,i=y();m(2),A(" ",N(3,1,e.value.value)," "),m(2),oe(i.getAttributeUpdates(e.key))}}function G2(t,n){if(t&1&&L(0,$2,6,3,"div",3),t&2){let e=n.$implicit,i=y();M(e.value.value!==0||i.character.highestAttributes[e.key]?0:-1)}}var wx=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.dialog=i,this.gameStateService=r,this.mainLoopService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState,this.attributeUpdates={strength:[],toughness:[],speed:[],intelligence:[],charisma:[],spirituality:[],earthLore:[],metalLore:[],woodLore:[],waterLore:[],fireLore:[],animalHandling:[],combatMastery:[],magicMastery:[]},this.mainLoopService.longTickSubject.subscribe(()=>{if(this.popupCounter<1){this.popupCounter++;return}this.popupCounter=0;for(let a in this.character.attributeUpdates){let s=a;this.character.attributeUpdates[s]!==0&&(this.attributeUpdates[s].push(this.character.attributeUpdates[s]),this.character.attributeUpdates[s]=0)}})}animationDoneEvent(e,i){let r=i;for(;this.attributeUpdates[r].length>0;)this.attributeUpdates[r].pop()}getAttributeUpdates(e){let i=e;return this.attributeUpdates[i]}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(it),k(se),k(ve))}}static{this.\u0275cmp=U({type:t,selectors:[["app-attributes-panel"]],decls:20,vars:9,consts:[[1,"attributesContainer"],[1,"attributesTable"],[1,"attributeColumn"],[1,"attributeLine"],[1,"attributeColumn","growColumn"],[1,"attributeLine",3,"tooltip"],[1,"popupText"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4," Attribute "),u(),re(5,H2,1,1,null,null,Ue),I(7,"keyvalue"),u(),d(8,"div",2)(9,"div",3),p(10," Aptitude \xA0\xA0\xA0\xA0\xA0\xA0 "),u(),re(11,q2,1,1,null,null,Ue),I(13,"keyvalue"),u(),d(14,"div",4)(15,"div",3),p(16," Value "),u(),re(17,G2,1,1,null,null,Ue),I(19,"keyvalue"),u()()()),i&2&&(m(5),oe(Pt(7,0,r.character.attributes,r.originalOrder)),m(6),oe(Pt(13,3,r.character.attributes,r.originalOrder)),m(6),oe(Pt(19,6,r.character.attributes,r.originalOrder)))},dependencies:()=>[Ye,Aa,yi,Te,Fe],styles:["h3[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.attributesContainer[_ngcontent-%COMP%]{display:flex;overflow-y:auto;overflow-x:visible;flex:auto;width:100%;height:100%}.attributesTable[_ngcontent-%COMP%]{flex:1;border-collapse:collapse;margin-left:4px;margin-right:4px;display:flex}.attributeColumn[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.growColumn[_ngcontent-%COMP%]{flex-grow:1}.attributeLine[_ngcontent-%COMP%]{height:20px;margin-top:2px;padding-bottom:2px;border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"],data:{animation:[La("popupText",[uu("in",wi({position:"fixed"})),xo(":leave",[ko(1e3,hu([wi({transform:"translate(0%, 0%)"}),wi({transform:"translate(100%, -150%)"})]))])])]}})}}return t})();var W2=(t,n)=>({popupTextColor:t,popupTextNegativeColor:n});function Y2(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"number"),u()),t&2){let e=y();m(),A(", ",Pt(2,1,e.characterService.characterState.age%365,"1.0-0")," days")}}function K2(t,n){t&1&&(d(0,"span"),p(1,"You expect to live forever."),u())}function Q2(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"number"),u()),t&2){let e=y();m(),A("You expect to live ",Pt(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years.")}}function Z2(t,n){t&1&&(d(0,"span"),p(1,"+"),u())}function X2(t,n){if(t&1){let e=V();d(0,"span",23),w("@popupText.done",function(){E(e);let r=y();return D(r.animationDoneEvent())}),L(1,Z2,2,0,"span"),p(2),I(3,"bigNumber"),u()}if(t&2){let e=n.$implicit;R("ngClass",Ri(6,W2,e>0,e<0))("@popupText",e),m(),M(e>0?1:-1),m(),pe(N(3,4,e))}}function J2(t,n){if(t&1&&(d(0,"div",24),p(1),I(2,"bigNumber"),u()),t&2){let e=y();m(),A("",N(2,1,e.characterService.characterState.hellMoney)," Hell Money")}}function eB(t,n){if(t&1&&(d(0,"span"),p(1),I(2,"bigNumber"),u()),t&2){let e=y();m(),Yt("",N(2,2,e.homeService.land)," Empty ",e.homeService.land===1?"Plot":"Plots"," of Land")}}var Cx=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.gameStateService=i,this.homeService=r,this.mainLoopService=o,this.yinColor="#000000",this.yangColor="#ffffff",this.balanceString="perfect",this.flashHealth=!1,this.flashStamina=!1,this.flashQi=!1,this.flashNutrition=!1,this.popupCounter=0,this.Math=Math,this.moneyUpdates=[],o.longTickSubject.subscribe(()=>{if(this.updateYinYang(),this.flashHealth=this.characterService.characterState.statusToFlash.includes("health"),this.flashStamina=this.characterService.characterState.statusToFlash.includes("stamina"),this.flashQi=this.characterService.characterState.statusToFlash.includes("qi"),this.flashNutrition=this.characterService.characterState.statusToFlash.includes("nourishment"),this.characterService.characterState.statusToFlash=[],this.popupCounter<1){this.popupCounter++;return}this.popupCounter=0,this.characterService.characterState.moneyUpdates!==0&&(this.moneyUpdates.push(this.characterService.characterState.moneyUpdates),this.characterService.characterState.moneyUpdates=0)})}updateYinYang(){let e=this.characterService.characterState.yang,i=this.characterService.characterState.yin;if(i<1&&(i=1),e<1&&(e=1),e>=i){this.yangColor="#ffffff";let l=(255-Math.round(i/e*255)).toString(16);this.yinColor="#"+l+l+l}else{this.yinColor="#000000";let l=Math.round(e/i*255).toString(16);this.yangColor="#"+l+l+l}let r=["perfect","exceptional","excellent","good","fair","poor","terrible","abysmal","non-existent"],o=Math.max(Math.abs(e-i)/((e+i)/2)*1e4,1),a=Math.min(Math.floor(Math.log(o)/Math.log(5)),r.length-1);this.balanceString=r[a]}animationDoneEvent(){for(;this.moneyUpdates.length>0;)this.moneyUpdates.pop()}getMoneyUpdates(){return this.moneyUpdates}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(se),k(we),k(ve))}}static{this.\u0275cmp=U({type:t,selectors:[["app-health-panel"]],decls:70,vars:67,consts:[[1,"healthContainer"],[1,"yinYang",3,"tooltip"],["xmlns","http://www.w3.org/2000/svg","width","250","height","250","viewBox","0 0 1250 1250"],["id","f"],["stdDeviation","3.5"],["cx","125","cy","125","r","116.6","fill","#7f7f7f","opacity","0.5","filter","url(#f)"],["cx","125","cy","125","r","113.2"],["d","m125,11.8 a56.6,56.6 0 0 1 0,113.2 56.6,56.6 0 0 0 0,113.2 113.2,113.2 0 0 0 0,-226.4"],["cx","125","cy","68.4","r","17.6"],["cx","125","cy","181.6","r","17.6"],[1,"flexColumn"],[1,"statusRow"],[1,"statusCell"],[3,"tooltip"],[1,"statusCell","health",3,"tooltip"],[1,"progress-bar",3,"ngClass"],[1,"statusCell","stamina",3,"tooltip"],[1,"statusCell","nourishment",3,"tooltip"],[1,"statusCell","qi",3,"tooltip"],[1,"flexColumn","lastColumn"],[1,"moneyLabelColumn"],[1,"moneyContainer"],[1,"moneyColumn"],[1,"popupText",3,"ngClass"],["tooltip","Money accepted as legal tender in hell.",1,"moneyColumn"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),I(2,"bigNumber"),I(3,"bigNumber"),t_(),d(4,"svg",2)(5,"defs")(6,"filter",3),F(7,"feGaussianBlur",4),u()(),F(8,"circle",5)(9,"circle",6)(10,"path",7)(11,"circle",8)(12,"circle",9),u()(),i_(),d(13,"div",10)(14,"div",11)(15,"div",12)(16,"span"),p(17),I(18,"floor"),u(),L(19,Y2,3,4,"span"),d(20,"span"),p(21," old."),u()(),d(22,"div",12),L(23,K2,2,0,"span")(24,Q2,3,4,"span"),d(25,"mat-icon",13),p(26,"timer"),u()()(),d(27,"div",11)(28,"div",14)(29,"span"),p(30,"Health"),u(),d(31,"div",15),I(32,"bigNumber"),I(33,"bigNumber"),F(34,"span"),u()(),d(35,"div",16)(36,"span"),p(37,"Stamina"),u(),d(38,"div",15),I(39,"bigNumber"),I(40,"bigNumber"),F(41,"span"),u()(),d(42,"div",17)(43,"span"),p(44,"Nutrition"),u(),d(45,"div",15),I(46,"bigNumber"),I(47,"bigNumber"),F(48,"span"),u()(),d(49,"div",18)(50,"span"),p(51,"Qi"),u(),d(52,"div",15),I(53,"bigNumber"),I(54,"bigNumber"),F(55,"span"),u()()()(),d(56,"div",19)(57,"div",20)(58,"span"),p(59,"Wealth:"),u()(),d(60,"div",21)(61,"div",22)(62,"div")(63,"span"),p(64),I(65,"bigNumber"),u(),re(66,X2,4,9,"span",23,Ue),u(),L(68,J2,3,3,"div",24)(69,eB,3,4,"span"),u()()()()),i&2&&(m(),Ws("tooltip","Yang: ",N(2,43,r.characterService.characterState.yang),`<br>
    Yin: `,N(3,45,r.characterService.characterState.yin),`<br>
    Your balance is `,r.balanceString,`.<br>
    A proper balance of Yin and Yang will strengthen you in combat and allow you develop your aptitudes more effectively.`),m(3),lt("fill",r.yinColor),m(5),lt("fill",r.yangColor),m(2),lt("fill",r.yinColor),m(),lt("fill",r.yangColor),m(5),A("You are ",N(18,47,r.characterService.characterState.age/365)," years"),m(2),M(r.characterService.characterState.age<1e4*365?19:-1),m(4),M(r.characterService.characterState.immortal?23:24),m(2),K("tooltip",r.characterService.lifespanTooltip),m(3),K("tooltip",r.characterService.characterState.status.health.description),m(3),R("ngClass",r.flashHealth?"flash":""),Be("value",N(32,49,r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.health.value<0?0:r.characterService.characterState.status.health.value)))("max",N(33,51,r.Math.floor(r.characterService.characterState.status.health.max))),m(3),lt("width",100*r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.health.value<0?0:r.characterService.characterState.status.health.value)/r.Math.floor(r.characterService.characterState.status.health.max),"%"),m(),K("tooltip",r.characterService.characterState.status.stamina.description),m(3),R("ngClass",r.flashStamina?"flash":""),Be("value",N(39,53,r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.stamina.value<0?0:r.characterService.characterState.status.stamina.value)))("max",N(40,55,r.Math.floor(r.characterService.characterState.status.stamina.max))),m(3),lt("width",100*r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.stamina.value<0?0:r.characterService.characterState.status.stamina.value)/r.Math.floor(r.characterService.characterState.status.stamina.max),"%"),m(),K("tooltip",r.characterService.characterState.status.nourishment.description),m(3),R("ngClass",r.flashNutrition?"flash":""),Be("value",N(46,57,r.Math.floor(r.characterService.characterState.status.nourishment.value)))("max",N(47,59,r.Math.floor(r.characterService.characterState.status.nourishment.max))),m(3),lt("width",100*r.Math.floor(r.characterService.characterState.status.nourishment.value)/r.Math.floor(r.characterService.characterState.status.nourishment.max),"%"),m(),K("tooltip",r.characterService.characterState.status.qi.description),m(3),R("ngClass",r.flashNutrition?"flash":""),Be("value",N(53,61,r.Math.floor(r.characterService.characterState.status.qi.value)))("max",N(54,63,r.Math.floor(r.characterService.characterState.status.qi.max))),m(3),lt("width",100*r.Math.floor(r.characterService.characterState.status.qi.value)/r.Math.floor(r.characterService.characterState.status.qi.max),"%"),m(9),A("",N(65,65,r.characterService.characterState.money)," Taels"),m(2),oe(r.moneyUpdates),m(2),M(r.characterService.characterState.hellMoney>0?68:-1),m(),M(r.homeService.land>0?69:-1))},dependencies:()=>[Ye,ut,On,kx,Te,Fe],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:-.4em;margin-left:4px;margin-right:4px}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.qi[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--qiColor)}.statusRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:2px}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:4px}.lastColumn[_ngcontent-%COMP%], .statusCell[_ngcontent-%COMP%]{flex-grow:1}td[_ngcontent-%COMP%]{font-size:12px}.yinYang[_ngcontent-%COMP%]{width:50px;max-width:50px;height:50px;max-height:50px;overflow:hidden}.flash[_ngcontent-%COMP%]{box-shadow:0 0 5px 5px #48abe0;transition:box-shadow ease-out .5s}.healthContainer[_ngcontent-%COMP%]{min-height:90px;min-width:600px;overflow-y:hidden;width:100%;height:100%;display:flex;flex-direction:row;flex-grow:1}.popupTextColor[_ngcontent-%COMP%]{color:var(--popupTextColor)}.popupTextNegativeColor[_ngcontent-%COMP%]{color:red}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);z-index:10000;font-size:x-small}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"],data:{animation:[La("popupText",[uu("in",wi({position:"fixed"})),xo(":leave",[ko(1e3,hu([wi({transform:"translate(0%, 0%)"}),wi({transform:"translate(0%, -150%)"})]))])])]}})}}return t})();var xx=`You take to the skies, soaring far above the human realms. Over the Kunlun mountains, past Mount Tai, and beyond the Jade Mountains, you find the great sea and finally the island where Mount Penglai stands tall, rising up into the clouds. Above the pure white slopes, the mountain is crowned with a golden palace surrounded by an orchard of trees that grow the finest jewels and the most delectable fruits that grant perfect health and eternal youth to whoever eats them. Suddenly you feel a twinge of doubt. Your own peaches never looked so inviting, no matter how hard you worked your land to cultivate them.

You push down your feelings of inadequacy and press onward toward the gates of the golden palace. You are immortal now, after all. You have earned your place here. As you stride into the large courtyard, you find an assembly of gods there, seated on golden thrones. The eight immortals are there, each holding their artifact of power as they laugh raucously at each other's jokes. Nuwa and Fuxi, the great ancestors of humanity, sit idly chatting as the Queen Mother of the West exchanges quiet words with Caishen in his most fine of all silks. In the center of them all, Shangti, the Jade Emperor himself, sits on his elevated throne. As you approach, he claps his hands for silence. You were clearly expected.

"Ah. The young upstart who has caused so much trouble in the mortal realm has finally arrived."

The other gods greet you with nothing but steely stares. You nod in acknowledgement and take another step toward the thrones. You notice that one of them off to the side is empty. A place for you, perhaps?

"I suppose you feel you deserve a place here with us now, do you?" the Jade Emperor continues. "Fight a few monsters, improve yourself a bit, conquer a few of your fellow mortals, and suddenly you've earned the right to call yourself a god, eh?"

You nod again, preparing to recount the long journey of cultivation and devotion that led you to this point, when a towering figure to your right cuts you off before you can begin.

"Nonsense!" the ominous voice thunders. "This upstart destroyed one of my best servants and commited uncountable sins for which no price has been paid."

"And what would you suggest be done with this new immortal, Lord Yama?" the Emperor asks. "This one clearly shows the necessary power, and has no shortage of determination. One way or another, sooner or later that empty throne will be filled."

"Let this one come to my domain," Lord Yama declares. "The eighteen hells will show whether they have the character fitting for a throne in the Penglai Palace."

The other gods look back and forth at each other for a moment. "That seems only fair," One of them says, a short, hairy man with horns growing from his head. "This new immortal still has much to learn, and much to atone for. Why, they don't even understand simple concepts like balancing their yin and yang. They may be ready one day for this company, but a few millenia in Yama's realm will do them good."

The other gods murmer and nod agreement. Shangti rises to his feet. "Your words are wise, as always Pan Gu. Let this one be cast down to the eighteen hells. If they can master yin and yang and prove their worth through the trials of Yama's realm, we will welcome them as part of our celestial court."

Before you can say a word of protest, The Jade emperor waves one hand and you find yourself in a vast, bare, circular stone room. The walls are broken by eighteen open gates, each one leading to a different world of pain and suffering.

It looks like you have a new challenge ahead: Escape this underworld and prove your worth to the gods.`;var tB=(t,n)=>({projectionOnly:t,lockedActivity:n});function iB(t,n){if(t&1){let e=V();d(0,"span")(1,"button",7),w("click",function(){E(e);let r=y();return D(r.JoinTheGodsClick())}),p(2,"Join the Gods"),u()()}}function nB(t,n){if(t&1&&(d(0,"span",3),p(1),u()),t&2){let e=y();K("tooltip",e.activityService.activityHeaderDescription),m(),A("",e.activityService.activityHeader," ")}}function rB(t,n){if(t&1&&(d(0,"span")(1,"div",8),F(2,"span"),u()()),t&2){let e=y();m(),Be("value",e.Math.floor(e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress))("max",e.Math.floor(e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired)),m(),lt("width",100*e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress/e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired,"%")}}function oB(t,n){if(t&1&&(d(0,"span")(1,"div",8),F(2,"span"),u()()),t&2){let e=y();m(),Be("value",e.Math.floor(e.hellService.hells[e.hellService.currentHell].progress()))("max",e.Math.floor(e.hellService.hells[e.hellService.currentHell].progressMax())),m(),lt("width",100*e.hellService.hells[e.hellService.currentHell].progress()/e.hellService.hells[e.hellService.currentHell].progressMax(),"%")}}function aB(t,n){if(t&1){let e=V();d(0,"span")(1,"button",7),w("click",function(){E(e);let r=y();return D(r.hellBoss())}),p(2),u()()}if(t&2){let e=y();m(2),pe(e.hellService.completedHellBosses.includes(e.hellService.currentHell)?"Beat On The Hell Lord Some More":"Challenge the Hell Lord")}}function sB(t,n){if(t&1){let e=V();d(0,"mat-icon",19),w("click",function(r){E(e);let o=y(2).$implicit,a=y();return D(a.scheduleActivity(o,r))})("contextmenu",function(r){E(e);let o=y(2).$implicit,a=y();return D(a.rightClick(o,r))}),p(1," event "),u()}if(t&2){let e=y(2).$implicit,i=y();K("tooltip",i.getActivityTooltip(e))}}function lB(t,n){t&1&&(d(0,"mat-icon",15),p(1," model_training "),u())}function cB(t,n){t&1&&(d(0,"mat-icon",16),p(1," supervisor_account "),u())}function dB(t,n){if(t&1&&(d(0,"mat-icon",17),I(1,"bigNumber"),p(2," attach_money "),u()),t&2){let e=y(2).$implicit;qe("tooltip","Exactly how much will you make doing this job?<br>It can depend on your attributes, but the last time you did this job you made<br>",N(1,2,e.lastIncome)," taels.")}}function uB(t,n){if(t&1){let e=V();d(0,"div",10),w("cdkDragStarted",function(){E(e);let r=y(2);return D(r.dragStart())})("cdkDragEnded",function(){E(e);let r=y(2);return D(r.dragEnd())})("cdkDragMoved",function(r){E(e);let o=y(2);return D(o.dragMoved(r))})("cdkDragReleased",function(r){E(e);let o=y(2);return D(o.dragReleased(r))})("click",function(){E(e);let r=y().$implicit,o=y();return D(o.doActivity(r))}),d(1,"div",11)(2,"span"),p(3),u()(),d(4,"div",12)(5,"span"),L(6,sB,2,1,"mat-icon",13),u(),d(7,"span",14),L(8,lB,2,0,"mat-icon",15)(9,cB,2,0,"mat-icon",16)(10,dB,3,4,"mat-icon",17),d(11,"mat-icon",18),w("click",function(r){E(e);let o=y().$implicit,a=y();return D(a.showActivity(r,o))}),p(12," help "),u()()()()}if(t&2){let e=y().$implicit,i=y();R("ngClass",Ri(10,tB,e.projectionOnly,!e.unlocked||i.battleService.enemies.length>0))("tabindex",0)("cdkDragDisabled",!e.unlocked)("cdkDragData",e.activityType),m(),K("tooltip",i.getActivityTooltip(e,!0)),m(2),pe(e.name[e.level]),m(3),M(i.mainLoopService.timeUnlocked?6:-1),m(2),M(e.skipApprenticeshipLevel>0&&!i.activityService.completedApprenticeships.includes(e.activityType)?8:-1),m(),M(i.activityService.familySpecialty===e.activityType?9:-1),m(),M(e.lastIncome&&e.lastIncome>0?10:-1)}}function hB(t,n){if(t&1&&L(0,uB,13,13,"div",9),t&2){let e=n.$implicit;M(!e.portal&&(e.discovered||e.unlocked)?0:-1)}}var Ex=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f,g,v){this.gameStateService=e,this.activityService=i,this.characterService=r,this.hellService=o,this.inventoryService=a,this.followerService=s,this.impossibleTaskService=l,this.dialog=c,this.bigNumberPipe=h,this.mainLoopService=f,this.logService=g,this.battleService=v,this.camelToTitle=new yi,this.dragPositionX=0,this.dragPositionY=0,this.Math=Math,this.character=r.characterState}JoinTheGodsClick(){if(!confirm("Are you sure you are ready for this? You will need to leave all your money and most of your followers and possessions behind as you leave this mortal realm."))return;this.dialog.open(Ro,{width:"700px",data:{titleText:"Joining the Gods",bodyText:xx},autoFocus:!1}).afterClosed().subscribe(()=>{this.hellService.inHell=!0,this.characterService.characterState.money=0,this.inventoryService.stashInventory(),this.followerService.hellPurge(),this.activityService.reloadActivities()})}scheduleActivity(e,i){if(i.stopPropagation(),e.projectionOnly){this.activityService.spiritActivity=e.activityType;return}let r=1;r*=i.shiftKey||i.altKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}doActivity(e){if(this.battleService.enemies.length>0)return;if(!this.activityService.meetsRequirements(e)){this.logService.log(S.EVENT,e.name[e.level]+" is unavailable now.");return}let i=this.activityService.checkResourceUse(e);if(i!==""){this.characterService.characterState.flashStatus(i),this.logService.log(S.EVENT,"You don't meet the requirements to do "+e.name[e.level]+" right now.");return}this.activityService.immediateActivity=e,this.mainLoopService.tick(),this.activityService.immediateActivity=null}rightClick(e,i){i.preventDefault(),i.stopPropagation(),this.activityService.spiritActivity=e.activityType}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){e.event.preventDefault(),e.event.stopPropagation();let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=document.elementsFromPoint(i,r),a=this.activityService.activityLoop.length,s=!1,l=!1;for(let c of o)c.id==="activityDropDiv"?s=!0:c.id.startsWith("activityLoopIndex")?a=parseInt(c.id.substring(18)):c.id==="spiritActivity"&&(l=!0);if(s){let c=e.source.data;if(this.activityService.getActivityByType(c)?.projectionOnly&&(l=!0),l)this.activityService.spiritActivity=c;else{let h={activity:c,repeatTimes:1};a>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(h):this.activityService.activityLoop.splice(a,0,h)}}}hellBoss(){this.hellService.fightHellBoss()}getActivityTooltip(e,i=!1){if(e.activityType>=P.Hell||e.activityType===P.EscapeHell)return"";if(e.unlocked){if(i)return"Spend a day doing this activity";{let r="";return this.characterService.characterState.qiUnlocked&&(r="<br>Right-click to set this as your spriritual projection activity"),"Add this activity to your schedule<br>Shift- or Ctrl-click to repeat it 10x<br>Shift-Ctrl-click to repeat it 100x<br>Alt-click to add it to the top"+r}}else{let r=["This activity is locked until you have the attributes required for it. You will need:<br>",...Object.entries(e.requirements[0]).map(o=>o[1]?`${this.camelToTitle.transform(o[0])}: ${this.bigNumberPipe.transform(o[1])}`:void 0)].filter(o=>o).join("<br>");return e.landRequirements&&(r+="<br>Land: "+e.landRequirements),e.fallowLandRequirements&&(r+="<br>Fallow Land: "+e.fallowLandRequirements),e.farmedLandRequirements&&(r+="<br>Farmed Land: "+e.farmedLandRequirements),r}}showActivity(e,i){e.stopPropagation();let r=i.description[i.level]+`

`+i.consequenceDescription[i.level];r+=this.activityService.getYinYangDescription(i.yinYangEffect[i.level]),i.projectionOnly&&(r+=`

This activity can only be performed by a spiritual projection of yourself back in the mortal realm.`);let o={titleText:i.name[i.level],bodyText:r,imageFile:""};i.imageBaseName&&(o.imageFile="assets/images/activities/"+i.imageBaseName+i.level+".png"),this.dialog.open(Ro,{width:"400px",data:o,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(k(se),k(Ne),k(X),k(ye),k(Y),k($e),k(ri),k(it),k(Te),k(ve),k(ot),k(et))}}static{this.\u0275cmp=U({type:t,selectors:[["app-activity-panel"]],decls:13,vars:5,consts:[[1,"activitiesHeader"],[1,"standardHeader"],[1,"customHeader"],[3,"tooltip"],[1,"activitiesContainer"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"activityGrid"],[3,"click"],[1,"progress-bar"],["cdkDrag","",1,"activitySlot",3,"ngClass","tabindex","cdkDragDisabled","cdkDragData"],["cdkDrag","",1,"activitySlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","click","ngClass","tabindex","cdkDragDisabled","cdkDragData"],[1,"activityLabel",3,"tooltip"],[1,"activityButtons"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"tooltip"],[1,"floatRight"],["tooltip","This activity requires that you go through an apprenticeship.<br>You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn.<br>Once you've started, other trades may be closed off until your next life.","aria-label","Requires an apprenticeship","aria-hidden","false"],["tooltip","This activity is a family specialty, and you will do it better than you could if your ancestors hadn't practiced this so much.","aria-label","Family Specialty","aria-hidden","false"],["aria-label","Earns money","aria-hidden","false",3,"tooltip"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"click","contextmenu","tooltip"]],template:function(i,r){i&1&&(d(0,"h3",0),F(1,"div",1),d(2,"div",2),L(3,iB,3,0,"span")(4,nB,2,2,"span",3)(5,rB,3,4,"span")(6,oB,3,4,"span")(7,aB,3,1,"span"),u()(),d(8,"div",4)(9,"div",5)(10,"div",6),re(11,hB,1,1,null,null,Ue),u()()()),i&2&&(m(3),M(r.characterService.characterState.immortal&&!r.hellService.inHell&&!r.characterService.characterState.god?3:-1),m(),M(r.hellService.inHell?-1:4),m(),M(r.impossibleTaskService.activeTaskIndex>=0?5:-1),m(),M(r.hellService.inHell&&r.hellService.currentHell>=0&&!r.hellService.completedHellTasks.includes(r.hellService.currentHell)?6:-1),m(),M(r.hellService.inHell&&r.hellService.currentHell>=0&&r.hellService.completedHellTasks.includes(r.hellService.currentHell)?7:-1),m(4),oe(r.activityService.activities))},dependencies:()=>[jn,Bn,ut,Ye,Te,Fe],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.activitiesHeader[_ngcontent-%COMP%]{display:flex}.activitiesContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto;width:100%;height:100%}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:160px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--qiColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}',"ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function mB(t,n){if(t&1){let e=V();d(0,"div",3)(1,"input",11),w("change",function(){E(e);let r=y();return D(r.qiAttackToggle())}),u(),d(2,"label",12)(3,"span"),p(4,"Activate Qi Strike"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enableQiAttack)}}function pB(t,n){if(t&1){let e=V();d(0,"div",4)(1,"input",13),w("change",function(){E(e);let r=y();return D(r.pyroclasmToggle())}),u(),d(2,"label",14)(3,"span"),p(4,"Activate Pyroclasm"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enablePyroclasm)}}function fB(t,n){if(t&1){let e=V();d(0,"div",5)(1,"input",15),w("change",function(){E(e);let r=y();return D(r.metalFistToggle())}),u(),d(2,"label",16)(3,"span"),p(4,"Activate Metal Fist"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enableMetalFist)}}function gB(t,n){if(t&1){let e=V();d(0,"div",8)(1,"input",17),w("change",function(){E(e);let r=y();return D(r.qiShieldToggle())}),u(),d(2,"label",18)(3,"span"),p(4,"Activate Qi Shield"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enableQiShield)}}function vB(t,n){if(t&1){let e=V();d(0,"div",9)(1,"input",19),w("change",function(){E(e);let r=y();return D(r.fireShieldToggle())}),u(),d(2,"label",20)(3,"span"),p(4,"Activate Fire Shield"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enableFireShield)}}function yB(t,n){if(t&1){let e=V();d(0,"div",10)(1,"input",21),w("change",function(){E(e);let r=y();return D(r.iceShieldToggle())}),u(),d(2,"label",22)(3,"span"),p(4,"Activate Ice Shield"),u()()()}if(t&2){let e=y();m(),R("checked",e.battleService.enableIceShield)}}var Mx=(()=>{class t{constructor(e,i){this.battleService=e,this.characterService=i}noAttackToggle(){this.battleService.enableQiAttack=!1,this.battleService.enablePyroclasm=!1,this.battleService.enableMetalFist=!1}qiAttackToggle(){this.battleService.enablePyroclasm=!1,this.battleService.enableMetalFist=!1,this.battleService.qiAttackUnlocked&&(this.battleService.enableQiAttack=!0)}pyroclasmToggle(){this.battleService.enableQiAttack=!1,this.battleService.enableMetalFist=!1,this.battleService.pyroclasmUnlocked&&(this.battleService.enablePyroclasm=!0)}metalFistToggle(){this.battleService.enableQiAttack=!1,this.battleService.enablePyroclasm=!1,this.battleService.metalFistUnlocked&&(this.battleService.enableMetalFist=!0)}noShieldToggle(){this.battleService.enableQiShield=!1,this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1}qiShieldToggle(){this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1,this.battleService.qiShieldUnlocked&&(this.battleService.enableQiShield=!0)}fireShieldToggle(){this.battleService.enableQiAttack=!1,this.battleService.enableIceShield=!1,this.battleService.fireShieldUnlocked&&(this.battleService.enableFireShield=!0)}iceShieldToggle(){this.battleService.enableQiAttack=!1,this.battleService.enableFireShield=!1,this.battleService.iceShieldUnlocked&&(this.battleService.enableIceShield=!0)}static{this.\u0275fac=function(i){return new(i||t)(k(et),k(X))}}static{this.\u0275cmp=U({type:t,selectors:[["app-battle-options-panel"]],decls:21,vars:8,consts:[[1,"darkMode"],["type","radio","name","attack","id","attackNone",3,"change","checked"],["for","attackNone"],["tooltip","You can focus your Qi around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 Qi."],["tooltip","Focus your Qi and blast your enemies with heat so intense their children's children will get burned. Each use of this ability requires 10,000 Qi."],["tooltip","Focus your Qi and summon a massive metal fist to crush your enemy. Each use of this ability requires 10,000 Qi."],["type","radio","name","shield","id","shieldNone",3,"change","checked"],["for","shieldNone"],["tooltip","Your Qi can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 Qi each time the Qi shield protects you."],["tooltip","Bring forth your inner fire to form a blistering barrier around you. Each use of this ability requires 10,000 Qi."],["tooltip","Bring forth the ice inside you to form a freezing barrier around you that will stop your enemy's next attack. Each use of this ability requires 10,000 Qi."],["type","radio","name","attack","id","qiStrike",3,"change","checked"],["for","qiStrike"],["type","radio","name","attack","id","pyroclasm",3,"change","checked"],["for","pyroclasm"],["type","radio","name","attack","id","metalFist",3,"change","checked"],["for","metalFist"],["type","radio","name","shield","id","qiShield",3,"change","checked"],["for","qiShield"],["type","radio","name","shield","id","fireShield",3,"change","checked"],["for","fireShield"],["type","radio","name","shield","id","iceShield",3,"change","checked"],["for","iceShield"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Battle Options"),u(),F(3,"hr"),d(4,"div")(5,"input",1),w("change",function(){return r.noAttackToggle()}),u(),d(6,"label",2)(7,"span"),p(8,"No Special Attack"),u()()(),L(9,mB,5,1,"div",3)(10,pB,5,1,"div",4)(11,fB,5,1,"div",5),F(12,"hr"),d(13,"div")(14,"input",6),w("change",function(){return r.noShieldToggle()}),u(),d(15,"label",7)(16,"span"),p(17,"No Shield"),u()()(),L(18,gB,5,1,"div",8)(19,vB,5,1,"div",9)(20,yB,5,1,"div",10),u()),i&2&&(m(5),R("checked",!r.battleService.enableQiAttack&&!r.battleService.enablePyroclasm&&!r.battleService.enableMetalFist),m(4),M(r.battleService.qiAttackUnlocked?9:-1),m(),M(r.battleService.pyroclasmUnlocked?10:-1),m(),M(r.battleService.metalFistUnlocked?11:-1),m(3),R("checked",!r.battleService.enableQiShield&&!r.battleService.enableFireShield&&!r.battleService.enableIceShield),m(4),M(r.battleService.qiShieldUnlocked?18:-1),m(),M(r.battleService.fireShieldUnlocked?19:-1),m(),M(r.battleService.iceShieldUnlocked?20:-1))},styles:["ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Tx=(t,n)=>n.name+n.ticks,bB=(t,n)=>n.name;function _B(t,n){if(t&1){let e=V();d(0,"span")(1,"mat-icon",4),w("click",function(){E(e);let r=y();return D(r.battleOptions())}),p(2," settings "),u()()}}function SB(t,n){if(t&1&&(d(0,"div"),p(1),d(2,"div",5),I(3,"bigNumber"),I(4,"bigNumber"),F(5,"span"),u()()),t&2){let e=n.$implicit,i=y();m(),A(" ",e.name," "),m(),Be("value",N(3,5,i.Math.floor(e.ticks)))("max",N(4,7,i.Math.floor(e.ticksRequired))),m(3),lt("width",100*i.Math.floor(e.ticks)/i.Math.floor(e.ticksRequired),"%")}}function wB(t,n){if(t&1){let e=V();d(0,"button",10),w("click",function(){E(e);let r=y().$implicit,o=y();return D(o.battleService.fight(r))}),p(1,"Fight"),u()}}function CB(t,n){t&1&&(d(0,"span"),p(1,"Fighting "),u())}function kB(t,n){if(t&1&&(d(0,"div")(1,"div"),p(2),u(),d(3,"div",5),I(4,"bigNumber"),I(5,"bigNumber"),F(6,"span"),u()()),t&2){let e=n.$implicit,i=y(2);m(2),A(" ",e.name," "),m(),Be("value",N(4,5,i.Math.floor(e.ticks)))("max",N(5,7,i.Math.floor(e.ticksRequired))),m(3),lt("width",100*i.Math.floor(e.ticks)/i.Math.floor(e.ticksRequired),"%")}}function xB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),u()),t&2){let e=y().$implicit;m(),K("src",e.imageFile,Tt)}}function EB(t,n){if(t&1&&(d(0,"div"),L(1,wB,2,0,"button")(2,CB,2,0,"span"),d(3,"span",6),p(4),I(5,"titlecase"),u()(),d(6,"div",1)(7,"div",2)(8,"div")(9,"span",7)(10,"mat-icon"),p(11,"shield"),u(),p(12),I(13,"bigNumber"),u()(),d(14,"div",8)(15,"div",9),I(16,"bigNumber"),I(17,"bigNumber"),F(18,"span"),u()(),re(19,kB,7,9,"div",null,Tx),u(),d(21,"div",2),L(22,xB,2,1,"div"),u()()),t&2){let e=n.$implicit,i=y();m(),M(i.battleService.currentEnemy!==e?1:2),m(3),pe(N(5,8,e.name)),m(8),pe(N(13,10,e.defense)),m(3),Be("value",N(16,12,i.Math.floor(e.health)))("max",N(17,14,i.Math.floor(e.maxHealth))),m(3),lt("width",100*i.Math.floor(e.health)/i.Math.floor(e.maxHealth),"%"),m(),oe(e.techniques),m(3),M(e.imageFile?22:-1)}}var Ix=(()=>{class t{constructor(e,i,r,o,a){this.battleService=e,this.characterService=i,this.gameStateService=r,this.mainLoopService=o,this.dialog=a,this.Math=Math}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}godSlayersEnableChange(e){e.target instanceof HTMLInputElement&&(this.battleService.godSlayersEnabled=e.target.checked)}battleOptions(){this.dialog.open(Mx,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(k(et),k(X),k(se),k(ve),k(it))}}static{this.\u0275cmp=U({type:t,selectors:[["app-battle-panel"]],decls:17,vars:1,consts:[[1,"battleContainer"],[1,"columnDiv"],[1,"splitDiv"],[1,"headerDiv"],["tooltip","Options","aria-label","Battle Settings","aria-hidden","false",1,"iconButton",3,"click"],[1,"technique-bar"],[1,"enemyName"],["tooltip","Defense"],[1,"health"],[1,"progress-bar"],[3,"click"],["alt","A Monster!","width","80","height","100",1,"monsterImage",3,"src"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),L(2,_B,3,0,"span"),u(),d(3,"div")(4,"div",1)(5,"div",2)(6,"div",3),p(7,"Your Techniques"),u(),F(8,"hr"),re(9,SB,6,9,"div",null,Tx),u(),d(11,"div",2)(12,"div",3),p(13,"Your Enemies"),u(),F(14,"hr"),re(15,EB,23,16,null,null,bB),u()()()()),i&2&&(m(2),M(r.battleService.qiShieldUnlocked||r.battleService.qiAttackUnlocked||r.battleService.pyroclasmUnlocked||r.battleService.fireShieldUnlocked?2:-1),m(7),oe(r.battleService.techniques),m(6),oe(r.battleService.enemies))},dependencies:()=>[Ye,nt,Te,Fe],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.technique-bar[_ngcontent-%COMP%]{vertical-align:-.5em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{overflow-y:auto;flex-grow:1;margin:4px}.columnDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row}.splitDiv[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;margin-left:2px;margin-right:2px}.headerDiv[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder)}.monsterImage[_ngcontent-%COMP%]{border:3px solid var(--panelBorder);margin-right:4px}.enemyName[_ngcontent-%COMP%]{min-width:200px}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Wa=t=>({highlightSlot:t}),Px=t=>({highlightSpan:t}),DB=(t,n)=>n.id;function MB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.head==null?null:e.character.equipment.head.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.head==null?null:e.character.equipment.head.name))}}function TB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.rightHand==null?null:e.character.equipment.rightHand.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.rightHand==null?null:e.character.equipment.rightHand.name))}}function IB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.body==null?null:e.character.equipment.body.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.body==null?null:e.character.equipment.body.name))}}function PB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.leftHand==null?null:e.character.equipment.leftHand.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.leftHand==null?null:e.character.equipment.leftHand.name))}}function AB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.legs==null?null:e.character.equipment.legs.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.legs==null?null:e.character.equipment.legs.name))}}function RB(t,n){if(t&1&&(F(0,"img",11),I(1,"titlecase")),t&2){let e=y().$implicit;qe("src","assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png",Tt),K("alt",N(1,3,e==null||e.item==null?null:e.item.name))}}function OB(t,n){if(t&1&&(p(0),I(1,"titlecase")),t&2){let e=y().$implicit;A(" ",N(1,1,e==null||e.item==null?null:e.item.name)," ")}}function FB(t,n){if(t&1&&(d(0,"div",15),p(1),u()),t&2){let e=y().$implicit;m(),A("x",e==null?null:e.quantity,"")}}function NB(t,n){if(t&1){let e=V();d(0,"div")(1,"div",12)(2,"div",13),I(3,"titlecase"),w("cdkDragStarted",function(){E(e);let r=y();return D(r.dragStart())})("cdkDragEnded",function(){E(e);let r=y();return D(r.dragEnd())})("cdkDragMoved",function(r){E(e);let o=y();return D(o.dragMoved(r))})("cdkDragReleased",function(r){E(e);let o=y();return D(o.dragReleased(r))})("dblclick",function(r){let o=E(e).$index,a=y();return D(a.pouchDoubleClicked(o,r))}),d(4,"div",14),L(5,RB,2,5,"img",11)(6,OB,2,3),u(),L(7,FB,2,1,"div",15),u()()()}if(t&2){let e=n.$implicit,i=n.$index;m(),qe("id","pouchIndex",i,""),m(),K("tooltip",e!=null&&e.item?N(3,8,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):""),R("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item)),m(3),M(!(e==null||e.item==null)&&e.item.imageFile?5:6),m(2),M(((e==null?null:e.quantity)||0)>1?7:-1)}}function LB(t,n){if(t&1&&(d(0,"div"),F(1,"img",11),I(2,"titlecase"),u()),t&2){let e=y();m(),qe("src","assets/images/items/",e.character.equipment.feet==null?null:e.character.equipment.feet.imageFile,".png",Tt),K("alt",N(2,3,e.character.equipment.feet==null?null:e.character.equipment.feet.name))}}var Ax=(()=>{class t{constructor(e,i,r){this.characterService=e,this.inventoryService=i,this.gameStateService=r,this.dragPositionX=0,this.dragPositionY=0,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}pouchDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.characterState.itemPouches[e];r&&r.item&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r.item,r.quantity),this.characterService.characterState.itemPouches[e]=this.inventoryService.getEmptyItemStack(),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}getSelectedItemSlot(){let e=this.inventoryService.selectedItem?.item;return!e||!Vt(e)?null:e?.slot}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data;if(!o)return;let a=-1,s=document.elementsFromPoint(i,r);for(let l of s)l.id.startsWith("itemIndex")&&(a=parseInt(l.id.substring(9)));if(a!==-1){for(let l of s)if(l.id.startsWith("itemIndex")){let c=parseInt(l.id.substring(9));if(c>=0&&c<this.inventoryService.itemStacks.length){let h=this.inventoryService.itemStacks[c];if(h.item){if(Vt(h.item)&&h.item.slot===o.slot)this.inventoryService.setItemEmptyStack(c),this.inventoryService.mergeEquipment(h.item,o,c),this.characterService.characterState.equipment[h.item.slot]=null;else if(h.item.name===o.item?.name){let f=this.character.itemPouches.indexOf(o);f!==-1&&(h.quantity+=o.quantity,this.inventoryService.fixId(c),this.character.itemPouches[f]=this.inventoryService.getEmptyItemStack())}}else if(o.quantity){let f=this.character.itemPouches.indexOf(o);f!==-1&&(this.inventoryService.addItem(o.item,o.quantity,c),this.character.itemPouches[f]=this.inventoryService.getEmptyItemStack())}else{this.inventoryService.addItem(o,1,c);let f=o.slot;this.characterService.characterState.equipment[f]=null}}}}}getEffectClass(e){let i;return e==="leftHand"||e==="rightHand"?i=this.character.equipment[e]?.weaponStats?.effect:(e==="head"||e==="body"||e==="legs"||e==="feet")&&(i=this.character.equipment[e]?.armorStats?.effect),i?"effect"+i:""}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(Y),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-equipment-panel"]],decls:53,vars:94,consts:[["cdkDropList","","cdkDropListSortingDisabled","",1,"equipmentContainer"],["cdkDrag","","tabindex","0","id","equipmentSlothead",1,"itemSlot","textOverflow",2,"grid-area","head",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotrightHand",1,"itemSlot","textOverflow",2,"grid-area","right",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotbody",1,"itemSlot","textOverflow",2,"grid-area","body",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotleftHand",1,"itemSlot","textOverflow",2,"grid-area","left",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],[2,"grid-area","stats"],["tabindex","0",3,"ngClass","tooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotlegs",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],[2,"grid-area","pouch"],["cdkDropList","","cdkDropListSortingDisabled","",1,"pouchGrid"],["cdkDrag","","tabindex","0","id","equipmentSlotfeet",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","tooltip"],["width","48","height","48",1,"itemImage",3,"src","alt"],[3,"id"],["cdkDrag","",1,"pouchSlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","tabindex","cdkDragData","cdkDragDisabled","tooltip"],[1,"itemName","textOverflow"],[1,"itemQuantity"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),I(2,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("head",a)}),L(3,MB,3,5,"div"),d(4,"div"),p(5),I(6,"titlecase"),u()(),d(7,"div",2),I(8,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("rightHand",a)}),L(9,TB,3,5,"div"),d(10,"div"),p(11),I(12,"titlecase"),u()(),d(13,"div",3),I(14,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("body",a)}),L(15,IB,3,5,"div"),d(16,"div"),p(17),I(18,"titlecase"),u()(),d(19,"div",4),I(20,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("leftHand",a)}),L(21,PB,3,5,"div"),d(22,"div"),p(23),I(24,"titlecase"),u()(),d(25,"div",5)(26,"span",6)(27,"mat-icon"),p(28,"flare"),u(),p(29),I(30,"bigNumber"),u(),F(31,"br"),d(32,"span",6)(33,"mat-icon"),p(34,"shield"),u(),p(35),I(36,"bigNumber"),u()(),d(37,"div",7),I(38,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("legs",a)}),L(39,AB,3,5,"div"),d(40,"div"),p(41),I(42,"titlecase"),u()(),d(43,"div",8)(44,"div",9),re(45,NB,8,10,"div",null,DB),u()(),d(47,"div",10),I(48,"titlecase"),w("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("feet",a)}),L(49,LB,3,5,"div"),d(50,"div"),p(51),I(52,"titlecase"),u()()()),i&2&&(m(),K("tooltip",r.character.equipment.head!==null?N(2,50,r.character.equipment.head.name)+".<br>"+r.character.equipment.head.description:""),R("ngClass",We(78,Wa,r.getSelectedItemSlot()==="head"))("ngClass",r.getEffectClass("head"))("cdkDragData",r.character.equipment.head)("cdkDragDisabled",!r.character.equipment.head),m(2),M(r.character.equipment.head!=null&&r.character.equipment.head.imageFile?3:-1),m(2),A(" ",N(6,52,r.character.equipment.head==null?null:r.character.equipment.head.name)," "),m(2),K("tooltip",r.character.equipment.rightHand!==null?N(8,54,r.character.equipment.rightHand.name)+".<br>"+r.character.equipment.rightHand.description:""),R("ngClass",We(80,Wa,r.getSelectedItemSlot()==="rightHand"))("ngClass",r.getEffectClass("rightHand"))("cdkDragData",r.character.equipment.rightHand)("cdkDragDisabled",!r.character.equipment.rightHand),m(2),M(r.character.equipment.rightHand!=null&&r.character.equipment.rightHand.imageFile?9:-1),m(2),A(" ",N(12,56,r.character.equipment.rightHand==null?null:r.character.equipment.rightHand.name)," "),m(2),K("tooltip",r.character.equipment.body!==null?N(14,58,r.character.equipment.body.name)+".<br>"+r.character.equipment.body.description:""),R("ngClass",We(82,Wa,r.getSelectedItemSlot()==="body"))("ngClass",r.getEffectClass("body"))("cdkDragData",r.character.equipment.body)("cdkDragDisabled",!r.character.equipment.body),m(2),M(r.character.equipment.body!=null&&r.character.equipment.body.imageFile?15:-1),m(2),A(" ",N(18,60,r.character.equipment.body==null?null:r.character.equipment.body.name)," "),m(2),K("tooltip",r.character.equipment.leftHand!==null?N(20,62,r.character.equipment.leftHand.name)+".<br>"+r.character.equipment.leftHand.description:""),R("ngClass",We(84,Wa,r.getSelectedItemSlot()==="leftHand"))("ngClass",r.getEffectClass("leftHand"))("cdkDragData",r.character.equipment.leftHand)("cdkDragDisabled",!r.character.equipment.leftHand),m(2),M(r.character.equipment.leftHand!=null&&r.character.equipment.leftHand.imageFile?21:-1),m(2),A(" ",N(24,64,r.character.equipment.leftHand==null?null:r.character.equipment.leftHand.name)," "),m(3),qe("tooltip","Attack Power.<br>Helps to determine the damage you will do when you hit a monster.<br>Based on your strength and weapons.",r.character.righteousWrathUnlocked?"<br>Doubled by the power of your righteous wrath.":"",""),R("ngClass",We(86,Px,r.character.righteousWrathUnlocked)),m(3),pe(N(30,66,r.character.attackPower)),m(3),qe("tooltip","Defense.<br>Reduces damage when a monster hits you.<br>Based on your toughness and armor.",r.character.righteousWrathUnlocked?"<br>Doubled by the power of your righteous wrath.":"",""),R("ngClass",We(88,Px,r.character.righteousWrathUnlocked)),m(3),pe(N(36,68,r.character.defense)),m(2),K("tooltip",r.character.equipment.legs!==null?N(38,70,r.character.equipment.legs.name)+".<br>"+r.character.equipment.legs.description:""),R("ngClass",We(90,Wa,r.getSelectedItemSlot()==="legs"))("ngClass",r.getEffectClass("legs"))("cdkDragData",r.character.equipment.legs)("cdkDragDisabled",!r.character.equipment.legs),m(2),M(r.character.equipment.legs!=null&&r.character.equipment.legs.imageFile?39:-1),m(2),A(" ",N(42,72,r.character.equipment.legs==null?null:r.character.equipment.legs.name)," "),m(4),oe(r.character.itemPouches),m(2),K("tooltip",r.character.equipment.feet!==null?N(48,74,r.character.equipment.feet.name)+".<br>"+r.character.equipment.feet.description:""),R("ngClass",We(92,Wa,r.getSelectedItemSlot()==="feet"))("ngClass",r.getEffectClass("feet"))("cdkDragData",r.character.equipment.feet)("cdkDragDisabled",!r.character.equipment.feet),m(2),M(r.character.equipment.feet!=null&&r.character.equipment.feet.imageFile?49:-1),m(2),A(" ",N(52,76,r.character.equipment.feet==null?null:r.character.equipment.feet.name)," "))},dependencies:()=>[jn,Bn,ut,Ye,nt,Te,Fe],styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs pouch" "stats feet pouch";grid-template-columns:1fr 1fr 1fr;gap:2px;overflow-y:auto;width:100%;height:100%}.itemSlot[_ngcontent-%COMP%]{width:125px;height:65px;line-height:12px;display:flex;flex-direction:row}.pouchSlot[_ngcontent-%COMP%]{width:52px;height:52px;line-height:12px;display:flex;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.pouchGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:6px;justify-content:center;gap:3px;overflow-anchor:none;max-width:108px;min-width:108px;width:108px}.itemImage[_ngcontent-%COMP%]{border:1px solid}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.highlightSpan[_ngcontent-%COMP%]{background-color:var(--qiColor)}.effectlife[_ngcontent-%COMP%]{color:var(--lifeEffectColor)}.effectcorruption[_ngcontent-%COMP%]{color:var(--corruptionEffectColor)}',"ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var BB=(t,n)=>n.id;function jB(t,n){t&1&&(d(0,"div"),p(1,"OWNED"),u())}function VB(t,n){if(t&1&&(d(0,"div"),p(1),I(2,"number"),u()),t&2){let e=y().$implicit;m(),A("$ ",Pt(2,1,e.value,"1.0-0"),"")}}function HB(t,n){if(t&1){let e=V();d(0,"div")(1,"div",2),w("click",function(){let r=E(e).$implicit,o=y();return D(o.storeService.buyFurniture(r))}),d(2,"div"),p(3),I(4,"titlecase"),u(),L(5,jB,2,0,"div")(6,VB,3,4,"div"),u()()}if(t&2){let e=n.$implicit,i=y();m(),K("tooltip",e.description),m(2),pe(N(4,3,e.name)),m(2),M(i.homeService.ownedFurniture.includes(e.id)?5:6)}}var Rx=(()=>{class t{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0}static{this.\u0275fac=function(i){return new(i||t)(k(vi),k(X),k(we),k(Y),k(rt),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-furniture-store-modal"]],decls:8,vars:0,consts:[[1,"darkMode","furnitureModal"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","tooltip"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Furniture Shop"),u(),F(3,"hr")(4,"br"),d(5,"div",1),re(6,HB,7,5,"div",null,BB),u()()),i&2&&(m(6),oe(r.itemRepoService.furniture))},dependencies:()=>[On,nt,Fe],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;max-height:600px}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]})}}return t})();var UB=(t,n)=>n.id;function qB(t,n){if(t&1){let e=V();d(0,"div")(1,"div",3),w("click",function(){let r=E(e).$implicit,o=y();return D(o.slotClicked(r))}),d(2,"div"),p(3),I(4,"titlecase"),u(),d(5,"div"),p(6),I(7,"bigNumber"),u()()()}if(t&2){let e=n.$implicit;m(),K("tooltip",e.description),m(2),pe(N(4,3,e.id)),m(3),A("$ ",N(7,5,e.setupCost),"")}}var Ox=(()=>{class t{constructor(e,i,r,o){this.dialogRef=e,this.homeService=i,this.characterService=r,this.gameStateService=o}slotClicked(e){this.characterService.characterState.money>e.setupCost&&(this.characterService.characterState.updateMoney(0-e.setupCost),this.homeService.addWorkstation(e.id),this.dialogRef.close())}static{this.\u0275fac=function(i){return new(i||t)(k(ul),k(we),k(X),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-workstation-selection-modal"]],decls:8,vars:0,consts:[[1,"darkMode"],[1,"inventoryContainer"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"click","tooltip"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"span"),p(2,"Select Workstation"),u(),F(3,"hr"),d(4,"div",1)(5,"div",2),re(6,qB,8,7,"div",null,UB),u()()()),i&2&&(m(6),oe(r.homeService.workstationsList))},dependencies:()=>[nt,Te,Fe],styles:[".inventoryContainer[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var zB=t=>({hellDisabled:t}),$B=(t,n)=>n.name,GB=(t,n)=>n.id;function WB(t,n){if(t&1){let e=V();d(0,"mat-icon",5),w("click",function(){E(e);let r=y(2);return D(r.homeService.upgradeToNextHome())}),p(1," add_home "),u()}if(t&2){let e=y(2);K("tooltip",e.homeService.nextHome.upgradeToTooltip)}}function YB(t,n){if(t&1){let e=V();d(0,"mat-icon",6),w("click",function(){E(e);let r=y(2);return D(r.homeService.downgradeHome())}),p(1," keyboard_double_arrow_down "),u()}}function KB(t,n){if(t&1&&(d(0,"div",7),F(1,"span"),u(),F(2,"span",8)),t&2){let e=y(2);Be("value",e.buildTimeYears()),m(),lt("width",100*e.homeService.houseBuildingProgress,"%")}}function QB(t,n){if(t&1&&L(0,WB,2,1,"mat-icon",3)(1,YB,2,0,"mat-icon",4)(2,KB,3,3),t&2){let e=y();M(e.homeService.home.name!==e.homeService.nextHome.name?0:-1),m(),M(e.homeService.home.name!==e.homeService.previousHome.name?1:-1),m(),M(e.homeService.upgrading?2:-1)}}function ZB(t,n){if(t&1&&(d(0,"div",2)(1,"span"),p(2),I(3,"bigNumber"),u()()),t&2){let e=y(2);m(2),Yt("It costs ",N(3,2,e.homeService.home.costPerDay)," ",e.homeService.home.costPerDay===1?"tael":"taels"," per day to maintain your home")}}function XB(t,n){if(t&1){let e=V();d(0,"mat-icon",10),w("click",function(){E(e);let r=y(3);return D(r.addWorkstation())}),p(1," hardware "),u(),d(2,"span"),p(3),u()}if(t&2){let e=y(3);m(3),A(" You can add ",e.homeService.home.maxWorkstations-e.homeService.workstations.length," more workstations to this home")}}function JB(t,n){if(t&1&&(F(0,"img",17),I(1,"titlecase")),t&2){let e=y().$implicit;qe("src","assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png",Tt),K("alt",N(1,3,e==null||e.item==null?null:e.item.name))}}function ej(t,n){if(t&1&&(p(0),I(1,"titlecase")),t&2){let e=y().$implicit;A(" ",N(1,1,e==null||e.item==null?null:e.item.name)," ")}}function tj(t,n){if(t&1){let e=V();d(0,"div")(1,"div",14)(2,"div",15),I(3,"titlecase"),w("cdkDragStarted",function(){E(e);let r=y(4);return D(r.dragStart())})("cdkDragEnded",function(){E(e);let r=y(4);return D(r.dragEnd())})("cdkDragMoved",function(r){E(e);let o=y(4);return D(o.dragMoved(r))})("cdkDragReleased",function(r){E(e);let o=y(4);return D(o.dragReleased(r))})("dblclick",function(r){let o=E(e).$index,a=y().$implicit,s=y(3);return D(s.inputDoubleClicked(a,o,r))}),d(4,"div",16),L(5,JB,2,5,"img",17)(6,ej,2,3),u(),d(7,"div",18),p(8),u()()()()}if(t&2){let e=n.$implicit,i=n.$index,r=y().$index;m(),Rn("id","wsInputIndex",r,"_",i,""),m(),K("tooltip",e!=null&&e.item?N(3,9,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):""),R("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item)),m(3),M(!(e==null||e.item==null)&&e.item.imageFile?5:6),m(3),A("x",e==null?null:e.quantity,"")}}function ij(t,n){if(t&1){let e=V();d(0,"div",9)(1,"div")(2,"mat-icon",11),p(3," help "),u(),d(4,"span"),p(5),u(),d(6,"mat-icon",12),w("click",function(){let r=E(e).$implicit,o=y(3);return D(o.homeService.removeWorkstation(r))}),p(7," close "),u()(),d(8,"div")(9,"span"),p(10),I(11,"bigNumber"),u()(),d(12,"div")(13,"span"),p(14,"Inputs:"),u()(),d(15,"div",13),re(16,tj,9,11,"div",null,GB),u()()}if(t&2){let e=n.$implicit;m(2),K("tooltip",e.description),m(3),pe(e.name),m(5),A("Costs ",N(11,3,e.maintenanceCost)," Taels per day to maintain"),m(6),oe(e.inputs)}}function nj(t,n){if(t&1&&(F(0,"hr"),d(1,"div")(2,"span"),p(3,"Your Workstations"),u()(),d(4,"div"),L(5,XB,4,1),u(),re(6,ij,18,5,"div",9,$B)),t&2){let e=y(2);m(5),M(e.homeService.workstations.length<e.homeService.home.maxWorkstations?5:-1),m(),oe(e.homeService.workstations)}}function rj(t,n){if(t&1&&(d(0,"span"),p(1),u()),t&2){let e=y(3);m(),Yt(" has room for ",e.homeService.openBedroomFurnitureSlots," more piece",e.homeService.openBedroomFurnitureSlots>1?"s":""," of furniture")}}function oj(t,n){if(t&1){let e=V();F(0,"hr"),d(1,"div")(2,"span"),p(3,"Your Bedroom"),u(),L(4,rj,2,2,"span"),u(),d(5,"table",19)(6,"tr")(7,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(0))}),p(8),I(9,"titlecase"),u(),d(10,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(1))}),p(11),I(12,"titlecase"),u(),d(13,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(2))}),p(14),I(15,"titlecase"),u(),d(16,"td")(17,"span",21),p(18),u()()(),d(19,"tr")(20,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(3))}),p(21),I(22,"titlecase"),u(),d(23,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(4))}),p(24),I(25,"titlecase"),u(),d(26,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(5))}),p(27),I(28,"titlecase"),u()(),d(29,"tr")(30,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(6))}),p(31),I(32,"titlecase"),u(),d(33,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(7))}),p(34),I(35,"titlecase"),u(),d(36,"td",20),w("click",function(){E(e);let r=y(2);return D(r.selectFurniture(8))}),p(37),I(38,"titlecase"),u()(),d(39,"tr")(40,"td",22),p(41," Door "),u()()()}if(t&2){let e=y(2);m(4),M(e.homeService.openBedroomFurnitureSlots>0?4:-1),m(3),K("tooltip",e.getFurnitureTooltip(0)),m(),A(" ",N(9,20,e.homeService.bedroomFurniture[0]==null?null:e.homeService.bedroomFurniture[0].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(1)),m(),A(" ",N(12,22,e.homeService.bedroomFurniture[1]==null?null:e.homeService.bedroomFurniture[1].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(2)),m(),A(" ",N(15,24,e.homeService.bedroomFurniture[2]==null?null:e.homeService.bedroomFurniture[2].name)," "),m(4),A("Feng Shui Score: ",e.characterService.characterState.fengshuiScore,""),m(2),K("tooltip",e.getFurnitureTooltip(3)),m(),A(" ",N(22,26,e.homeService.bedroomFurniture[3]==null?null:e.homeService.bedroomFurniture[3].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(4)),m(),A(" ",N(25,28,e.homeService.bedroomFurniture[4]==null?null:e.homeService.bedroomFurniture[4].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(5)),m(),A(" ",N(28,30,e.homeService.bedroomFurniture[5]==null?null:e.homeService.bedroomFurniture[5].name)," "),m(3),K("tooltip",e.getFurnitureTooltip(6)),m(),A(" ",N(32,32,e.homeService.bedroomFurniture[6]==null?null:e.homeService.bedroomFurniture[6].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(7)),m(),A(" ",N(35,34,e.homeService.bedroomFurniture[7]==null?null:e.homeService.bedroomFurniture[7].name)," "),m(2),K("tooltip",e.getFurnitureTooltip(8)),m(),A(" ",N(38,36,e.homeService.bedroomFurniture[8]==null?null:e.homeService.bedroomFurniture[8].name)," ")}}function aj(t,n){if(t&1&&(d(0,"div"),L(1,ZB,4,4,"div",2)(2,nj,8,1)(3,oj,42,38),u()),t&2){let e=y();m(),M(!e.hellService.inHell&&!e.characterService.characterState.god?1:-1),m(),M(e.homeService.home.maxWorkstations&&(!e.hellService.inHell||e.homeService.hellHome)?2:-1),m(),M(e.homeService.home.maxFurniture>0&&(!e.hellService.inHell||e.homeService.hellHome)?3:-1)}}var Fx=(()=>{class t{constructor(e,i,r,o,a,s,l,c,h,f){this.characterService=e,this.homeService=i,this.followerService=r,this.hellService=o,this.inventoryService=a,this.dialog=s,this.storeService=l,this.gameStateService=c,this.bignumber=h,this.titleCasePipe=f,this.dragPositionX=0,this.dragPositionY=0,this.character=e.characterState,this.Math=Math}buildTimeYears(){let e=1+this.followerService.jobs.builder.totalPower;return this.bignumber.transform((1-this.homeService.houseBuildingProgress)*this.homeService.nextHome.daysToBuild/e/365)+" years"}selectFurniture(e){this.homeService.bedroomFurniture[e]?this.homeService.setFurniture(null,e):(this.storeService.setFurnitureIndex(e),this.dialog.open(Rx,{width:"600px",data:{someField:"foo"},autoFocus:!1}))}getFurnitureTooltip(e){let i=this.homeService.bedroomFurniture[e],r="";if(i===null){if(this.homeService.seeFurnitureEffects){r+="This space facilitates the Feng Shui of your home when its furniture aligns with:";for(let o of this.homeService.baguaMap[e])r+="<br>"+this.titleCasePipe.transform(o);r+="<br>"}return this.homeService.openBedroomFurnitureSlots>0&&(r+="Click to set which furniture should be placed here."),r}if(r=i.description,this.homeService.seeFurnitureEffects&&(r+="<br>Feng Shui Properties:",i.subtype&&(r+="<br>"+this.titleCasePipe.transform(i.subtype)),i.color&&(r+="<br>Color: "+this.titleCasePipe.transform(i.color)),i.elements)){r+="<br>Elements: ";for(let o of i.elements)r+=this.titleCasePipe.transform(o)+", ";r=r.substring(0,r.length-2)}return r}inputDoubleClicked(e,i,r){console.log(e,i,r)}addWorkstation(){this.dialog.open(Ox,{width:"600px",data:{someField:"foo"},autoFocus:!1})}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=e.source.data;if(!o)return;let a=null,s=-1;for(let h of this.homeService.workstations)for(let f=0;f<h.inputs.length;f++)h.inputs[f]===o&&(a=h,s=f);if(!a||s===-1)return;let l=-1,c=document.elementsFromPoint(i,r);for(let h of c)h.id.startsWith("itemIndex")&&(l=parseInt(h.id.substring(9)));if(l!==-1){for(let h of c)if(h.id.startsWith("itemIndex")){let f=parseInt(h.id.substring(9));if(f>=0&&f<this.inventoryService.itemStacks.length){let g=this.inventoryService.itemStacks[f];g.item?g.item.name===o.item?.name&&(g.quantity+=o.quantity,this.inventoryService.fixId(f),a.inputs[s]=this.inventoryService.getEmptyItemStack()):(this.inventoryService.addItem(o.item,o.quantity,f),a.inputs[s]=this.inventoryService.getEmptyItemStack())}}}}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(we),k($e),k(ye),k(Y),k(it),k(vi),k(se),k(Te),k(nt))}}static{this.\u0275cmp=U({type:t,selectors:[["app-home-panel"]],decls:11,vars:7,consts:[[1,"homeContainer","overflow"],[3,"ngClass"],[1,"homeInfo"],["aria-label","Upgrade Home","aria-hidden","false",1,"iconButton","floatRight",3,"tooltip"],["aria-label","Downgrade Home","aria-hidden","false","tooltip","Is your new home too expensive? Downgrade to your previous home.",1,"iconButton","floatRight"],["aria-label","Upgrade Home","aria-hidden","false",1,"iconButton","floatRight",3,"click","tooltip"],["aria-label","Downgrade Home","aria-hidden","false","tooltip","Is your new home too expensive? Downgrade to your previous home.",1,"iconButton","floatRight",3,"click"],["tooltip","Upgrading your home.",1,"progress-bar"],[2,"margin-left","4px"],[1,"workstationContainer"],["aria-label","Add Workstation","aria-hidden","false","tooltip","Add a new Workstation",1,"iconButton",3,"click"],[3,"tooltip"],["tooltip","Remove this workstation",1,"iconButton","floatRight",3,"click"],["cdkDropList","","cdkDropListSortingDisabled","",1,"inputsContainer"],[3,"id"],["cdkDrag","",1,"inputSlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","tabindex","cdkDragData","cdkDragDisabled","tooltip"],[1,"itemName","textOverflow"],["width","48","height","48",1,"itemImage",3,"src","alt"],[1,"itemQuantity"],[1,"furnitureSlots"],[1,"itemSlot",3,"click","tooltip"],["tooltip","The Feng Shui of your home can improve your health and wealth."],[1,"itemSlot","doorText"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1),L(2,QB,3,3),d(3,"div")(4,"span"),p(5),u()()(),d(6,"div",2)(7,"span"),p(8),u()(),L(9,aj,4,3,"div"),u(),F(10,"br")),i&2&&(m(),R("ngClass",We(5,zB,r.hellService.inHell)),m(),M(!r.hellService.inHell||r.homeService.hellHome?2:-1),m(3),A(" You live in a ",r.homeService.home.name," "),m(3),pe(r.homeService.home.description),m(),M(!r.hellService.inHell||r.homeService.hellHome?9:-1))},dependencies:()=>[ut,Ye,jn,Bn,nt,Te,Fe],styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:2px;padding-right:2px;flex:auto;overflow:auto}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:2px;margin-bottom:2px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin-top:6px;margin-right:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between;white-space:nowrap}.button-group[_ngcontent-%COMP%]{white-space:nowrap}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{line-height:normal;width:50px;height:50px}.doorText[_ngcontent-%COMP%]{width:50px;height:10px;line-height:normal}.progress-bar[_ngcontent-%COMP%]{width:180px;margin-left:4px;vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.hellDisabled[_ngcontent-%COMP%]{opacity:.3}.floatRight[_ngcontent-%COMP%]{float:right}.inputsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}.inputSlot[_ngcontent-%COMP%]{width:52px;height:52px;display:flex;line-height:normal;flex-direction:row;overflow:hidden;position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.workstationContainer[_ngcontent-%COMP%]{margin:2px;border:1px solid var(--panelBorder);padding:2px}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var sj=(t,n)=>({highlighted:t,sortHighlight:n}),lj=t=>({selectedItem:t}),cj=(t,n)=>n.id;function dj(t,n){if(t&1&&(d(0,"mat-icon",3),p(1," soup_kitchen "),u()),t&2){let e=y();K("tooltip",e.hellService.inHell?"You have no food, and no one in hell sells any.":e.inventoryService.autoBuyFood?"You have no food in your inventory. You will spend money on food each day to avoid starvation.":"You have no food in your inventory and have chosen not to buy food to prevent starvation.")}}function uj(t,n){if(t&1){let e=V();d(0,"mat-icon",20),w("click",function(){E(e);let r=y(2);return D(r.sell(1))}),p(1," attach_money "),u()}if(t&2){let e=y(2);Rn("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels.<br>Right-click items to sell.")}}function hj(t,n){if(t&1){let e=V();d(0,"mat-icon",21),w("click",function(){E(e);let r=y(2);return D(r.sellStack())}),p(1," paid "),u()}if(t&2){let e=y(2);Rn("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.<br>Shift-right-click items to sell the stack.")}}function mj(t,n){if(t&1){let e=V();d(0,"mat-icon",22),w("click",function(){E(e);let r=y(2);return D(r.sellAll())}),p(1," shopping_basket "),u()}if(t&2){let e=y(2);qe("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in the whole inventory.")}}function pj(t,n){if(t&1){let e=V();d(0,"mat-icon",23),w("click",function(){E(e);let r=y(2);return D(r.autoSell())}),p(1," currency_exchange "),u()}}function fj(t,n){if(t&1){let e=V();d(0,"mat-icon",24),w("click",function(r){E(e);let o=y(2);return D(o.use(r))}),p(1," auto_awesome "),u()}if(t&2){let e=y(2);Rn("tooltip","",e.inventoryService.selectedItem.item.useLabel,".<br>",e.inventoryService.selectedItem.item.useDescription,"<br>Shift-click items to use them.<br>Shift-click or Ctrl-click this button to use more of them.")}}function gj(t,n){if(t&1){let e=V();d(0,"mat-icon",25),w("click",function(){E(e);let r=y(2);return D(r.autoUse())}),p(1," auto_mode "),u()}if(t&2){let e=y(2);Rn("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,".<br>",e.inventoryService.selectedItem.item.useDescription,"<br>You can change this in the options menu later if you change your mind.<br>Ctrl-click items to auto-use.")}}function vj(t,n){if(t&1){let e=V();d(0,"mat-icon",26),w("click",function(){E(e);let r=y(2);return D(r.autoUse())}),p(1," auto_mode "),u()}if(t&2){let e=y(2);qe("tooltip","Wisely ",e.inventoryService.selectedItem.item.useLabel,".<br>Automatically eat appropriate amounts of this food.<br>You can change settings for this in the options menu.")}}function yj(t,n){if(t&1){let e=V();d(0,"mat-icon",27),w("click",function(){E(e);let r=y(2);return D(r.autoBalance())}),p(1," balance "),u()}}function bj(t,n){if(t&1){let e=V();d(0,"mat-icon",28),w("click",function(){E(e);let r=y(2);return D(r.equip())}),p(1," shield "),u()}}function _j(t,n){if(t&1){let e=V();d(0,"mat-icon",29),w("click",function(){E(e);let r=y(2);return D(r.mergeSpiritGem())}),p(1," diamond "),u()}}function Sj(t,n){if(t&1){let e=V();d(0,"mat-icon",30),w("click",function(){E(e);let r=y(2);return D(r.throwAway())}),p(1," delete "),u()}}function wj(t,n){if(t&1&&(d(0,"span",5),L(1,uj,2,3,"mat-icon",9)(2,hj,2,3,"mat-icon",10)(3,mj,2,2,"mat-icon",11)(4,pj,2,0,"mat-icon",12)(5,fj,2,3,"mat-icon",13)(6,gj,2,3,"mat-icon",14)(7,vj,2,2,"mat-icon",15)(8,yj,2,0,"mat-icon",16)(9,bj,2,0,"mat-icon",17)(10,_j,2,0,"mat-icon",18)(11,Sj,2,0,"mat-icon",19),u()),t&2){let e=y();m(),M(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?1:-1),m(),M(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?2:-1),m(),M(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?3:-1),m(),M(e.inventoryService.autoSellUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.instanceOfEquipment(e.inventoryService.selectedItem.item)&&!e.hellService.inHell?4:-1),m(),M(e.inventoryService.selectedItem.item.useLabel!==void 0?5:-1),m(),M(e.inventoryService.selectedItem.item.useLabel!==void 0&&e.inventoryService.selectedItem.item.type!=="food"&&e.inventoryService.autoUseUnlocked?6:-1),m(),M(e.inventoryService.selectedItem.item.type==="food"&&e.inventoryService.autoEatUnlocked?7:-1),m(),M(e.inventoryService.selectedItem.item.useLabel!==void 0&&e.inventoryService.selectedItem.item.type!=="food"&&e.inventoryService.autoBalanceUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?8:-1),m(),M(e.inventoryService.selectedItem.item.type==="equipment"||e.inventoryService.selectedItem.item.pouchable?9:-1),m(),M(e.inventoryService.selectedItem.item.type==="gem"?10:-1),m(),M(e.isFinite(e.inventoryService.selectedItem.item.value)?11:-1)}}function Cj(t,n){if(t&1&&F(0,"img",36),t&2){let e=y(2);QS(e.getStyle(e.inventoryService.selectedItem)),qe("src","assets/images/items/",e.inventoryService.selectedItem.item.imageFile,".png",Tt)}}function kj(t,n){if(t&1&&(d(0,"div"),L(1,Cj,1,4,"img",31),u(),d(2,"div",32)(3,"div",33)(4,"span"),p(5),I(6,"titlecase"),u()(),d(7,"div",34),F(8,"span",35),u()()),t&2){let e=y();m(),M(e.inventoryService.selectedItem.item.imageFile?1:-1),m(4),A(" ",N(6,3,e.inventoryService.selectedItem.item.name)," "),m(3),R("innerHTML",e.inventoryService.selectedItem.item.description,Ed)}}function xj(t,n){t&1&&(F(0,"div",37),d(1,"div",32)(2,"div",33)(3,"span"),p(4," No item selected "),u()(),d(5,"div",34),F(6,"span"),u()())}function Ej(t,n){if(t&1&&(F(0,"img",43),I(1,"titlecase")),t&2){let e=y().$implicit;lt("border-color",!(e==null||e.item==null)&&e.item.imageColor?e==null||e.item==null?null:e.item.imageColor:"white"),qe("src","assets/images/items/",e==null||e.item==null?null:e.item.imageFile,".png",Tt),K("alt",N(1,5,e==null||e.item==null?null:e.item.name))}}function Dj(t,n){if(t&1&&(p(0),I(1,"titlecase")),t&2){let e=y().$implicit;A(" ",N(1,1,e==null||e.item==null?null:e.item.name)," ")}}function Mj(t,n){if(t&1&&(d(0,"div",42),p(1),u()),t&2){let e=y().$implicit;m(),A("x",e==null?null:e.quantity,"")}}function Tj(t,n){if(t&1){let e=V();d(0,"div")(1,"div",38)(2,"div",39),I(3,"titlecase"),w("mousedown",function(r){let o=E(e).$implicit,a=y();return D(a.slotClicked(o,r))})("cdkDragStarted",function(){E(e);let r=y();return D(r.dragStart())})("cdkDragEnded",function(){E(e);let r=y();return D(r.dragEnd())})("cdkDragMoved",function(r){E(e);let o=y();return D(o.dragMoved(r))})("cdkDragReleased",function(r){E(e);let o=y();return D(o.dragReleased(r))})("dblclick",function(r){let o=E(e).$implicit,a=y();return D(a.slotDoubleClicked(o,r))})("contextmenu",function(r){let o=E(e).$implicit,a=y();return D(a.slotRightClicked(o,r))}),d(4,"div",40),L(5,Ej,2,7,"img",41)(6,Dj,2,3),u(),L(7,Mj,2,1,"div",42),u()()()}if(t&2){let e=n.$implicit,i=n.$index,r=y();m(),qe("id","itemIndex",i,""),m(),K("tooltip",e!=null&&e.item?N(3,9,e==null||e.item==null?null:e.item.name)+".<br>"+(e==null||e.item==null?null:e.item.description):""),R("tabindex",e!=null&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(e!=null&&e.item))("ngClass",We(11,lj,e&&e===r.inventoryService.selectedItem)),m(3),M(!(e==null||e.item==null)&&e.item.imageFile?5:6),m(2),M(((e==null?null:e.quantity)||0)>1?7:-1)}}var Nx=(()=>{class t{constructor(e,i,r,o,a,s){this.inventoryService=e,this.characterService=i,this.homeService=r,this.hellService=o,this.mainLoopService=a,this.gameStateService=s,this.instanceOfEquipment=Vt,this.dragPositionX=0,this.dragPositionY=0,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}isFinite(e){return Number.isFinite(e)}slotClicked(e,i){if(i.stopPropagation(),i.shiftKey||i.altKey){let r=null;r!==e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey||i.metaKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem===e?this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack():this.inventoryService.selectedItem=e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey||i.metaKey?this.autoSell():i.shiftKey||i.altKey?this.sellStack():this.sell(1)}sortClicked(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey||e.metaKey?this.inventoryService.descendingSort=!this.inventoryService.descendingSort:e.shiftKey||e.altKey?this.inventoryService.autoSort=!this.inventoryService.autoSort:this.inventoryService.sortInventory()}sellAll(){this.inventoryService.selectedItem?.item&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(e=null){let i=1;e&&(e.shiftKey&&(i*=10),e.ctrlKey&&(i*=100)),this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem,i)}autoUse(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem?.item&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),this.inventoryService.selectedItem.quantity===0&&(this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()))}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let i,r;if(e.event instanceof MouseEvent)i=e.event.clientX,r=e.event.clientY;else if(e.event instanceof TouchEvent)i=this.dragPositionX,r=this.dragPositionY;else return;let o=-1;for(let l=0;l<this.inventoryService.itemStacks.length;l++)e.source.data===this.inventoryService.itemStacks[l]&&(o=l);if(o===-1)return;let a=this.inventoryService.itemStacks[o];if(!a.item)return;let s=document.elementsFromPoint(i,r);for(let l of s)if(l.id.startsWith("itemIndex")){let c=parseInt(l.id.substring(9));if(c===o)return;this.mergeOrSwapStacks(o,c),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()}else if(l.id.startsWith("pouchIndex")){let c=parseInt(l.id.substring(10));this.inventoryService.moveToPouch(o,c)}else if(l.id.startsWith("wsInputIndex")){let c=l.id.substring(12).split("_");if(c.length!==2)return;let h=parseInt(c[0]),f=parseInt(c[1]);this.homeService.moveItemToWorkstation(o,h,f)}else if(l.id.startsWith("equipmentSlot")){let h=l.id.substring(13);this.characterService.characterState.equipment[h]?(!Vt(a.item)||a.item.slot===h)&&(this.inventoryService.mergeEquippedSlot(h,a.item,o),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack()):(this.inventoryService.equip(a),this.inventoryService.selectedItem=this.inventoryService.getEmptyItemStack())}}mergeOrSwapStacks(e,i){if(e>=0&&e<this.inventoryService.itemStacks.length){let r=this.inventoryService.itemStacks[e],o=this.inventoryService.itemStacks[i],a=r?.item,s=o?.item;if(a&&s)if(Vt(a)&&Vt(s)){if(a.slot===s.slot){this.inventoryService.setItemEmptyStack(i),this.inventoryService.setItemEmptyStack(e),this.inventoryService.mergeEquipment(s,a,i);return}}else if(a.type==="gem"&&Vt(s)){this.inventoryService.gemifyEquipment(e,s);return}else a.name===s.name?this.inventoryService.mergeItemStacks(r,o,e,i):(this.inventoryService.itemStacks[i]=r,this.inventoryService.itemStacks[e]=o,this.inventoryService.fixId(i),this.inventoryService.fixId(e));else this.inventoryService.itemStacks[i]=r,this.inventoryService.itemStacks[e]=o}}throwAway(){this.inventoryService.selectedItem&&this.inventoryService.removeItemStack(this.inventoryService.selectedItem)}getStyle(e){return e&&e.item&&e.item.imageColor?{"border-color":e.item.imageColor,border:"solid 1px"}:{"border-color":"white",border:"solid 1px"}}static{this.\u0275fac=function(i){return new(i||t)(k(Y),k(X),k(we),k(ye),k(ve),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-inventory-panel"]],decls:16,vars:7,consts:[[1,"inventoryContainer"],[1,"inventoryHeader"],[1,"inventoryLabelColumn"],[1,"noFood",3,"tooltip"],["tooltip","Click to sort your inventory.<br>Shift-click to toggle autosort.<br>Ctrl-click to toggle descending.","aria-label","Sort Inventory","aria-hidden","false",1,"iconButton",3,"click","ngClass"],[1,"inventoryButtons"],[1,"selectedItemBox"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"inventoryGrid"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"tooltip"],["tooltip","Automatically sell this kind of item whenever you get one.<br>You can change this in the options menu later if you change your mind.<br>Ctrl-right-click items to autosell.",1,"iconButton"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Auto Eat","aria-hidden","false",1,"iconButton",3,"tooltip"],["aria-label","Balance","aria-hidden","false","tooltip","Balance between automatically using and selling this item.<br>You can change this in the options menu later if you change your mind.",1,"iconButton"],["aria-label","Equip","aria-hidden","false","tooltip","Equip this.<br>Double-click weapons or armor to equip.",1,"iconButton"],["aria-label","Merge Gem","aria-hidden","false","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton"],["aria-label","Throw Away","aria-hidden","false","tooltip","Throw this stack of items away.",1,"iconButton"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["tooltip","Automatically sell this kind of item whenever you get one.<br>You can change this in the options menu later if you change your mind.<br>Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Auto Eat","aria-hidden","false",1,"iconButton",3,"click","tooltip"],["aria-label","Balance","aria-hidden","false","tooltip","Balance between automatically using and selling this item.<br>You can change this in the options menu later if you change your mind.",1,"iconButton",3,"click"],["aria-label","Equip","aria-hidden","false","tooltip","Equip this.<br>Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["aria-label","Merge Gem","aria-hidden","false","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"],["aria-label","Throw Away","aria-hidden","false","tooltip","Throw this stack of items away.",1,"iconButton",3,"click"],["width","48","height","48",1,"itemImage",3,"src","style"],[1,"selectedItemText"],[1,"selectedItemName"],[1,"selectedItemTextBody"],[3,"innerHTML"],["width","48","height","48",1,"itemImage",3,"src"],[1,"itemImagePlaceholder"],[3,"id"],["cdkDrag","",1,"itemSlot",3,"mousedown","cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","contextmenu","tabindex","cdkDragData","cdkDragDisabled","ngClass","tooltip"],[1,"itemName","textOverflow"],["width","48","height","48",1,"itemImage",3,"src","border-color","alt"],[1,"itemQuantity"],["width","48","height","48",1,"itemImage",3,"src","alt"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3",1),F(2,"div",2),d(3,"div"),L(4,dj,2,1,"mat-icon",3),u(),d(5,"div")(6,"mat-icon",4),w("click",function(a){return r.sortClicked(a)}),p(7," sort "),u(),L(8,wj,12,11,"span",5),u()(),d(9,"div",6),L(10,kj,9,5)(11,xj,7,0),u(),d(12,"div",7)(13,"div",8),re(14,Tj,8,13,"div",null,cj),u()()()),i&2&&(m(4),M(r.inventoryService.noFood?4:-1),m(2),R("ngClass",Ri(4,sj,r.inventoryService.autoSort,r.inventoryService.descendingSort)),m(2),M(r.inventoryService.selectedItem.item?8:-1),m(2),M(r.inventoryService.selectedItem.item?10:11),m(4),oe(r.inventoryService.itemStacks))},dependencies:()=>[Ye,ut,jn,Bn,nt,Fe],styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;overflow-y:auto}.inventoryHeader[_ngcontent-%COMP%]{margin-bottom:4px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;justify-content:center;gap:3px;overflow-anchor:none}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px;overflow:hidden;position:relative;padding:0}.sortHighlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--textHighlight) 0%,rgba(0,0,0,0) 100%)}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px;white-space:nowrap}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.selectedItemBox[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:60px;height:60px;max-height:60px;margin-bottom:4px;margin-left:4px;margin-right:4px;border:1px solid var(--panelBorder)}.selectedItemText[_ngcontent-%COMP%]{margin-left:4px;margin-right:2px;font-size:12px;overflow-y:auto;flex-grow:1}.selectedItemName[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder)}.selectedItemTextBody[_ngcontent-%COMP%]{line-height:14px}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}.itemImage[_ngcontent-%COMP%]{border:1px solid}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function Ij(t,n){t&1&&(d(0,"span",4),p(1," (new)"),u())}function Pj(t,n){if(t&1){let e=V();d(0,"input",2),w("change",function(r){let o=E(e).$implicit,a=y();return D(a.topicFilter(r,o))}),u(),d(1,"label",3),p(2),L(3,Ij,2,0,"span",4),u(),F(4,"br")}if(t&2){let e=n.$implicit,i=y();R("id","filter"+e)("checked",i.logService.topicProperties[e].enabled),m(),R("for","filter"+e),m(),A(" Show ",e," Log Entries "),m(),M(i.logService.topicProperties[e].hasNewMessages?3:-1)}}var Lx=(()=>{class t{constructor(e){this.logService=e,this.logTopics=Object.values(S),this.LogTopic=S}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}static{this.\u0275fac=function(i){return new(i||t)(k(ot))}}static{this.\u0275cmp=U({type:t,selectors:[["app-log-filter-panel"]],decls:6,vars:0,consts:[[1,"darkMode"],[1,"filters"],["type","checkbox",3,"change","id","checked"],[3,"for"],[1,"highlightText"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2,"Log Filters"),u(),d(3,"span",1),re(4,Pj,5,5,null,null,Ue),u()()),i&2&&(m(4),oe(r.logTopics))},encapsulation:2})}}return t})();function Aj(t,n){if(t&1&&(d(0,"span"),p(1),u()),t&2){let e=y().$implicit;m(),A(" (",e.repeat," times)")}}function Rj(t,n){if(t&1&&(d(0,"div",5),p(1),L(2,Aj,2,1,"span"),u()),t&2){let e=n.$implicit;R("ngClass",e.type),m(),A(" ",e.message,""),m(),M(e.repeat?2:-1)}}var Bx=(()=>{class t{constructor(e,i,r){this.logService=e,this.gameStateService=i,this.dialog=r}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}logFilterClicked(){this.dialog.open(Lx,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(k(ot),k(se),k(it))}}static{this.\u0275cmp=U({type:t,selectors:[["app-log-panel"]],decls:10,vars:0,consts:[[1,"log"],["aria-label","Filter Log","aria-hidden","false","tooltip","Manage Log Filters",1,"iconButton","optionsIcon",3,"click"],[1,"headerNote"],[1,"logBoxContainer"],[1,"logBox"],[1,"logEntryDiv",3,"ngClass"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3")(2,"mat-icon",1),w("click",function(){return r.logFilterClicked()}),p(3," filter_alt "),u(),d(4,"span",2),p(5,"Newest messages appear at the top."),u()(),d(6,"div",3)(7,"div",4),re(8,Rj,3,3,"div",5,Ue),u()()()),i&2&&(m(8),oe(r.logService.currentLog))},dependencies:()=>[Ye,ut,Fe],styles:[".log[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBoxContainer[_ngcontent-%COMP%]{overflow:auto;display:flex;flex-direction:column;flex-grow:1}.logBox[_ngcontent-%COMP%]{overflow-anchor:none;display:flex;flex-direction:column;flex-wrap:nowrap}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Oj=t=>({lockedActivity:t}),Fj=(t,n)=>n.name+""+n.level;function Nj(t,n){if(t&1&&(d(0,"span",1),p(1),u()),t&2){let e=y();K("tooltip",e.activityService.activityHeaderDescription),m(),A("Current Location: ",e.activityService.activityHeader," ")}}function Lj(t,n){if(t&1){let e=V();d(0,"div",6),w("click",function(){E(e);let r=y().$implicit,o=y();return D(o.doActivity(r))}),d(1,"div",7)(2,"span"),p(3),u()(),d(4,"div",8)(5,"span",9)(6,"mat-icon",10),w("click",function(r){E(e);let o=y().$implicit,a=y();return D(a.showActivity(r,o))}),p(7," help "),u()()()()}if(t&2){let e=y().$implicit;R("ngClass",We(3,Oj,!e.unlocked))("tabindex",0),m(3),pe(e.name[e.level])}}function Bj(t,n){if(t&1&&L(0,Lj,8,5,"div",5),t&2){let e=n.$implicit;M(e.portal&&(e.discovered||e.unlocked)?0:-1)}}var jx=(()=>{class t{constructor(e,i,r,o,a,s,l){this.gameStateService=e,this.activityService=i,this.characterService=r,this.hellService=o,this.impossibleTaskService=a,this.dialog=s,this.mainLoopService=l,this.dragPositionX=0,this.dragPositionY=0,this.Math=Math,this.character=r.characterState}doActivity(e){e.consequence[e.level]()}showActivity(e,i){e.stopPropagation();let r=i.description[i.level]+`

`+i.consequenceDescription[i.level],o={titleText:i.name[i.level],bodyText:r,imageFile:""};i.imageBaseName&&(o.imageFile="assets/images/activities/"+i.imageBaseName+i.level+".png"),this.dialog.open(Ro,{width:"400px",data:o,autoFocus:!1})}static{this.\u0275fac=function(i){return new(i||t)(k(se),k(Ne),k(X),k(ye),k(ri),k(it),k(ve))}}static{this.\u0275cmp=U({type:t,selectors:[["app-portal-panel"]],decls:7,vars:1,consts:[[1,"portalsHeader"],[3,"tooltip"],[1,"portalsContainer"],[1,"overflow"],[1,"activityGrid"],[1,"activitySlot",3,"ngClass","tabindex"],[1,"activitySlot",3,"click","ngClass","tabindex"],["tooltip","Take this portal",1,"activityLabel"],[1,"activityButtons"],[1,"floatRight"],["tooltip","What is this activity?<br>Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(d(0,"h3",0),L(1,Nj,2,2,"span",1),u(),d(2,"div",2)(3,"div",3)(4,"div",4),re(5,Bj,1,1,null,null,Fj),u()()()),i&2&&(m(),M(r.hellService.inHell?1:-1),m(4),oe(r.activityService.activities))},dependencies:()=>[ut,Ye,Fe],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.portalsHeader[_ngcontent-%COMP%]{display:flex}.portalsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto;width:100%;height:100%}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:160px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--qiColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}',"ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function jj(t,n){if(t&1){let e=V();d(0,"tr")(1,"td"),p(2),I(3,"camelToTitle"),u(),d(4,"td"),p(5),u(),d(6,"td",11),p(7,"Keep up to "),d(8,"input",12),w("change",function(r){E(e);let o=y().$implicit,a=y();return D(a.keepValueChanged(r,o.key))}),u()()()}if(t&2){let e=y().$implicit,i=y();m(2),pe(N(3,6,e.key)),m(3),pe(e.value.description),m(),Rn("tooltip","This value will only apply to new ",i.followerType,"s.<br>You'll have to dismiss current ",i.followerType,"s yourself."),m(2),K("value",i.maxFollowerByType[e.key]===void 0?1e3:i.maxFollowerByType[e.key])}}function Vj(t,n){if(t&1&&L(0,jj,9,8,"tr"),t&2){let e=n.$implicit,i=y();M(!e.value.hidden&&(e.value.pet===i.pets||!e.value.pet&&!i.pets)?0:-1)}}var Hu=(()=>{class t{constructor(e,i){this.data=e,this.followerService=i,this.changeAll=0,this.pets=!1,this.followerType="Follower",this.pets=e.pets,this.followers=i.followers,this.followerCap=i.followerCap,this.maxFollowerByType=i.maxFollowerByType,this.pets&&(this.followerType="Pet",this.followers=i.pets,this.followerCap=i.petsCap,this.maxFollowerByType=i.maxPetsByType)}getTotalAssingments(){let e=0;for(let i in this.followerService.jobs)!this.followerService.jobs[i].hidden&&(this.followerService.jobs[i].pet===this.pets||!this.followerService.jobs[i].pet&&!this.pets)&&(this.maxFollowerByType[i]?e+=this.maxFollowerByType[i]:this.maxFollowerByType[i]!==0&&(e+=1e3));return e}changeAllChanged(e){e.target instanceof HTMLInputElement&&(this.changeAll=parseInt(e.target.value))}changeAllClicked(){for(let e in this.followerService.jobs)this.pets&&this.followerService.jobs[e].pet?this.followerService.setMaxPets(e,this.changeAll):!this.pets&&!this.followerService.jobs[e].pet&&this.followerService.setMaxFollowers(e,this.changeAll)}keepValueChanged(e,i){e.target instanceof HTMLInputElement&&(this.pets?this.followerService.setMaxPets(i,parseInt(e.target.value)):this.followerService.setMaxFollowers(i,parseInt(e.target.value)))}sortAscSwitch(){this.followerService.sortAscending=!this.followerService.sortAscending}sortOrderChanged(e){e.target instanceof HTMLSelectElement&&(this.followerService.sortField=e.target.value,this.followerService.sortFollowers(this.followerService.sortAscending,this.pets))}dismissAllClicked(){this.followerService.dismissAllFollowers(void 0,this.pets)}static{this.\u0275fac=function(i){return new(i||t)(k(lr),k($e))}}static{this.\u0275cmp=U({type:t,selectors:[["app-follower-management-panel"]],decls:43,vars:15,consts:[[1,"darkMode"],[1,"topInfo"],[3,"click"],["tooltip","Set a number to change all of the limits to."],["min","0","max","1000","value","0","type","number",1,"inputBox",3,"change"],["name","sortOrder","id","sortOrder",3,"change"],[3,"selected"],["value","Job",3,"selected"],["type","checkbox","id","followerSort",3,"change","checked"],["for","followerSort"],[1,"scrollingDiv"],[3,"tooltip"],["min","0","max","1000","type","number",1,"inputBox",3,"change","value"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h3"),p(2),u(),F(3,"hr"),d(4,"div",1)(5,"span"),p(6),u(),d(7,"span")(8,"button",2),w("click",function(){return r.dismissAllClicked()}),p(9),u()()(),d(10,"div",1)(11,"span",3),p(12,"Set limit on all to "),d(13,"input",4),w("change",function(a){return r.changeAllChanged(a)}),u(),p(14),d(15,"button",2),w("click",function(){return r.changeAllClicked()}),p(16,"Change All"),u()()(),d(17,"div",1)(18,"span"),p(19," Sort followers by "),d(20,"select",5),w("change",function(a){return r.sortOrderChanged(a)}),d(21,"option",6),p(22,"Name"),u(),d(23,"option",7),p(24,"Type"),u(),d(25,"option",6),p(26,"Age"),u(),d(27,"option",6),p(28,"Power"),u(),d(29,"option",6),p(30,"Remaining Life"),u()(),d(31,"span")(32,"input",8),w("change",function(){return r.sortAscSwitch()}),u(),d(33,"label",9),p(34,"Sort Ascending"),u()()()(),d(35,"div",10)(36,"table"),re(37,Vj,1,1,null,null,Ue),I(39,"keyvalue"),u()(),F(40,"br"),d(41,"span"),p(42),u()()),i&2&&(m(2),A("Manage ",r.followerType,"s"),m(4),rr(" You are currently supporting ",r.followers.length," ",r.followerType,"(s). You can support up to ",r.followerCap,". "),m(3),A("Dismiss All ",r.followerType,"s"),m(5),A(" ",r.followerType,"(s). "),m(7),R("selected",r.followerService.sortField==="Name"),m(2),R("selected",r.followerService.sortField==="Job"),m(2),R("selected",r.followerService.sortField==="Age"),m(2),R("selected",r.followerService.sortField==="Power"),m(2),R("selected",r.followerService.sortField==="Remaining Life"),m(3),R("checked",r.followerService.sortAscending),m(5),oe(N(39,13,r.followerService.jobs)),m(5),A("Total assignments: ",r.getTotalAssingments(),""))},dependencies:()=>[Ua,Du,Mu,Aa,yi,Fe],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[type=number][_ngcontent-%COMP%]{width:80px}.topInfo[_ngcontent-%COMP%]{margin-top:4px;padding-bottom:4px;border-bottom:1px var(--tableDividerColor) solid}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function Hj(t,n){if(t&1){let e=V();d(0,"mat-icon",5),w("click",function(){E(e);let r=y();return D(r.followerOptionsClicked())}),p(1," settings "),u()}}function Uj(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span",6),I(2,"titlecase"),I(3,"bigNumber"),I(4,"bigNumber"),I(5,"bigNumber"),p(6),I(7,"titlecase"),I(8,"camelToTitle"),u(),d(9,"mat-icon",7),w("click",function(r){let o=E(e).$implicit,a=y();return D(a.dismissFollower(r,o))}),p(10," cancel "),u()()}if(t&2){let e=n.$implicit,i=y();m(),Ys("tooltip","",e.name,"<br>is a level ",e.power," ",N(2,13,e.job),".<br>",i.followerService.jobs[e.job].description,`<br>
                `,e.name," has followed you for ",N(3,15,e.age/365)," years and will serve for another ",N(4,17,(e.lifespan-e.age)/365)," more years.<br>Daily cost: ",N(5,19,e.cost),""),m(5),rr(" ",N(7,21,e.name)," (lv.",e.power," ",N(8,23,e.job),") "),m(3),R("tooltip",i.followerService.autoDismissUnlocked?`Dismiss this follower.<br>
                Shift-click to automatically dismiss everyone of this job type.<br>
                Ctrl-click to set the current number as the limit without dismissing.`:"Dismiss this follower.")}}var Vx=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.dialog=i,this.gameStateService=r,this.followerService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(Hu,{width:"700px",data:{pets:!1},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(i):this.followerService.dismissFollower(i)}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(it),k(se),k($e))}}static{this.\u0275cmp=U({type:t,selectors:[["app-followers-panel"]],decls:8,vars:4,consts:[[3,"ngClass"],["aria-label","Manage Followers","aria-hidden","false","tooltip","Manage your followers.",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[1,"attributeLine"],["aria-label","Manage Followers","aria-hidden","false","tooltip","Manage your followers.",1,"iconButton","optionsIcon",3,"click"],[1,"followerName",3,"tooltip"],["aria-label","Dismiss Follower","aria-hidden","false",1,"smallerIcon",3,"click","tooltip"]],template:function(i,r){i&1&&(d(0,"h3")(1,"span",0),p(2),u(),L(3,Hj,2,0,"mat-icon",1),u(),d(4,"div",2)(5,"div",3),re(6,Uj,11,25,"div",4,Ue),u()()),i&2&&(m(),R("ngClass",r.followerService.followersMaxed),m(),Yt(" \xA0(",r.followerService.followers.length," / ",r.followerService.followerCap,") "),m(),M(r.followerService.autoDismissUnlocked?3:-1),m(3),oe(r.followerService.followers))},dependencies:()=>[ut,Ye,nt,yi,Te,Fe],styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.followersContainer[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function qj(t,n){if(t&1){let e=V();d(0,"mat-icon",5),w("click",function(){E(e);let r=y();return D(r.followerOptionsClicked())}),p(1," settings "),u()}}function zj(t,n){if(t&1){let e=V();d(0,"div",4)(1,"span",6),I(2,"titlecase"),I(3,"bigNumber"),I(4,"bigNumber"),I(5,"bigNumber"),p(6),I(7,"titlecase"),I(8,"camelToTitle"),u(),d(9,"mat-icon",7),w("click",function(r){let o=E(e).$implicit,a=y();return D(a.dismissFollower(r,o))}),p(10," cancel "),u()()}if(t&2){let e=n.$implicit,i=y();m(),Ys("tooltip","",e.name," is a level ",e.power," ",N(2,13,e.job),".<br>",i.followerService.jobs[e.job].description,`<br>
                `,e.name," has followed you for ",N(3,15,e.age/365)," years and will serve for another ",N(4,17,(e.lifespan-e.age)/365)," more years.<br>Daily cost: ",N(5,19,e.cost),""),m(5),rr(" ",N(7,21,e.name)," (lv.",e.power," ",N(8,23,e.job),") "),m(3),R("tooltip",i.followerService.autoDismissUnlocked?`Dismiss this pet.<br>
                Shift-click to automatically dismiss every pet of this type.<br>
                Ctrl-click to set the current number as the limit without dismissing.`:"Dismiss this pet.")}}var Hx=(()=>{class t{constructor(e,i,r,o){this.characterService=e,this.dialog=i,this.gameStateService=r,this.followerService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(Hu,{width:"700px",data:{pets:!0},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(i,!0):this.followerService.dismissFollower(i)}static{this.\u0275fac=function(i){return new(i||t)(k(X),k(it),k(se),k($e))}}static{this.\u0275cmp=U({type:t,selectors:[["app-pets-panel"]],decls:8,vars:4,consts:[[3,"ngClass"],["aria-label","Manage Pets","aria-hidden","false","tooltip","Manage your pets.",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[1,"attributeLine"],["aria-label","Manage Pets","aria-hidden","false","tooltip","Manage your pets.",1,"iconButton","optionsIcon",3,"click"],[1,"followerName",3,"tooltip"],["aria-label","Dismiss Pet","aria-hidden","false",1,"smallerIcon",3,"click","tooltip"]],template:function(i,r){i&1&&(d(0,"h3")(1,"span",0),p(2),u(),L(3,qj,2,0,"mat-icon",1),u(),d(4,"div",2)(5,"div",3),re(6,zj,11,25,"div",4,Ue),u()()),i&2&&(m(),R("ngClass",r.followerService.followersMaxed),m(),Yt(" \xA0(",r.followerService.pets.length," / ",r.followerService.petsCap,") "),m(),M(r.followerService.autoDismissUnlocked?3:-1),m(3),oe(r.followerService.pets))},dependencies:()=>[ut,Ye,nt,yi,Te,Fe],styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.followersContainer[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();function $j(t,n){if(t&1&&F(0,"img",6),t&2){let e=y().$implicit;qe("src","assets/images/items/",e.imageFile,".png",Tt)}}function Gj(t,n){if(t&1){let e=V();d(0,"mat-icon",12),w("click",function(r){E(e);let o=y().$index,a=y();return D(a.changeCropClicked(r,o))}),p(1," grass "),u()}}function Wj(t,n){if(t&1){let e=V();d(0,"div",3)(1,"div",4)(2,"div")(3,"div"),p(4),I(5,"titlecase"),u(),d(6,"div"),p(7),u(),d(8,"div"),p(9),u(),d(10,"div"),p(11),u(),d(12,"div"),p(13),I(14,"percent"),u()(),d(15,"div",5)(16,"span"),p(17),I(18,"bigNumber"),u()(),L(19,$j,1,2,"img",6),u(),d(20,"div",7)(21,"mat-icon",8),w("click",function(r){let o=E(e).$index,a=y();return D(a.removeFieldClicked(r,o))}),p(22," close "),u(),d(23,"mat-icon",9),w("click",function(r){let o=E(e).$index,a=y();return D(a.addPlotToFieldClicked(r,o))}),p(24," add "),u(),d(25,"mat-icon",10),w("click",function(r){let o=E(e).$index,a=y();return D(a.removePlotFromFieldClicked(r,o))}),p(26," remove "),u(),L(27,Gj,2,0,"mat-icon",11),u()()}if(t&2){let e=n.$implicit,i=y();m(4),A("",N(5,8,e.cropName)," Field"),m(3),A("",e.plots," Plots of Land"),m(2),A("Harvest Quantity: ",e.yield,""),m(2),A("Days Until Next Harvest: ",e.daysToHarvest,""),m(2),A("Progress to next harvest: ",N(14,10,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest)," "),m(4),A("Average harvest of ",N(18,12,e.averageYield)," per day."),m(2),M(e.imageFile?19:-1),m(8),M(i.farmService.unlockedCrops.length>1?27:-1)}}var Ux=(()=>{class t{constructor(e,i,r,o){this.homeService=e,this.farmService=i,this.characterService=r,this.gameStateService=o}addFieldClicked(e){e.preventDefault(),e.stopPropagation(),this.farmService.addField()}removeFieldClicked(e,i){this.farmService.removeField(i)}addPlotToFieldClicked(e,i){e.preventDefault(),e.stopPropagation();let r=1;e&&(e.shiftKey&&(r*=10),e.ctrlKey&&(r*=100)),this.farmService.assignFallowPlots(i,r)}removePlotFromFieldClicked(e,i){e.preventDefault(),e.stopPropagation();let r=1;e&&(e.shiftKey&&(r*=10),e.ctrlKey&&(r*=100)),this.farmService.unassignPlots(i,r)}changeCropClicked(e,i){this.farmService.changeCrop(i)}static{this.\u0275fac=function(i){return new(i||t)(k(we),k(Rt),k(X),k(se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-farm-panel"]],decls:13,vars:2,consts:[[1,"farmContainer"],["tooltip","Set up a new field for growing crops.","aria-label","Set up a field","aria-hidden","false",1,"iconButton",3,"click"],[1,"farmGrid"],[1,"fieldSlot"],[1,"flexColumn","flexColumnGrow"],[1,"yieldText"],["width","32","height","32",1,"itemImage",3,"src"],[1,"flexColumn"],["tooltip","Clear this field and let its plots go fallow.","aria-label","Clear the field","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Assign a fallow plot to this field.","aria-label","Assign plot","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Remove a plot from this field.","aria-label","Remove plot","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Change the kind of crop you are growing in this field.","aria-label","Change crop","aria-hidden","false",1,"iconButton"],["tooltip","Change the kind of crop you are growing in this field.","aria-label","Change crop","aria-hidden","false",1,"iconButton",3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div")(2,"span"),p(3," You can set up farm fields to grow various foods. Fields need to have plots assigned and regular farming work to be productive. "),u()(),d(4,"div")(5,"span"),p(6),u()(),d(7,"div")(8,"mat-icon",1),w("click",function(a){return r.addFieldClicked(a)}),p(9," add "),u()(),d(10,"div",2),re(11,Wj,28,14,"div",3,Ue),u()()),i&2&&(m(6),Yt(" You have ",r.farmService.fallowPlots," ",r.farmService.fallowPlots===1?"plot":"plots"," of land laying fallow and ready to plant "),m(5),oe(r.farmService.fields))},dependencies:()=>[Ye,Mw,nt,Te,Fe],styles:[".farmContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:4px;height:100%}.fieldSlot[_ngcontent-%COMP%]{width:200px;height:120px;padding:2px;line-height:12px;display:flex;flex-direction:row;border-radius:4px;border:1px solid var(--panelBorder);font-size:x-small;border-spacing:0px;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box}.flexColumn[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2px}.flexColumnGrow[_ngcontent-%COMP%]{flex-grow:1}.farmGrid[_ngcontent-%COMP%]{margin:2px;display:flex;flex-wrap:wrap;gap:2px;overflow-y:auto}.yieldText[_ngcontent-%COMP%]{height:30px}","ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Yj=t=>({darkMode:t}),Kj=t=>({highlighted:t}),Qj=t=>({grabCursor:t}),Zj=(t,n)=>n.id;function Xj(t,n){if(t&1){let e=V();d(0,"mat-icon",19),w("click",function(){E(e);let r=y();return D(r.impossibleTasksClicked())}),p(1," priority_high "),u()}}function Jj(t,n){if(t&1){let e=V();d(0,"span")(1,"mat-icon",20),w("click",function(){E(e);let r=y();return D(r.ascensionStoreClicked())}),p(2," keyboard_double_arrow_up "),u()()}}function eV(t,n){if(t&1){let e=V();d(0,"span")(1,"button",21),w("click",function(){E(e);let r=y();return D(r.gameStateService.addLayoutPanel())}),p(2,"Add New Panel"),u()()}}function tV(t,n){if(t&1){let e=V();d(0,"mat-icon",26),w("click",function(){E(e);let r=y().$index,o=y();return D(o.previousPanelClick(r))}),p(1," arrow_back "),u(),d(2,"mat-icon",26),w("click",function(){E(e);let r=y().$index,o=y();return D(o.nextPanelClick(r))}),p(3," arrow_forward "),u()}}function iV(t,n){t&1&&F(0,"app-time-panel",28)}function nV(t,n){t&1&&F(0,"app-attributes-panel",28)}function rV(t,n){t&1&&F(0,"app-health-panel",28)}function oV(t,n){t&1&&F(0,"app-activity-panel",28)}function aV(t,n){t&1&&F(0,"app-battle-panel",28)}function sV(t,n){t&1&&F(0,"app-equipment-panel",28)}function lV(t,n){t&1&&F(0,"app-home-panel",28)}function cV(t,n){t&1&&F(0,"app-inventory-panel",28)}function dV(t,n){t&1&&F(0,"app-log-panel",28)}function uV(t,n){t&1&&F(0,"app-portal-panel",28)}function hV(t,n){t&1&&F(0,"app-followers-panel",28)}function mV(t,n){t&1&&F(0,"app-pets-panel",28)}function pV(t,n){t&1&&F(0,"app-farm-panel",28)}function fV(t,n){if(t&1){let e=V();d(0,"ktd-grid-item",18)(1,"div",22)(2,"div",23)(3,"mat-icon"),p(4),u(),d(5,"span"),p(6),u(),d(7,"span",24)(8,"mat-icon",25),p(9," help "),u(),L(10,tV,4,0),d(11,"mat-icon",26),w("click",function(){let r=E(e).$index,o=y();return D(o.closePanelClick(r))}),p(12," close "),u()()(),d(13,"div",27),L(14,iV,1,0,"app-time-panel",28)(15,nV,1,0,"app-attributes-panel",28)(16,rV,1,0,"app-health-panel",28)(17,oV,1,0,"app-activity-panel",28)(18,aV,1,0,"app-battle-panel",28)(19,sV,1,0,"app-equipment-panel",28)(20,lV,1,0,"app-home-panel",28)(21,cV,1,0,"app-inventory-panel",28)(22,dV,1,0,"app-log-panel",28)(23,uV,1,0,"app-portal-panel",28)(24,hV,1,0,"app-followers-panel",28)(25,mV,1,0,"app-pets-panel",28)(26,pV,1,0,"app-farm-panel",28),u()()()}if(t&2){let e=n.$implicit,i=y();R("draggable",!i.gameStateService.lockPanels)("resizable",!i.gameStateService.lockPanels)("id",i.getPanel(e).id),m(2),R("ngClass",We(9,Qj,!i.gameStateService.lockPanels)),m(2),A(" ",i.getPanel(e).icon," "),m(2),pe(i.getPanel(e).name),m(2),R("tooltip",i.getPanel(e).panelHelp),m(2),M(i.gameStateService.allPanelsUsed?-1:10),m(4),M(e.id==="timePanel"?14:e.id==="attributesPanel"?15:e.id==="healthPanel"?16:e.id==="activityPanel"?17:e.id==="battlePanel"?18:e.id==="equipmentPanel"?19:e.id==="homePanel"?20:e.id==="inventoryPanel"?21:e.id==="logPanel"?22:e.id==="portalPanel"?23:e.id==="followersPanel"?24:e.id==="petsPanel"?25:e.id==="farmPanel"?26:-1)}}var kx=(()=>{class t{transform(e){return Math.floor(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=nr({name:"floor",type:t,pure:!0})}}return t})(),yi=(()=>{class t{transform(e){return e=e.split(/(?=[A-Z])/).join(" "),e=e[0].toUpperCase()+e.slice(1),e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=nr({name:"camelToTitle",type:t,pure:!0})}}return t})(),Te=(()=>{class t{constructor(e){this.mainLoopService=e}transform(e){if(this.mainLoopService.scientificNotation)return e.toPrecision(3);{let i=e,r="";e<0&&(i=0-e);let o=["","k","M","B","T","q","Q","s"];if(i<100&&!Number.isInteger(i))r=i.toFixed(2)+"";else if(i<1e4)r=Math.round(i)+"";else if(i>=Math.pow(10,o.length*3))r=i.toPrecision(3);else{let a=Math.floor(Math.log10(i));r=Math.floor(i/Math.pow(10,a-a%3-2))/100+o[Math.floor(a/3)]}return e<0?"-"+r:r}}static{this.\u0275fac=function(i){return new(i||t)(k(ve,16))}}static{this.\u0275pipe=nr({name:"bigNumber",type:t,pure:!0})}}return t})(),qx=(()=>{class t{handleKeyboardEvent(e){e.code==="Space"?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):(e.code==="Enter"||e.code==="NumpadEnter")&&this.mainLoopService.pause?(this.mainLoopService.tick(),e.preventDefault()):(e.altKey||e.metaKey)&&(e.code==="Digit0"||e.code==="Numpad0")?this.mainLoopService.pause=!0:(e.altKey||e.metaKey)&&(e.code==="Digit1"||e.code==="Numpad1")?(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=40):(e.altKey||e.metaKey)&&(e.code==="Digit2"||e.code==="Numpad2")?(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10):(e.altKey||e.metaKey)&&(e.code==="Digit3"||e.code==="Numpad3")&&this.mainLoopService.unlockFastSpeed?(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5):(e.altKey||e.metaKey)&&(e.code==="Digit4"||e.code==="Numpad4")&&this.mainLoopService.unlockFasterSpeed?(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2):(e.altKey||e.metaKey)&&(e.code==="Digit5"||e.code==="Numpad5")&&this.mainLoopService.unlockFastestSpeed&&(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1)}constructor(e,i,r,o,a,s,l,c,h,f,g,v,_,C){this.scroller=e,this.mainLoopService=i,this.gameStateService=r,this.followersService=o,this.statisticsService=a,this.storeService=s,this.characterService=l,this.impossibleTaskService=c,this.hellService=h,this.inventoryService=f,this.homeService=g,this.farmService=v,this.dialog=_,this.document=C,this.resizingPanel=-1,this.previousX=0,this.previousY=0,this.title="immortalityidle",this.applicationVersion=vo.appVersion,this.activateSliders=!1,this.trackById=Uk,this.gridGap=4,this.mobileDevice=window.navigator.maxTouchPoints>0,this.compactType="vertical",this.resizeSubscription=new _e,this.panels=this.gameStateService.panels}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start(),this.resizeSubscription=Et(Jt(window,"resize"),Jt(window,"orientationchange")).pipe(cn(50)).subscribe(()=>{this.grid.resize()})}ngOnDestroy(){this.resizeSubscription.unsubscribe()}storeClicked(){this.dialog.open(ik,{data:{someField:"foo"},autoFocus:!1})}manualStoreClicked(){this.dialog.open(tk,{data:{someField:"foo"},autoFocus:!1})}optionsClicked(){this.dialog.open(Sk,{data:{someField:"foo"},autoFocus:!1})}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(wk,{data:{someField:"foo"},autoFocus:!1})}tutorialClicked(){this.dialog.open(xk,{data:{someField:"foo"},autoFocus:!1})}statisticsClicked(){this.dialog.open(Mk,{data:{someField:"foo"},autoFocus:!1})}changelogClicked(){this.dialog.open(Ek,{data:{someField:"foo"},autoFocus:!1})}achievementsClicked(){this.dialog.open(Ck,{data:{someField:"foo"},autoFocus:!1})}impossibleTasksClicked(){this.dialog.open(kk,{data:{someField:"foo"},autoFocus:!1})}lockPanelsToggle(){this.gameStateService.lockPanels=!this.gameStateService.lockPanels}onLayoutUpdated(e){this.gameStateService.layout=e,this.gameStateService.savetoLocalStorage()}getPanel(e){for(let i of this.gameStateService.panels)if(i.id===e.id)return i;return{id:"undefinedPanel",name:"",icon:"",panelHelp:""}}nextPanelClick(e){this.gameStateService.changeLayoutPanel(e)}previousPanelClick(e){this.gameStateService.changeLayoutPanel(e,!0)}closePanelClick(e){this.gameStateService.removeLayoutPanel(e)}static{this.\u0275fac=function(i){return new(i||t)(k($d),k(ve),k(se),k($e),k(Tu),k(vi),k(X),k(ri),k(ye),k(Y),k(we),k(Rt),k(it),k(Se))}}static{this.\u0275cmp=U({type:t,selectors:[["app-root"]],viewQuery:function(i,r){if(i&1&&kt(Xg,7),i&2){let o;Xe(o=Je())&&(r.grid=o.first)}},hostBindings:function(i,r){i&1&&w("keydown",function(a){return r.handleKeyboardEvent(a)},!1,Y_)},decls:34,vars:15,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused?<br>Click here for a tutorial.","aria-label","Tutorial","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Statistics!",1,"iconButton",3,"click"],["tooltip","A store that sells regular stuff for regular mortals.<br>You are destined for immortality, but you might want some stuff from here anyway.","aria-label","Store","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.","aria-label","Manual Store","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["tooltip","Options.<br>Lots of them.","aria-label","Options","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Achievements!","aria-label","Achievements","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","aria-label","Impossible Tasks","aria-hidden","false",1,"iconButton"],[1,"discordLink"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","tooltip","Have questions?<br>Try the Immortality Idle Discord."],["type","checkbox","id","lockPanels",3,"change","checked"],["for","lockPanels"],[1,"grid-container"],["cols","100","rowHeight","10","compactOnPropsChange","true","preventCollision","false",3,"layoutUpdated","compactType","gap","layout","scrollableParent"],["dragStartThreshold","0",3,"draggable","resizable","id"],["tooltip","Impossible Tasks","aria-label","Impossible Tasks","aria-hidden","false",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.","aria-label","Ascension","aria-hidden","false",1,"iconButton",3,"click"],[3,"click"],[1,"panel"],["ktdGridDragHandle","",1,"panelHeader",3,"ngClass"],[1,"panelHelp"],[3,"tooltip"],[1,"iconButton",3,"click"],[1,"grid-item-content"],[1,"panelComponent"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p(4," Immortality Idle 2 "),d(5,"span",4),w("click",function(){return r.changelogClicked()}),p(6),u()(),d(7,"mat-icon",5),w("click",function(){return r.tutorialClicked()}),p(8," help "),u(),d(9,"mat-icon",6),w("click",function(){return r.statisticsClicked()}),p(10," format_list_numbered_rtl "),u(),d(11,"span")(12,"mat-icon",7),w("click",function(){return r.storeClicked()}),p(13," store "),u(),d(14,"mat-icon",8),w("click",function(){return r.manualStoreClicked()}),p(15," local_library "),u(),d(16,"mat-icon",9),w("click",function(){return r.optionsClicked()}),p(17," settings "),u()(),d(18,"mat-icon",10),w("click",function(){return r.achievementsClicked()}),p(19," military_tech "),u(),L(20,Xj,2,0,"mat-icon",11)(21,Jj,3,0,"span"),d(22,"span",12)(23,"a",13),p(24,"Discord"),u()(),d(25,"span")(26,"input",14),w("change",function(){return r.lockPanelsToggle()}),u(),d(27,"label",15),p(28,"Lock panels in place"),u()(),L(29,eV,3,0,"span"),u(),d(30,"div",16)(31,"ktd-grid",17),w("layoutUpdated",function(a){return r.onLayoutUpdated(a)}),re(32,fV,27,11,"ktd-grid-item",18,Zj),u()()()()),i&2&&(R("ngClass",We(11,Yj,r.gameStateService.isDarkMode)),m(6),pe(r.gameStateService.isExperimental?"Experimental":"v"+r.applicationVersion),m(8),R("ngClass",We(13,Kj,r.storeService.isManualAvailable())),m(6),M(r.impossibleTaskService.impossibleTasksUnlocked?20:-1),m(),M(r.characterService.characterState.ascensionUnlocked?21:-1),m(5),R("checked",r.gameStateService.lockPanels),m(3),M(r.gameStateService.allPanelsUsed?-1:29),m(2),R("compactType",r.compactType)("gap",r.gridGap)("layout",r.gameStateService.layout)("scrollableParent",r.document),m(),oe(r.gameStateService.layout))},dependencies:()=>[ut,Ye,Xg,Zg,zk,Sx,wx,Cx,Ex,Ix,Ax,Fx,Nx,Bx,jx,Vx,Hx,Ux,Fe],styles:["ktd-grid[_ngcontent-%COMP%]{transition:height .5s ease;background-color:var(--bodyBackground);width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;width:100%;min-width:100%;max-width:100%}.top-line[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column;width:100%;height:100%}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%;flex:auto;overflow:hidden}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;border:2px solid var(--panelBorder);border-radius:3px;box-sizing:border-box;flex:auto}.panelHeader[_ngcontent-%COMP%]{top:0;left:0;width:100%;background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0;z-index:10}.panelHelp[_ngcontent-%COMP%]{float:right}.panelComponent[_ngcontent-%COMP%]{width:100%;height:100%;height:-webkit-calc(76%);height:-moz-calc(76%);height:calc(100% - 24px);display:flex;flex-direction:column}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}.grid-container[_ngcontent-%COMP%]{padding:4px;box-sizing:border-box;border-radius:2px;border:1px solid var(--ktd-border-color);background-color:var(--ktd-background-color);width:100%}.grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center}ktd-grid-item[_ngcontent-%COMP%]   .resizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:16px;height:16px;border:1px solid var(--panelBorder);color:var(--panelBorder);transform:rotate(90deg)}.resizeCursor[_ngcontent-%COMP%]{cursor:se-resize}.grabCursor[_ngcontent-%COMP%]{cursor:grabbing}  .ktd-grid-item-placeholder{background-color:#ffa726}"]})}}return t})();var Le="primary",Nl=Symbol("RouteTitle"),pv=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ja(t){return new pv(t)}function gV(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=t[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function vV(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Vn(t[e],n[e]))return!1;return!0}function Vn(t,n){let e=t?fv(t):void 0,i=n?fv(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Jx(t[r],n[r]))return!1;return!0}function fv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Jx(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function e1(t){return t.length>0?t[t.length-1]:null}function zr(t){return fs(t)?t:Ma(t)?gt(Promise.resolve(t)):ie(t)}var yV={exact:i1,subset:n1},t1={exact:bV,subset:_V,ignored:()=>!0};function zx(t,n,e){return yV[e.paths](t.root,n.root,e.matrixParams)&&t1[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function bV(t,n){return Vn(t,n)}function i1(t,n,e){if(!Fo(t.segments,n.segments)||!zu(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!i1(t.children[i],n.children[i],e))return!1;return!0}function _V(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Jx(t[e],n[e]))}function n1(t,n,e){return r1(t,n,n.segments,e)}function r1(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!Fo(r,e)||n.hasChildren()||!zu(r,e,i))}else if(t.segments.length===e.length){if(!Fo(t.segments,e)||!zu(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!n1(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Fo(t.segments,r)||!zu(t.segments,r,i)||!t.children[Le]?!1:r1(t.children[Le],n,o,i)}}function zu(t,n,e){return n.every((i,r)=>t1[e](t[r].parameters,i.parameters))}var mr=class{root;queryParams;fragment;_queryParamMap;constructor(n=new at([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ja(this.queryParams),this._queryParamMap}toString(){return CV.serialize(this)}},at=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $u(this)}},Oo=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Ja(this.parameters),this._parameterMap}toString(){return a1(this)}};function SV(t,n){return Fo(t,n)&&t.every((e,i)=>Vn(e.parameters,n[i].parameters))}function Fo(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function wV(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===Le&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Le&&(e=e.concat(n(r,i)))}),e}var Ll=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>new es,providedIn:"root"})}return t})(),es=class{parse(n){let e=new vv(n);return new mr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Cl(n.root,!0)}`,i=EV(n.queryParams),r=typeof n.fragment=="string"?`#${kV(n.fragment)}`:"";return`${e}${i}${r}`}},CV=new es;function $u(t){return t.segments.map(n=>a1(n)).join("/")}function Cl(t,n){if(!t.hasChildren())return $u(t);if(n){let e=t.children[Le]?Cl(t.children[Le],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Le&&i.push(`${r}:${Cl(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=wV(t,(i,r)=>r===Le?[Cl(t.children[Le],!1)]:[`${r}:${Cl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Le]!=null?`${$u(t)}/${e[0]}`:`${$u(t)}/(${e.join("//")})`}}function o1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uu(t){return o1(t).replace(/%3B/gi,";")}function kV(t){return encodeURI(t)}function gv(t){return o1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(t){return decodeURIComponent(t)}function $x(t){return Gu(t.replace(/\+/g,"%20"))}function a1(t){return`${gv(t.path)}${xV(t.parameters)}`}function xV(t){return Object.entries(t).map(([n,e])=>`;${gv(n)}=${gv(e)}`).join("")}function EV(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Uu(e)}=${Uu(r)}`).join("&"):`${Uu(e)}=${Uu(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var DV=/^[^\/()?;#]+/;function dv(t){let n=t.match(DV);return n?n[0]:""}var MV=/^[^\/()?;=#]+/;function TV(t){let n=t.match(MV);return n?n[0]:""}var IV=/^[^=?&#]+/;function PV(t){let n=t.match(IV);return n?n[0]:""}var AV=/^[^&#]+/;function RV(t){let n=t.match(AV);return n?n[0]:""}var vv=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Le]=new at(n,e)),i}parseSegment(){let n=dv(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(n),new Oo(Gu(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=TV(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=dv(this.remaining);r&&(i=r,this.capture(i))}n[Gu(e)]=Gu(i)}parseQueryParam(n){let e=PV(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=RV(this.remaining);a&&(i=a,this.capture(i))}let r=$x(e),o=$x(i);if(n.hasOwnProperty(r)){let a=n[r];Array.isArray(a)||(a=[a],n[r]=a),a.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=dv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Le);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[Le]:new at([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new q(4011,!1)}};function s1(t){return t.segments.length>0?new at([],{[Le]:t}):t}function l1(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=l1(r);if(i===Le&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new at(t.segments,n);return OV(e)}function OV(t){if(t.numberOfChildren===1&&t.children[Le]){let n=t.children[Le];return new at(t.segments.concat(n.segments),n.children)}return t}function Ml(t){return t instanceof mr}function FV(t,n,e=null,i=null){let r=c1(t);return d1(r,n,e,i)}function c1(t){let n;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new at(o.url,a);return o===t&&(n=s),s}let i=e(t.root),r=s1(i);return n??r}function d1(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return uv(r,r,r,e,i);let o=NV(n);if(o.toRoot())return uv(r,r,new at([],{}),e,i);let a=LV(o,r,t),s=a.processChildren?xl(a.segmentGroup,a.index,o.commands):h1(a.segmentGroup,a.index,o.commands);return uv(r,a.segmentGroup,s,e,i)}function Wu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Tl(t){return typeof t=="object"&&t!=null&&t.outlets}function uv(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let a;t===n?a=e:a=u1(t,n,e);let s=s1(l1(a));return new mr(s,o,r)}function u1(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=u1(o,n,e)}),new at(t.segments,i)}var Yu=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Wu(i[0]))throw new q(4003,!1);let r=i.find(Tl);if(r&&r!==e1(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yu(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?n++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Yu(e,n,i)}var Qa=class{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function LV(t,n,e){if(t.isAbsolute)return new Qa(n,!0,0);if(!e)return new Qa(n,!1,NaN);if(e.parent===null)return new Qa(e,!0,0);let i=Wu(t.commands[0])?0:1,r=e.segments.length-1+i;return BV(e,r,t.numberOfDoubleDots)}function BV(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new Qa(i,!1,r-o)}function jV(t){return Tl(t[0])?t[0].outlets:{[Le]:t}}function h1(t,n,e){if(t??=new at([],{}),t.segments.length===0&&t.hasChildren())return xl(t,n,e);let i=VV(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new at(t.segments.slice(0,i.pathIndex),{});return o.children[Le]=new at(t.segments.slice(i.pathIndex),t.children),xl(o,0,r)}else return i.match&&r.length===0?new at(t.segments,{}):i.match&&!t.hasChildren()?yv(t,n,e):i.match?xl(t,0,r):yv(t,n,e)}function xl(t,n,e){if(e.length===0)return new at(t.segments,{});{let i=jV(e),r={};if(Object.keys(i).some(o=>o!==Le)&&t.children[Le]&&t.numberOfChildren===1&&t.children[Le].segments.length===0){let o=xl(t.children[Le],n,e);return new at(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=h1(t.children[o],n,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new at(t.segments,r)}}function VV(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let a=t.segments[r],s=e[i];if(Tl(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Wx(l,c,a))return o;i+=2}else{if(!Wx(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function yv(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Tl(o)){let l=HV(o.outlets);return new at(i,l)}if(r===0&&Wu(e[0])){let l=t.segments[n];i.push(new Oo(l.path,Gx(e[0]))),r++;continue}let a=Tl(o)?o.outlets[Le]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Wu(s)?(i.push(new Oo(a,Gx(s))),r+=2):(i.push(new Oo(a,{})),r++)}return new at(i,{})}function HV(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=yv(new at([],{}),0,i))}),n}function Gx(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function Wx(t,n,e){return t==e.path&&Vn(n,e.parameters)}var El="imperative",oi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(oi||{}),rn=class{id;url;constructor(n,e){this.id=n,this.url=e}},ts=class extends rn{type=oi.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pr=class extends rn{urlAfterRedirects;type=oi.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wi=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wi||{}),Ku=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ku||{}),hr=class extends rn{reason;code;type=oi.NavigationCancel;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qr=class extends rn{reason;code;type=oi.NavigationSkipped;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}},Il=class extends rn{error;target;type=oi.NavigationError;constructor(n,e,i,r){super(n,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qu=class extends rn{urlAfterRedirects;state;type=oi.RoutesRecognized;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bv=class extends rn{urlAfterRedirects;state;type=oi.GuardsCheckStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_v=class extends rn{urlAfterRedirects;state;shouldActivate;type=oi.GuardsCheckEnd;constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sv=class extends rn{urlAfterRedirects;state;type=oi.ResolveStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wv=class extends rn{urlAfterRedirects;state;type=oi.ResolveEnd;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cv=class{route;type=oi.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kv=class{route;type=oi.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xv=class{snapshot;type=oi.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ev=class{snapshot;type=oi.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dv=class{snapshot;type=oi.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mv=class{snapshot;type=oi.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{routerEvent;position;anchor;type=oi.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Pl=class{},is=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function UV(t,n){return t.providers&&!t._injector&&(t._injector=Ad(t.providers,n,`Route: ${t.path}`)),t._injector??n}function _n(t){return t.outlet||Le}function qV(t,n){let e=t.filter(i=>_n(i)===n);return e.push(...t.filter(i=>_n(i)!==n)),e}function Bl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Tv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bl(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new jl(this.rootInjector)}},jl=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Tv(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(x(Lt))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Iv(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=Iv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Pv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Pv(n,this._root).map(e=>e.value)}};function Iv(t,n){if(t===n.value)return n;for(let e of n.children){let i=Iv(t,e);if(i)return i}return null}function Pv(t,n){if(t===n.value)return[n];for(let e of n.children){let i=Pv(t,e);if(i.length)return i.unshift(n),i}return[]}var Gi=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ka(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Ju=class extends Xu{snapshot;constructor(n,e){super(n),this.snapshot=e,Vv(this,n)}toString(){return this.snapshot.toString()}};function m1(t){let n=zV(t),e=new vt([new Oo("",{})]),i=new vt({}),r=new vt({}),o=new vt({}),a=new vt(""),s=new ns(e,i,o,a,r,Le,t,n.root);return s.snapshot=n.root,new Ju(new Gi(s,[]),n)}function zV(t){let n={},e={},i={},r="",o=new Za([],n,i,r,e,Le,t,null,{});return new th("",new Gi(o,[]))}var ns=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,r,o,a,s,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Nl]))??ie(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(n=>Ja(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(n=>Ja(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eh(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:j(j({},n.params),t.params),data:j(j({},n.data),t.data),resolve:j(j(j(j({},t.data),n.data),r?.data),t._resolvedData)}:i={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},r&&f1(r)&&(i.resolve[Nl]=r.title),i}var Za=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nl]}constructor(n,e,i,r,o,a,s,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ja(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ja(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},th=class extends Xu{url;constructor(n,e){super(e),this.url=n,Vv(this,e)}toString(){return p1(this._root)}};function Vv(t,n){n.value._routerState=t,n.children.forEach(e=>Vv(t,e))}function p1(t){let n=t.children.length>0?` { ${t.children.map(p1).join(", ")} } `:"";return`${t.value}${n}`}function hv(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Vn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Vn(n.params,e.params)||t.paramsSubject.next(e.params),vV(n.url,e.url)||t.urlSubject.next(e.url),Vn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Av(t,n){let e=Vn(t.params,n.params)&&SV(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||Av(t.parent,n.parent))}function f1(t){return typeof t.title=="string"||t.title===null}var $V=new $(""),GV=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Le;activateEvents=new de;deactivateEvents=new de;attachEvents=new de;detachEvents=new de;routerOutletData=w_(void 0);parentContexts=b(jl);location=b(li);changeDetector=b(Kt);inputBinder=b(ah,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new Rv(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Me({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pi]})}return t})(),Rv=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,i,r){this.route=n,this.childContexts=e,this.parent=i,this.outletData=r}get(n,e){return n===ns?this.route:n===jl?this.childContexts:n===$V?this.outletData:this.parent.get(n,e)}},ah=new $(""),Yx=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=zn([i.queryParams,i.params,i.data]).pipe(yt(([o,a,s],l)=>(s=j(j(j({},o),a),s),l===0?ie(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=hw(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function WV(t,n,e){let i=Al(t,n._root,e?e._root:void 0);return new Ju(i,n)}function Al(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=YV(t,n,e);return new Gi(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>Al(t,s)),a}}let i=KV(n.value),r=n.children.map(o=>Al(t,o));return new Gi(i,r)}}function YV(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Al(t,i,r);return Al(t,i)})}function KV(t){return new ns(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var Rl=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},g1="ngNavigationCancelingError";function ih(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Ml(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=v1(!1,Wi.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function v1(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[g1]=!0,e.cancellationCode=n,e}function QV(t){return y1(t)&&Ml(t.url)}function y1(t){return!!t&&t[g1]}var ZV=(t,n,e,i)=>J(r=>(new Ov(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),Ov=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),hv(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Ka(e);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Ka(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Ka(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Ka(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Mv(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Ev(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(hv(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),hv(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,i)}},nh=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Xa=class{component;route;constructor(n,e){this.component=n,this.route=e}};function XV(t,n,e){let i=t._root,r=n?n._root:null;return kl(i,r,e,[i.value])}function JV(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function as(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!ub(t)?t:n.get(t):i}function kl(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ka(n);return t.children.forEach(a=>{eH(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Dl(s,e.getContext(a),r)),r}function eH(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=n?n.value:null,s=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=tH(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new nh(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?kl(t,n,s?s.children:null,i,r):kl(t,n,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Xa(s.outlet.component,a))}else a&&Dl(n,s,r),r.canActivateChecks.push(new nh(i)),o.component?kl(t,null,s?s.children:null,i,r):kl(t,null,e,i,r);return r}function tH(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Fo(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Fo(t.url,n.url)||!Vn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Av(t,n)||!Vn(t.queryParams,n.queryParams);case"paramsChange":default:return!Av(t,n)}}function Dl(t,n,e){let i=Ka(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?n?Dl(a,n.children.getContext(o),e):Dl(a,null,e):Dl(a,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Xa(n.outlet.component,r)):e.canDeactivateChecks.push(new Xa(null,r)):e.canDeactivateChecks.push(new Xa(null,r))}function Vl(t){return typeof t=="function"}function iH(t){return typeof t=="boolean"}function nH(t){return t&&Vl(t.canLoad)}function rH(t){return t&&Vl(t.canActivate)}function oH(t){return t&&Vl(t.canActivateChild)}function aH(t){return t&&Vl(t.canDeactivate)}function sH(t){return t&&Vl(t.canMatch)}function b1(t){return t instanceof qn||t?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function rs(){return yt(t=>zn(t.map(n=>n.pipe(mt(1),Dt(qu)))).pipe(J(n=>{for(let e of n)if(e!==!0){if(e===qu)return qu;if(e===!1||lH(e))return e}return!0}),Pe(n=>n!==qu),mt(1)))}function lH(t){return Ml(t)||t instanceof Rl}function cH(t,n){return xt(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?ie(ke(j({},e),{guardsResult:!0})):dH(a,i,r,t).pipe(xt(s=>s&&iH(s)?uH(i,o,t,n):ie(s)),J(s=>ke(j({},e),{guardsResult:s})))})}function dH(t,n,e,i){return gt(t).pipe(xt(r=>gH(r.component,r.route,e,n,i)),Wn(r=>r!==!0,!0))}function uH(t,n,e,i){return gt(n).pipe(Gn(r=>_r(mH(r.route.parent,i),hH(r.route,i),fH(t,r.path,e),pH(t,r.route,e))),Wn(r=>r!==!0,!0))}function hH(t,n){return t!==null&&n&&n(new Dv(t)),ie(!0)}function mH(t,n){return t!==null&&n&&n(new xv(t)),ie(!0)}function pH(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return ie(!0);let r=i.map(o=>kn(()=>{let a=Bl(n)??e,s=as(o,a),l=rH(s)?s.canActivate(n,t):Bi(a,()=>s(n,t));return zr(l).pipe(Wn())}));return ie(r).pipe(rs())}function fH(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>JV(a)).filter(a=>a!==null).map(a=>kn(()=>{let s=a.guards.map(l=>{let c=Bl(a.node)??e,h=as(l,c),f=oH(h)?h.canActivateChild(i,t):Bi(c,()=>h(i,t));return zr(f).pipe(Wn())});return ie(s).pipe(rs())}));return ie(o).pipe(rs())}function gH(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let a=o.map(s=>{let l=Bl(n)??r,c=as(s,l),h=aH(c)?c.canDeactivate(t,n,e,i):Bi(l,()=>c(t,n,e,i));return zr(h).pipe(Wn())});return ie(a).pipe(rs())}function vH(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return ie(!0);let o=r.map(a=>{let s=as(a,t),l=nH(s)?s.canLoad(n,e):Bi(t,()=>s(n,e));return zr(l)});return ie(o).pipe(rs(),_1(i))}function _1(t){return Bh(st(n=>{if(typeof n!="boolean")throw ih(t,n)}),J(n=>n===!0))}function yH(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return ie(!0);let o=r.map(a=>{let s=as(a,t),l=sH(s)?s.canMatch(n,e):Bi(t,()=>s(n,e));return zr(l)});return ie(o).pipe(rs(),_1(i))}var Ol=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Fl=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ya(t){return yr(new Ol(t))}function bH(t){return yr(new q(4e3,!1))}function _H(t){return yr(v1(!1,Wi.GuardRejected))}var Fv=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ie(i);if(r.numberOfChildren>1||!r.children[Le])return bH(`${n.redirectTo}`);r=r.children[Le]}}applyRedirectCommands(n,e,i,r,o){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:h,url:f,outlet:g,params:v,data:_,title:C}=r,T=Bi(o,()=>s({params:v,data:_,queryParams:l,fragment:c,routeConfig:h,url:f,outlet:g,title:C}));if(T instanceof mr)throw new Fl(T);e=T}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new Fl(a);return a}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new mr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(n,l,i,r)}),new at(o,a)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SH(t,n,e,i,r){let o=S1(t,n,e);return o.matched?(i=UV(n,i),yH(i,n,e,r).pipe(J(a=>a===!0?o:j({},Nv)))):ie(o)}function S1(t,n,e){if(n.path==="**")return wH(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?j({},Nv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||gV)(e,t,n);if(!r)return j({},Nv);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?j(j({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function wH(t){return{matched:!0,parameters:t.length>0?e1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kx(t,n,e,i){return e.length>0&&xH(t,e,i)?{segmentGroup:new at(n,kH(i,new at(e,t.children))),slicedSegments:[]}:e.length===0&&EH(t,e,i)?{segmentGroup:new at(t.segments,CH(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new at(t.segments,t.children),slicedSegments:e}}function CH(t,n,e,i){let r={};for(let o of e)if(sh(t,n,o)&&!i[_n(o)]){let a=new at([],{});r[_n(o)]=a}return j(j({},i),r)}function kH(t,n){let e={};e[Le]=n;for(let i of t)if(i.path===""&&_n(i)!==Le){let r=new at([],{});e[_n(i)]=r}return e}function xH(t,n,e){return e.some(i=>sh(t,n,i)&&_n(i)!==Le)}function EH(t,n,e){return e.some(i=>sh(t,n,i))}function sh(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function DH(t,n,e){return n.length===0&&!t.children[e]}var Lv=class{};function MH(t,n,e,i,r,o,a="emptyOnly"){return new Bv(t,n,e,i,r,a,o).recognize()}var TH=31,Bv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,r,o,a,s){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Fv(this.urlSerializer,this.urlTree)}noMatchError(n){return new q(4002,`'${n.segmentGroup}'`)}recognize(){let n=Kx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(J(({children:e,rootSnapshot:i})=>{let r=new Gi(i,e),o=new th("",r),a=FV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(n){let e=new Za([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Le,e).pipe(J(i=>({children:i,rootSnapshot:e})),xn(i=>{if(i instanceof Fl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ol?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,o):this.processSegment(n,e,i,i.segments,r,!0,o).pipe(J(a=>a instanceof Gi?[a]:[]))}processChildren(n,e,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return gt(o).pipe(Gn(a=>{let s=i.children[a],l=qV(e,a);return this.processSegmentGroup(n,l,s,a,r)}),Wh((a,s)=>(a.push(...s),a)),Sr(null),Gh(),xt(a=>{if(a===null)return Ya(i);let s=w1(a);return IH(s),ie(s)}))}processSegment(n,e,i,r,o,a,s){return gt(e).pipe(Gn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,i,r,o,a,s).pipe(xn(c=>{if(c instanceof Ol)return ie(null);throw c}))),Wn(l=>!!l),xn(l=>{if(b1(l))return DH(i,r,o)?ie(new Lv):Ya(i);throw l}))}processSegmentAgainstRoute(n,e,i,r,o,a,s,l){return _n(i)!==a&&(a===Le||!sh(r,o,i))?Ya(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,a,l):Ya(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,a,s){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:f,remainingSegments:g}=S1(e,r,o);if(!l)return Ya(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TH&&(this.allowRedirects=!1));let v=new Za(o,c,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Qx(r),_n(r),r.component??r._loadedComponent??null,r,Zx(r)),_=eh(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let C=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,v,n);return this.applyRedirects.lineralizeSegments(r,C).pipe(xt(T=>this.processSegment(n,i,e,T.concat(g),a,!1,s)))}matchSegmentAgainstRoute(n,e,i,r,o,a){let s=SH(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(yt(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(yt(({routes:c})=>{let h=i._loadedInjector??n,{parameters:f,consumedSegments:g,remainingSegments:v}=l,_=new Za(g,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Qx(i),_n(i),i.component??i._loadedComponent??null,i,Zx(i)),C=eh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let{segmentGroup:T,slicedSegments:B}=Kx(e,g,v,c);if(B.length===0&&T.hasChildren())return this.processChildren(h,c,T,_).pipe(J(ne=>new Gi(_,ne)));if(c.length===0&&B.length===0)return ie(new Gi(_,[]));let W=_n(i)===o;return this.processSegment(h,c,T,B,W?Le:o,!0,_).pipe(J(ne=>new Gi(_,ne instanceof Gi?[ne]:[])))}))):Ya(e)))}getChildConfig(n,e,i){return e.children?ie({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?ie({routes:e._loadedRoutes,injector:e._loadedInjector}):vH(n,e,i,this.urlSerializer).pipe(xt(r=>r?this.configLoader.loadChildren(n,e).pipe(st(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):_H(e))):ie({routes:[],injector:n})}};function IH(t){t.sort((n,e)=>n.value.outlet===Le?-1:e.value.outlet===Le?1:n.value.outlet.localeCompare(e.value.outlet))}function PH(t){let n=t.value.routeConfig;return n&&n.path===""}function w1(t){let n=[],e=new Set;for(let i of t){if(!PH(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=w1(i.children);n.push(new Gi(i.value,r))}return n.filter(i=>!e.has(i))}function Qx(t){return t.data||{}}function Zx(t){return t.resolve||{}}function AH(t,n,e,i,r,o){return xt(a=>MH(t,n,e,i,a.extractedUrl,r,o).pipe(J(({state:s,tree:l})=>ke(j({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function RH(t,n){return xt(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ie(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of C1(l))a.add(c);let s=0;return gt(a).pipe(Gn(l=>o.has(l)?OH(l,i,t,n):(l.data=eh(l,l.parent,t).resolve,ie(void 0))),st(()=>s++),na(1),xt(l=>s===a.size?ie(e):Xt))})}function C1(t){let n=t.children.map(e=>C1(e)).flat();return[t,...n]}function OH(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!f1(r)&&(o[Nl]=r.title),FH(o,t,n,i).pipe(J(a=>(t._resolvedData=a,t.data=eh(t,t.parent,e).resolve,null)))}function FH(t,n,e,i){let r=fv(t);if(r.length===0)return ie({});let o={};return gt(r).pipe(xt(a=>NH(t[a],n,e,i).pipe(Wn(),st(s=>{if(s instanceof Rl)throw ih(new es,s);o[a]=s}))),na(1),J(()=>o),xn(a=>b1(a)?Xt:yr(a)))}function NH(t,n,e,i){let r=Bl(n)??i,o=as(t,r),a=o.resolve?o.resolve(n,e):Bi(r,()=>o(n,e));return zr(a)}function mv(t){return yt(n=>{let e=t(n);return e?gt(e).pipe(J(()=>n)):ie(n)})}var k1=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Le);return i}getResolvedTitleForRoute(e){return e.data[Nl]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(LH),providedIn:"root"})}return t})(),LH=(()=>{class t extends k1{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(x(bC))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hl=new $("",{providedIn:"root",factory:()=>({})}),BH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&F(0,"router-outlet")},dependencies:[GV],encapsulation:2})}return t})();function Hv(t){let n=t.children&&t.children.map(Hv),e=n?ke(j({},t),{children:n}):j({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Le&&(e.component=BH),e}var rh=new $(""),Uv=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Bd);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ie(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=zr(e.loadComponent()).pipe(J(x1),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),wr(()=>{this.componentLoaders.delete(e)})),r=new Go(i,()=>new H).pipe($o());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=jH(i,this.compiler,e,this.onLoadEndListener).pipe(wr(()=>{this.childrenLoaders.delete(i)})),a=new Go(o,()=>new H).pipe($o());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jH(t,n,e,i){return zr(t.loadChildren()).pipe(J(x1),xt(r=>r instanceof of||Array.isArray(r)?ie(r):gt(n.compileModuleAsync(r))),J(r=>{i&&i(t);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(rh,[],{optional:!0,self:!0}).flat()),{routes:a.map(Hv),injector:o}}))}function VH(t){return t&&typeof t=="object"&&"default"in t}function x1(t){return VH(t)?t.default:t}var qv=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(HH),providedIn:"root"})}return t})(),HH=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),E1=new $(""),D1=new $("");function UH(t,n,e){let i=t.get(D1),r=t.get(Se);return t.get(te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),qH(t))),{onViewTransitionCreated:l}=i;return l&&Bi(t,()=>l({transition:s,from:n,to:e})),a})}function qH(t){return new Promise(n=>{pi({read:()=>setTimeout(n)},{injector:t})})}var M1=new $(""),zv=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new H;transitionAbortSubject=new H;configLoader=b(Uv);environmentInjector=b(Lt);destroyRef=b(ka);urlSerializer=b(Ll);rootContexts=b(jl);location=b(Ar);inputBindingEnabled=b(ah,{optional:!0})!==null;titleStrategy=b(k1);options=b(Hl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(qv);createViewTransition=b(E1,{optional:!0});navigationErrorHandler=b(M1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Cv(r)),i=r=>this.events.next(new kv(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(ke(j(j({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new vt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:El,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(o=>o.id!==0),J(o=>ke(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let a=!1,s=!1;return ie(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wi.SupersededByNewNavigation),Xt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ke(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&h!=="reload"){let f="";return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.rawUrl),f,Ku.IgnoredSameUrlNavigation)),l.resolve(!1),Xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ie(l).pipe(yt(f=>{let g=this.transitions?.getValue();return this.events.next(new ts(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?Xt:Promise.resolve(f)}),AH(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),st(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ke(j({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new Qu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:g,source:v,restoredState:_,extras:C}=l,T=new ts(f,this.urlSerializer.serialize(g),v,_);this.events.next(T);let B=m1(this.rootComponentType).snapshot;return this.currentTransition=o=ke(j({},l),{targetSnapshot:B,urlAfterRedirects:g,extras:ke(j({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ie(o)}else{let f="";return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Ku.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Xt}}),st(l=>{let c=new bv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),J(l=>(this.currentTransition=o=ke(j({},l),{guards:XV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),cH(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ih(this.urlSerializer,l.guardsResult);let c=new _v(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Pe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Wi.GuardRejected),!1)),mv(l=>{if(l.guards.canActivateChecks.length)return ie(l).pipe(st(c=>{let h=new Sv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),yt(c=>{let h=!1;return ie(c).pipe(RH(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",Wi.NoDataFromResolver)}}))}),st(c=>{let h=new wv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),mv(l=>{let c=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(st(g=>{h.component=g}),J(()=>{})));for(let g of h.children)f.push(...c(g));return f};return zn(c(l.targetSnapshot.root)).pipe(Sr(null),mt(1))}),mv(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?gt(h).pipe(J(()=>o)):ie(o)}),J(l=>{let c=WV(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ke(j({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),st(()=>{this.events.next(new Pl)}),ZV(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mt(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ct(this.transitionAbortSubject.pipe(st(l=>{throw l}))),wr(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",Wi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(l=>{if(this.destroyed)return o.resolve(!1),Xt;if(s=!0,y1(l))this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),QV(l)?this.events.next(new is(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Il(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Bi(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(h instanceof Rl){let{message:f,cancellationCode:g}=ih(this.urlSerializer,h);this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),f,g)),this.events.next(new is(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Xt}))}))}cancelNavigationTransition(e,i,r){let o=new hr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zH(t){return t!==El}var $H=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(GH),providedIn:"root"})}return t})(),jv=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},GH=(()=>{class t extends jv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T1=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:()=>b(WH),providedIn:"root"})}return t})(),WH=(()=>{class t extends T1{location=b(Ar);urlSerializer=b(Ll);options=b(Hl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=b(qv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=m1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof ts)this.stateMemento=this.createStateMemento();else if(e instanceof qr)this.rawUrlTree=i.initialUrl;else if(e instanceof Qu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof Pl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof hr&&(e.code===Wi.GuardRejected||e.code===Wi.NoDataFromResolver)?this.restoreHistory(i):e instanceof Il?this.restoreHistory(i,!0):e instanceof pr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof mr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",a)}else{let o=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=$t(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function I1(t,n){t.events.pipe(Pe(e=>e instanceof pr||e instanceof hr||e instanceof Il||e instanceof qr),J(e=>e instanceof pr||e instanceof qr?0:(e instanceof hr?e.code===Wi.Redirect||e.code===Wi.SupersededByNewNavigation:!1)?2:1),Pe(e=>e!==2),mt(1)).subscribe(()=>{n()})}var YH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},os=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(af);stateManager=b(T1);options=b(Hl,{optional:!0})||{};pendingTasks=b(fo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(zv);urlSerializer=b(Ll);location=b(Ar);urlHandlingStrategy=b(qv);_events=new H;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b($H);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(rh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(ah,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _e;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof hr&&i.code!==Wi.Redirect&&i.code!==Wi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof pr)this.navigated=!0;else if(i instanceof is){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=j({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zH(r.source)},a);this.scheduleNavigation(s,El,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ZH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),El,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=j({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Hv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,h=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=r?r.snapshot:this.routerState.snapshot.root;f=c1(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return d1(f,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Ml(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,El,null,i)}navigate(e,i={skipLocationChange:!1}){return QH(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=j({},YH):i===!1?r=j({},KH):r=i,Ml(e))return zx(this.currentUrlTree,e,r);let o=this.parseUrl(e);return zx(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((f,g)=>{s=f,l=g});let h=this.pendingTasks.add();return I1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QH(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new q(4008,!1)}function ZH(t){return!(t instanceof Pl)&&!(t instanceof is)}var oh=class{};var XH=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(e=>e instanceof pr),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ad(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return gt(r).pipe(br())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=ie(null);let o=r.pipe(xt(a=>a===null?ie(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return gt([o,a]).pipe(br())}else return o})}static \u0275fac=function(i){return new(i||t)(x(os),x(Bd),x(Lt),x(oh),x(Uv))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P1=new $(""),JH=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof qr&&e.code===Ku.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Zu&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zu(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){ES()};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function e3(t){return t.routerState.root}function Ul(t,n){return{\u0275kind:t,\u0275providers:n}}function t3(){let t=b(ee);return n=>{let e=t.get(Ti);if(n!==e.components[0])return;let i=t.get(os),r=t.get(A1);t.get($v)===1&&i.initialNavigation(),t.get(R1,null,Ve.Optional)?.setUpPreloading(),t.get(P1,null,Ve.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var A1=new $("",{factory:()=>new H}),$v=new $("",{providedIn:"root",factory:()=>1});function i3(){return Ul(2,[{provide:$v,useValue:0},{provide:Fd,multi:!0,deps:[ee],useFactory:n=>{let e=n.get(Sw,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(os),o=n.get(A1);I1(r,()=>{i(!0)}),n.get(zv).afterPreactivation=()=>(i(!0),o.closed?ie(void 0):o),r.initialNavigation()}))}}])}function n3(){return Ul(3,[{provide:Fd,multi:!0,useFactory:()=>{let n=b(os);return()=>{n.setUpLocationChangeListener()}}},{provide:$v,useValue:2}])}var R1=new $("");function r3(t){return Ul(0,[{provide:R1,useExisting:XH},{provide:oh,useExisting:t}])}function o3(){return Ul(8,[Yx,{provide:ah,useExisting:Yx}])}function a3(t){let n=[{provide:E1,useValue:UH},{provide:D1,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ul(9,n)}var s3=[Ar,{provide:Ll,useClass:es},os,jl,{provide:ns,useFactory:e3,deps:[os]},Uv,[]],Gv=(()=>{class t{constructor(){}static forRoot(e,i){return{ngModule:t,providers:[s3,[],{provide:rh,multi:!0,useValue:e},[],i?.errorHandler?{provide:M1,useValue:i.errorHandler}:[],{provide:Hl,useValue:i||{}},i?.useHash?c3():d3(),l3(),i?.preloadingStrategy?r3(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?u3(i):[],i?.bindToComponentInputs?o3().\u0275providers:[],i?.enableViewTransitions?a3().\u0275providers:[],h3()]}}static forChild(e){return{ngModule:t,providers:[{provide:rh,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();function l3(){return{provide:P1,useFactory:()=>{let t=b($d),n=b(te),e=b(Hl),i=b(zv),r=b(Ll);return e.scrollOffset&&t.setOffset(e.scrollOffset),new JH(r,i,t,n,e)}}}function c3(){return{provide:_o,useClass:Cw}}function d3(){return{provide:_o,useClass:_f}}function u3(t){return[t.initialNavigation==="disabled"?n3().\u0275providers:[],t.initialNavigation==="enabledBlocking"?i3().\u0275providers:[]]}var Xx=new $("");function h3(){return[{provide:Xx,useFactory:t3},{provide:Nd,multi:!0,useExisting:Xx}]}var m3=[],O1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=De({type:t})}static{this.\u0275inj=Ee({imports:[Gv.forRoot(m3),Gv]})}}return t})();function F1(t){return new q(3e3,!1)}function p3(){return new q(3100,!1)}function f3(){return new q(3101,!1)}function g3(t){return new q(3001,!1)}function v3(t){return new q(3003,!1)}function y3(t){return new q(3004,!1)}function b3(t,n){return new q(3005,!1)}function _3(){return new q(3006,!1)}function S3(){return new q(3007,!1)}function w3(t,n){return new q(3008,!1)}function C3(t){return new q(3002,!1)}function k3(t,n,e,i,r){return new q(3010,!1)}function x3(){return new q(3011,!1)}function E3(){return new q(3012,!1)}function D3(){return new q(3200,!1)}function M3(){return new q(3202,!1)}function T3(){return new q(3013,!1)}function I3(t){return new q(3014,!1)}function P3(t){return new q(3015,!1)}function A3(t){return new q(3016,!1)}function R3(t,n){return new q(3404,!1)}function O3(t){return new q(3502,!1)}function F3(t){return new q(3503,!1)}function N3(){return new q(3300,!1)}function L3(t){return new q(3504,!1)}function B3(t){return new q(3301,!1)}function j3(t,n){return new q(3302,!1)}function V3(t){return new q(3303,!1)}function H3(t,n){return new q(3400,!1)}function U3(t){return new q(3401,!1)}function q3(t){return new q(3402,!1)}function z3(t,n){return new q(3505,!1)}function $r(t){switch(t.length){case 0:return new jr;case 1:return t[0];default:return new sl(t)}}function K1(t,n,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(n.forEach(l=>{let c=l.get("offset"),h=c==a,f=h&&s||new Map;l.forEach((g,v)=>{let _=v,C=g;if(v!=="offset")switch(_=t.normalizePropertyName(_,r),C){case mu:C=e.get(v);break;case Nn:C=i.get(v);break;default:C=t.normalizeStyleValue(v,_,C,r);break}f.set(_,C)}),h||o.push(f),s=f,a=c}),r.length)throw O3(r);return o}function py(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&Wv(e,"start",t)));break;case"done":t.onDone(()=>i(e&&Wv(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&Wv(e,"destroy",t)));break}}function Wv(t,n,e){let i=e.totalTime,r=!!e.disabled,o=fy(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function fy(t,n,e,i,r="",o=0,a){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ki(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function N1(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var $3=typeof document>"u"?null:document.documentElement;function gy(t){let n=t.parentNode||t.host||null;return n===$3?null:n}function G3(t){return t.substring(1,6)=="ebkit"}var No=null,L1=!1;function W3(t){No||(No=Y3()||{},L1=No.style?"WebkitAppearance"in No.style:!1);let n=!0;return No.style&&!G3(t)&&(n=t in No.style,!n&&L1&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in No.style)),n}function Y3(){return typeof document<"u"?document.body:null}function Q1(t,n){for(;n;){if(n===t)return!0;n=gy(n)}return!1}function Z1(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var vy=(()=>{class t{validateStyleProperty(e){return W3(e)}containsElement(e,i){return Q1(e,i)}getParentElement(e){return gy(e)}query(e,i,r){return Z1(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new jr(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),jo=class{static NOOP=new vy},Vo=class{};var K3=1e3,X1="{{",Q3="}}",J1="ng-enter",Jv="ng-leave",lh="ng-trigger",mh=".ng-trigger",B1="ng-animating",ey=".ng-animating";function fr(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:ty(parseFloat(n[1]),n[2])}function ty(t,n){switch(n){case"s":return t*K3;default:return t}}function ph(t,n,e){return t.hasOwnProperty("duration")?t:Z3(t,n,e)}function Z3(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let s=t.match(i);if(s===null)return n.push(F1(t)),{duration:0,delay:0,easing:""};r=ty(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=ty(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else r=t;if(!e){let s=!1,l=n.length;r<0&&(n.push(p3()),s=!0),o<0&&(n.push(f3()),s=!0),s&&n.splice(l,0,F1(t))}return{duration:r,delay:o,easing:a}}function X3(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function Hn(t,n,e){n.forEach((i,r)=>{let o=yy(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Bo(t,n){n.forEach((e,i)=>{let r=yy(i);t.style[r]=""})}function ql(t){return Array.isArray(t)?t.length==1?t[0]:MC(t):t}function J3(t,n,e){let i=n.params||{},r=eE(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(g3(o))})}var iy=new RegExp(`${X1}\\s*(.+?)\\s*${Q3}`,"g");function eE(t){let n=[];if(typeof t=="string"){let e;for(;e=iy.exec(t);)n.push(e[1]);iy.lastIndex=0}return n}function $l(t,n,e){let i=`${t}`,r=i.replace(iy,(o,a)=>{let s=n[a];return s==null&&(e.push(v3(a)),s=""),s.toString()});return r==i?t:r}var eU=/-+([a-z0-9])/g;function yy(t){return t.replace(eU,(...n)=>n[1].toUpperCase())}function tU(t,n){return t===0||n===0}function iU(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<n.length;o++){let a=n[o];r.forEach(s=>a.set(s,by(t,s)))}}return n}function Yi(t,n,e){switch(n.type){case Ae.Trigger:return t.visitTrigger(n,e);case Ae.State:return t.visitState(n,e);case Ae.Transition:return t.visitTransition(n,e);case Ae.Sequence:return t.visitSequence(n,e);case Ae.Group:return t.visitGroup(n,e);case Ae.Animate:return t.visitAnimate(n,e);case Ae.Keyframes:return t.visitKeyframes(n,e);case Ae.Style:return t.visitStyle(n,e);case Ae.Reference:return t.visitReference(n,e);case Ae.AnimateChild:return t.visitAnimateChild(n,e);case Ae.AnimateRef:return t.visitAnimateRef(n,e);case Ae.Query:return t.visitQuery(n,e);case Ae.Stagger:return t.visitStagger(n,e);default:throw y3(n.type)}}function by(t,n){return window.getComputedStyle(t)[n]}var nU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fh=class extends Vo{normalizePropertyName(n,e){return yy(n)}normalizeStyleValue(n,e,i,r){let o="",a=i.toString().trim();if(nU.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(b3(n,i))}return a+o}};var gh="*";function rU(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>oU(i,e,n)):e.push(t),e}function oU(t,n,e){if(t[0]==":"){let l=aU(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(P3(t)),n;let r=i[1],o=i[2],a=i[3];n.push(j1(r,a));let s=r==gh&&a==gh;o[0]=="<"&&!s&&n.push(j1(a,r))}function aU(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(A3(t)),"* => *"}}var ch=new Set(["true","1"]),dh=new Set(["false","0"]);function j1(t,n){let e=ch.has(t)||dh.has(t),i=ch.has(n)||dh.has(n);return(r,o)=>{let a=t==gh||t==r,s=n==gh||n==o;return!a&&e&&typeof r=="boolean"&&(a=r?ch.has(t):dh.has(t)),!s&&i&&typeof o=="boolean"&&(s=o?ch.has(n):dh.has(n)),a&&s}}var tE=":self",sU=new RegExp(`s*${tE}s*,?`,"g");function iE(t,n,e,i){return new ny(t).build(n,e,i)}var V1="",ny=class{_driver;constructor(n){this._driver=n}build(n,e,i){let r=new ry(e);return this._resetContextStyleTimingState(r),Yi(this,ql(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=V1,n.collectedStyles=new Map,n.collectedStyles.set(V1,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return n.name.charAt(0)=="@"&&e.errors.push(_3()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==Ae.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==Ae.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(S3())}),{type:Ae.Trigger,name:n.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{eE(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(w3(n.name,[...o.values()]))}return{type:Ae.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=Yi(this,ql(n.animation),e),r=rU(n.expr,e.errors);return{type:Ae.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Lo(n.options)}}visitSequence(n,e){return{type:Ae.Sequence,steps:n.steps.map(i=>Yi(this,i,e)),options:Lo(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(a=>{e.currentTime=i;let s=Yi(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:Ae.Group,steps:o,options:Lo(n.options)}}visitAnimate(n,e){let i=uU(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:wi({});if(o.type==Ae.Keyframes)r=this.visitKeyframes(o,e);else{let a=n.styles,s=!1;if(!a){s=!0;let c={};i.easing&&(c.easing=i.easing),a=wi(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:Ae.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of r)typeof s=="string"?s===Nn?i.push(s):e.errors.push(C3(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(X1)>=0){o=!0;break}}}),{type:Ae.Style,styles:i,easing:a,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),f=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(e.errors.push(k3(l,h.startTime,h.endTime,o,r)),f=!1),o=h.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&J3(s,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Ae.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(x3()),i;let r=1,o=0,a=[],s=!1,l=!1,c=0,h=n.steps.map(B=>{let W=this._makeStyleAst(B,e),ne=W.offset!=null?W.offset:dU(W.styles),Q=0;return ne!=null&&(o++,Q=W.offset=ne),l=l||Q<0||Q>1,s=s||Q<c,c=Q,a.push(Q),W});l&&e.errors.push(E3()),s&&e.errors.push(D3());let f=n.steps.length,g=0;o>0&&o<f?e.errors.push(M3()):o==0&&(g=r/(f-1));let v=f-1,_=e.currentTime,C=e.currentAnimateTimings,T=C.duration;return h.forEach((B,W)=>{let ne=g>0?W==v?1:g*W:a[W],Q=ne*T;e.currentTime=_+C.delay+Q,C.duration=Q,this._validateStyleAst(B,e),B.offset=ne,i.styles.push(B)}),i}visitReference(n,e){return{type:Ae.Reference,animation:Yi(this,ql(n.animation),e),options:Lo(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Ae.AnimateChild,options:Lo(n.options)}}visitAnimateRef(n,e){return{type:Ae.AnimateRef,animation:this.visitReference(n.animation,e),options:Lo(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,a]=lU(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ki(e.collectedStyles,e.currentQuerySelector,new Map);let s=Yi(this,ql(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ae.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:n.selector,options:Lo(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(T3());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:ph(n.timings,e.errors,!0);return{type:Ae.Stagger,animation:Yi(this,ql(n.animation),e),timings:i,options:null}}};function lU(t){let n=!!t.split(/\s*,\s*/).find(e=>e==tE);return n&&(t=t.replace(sU,"")),t=t.replace(/@\*/g,mh).replace(/@\w+/g,e=>mh+"-"+e.slice(1)).replace(/:animating/g,ey),[t,n]}function cU(t){return t?j({},t):null}var ry=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}};function dU(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function uU(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=ph(t,n).duration;return Yv(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Yv(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=ph(e,n);return Yv(r.duration,r.delay,r.easing)}function Lo(t){return t?(t=j({},t),t.params&&(t.params=cU(t.params))):t={},t}function Yv(t,n,e){return{duration:t,delay:n,easing:e}}function _y(t,n,e,i,r,o,a=null,s=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var Gl=class{_map=new Map;get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},hU=1,mU=":enter",pU=new RegExp(mU,"g"),fU=":leave",gU=new RegExp(fU,"g");function nE(t,n,e,i,r,o=new Map,a=new Map,s,l,c=[]){return new oy().buildKeyframes(t,n,e,i,r,o,a,s,l,c)}var oy=class{buildKeyframes(n,e,i,r,o,a,s,l,c,h=[]){c=c||new Gl;let f=new ay(n,e,c,r,o,h,[]);f.options=l;let g=l.delay?fr(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([a],null,f.errors,l),Yi(this,i,f);let v=f.timelines.filter(_=>_.containsAnimation());if(v.length&&s.size){let _;for(let C=v.length-1;C>=0;C--){let T=v[C];if(T.element===e){_=T;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([s],null,f.errors,l)}return v.length?v.map(_=>_.buildKeyframes()):[_y(e,[],[],[],0,g,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let a=typeof o=="number"?o:fr($l(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?fr(i.duration):null,s=i.delay!=null?fr(i.delay):null;return a!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Yi(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ae.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vh);let a=fr(o.delay);r.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Yi(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?fr(n.options.delay):0;n.steps.forEach(a=>{let s=e.createSubContext(n.options);o&&s.delayNextStep(o),Yi(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?$l(i,e.params,e.errors):i;return ph(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==Ae.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?fr(r.delay):0;o&&(e.previousNode.type===Ae.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vh);let a=i,s=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,h)=>{e.currentQueryIndex=h;let f=e.createSubContext(n.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),Yi(this,n.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;a=Math.max(a,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let f=h.currentTime;Yi(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},vh={},ay=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=vh;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,e,i,r,o,a,s,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new yh(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=fr(i.duration)),i.delay!=null&&(r.delay=fr(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=$l(o[s],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=vh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new sy(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,a){let s=[];if(r&&s.push(this.element),n.length>0){n=n.replace(pU,"."+this._enterClassName),n=n.replace(gU,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&s.length==0&&a.push(I3(e)),s}},yh=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hU,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Nn),this._currentKeyframe.set(e,Nn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=vU(n,this._globalTimelineStyles);for(let[s,l]of a){let c=$l(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Nn),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((h,f)=>{h===mu?n.add(f):h===Nn&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return _y(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},sy=class extends yh{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,e,i,r,o,a,s=!1){super(n,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",H1(s)),o.push(c);let h=n.length-1;for(let f=1;f<=h;f++){let g=new Map(n[f]),v=g.get("offset"),_=e+v*i;g.set("offset",H1(_/a)),o.push(g)}i=a,e=0,r="",n=o}return _y(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function H1(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function vU(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,Nn)}else for(let[o,a]of r)e.set(o,a)}),e}function U1(t,n,e,i,r,o,a,s,l,c,h,f,g){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:f,errors:g}}var Kv={},bh=class{_triggerName;ast;_stateStyles;constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return yU(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,a,s,l,c,h){let f=[],g=this.ast.options&&this.ast.options.params||Kv,v=s&&s.params||Kv,_=this.buildStyles(i,v,f),C=l&&l.params||Kv,T=this.buildStyles(r,C,f),B=new Set,W=new Map,ne=new Map,Q=r==="void",Ge={params:rE(C,g),delay:this.ast.options?.delay},Ie=h?[]:nE(n,e,this.ast.animation,o,a,_,T,Ge,c,f),Ze=0;return Ie.forEach(ht=>{Ze=Math.max(ht.duration+ht.delay,Ze)}),f.length?U1(e,this._triggerName,i,r,Q,_,T,[],[],W,ne,Ze,f):(Ie.forEach(ht=>{let ai=ht.element,wn=Ki(W,ai,new Set);ht.preStyleProps.forEach(Gr=>wn.add(Gr));let Sy=Ki(ne,ai,new Set);ht.postStyleProps.forEach(Gr=>Sy.add(Gr)),ai!==e&&B.add(ai)}),U1(e,this._triggerName,i,r,Q,_,T,Ie,[...B.values()],W,ne,Ze))}};function yU(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function rE(t,n){let e=j({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var ly=class{styles;defaultParams;normalizer;constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=rE(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=$l(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function bU(t,n,e){return new cy(t,n,e)}var cy=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new ly(r.style,o,i))}),q1(this.states,"true","1"),q1(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bh(n,r,this.states))}),this.fallbackTransition=_U(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(a=>a.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function _U(t,n,e){let i=[(a,s)=>!0],r={type:Ae.Sequence,steps:[],options:null},o={type:Ae.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new bh(t,o,n)}function q1(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var SU=new Gl,dy=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i}register(n,e){let i=[],r=[],o=iE(this._driver,e,i,r);if(i.length)throw F3(i);this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=K1(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),a,s=new Map;if(o?(a=nE(this._driver,e,o,J1,Jv,new Map,new Map,i,SU,r),a.forEach(h=>{let f=Ki(s,h.element,new Map);h.postStyleProps.forEach(g=>f.set(g,null))})):(r.push(N3()),a=[]),r.length)throw L3(r);s.forEach((h,f)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(f,v,Nn))})});let l=a.map(h=>{let f=s.get(h.element);return this._buildPlayer(h,new Map,f)}),c=$r(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw B3(n);return e}listen(n,e,i,r){let o=fy(e,"","","");return py(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(n,e,a);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},z1="ng-animate-queued",wU=".ng-animate-queued",Qv="ng-animate-disabled",CU=".ng-animate-disabled",kU="ng-star-inserted",xU=".ng-star-inserted",EU=[],oE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sn="__ng_removed",Wl=class{namespaceId;value;options;get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=TU(r),i){let o=n,{value:a}=o,s=Eh(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},zl="void",Zv=new Wl(zl),uy=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+n,on(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw j3(i,e);if(i==null||i.length==0)throw V3(e);if(!IU(i))throw H3(i,e);let o=Ki(this._elementListeners,n,[]),a={name:e,phase:i,callback:r};o.push(a);let s=Ki(this._engine.statesByElement,n,new Map);return s.has(e)||(on(n,lh),on(n,lh+"-"+e),s.set(e,Zv)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw U3(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),a=new Yl(this.id,e,n),s=this._engine.statesByElement.get(n);s||(on(n,lh),on(n,lh+"-"+e),this._engine.statesByElement.set(n,s=new Map));let l=s.get(e),c=new Wl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=Zv),!(c.value===zl)&&l.value===c.value){if(!RU(l.params,c.params)){let C=[],T=o.matchStyles(l.value,l.params,C),B=o.matchStyles(c.value,c.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Bo(n,T),Hn(n,B)})}return}let g=Ki(this._engine.playersByElement,n,[]);g.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let v=o.matchTransition(l.value,c.value,n,c.params),_=!1;if(!v){if(!r)return;v=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:v,fromState:l,toState:c,player:a,isFallbackTransition:_}),_||(on(n,z1),a.onStart(()=>{ss(n,z1)})),a.onDone(()=>{let C=this.players.indexOf(a);C>=0&&this.players.splice(C,1);let T=this._engine.playersByElement.get(n);if(T){let B=T.indexOf(a);B>=0&&T.splice(B,1)}}),this.players.push(a),g.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,mh,!0);i.forEach(r=>{if(r[Sn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let h=this.trigger(n,c,zl,r);h&&s.push(h)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),i&&$r(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||Zv,h=new Wl(zl),f=new Yl(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:h,player:f,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let a=n;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[Sn];(!o||o===oE)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){on(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=fy(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,py(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},hy=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,e)=>{};_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new uy(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(uh(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!uh(e))return;let o=e[Sn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),on(n,Qv)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ss(n,Qv))}removeNode(n,e,i){if(uh(e)){let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Sn]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return uh(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,mh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,ey,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return $r(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[Sn];if(e&&e.setForRemoval){if(n[Sn]=oE,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Qv)&&this.markElementAsDisabled(n,!1),this.driver.query(n,CU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];on(r,kU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?$r(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw q3(n)}_flushAnimations(n,e){let i=new Gl,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(ae=>{h.add(ae);let ue=this.driver.query(ae,wU,!0);for(let be=0;be<ue.length;be++)h.add(ue[be])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=W1(g,this.collectedEnterElements),_=new Map,C=0;v.forEach((ae,ue)=>{let be=J1+C++;_.set(ue,be),ae.forEach(Ke=>on(Ke,be))});let T=[],B=new Set,W=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){let ue=this.collectedLeaveElements[ae],be=ue[Sn];be&&be.setForRemoval&&(T.push(ue),B.add(ue),be.hasAnimation?this.driver.query(ue,xU,!0).forEach(Ke=>B.add(Ke)):W.add(ue))}let ne=new Map,Q=W1(g,Array.from(B));Q.forEach((ae,ue)=>{let be=Jv+C++;ne.set(ue,be),ae.forEach(Ke=>on(Ke,be))}),n.push(()=>{v.forEach((ae,ue)=>{let be=_.get(ue);ae.forEach(Ke=>ss(Ke,be))}),Q.forEach((ae,ue)=>{let be=ne.get(ue);ae.forEach(Ke=>ss(Ke,be))}),T.forEach(ae=>{this.processLeaveNode(ae)})});let Ge=[],Ie=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(e).forEach(be=>{let Ke=be.player,Zt=be.element;if(Ge.push(Ke),this.collectedEnterElements.length){let di=Zt[Sn];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(be.triggerName)){let Wr=di.previousTriggersValues.get(be.triggerName),Qi=this.statesByElement.get(be.element);if(Qi&&Qi.has(be.triggerName)){let Kl=Qi.get(be.triggerName);Kl.value=Wr,Qi.set(be.triggerName,Kl)}}Ke.destroy();return}}let Cn=!f||!this.driver.containsElement(f,Zt),Oi=ne.get(Zt),gr=_.get(Zt),wt=this._buildInstruction(be,i,gr,Oi,Cn);if(wt.errors&&wt.errors.length){Ie.push(wt);return}if(Cn){Ke.onStart(()=>Bo(Zt,wt.fromStyles)),Ke.onDestroy(()=>Hn(Zt,wt.toStyles)),r.push(Ke);return}if(be.isFallbackTransition){Ke.onStart(()=>Bo(Zt,wt.fromStyles)),Ke.onDestroy(()=>Hn(Zt,wt.toStyles)),r.push(Ke);return}let ky=[];wt.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||ky.push(di)}),wt.timelines=ky,i.append(Zt,wt.timelines);let dE={instruction:wt,player:Ke,element:Zt};a.push(dE),wt.queriedElements.forEach(di=>Ki(s,di,[]).push(Ke)),wt.preStyleProps.forEach((di,Wr)=>{if(di.size){let Qi=l.get(Wr);Qi||l.set(Wr,Qi=new Set),di.forEach((Kl,xh)=>Qi.add(xh))}}),wt.postStyleProps.forEach((di,Wr)=>{let Qi=c.get(Wr);Qi||c.set(Wr,Qi=new Set),di.forEach((Kl,xh)=>Qi.add(xh))})});if(Ie.length){let ae=[];Ie.forEach(ue=>{ae.push(z3(ue.triggerName,ue.errors))}),Ge.forEach(ue=>ue.destroy()),this.reportError(ae)}let Ze=new Map,ht=new Map;a.forEach(ae=>{let ue=ae.element;i.has(ue)&&(ht.set(ue,ue),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,Ze))}),r.forEach(ae=>{let ue=ae.element;this._getPreviousPlayers(ue,!1,ae.namespaceId,ae.triggerName,null).forEach(Ke=>{Ki(Ze,ue,[]).push(Ke),Ke.destroy()})});let ai=T.filter(ae=>Y1(ae,l,c)),wn=new Map;G1(wn,this.driver,W,c,Nn).forEach(ae=>{Y1(ae,l,c)&&ai.push(ae)});let Gr=new Map;v.forEach((ae,ue)=>{G1(Gr,this.driver,new Set(ae),l,mu)}),ai.forEach(ae=>{let ue=wn.get(ae),be=Gr.get(ae);wn.set(ae,new Map([...ue?.entries()??[],...be?.entries()??[]]))});let kh=[],wy=[],Cy={};a.forEach(ae=>{let{element:ue,player:be,instruction:Ke}=ae;if(i.has(ue)){if(h.has(ue)){be.onDestroy(()=>Hn(ue,Ke.toStyles)),be.disabled=!0,be.overrideTotalTime(Ke.totalTime),r.push(be);return}let Zt=Cy;if(ht.size>1){let Oi=ue,gr=[];for(;Oi=Oi.parentNode;){let wt=ht.get(Oi);if(wt){Zt=wt;break}gr.push(Oi)}gr.forEach(wt=>ht.set(wt,Zt))}let Cn=this._buildAnimation(be.namespaceId,Ke,Ze,o,Gr,wn);if(be.setRealPlayer(Cn),Zt===Cy)kh.push(be);else{let Oi=this.playersByElement.get(Zt);Oi&&Oi.length&&(be.parentPlayer=$r(Oi)),r.push(be)}}else Bo(ue,Ke.fromStyles),be.onDestroy(()=>Hn(ue,Ke.toStyles)),wy.push(be),h.has(ue)&&r.push(be)}),wy.forEach(ae=>{let ue=o.get(ae.element);if(ue&&ue.length){let be=$r(ue);ae.setRealPlayer(be)}}),r.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<T.length;ae++){let ue=T[ae],be=ue[Sn];if(ss(ue,Jv),be&&be.hasAnimation)continue;let Ke=[];if(s.size){let Cn=s.get(ue);Cn&&Cn.length&&Ke.push(...Cn);let Oi=this.driver.query(ue,ey,!0);for(let gr=0;gr<Oi.length;gr++){let wt=s.get(Oi[gr]);wt&&wt.length&&Ke.push(...wt)}}let Zt=Ke.filter(Cn=>!Cn.destroyed);Zt.length?PU(this,ue,Zt):this.processLeaveNode(ue)}return T.length=0,kh.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();let ue=this.players.indexOf(ae);this.players.splice(ue,1)}),ae.play()}),kh}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(n);s&&(a=s)}else{let s=this.playersByElement.get(n);if(s){let l=!o||o==zl;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:n,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,h=c!==o,f=Ki(i,c,[]);this._getPreviousPlayers(c,h,a,s,e.toState).forEach(v=>{let _=v.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),v.destroy(),f.push(v)})}Bo(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,a){let s=e.triggerName,l=e.element,c=[],h=new Set,f=new Set,g=e.timelines.map(_=>{let C=_.element;h.add(C);let T=C[Sn];if(T&&T.removedBeforeQueried)return new jr(_.duration,_.delay);let B=C!==l,W=AU((i.get(C)||EU).map(Ze=>Ze.getRealPlayer())).filter(Ze=>{let ht=Ze;return ht.element?ht.element===C:!1}),ne=o.get(C),Q=a.get(C),Ge=K1(this._normalizer,_.keyframes,ne,Q),Ie=this._buildPlayer(_,Ge,W);if(_.subTimeline&&r&&f.add(C),B){let Ze=new Yl(n,s,C);Ze.setRealPlayer(Ie),c.push(Ze)}return Ie});c.forEach(_=>{Ki(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>MU(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>on(_,B1));let v=$r(g);return v.onDestroy(()=>{h.forEach(_=>ss(_,B1)),Hn(l,e.toStyles)}),f.forEach(_=>{Ki(r,_,[]).push(v)}),v}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new jr(n.duration,n.delay)}},Yl=class{namespaceId;triggerName;element;_player=new jr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>py(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ki(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function MU(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function TU(t){return t??null}function uh(t){return t&&t.nodeType===1}function IU(t){return t=="start"||t=="done"}function $1(t,n){let e=t.style.display;return t.style.display=n??"none",e}function G1(t,n,e,i,r){let o=[];e.forEach(l=>o.push($1(l)));let a=[];i.forEach((l,c)=>{let h=new Map;l.forEach(f=>{let g=n.computeStyle(c,f,r);h.set(f,g),(!g||g.length==0)&&(c[Sn]=DU,a.push(c))}),t.set(c,h)});let s=0;return e.forEach(l=>$1(l,o[s++])),a}function W1(t,n){let e=new Map;if(t.forEach(s=>e.set(s,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),o.set(s,l),l}return n.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function on(t,n){t.classList?.add(n)}function ss(t,n){t.classList?.remove(n)}function PU(t,n,e){$r(e).onDone(()=>t.processLeaveNode(n))}function AU(t){let n=[];return aE(t,n),n}function aE(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof sl?aE(i.players,n):n.push(i)}}function RU(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function Y1(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var ls=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,e)=>{};constructor(n,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new hy(n.body,e,i),this._timelineEngine=new dy(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){let a=n+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],h=iE(this._driver,o,l,c);if(l.length)throw R3(r,l);s=bU(r,h,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,a]=N1(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=N1(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function OU(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Xv(n[0]),n.length>1&&(i=Xv(n[n.length-1]))):n instanceof Map&&(e=Xv(n)),e||i?new FU(t,e,i):null}var FU=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Hn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hn(this._element,this._initialStyles),this._endStyles&&(Hn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Bo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bo(this._element,this._endStyles),this._endStyles=null),Hn(this._element,this._initialStyles),this._state=3)}}return t})();function Xv(t){let n=null;return t.forEach((e,i)=>{NU(i)&&(n=n||new Map,n.set(i,e))}),n}function NU(t){return t==="display"||t==="position"}var _h=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:by(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Sh=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return Q1(n,e)}getParentElement(n){return gy(n)}query(n,e,i){return Z1(n,e,i)}computeStyle(n,e,i){return by(n,e)}animate(n,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let c=new Map,h=a.filter(v=>v instanceof _h);tU(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((_,C)=>c.set(C,_))});let f=X3(e).map(v=>new Map(v));f=iU(n,f,c);let g=OU(n,f);return new _h(n,f,l,g)}};var hh="@",sE="@.disabled",wh=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==hh&&e==sE?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i,r){return this.delegate.listen(n,e,i,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},my=class extends wh{factory;constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==hh?e.charAt(1)=="."&&e==sE?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i,r){if(e.charAt(0)==hh){let o=LU(n),a=e.slice(1),s="";return a.charAt(0)!=hh&&([a,s]=BU(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(n,e,i,r)}};function LU(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function BU(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var Ch=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(n,e){let i="",r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,h=c.get(r);if(!h){let f=()=>c.delete(r);h=new wh(i,r,this.engine,f),c.set(r,h)}return h}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,n,c.name,c)};return e.data.animation.forEach(s),new my(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(n){this.engine.flush(),this.delegate.componentReplaced?.(n)}};var VU=(()=>{class t extends ls{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(x(Se),x(jo),x(Vo))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function HU(){return new fh}function UU(t,n,e){return new Ch(t,n,e)}var lE=[{provide:Vo,useFactory:HU},{provide:ls,useClass:VU},{provide:Mt,useFactory:UU,deps:[au,ls,te]}],Uie=[{provide:jo,useClass:vy},{provide:ii,useValue:"NoopAnimations"},...lE],qU=[{provide:jo,useFactory:()=>new Sh},{provide:ii,useFactory:()=>"BrowserAnimations"},...lE];function cE(){return tr("NgEagerAnimations"),[...qU]}var zU=[$C,EC,hk];vo.production&&void 0;vC(qx,{providers:[wp(rg,O1,Ua,zd,_x,Yk,...zU),nt,Te,xu,cE()]}).catch(t=>console.error(t));
