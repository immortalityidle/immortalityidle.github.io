"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[792],{322:(ec,K_,Z_)=>{let Ut=null,md=1;const uo=Symbol("SIGNAL");function Se(t){const i=Ut;return Ut=t,i}function Q_(t){if((!ic(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==md)){if(!t.producerMustRecompute(t)&&!up(t))return t.dirty=!1,void(t.lastCleanEpoch=md);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=md}}function up(t){ma(t);for(let i=0;i<t.producerNode.length;i++){const e=t.producerNode[i],n=t.producerLastReadVersion[i];if(n!==e.version||(Q_(e),n!==e.version))return!0}return!1}function pd(t,i){if(function aS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ma(t),1===t.liveConsumerNode.length)for(let n=0;n<t.producerNode.length;n++)pd(t.producerNode[n],t.producerIndexOfThis[n]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const n=t.liveConsumerIndexOfThis[i],r=t.liveConsumerNode[i];ma(r),r.producerIndexOfThis[n]=i}}function ic(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ma(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let sS=null;function Ne(t){return"function"==typeof t}function mp(t){const e=t(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const pp=mp(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function pa(t,i){if(t){const e=t.indexOf(i);0<=e&&t.splice(e,1)}}class Le{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(Ne(n))try{n()}catch(o){i=o instanceof pp?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{hS(o)}catch(a){i=i??[],a instanceof pp?i=[...i,...a.errors]:i.push(a)}}if(i)throw new pp(i)}}add(i){var e;if(i&&i!==this)if(this.closed)hS(i);else{if(i instanceof Le){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(i)}}_hasParent(i){const{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){const{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&pa(e,i)}remove(i){const{_finalizers:e}=this;e&&pa(e,i),i instanceof Le&&i._removeParent(this)}}Le.EMPTY=(()=>{const t=new Le;return t.closed=!0,t})();const dS=Le.EMPTY;function uS(t){return t instanceof Le||t&&"closed"in t&&Ne(t.remove)&&Ne(t.add)&&Ne(t.unsubscribe)}function hS(t){Ne(t)?t():t.unsubscribe()}const ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fd={setTimeout(t,i,...e){const{delegate:n}=fd;return n?.setTimeout?n.setTimeout(t,i,...e):setTimeout(t,i,...e)},clearTimeout(t){const{delegate:i}=fd;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mS(t){fd.setTimeout(()=>{const{onUnhandledError:i}=ho;if(!i)throw t;i(t)})}function fp(){}const XO=gp("C",void 0,void 0);function gp(t,i,e){return{kind:t,value:i,error:e}}let mo=null;function gd(t){if(ho.useDeprecatedSynchronousErrorHandling){const i=!mo;if(i&&(mo={errorThrown:!1,error:null}),t(),i){const{errorThrown:e,error:n}=mo;if(mo=null,e)throw n}}else t()}class vp extends Le{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,uS(i)&&i.add(this)):this.destination=rR}static create(i,e,n){return new vd(i,e,n)}next(i){this.isStopped?yp(function JO(t){return gp("N",t,void 0)}(i),this):this._next(i)}error(i){this.isStopped?yp(function QO(t){return gp("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?yp(XO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tR=Function.prototype.bind;function bp(t,i){return tR.call(t,i)}class iR{constructor(i){this.partialObserver=i}next(i){const{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(n){bd(n)}}error(i){const{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(n){bd(n)}else bd(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){bd(e)}}}class vd extends vp{constructor(i,e,n){let r;if(super(),Ne(i)||!i)r={next:i??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&ho.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&bp(i.next,o),error:i.error&&bp(i.error,o),complete:i.complete&&bp(i.complete,o)}):r=i}this.destination=new iR(r)}}function bd(t){ho.useDeprecatedSynchronousErrorHandling?function eR(t){ho.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=t)}(t):mS(t)}function yp(t,i){const{onStoppedNotification:e}=ho;e&&fd.setTimeout(()=>e(t,i))}const rR={closed:!0,next:fp,error:function nR(t){throw t},complete:fp},_p="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rr(t){return t}function pS(t){return 0===t.length?Rr:1===t.length?t[0]:function(e){return t.reduce((n,r)=>r(n),e)}}let Je=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function sR(t){return t&&t instanceof vp||function aR(t){return t&&Ne(t.next)&&Ne(t.error)&&Ne(t.complete)}(t)&&uS(t)}(e)?e:new vd(e,n,r);return gd(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=fS(n))((r,o)=>{const a=new vd({next:s=>{try{e(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[_p](){return this}pipe(...e){return pS(e)(this)}toPromise(e){return new(e=fS(e))((n,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>n(o))})}}return t.create=i=>new t(i),t})();function fS(t){var i;return null!==(i=t??ho.Promise)&&void 0!==i?i:Promise}const cR=mp(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class t extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new gS(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new cR}next(e){gd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){gd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){gd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?dS:(this.currentObservers=null,o.push(e),new Le(()=>{this.currentObservers=null,pa(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new Je;return e.source=this,e}}return t.create=(i,e)=>new gS(i,e),t})();class gS extends W{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,i)}error(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,i)}complete(){var i,e;null===(e=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===e||e.call(i)}_subscribe(i){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(i))&&void 0!==n?n:dS}}class Pi extends W{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){const{hasError:i,thrownError:e,_value:n}=this;if(i)throw e;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function vS(t){return Ne(t?.lift)}function lt(t){return i=>{if(vS(i))return i.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(t,i,e,n,r){return new lR(t,i,e,n,r)}class lR extends vp{constructor(i,e,n,r,o,a){super(i),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(c){i.error(c)}}:super._next,this._error=r?function(s){try{r(s)}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(s){i.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function he(t,i){return lt((e,n)=>{let r=0;e.subscribe(Ye(n,o=>{n.next(t.call(i,o,r++))}))})}const bS="https://g.co/ng/security#xss";class A extends Error{constructor(i,e){super(function fa(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,e)),this.code=i}}function mr(t){return{toString:t}.toString()}const va="__parameters__";function ya(t,i,e){return mr(()=>{const n=function Sp(t){return function(...e){if(t){const n=t(...e);for(const r in n)this[r]=n[r]}}}(i);function r(...o){if(this instanceof r)return n.apply(this,o),this;const a=new r(...o);return s.annotation=a,s;function s(c,l,d){const m=c.hasOwnProperty(va)?c[va]:Object.defineProperty(c,va,{value:[]})[va];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(a),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const et=globalThis;function qe(t){for(let i in t)if(t[i]===qe)return i;throw Error("Could not find renamed property on target object.")}function dR(t,i){for(const e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}function jt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const e=i.indexOf("\n");return-1===e?i:i.substring(0,e)}function wp(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const uR=qe({__forward_ref__:qe});function tt(t){return t.__forward_ref__=tt,t.toString=function(){return jt(this())},t}function se(t){return _d(t)?t():t}function _d(t){return"function"==typeof t&&t.hasOwnProperty(uR)&&t.__forward_ref__===tt}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sd(t){return wS(t,Cd)||wS(t,CS)}function wS(t,i){return t.hasOwnProperty(i)?t[i]:null}function wd(t){return t&&(t.hasOwnProperty(Cp)||t.hasOwnProperty(vR))?t[Cp]:null}const Cd=qe({\u0275prov:qe}),Cp=qe({\u0275inj:qe}),CS=qe({ngInjectableDef:qe}),vR=qe({ngInjectorDef:qe});class F{constructor(i,e){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=B({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tp(t){return t&&!!t.\u0275providers}const nc=qe({\u0275cmp:qe}),Ep=qe({\u0275dir:qe}),Ip=qe({\u0275pipe:qe}),DS=qe({\u0275mod:qe}),pr=qe({\u0275fac:qe}),rc=qe({__NG_ELEMENT_ID__:qe}),xS=qe({__NG_ENV_ID__:qe});function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ap(t,i){throw new A(-201,!1)}var Me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Me||{});let Pp;function MS(){return Pp}function Oi(t){const i=Pp;return Pp=t,i}function TS(t,i,e){const n=Sd(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Me.Optional?null:void 0!==i?i:void Ap()}const oc={},Op="__NG_DI_FLAG__",kd="ngTempTokenPath",CR=/\n/gm,ES="__source";let _a;function Nr(t){const i=_a;return _a=t,i}function xR(t,i=Me.Default){if(void 0===_a)throw new A(-203,!1);return null===_a?TS(t,void 0,i):_a.get(t,i&Me.Optional?null:void 0,i)}function w(t,i=Me.Default){return(MS()||xR)(se(t),i)}function O(t,i=Me.Default){return w(t,Dd(i))}function Dd(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rp(t){const i=[];for(let e=0;e<t.length;e++){const n=se(t[e]);if(Array.isArray(n)){if(0===n.length)throw new A(900,!1);let r,o=Me.Default;for(let a=0;a<n.length;a++){const s=n[a],c=MR(s);"number"==typeof c?-1===c?r=s.token:o|=c:r=s}i.push(w(r,o))}else i.push(w(n))}return i}function ac(t,i){return t[Op]=i,t.prototype[Op]=i,t}function MR(t){return t[Op]}const po=ac(ya("Optional"),8),sc=ac(ya("SkipSelf"),4);function fo(t,i){return t.hasOwnProperty(pr)?t[pr]:null}function Sa(t,i){t.forEach(e=>Array.isArray(e)?Sa(e,i):i(e))}function AS(t,i,e){i>=t.length?t.push(e):t.splice(i,0,e)}function xd(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function zi(t,i,e){let n=wa(t,i);return n>=0?t[1|n]=e:(n=~n,function PS(t,i,e,n){let r=t.length;if(r==i)t.push(e,n);else if(1===r)t.push(n,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>i;)t[r]=t[r-2],r--;t[i]=e,t[i+1]=n}}(t,n,i,e)),n}function Np(t,i){const e=wa(t,i);if(e>=0)return t[1|e]}function wa(t,i){return function OS(t,i,e){let n=0,r=t.length>>e;for(;r!==n;){const o=n+(r-n>>1),a=t[o<<e];if(i===a)return o<<e;a>i?r=o:n=o+1}return~(r<<e)}(t,i,1)}const jn={},Ae=[],zn=new F(""),RS=new F("",-1),Lp=new F("");class Td{get(i,e=oc){if(e===oc){const n=new Error(`NullInjectorError: No provider for ${jt(i)}!`);throw n.name="NullInjectorError",n}return e}}var Ed=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ed||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{}),Ca=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ca||{});function RR(t,i,e){let n=t.length;for(;;){const r=t.indexOf(i,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=i.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}e=r+1}}function Bp(t,i,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],a=e[n++],s=e[n++];t.setAttribute(i,a,s,o)}else{const o=r,a=e[++n];NS(o)?t.setProperty(i,o,a):t.setAttribute(i,o,a),n++}}return n}function FS(t){return 3===t||4===t||6===t}function NS(t){return 64===t.charCodeAt(0)}function cc(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let e=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?e=r:0===e||LS(t,e,r,null,-1===e||2===e?i[++n]:null)}}return t}function LS(t,i,e,n,r){let o=0,a=t.length;if(-1===i)a=-1;else for(;o<t.length;){const s=t[o++];if("number"==typeof s){if(s===i){a=-1;break}if(s>i){a=o-1;break}}}for(;o<t.length;){const s=t[o];if("number"==typeof s)break;if(s===e){if(null===n)return void(null!==r&&(t[o+1]=r));if(n===t[o+1])return void(t[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,i),o=a+1),t.splice(o++,0,e),null!==n&&t.splice(o++,0,n),null!==r&&t.splice(o++,0,r)}const BS="ng-template";function FR(t,i,e,n){let r=0;if(n){for(;r<i.length&&"string"==typeof i[r];r+=2)if("class"===i[r]&&-1!==RR(i[r+1].toLowerCase(),e,0))return!0}else if(Hp(t))return!1;if(r=i.indexOf(1,r),r>-1){let o;for(;++r<i.length&&"string"==typeof(o=i[r]);)if(o.toLowerCase()===e)return!0}return!1}function Hp(t){return 4===t.type&&t.value!==BS}function NR(t,i,e){return i===(4!==t.type||e?t.value:BS)}function LR(t,i,e){let n=4;const r=t.attrs,o=null!==r?function VR(t){for(let i=0;i<t.length;i++)if(FS(t[i]))return i;return t.length}(r):0;let a=!1;for(let s=0;s<i.length;s++){const c=i[s];if("number"!=typeof c){if(!a)if(4&n){if(n=2|1&n,""!==c&&!NR(t,c,e)||""===c&&1===i.length){if(xn(n))return!1;a=!0}}else if(8&n){if(null===r||!FR(t,r,c,e)){if(xn(n))return!1;a=!0}}else{const l=i[++s],d=BR(c,r,Hp(t),e);if(-1===d){if(xn(n))return!1;a=!0;continue}if(""!==l){let m;if(m=d>o?"":r[d+1].toLowerCase(),2&n&&l!==m){if(xn(n))return!1;a=!0}}}}else{if(!a&&!xn(n)&&!xn(c))return!1;if(a&&xn(c))continue;a=!1,n=c|1&n}}return xn(n)||a}function xn(t){return!(1&t)}function BR(t,i,e,n){if(null===i)return-1;let r=0;if(n||!e){let o=!1;for(;r<i.length;){const a=i[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=i[++r];for(;"string"==typeof s;)s=i[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function UR(t,i){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const n=t[e];if("number"==typeof n)return-1;if(n===i)return e;e++}return-1}(i,t)}function HS(t,i,e=!1){for(let n=0;n<i.length;n++)if(LR(t,i[n],e))return!0;return!1}function jR(t,i){e:for(let e=0;e<i.length;e++){const n=i[e];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function VS(t,i){return t?":not("+i.trim()+")":i}function zR(t){let i=t[0],e=1,n=2,r="",o=!1;for(;e<t.length;){let a=t[e];if("string"==typeof a)if(2&n){const s=t[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?r+="."+a:4&n&&(r+=" "+a);else""!==r&&!xn(a)&&(i+=VS(o,r),r=""),n=a,o=o||!xn(n);e++}return""!==r&&(i+=VS(o,r)),i}function ve(t){return mr(()=>{const i=jS(t),e={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ed.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||Ae,_:null,schemas:t.schemas||null,tView:null,id:""};zS(e);const n=t.dependencies;return e.directiveDefs=Id(n,!1),e.pipeDefs=Id(n,!0),e.id=function KR(t){let i=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)i=Math.imul(31,i)+r.charCodeAt(0)|0;return i+=2147483648,"c"+i}(e),e})}function GR(t){return xe(t)||zt(t)}function YR(t){return null!==t}function ut(t){return mr(()=>({type:t.type,bootstrap:t.bootstrap||Ae,declarations:t.declarations||Ae,imports:t.imports||Ae,exports:t.exports||Ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function US(t,i){if(null==t)return jn;const e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];let o,a,s=Ca.None;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o):(o=r,a=r),i?(e[o]=s!==Ca.None?[n,s]:n,i[o]=a):e[o]=n}return e}function K(t){return mr(()=>{const i=jS(t);return zS(i),i})}function si(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xe(t){return t[nc]||null}function zt(t){return t[Ep]||null}function ci(t){return t[Ip]||null}function mi(t,i){const e=t[DS]||null;if(!e&&!0===i)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return e}function jS(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||jn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ae,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:US(t.inputs,i),outputs:US(t.outputs),debugInfo:null}}function zS(t){t.features?.forEach(i=>i(t))}function Id(t,i){if(!t)return null;const e=i?ci:GR;return()=>("function"==typeof t?t():t).map(n=>e(n)).filter(YR)}function ZR(...t){return{\u0275providers:Vp(0,t),\u0275fromNgModule:!0}}function Vp(t,...i){const e=[],n=new Set;let r;const o=a=>{e.push(a)};return Sa(i,a=>{const s=a;Pd(s,o,[],n)&&(r||=[],r.push(s))}),void 0!==r&&qS(r,o),e}function qS(t,i){for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Up(r,o=>{i(o,n)})}}function Pd(t,i,e,n){if(!(t=se(t)))return!1;let r=null,o=wd(t);const a=!o&&xe(t);if(o||a){if(a&&!a.standalone)return!1;r=t}else{const c=t.ngModule;if(o=wd(c),!o)return!1;r=c}const s=n.has(r);if(a){if(s)return!1;if(n.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)Pd(l,i,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let l;n.add(r);try{Sa(o.imports,d=>{Pd(d,i,e,n)&&(l||=[],l.push(d))})}finally{}void 0!==l&&qS(l,i)}if(!s){const l=fo(r)||(()=>new r);i({provide:r,useFactory:l,deps:Ae},r),i({provide:Lp,useValue:r,multi:!0},r),i({provide:zn,useValue:()=>w(r),multi:!0},r)}const c=o.providers;if(null!=c&&!s){const l=t;Up(c,d=>{i(d,l)})}}}return r!==t&&void 0!==t.providers}function Up(t,i){for(let e of t)Tp(e)&&(e=e.\u0275providers),Array.isArray(e)?Up(e,i):i(e)}const XR=qe({provide:String,useValue:qe});function jp(t){return null!==t&&"object"==typeof t&&XR in t}function go(t){return"function"==typeof t}const zp=new F(""),Od={},JR={};let qp;function Rd(){return void 0===qp&&(qp=new Td),qp}class _i{}class ka extends _i{get destroyed(){return this._destroyed}constructor(i,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gp(i,a=>this.processProvider(a)),this.records.set(RS,Da(void 0,this)),r.has("environment")&&this.records.set(_i,Da(void 0,this));const o=this.records.get(zp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Lp,Ae,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=Se(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const e=Nr(this),n=Oi(void 0);try{return i()}finally{Nr(e),Oi(n)}}get(i,e=oc,n=Me.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(xS))return i[xS](this);n=Dd(n);const o=Nr(this),a=Oi(void 0);try{if(!(n&Me.SkipSelf)){let c=this.records.get(i);if(void 0===c){const l=function rF(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(i)&&Sd(i);c=l&&this.injectableDefInScope(l)?Da($p(i),Od):null,this.records.set(i,c)}if(null!=c)return this.hydrate(i,c)}return(n&Me.Self?Rd():this.parent).get(i,e=n&Me.Optional&&e===oc?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[kd]=s[kd]||[]).unshift(jt(i)),o)throw s;return function TR(t,i,e,n){const r=t[kd];throw i[ES]&&r.unshift(i[ES]),t.message=function ER(t,i,e,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=jt(i);if(Array.isArray(i))r=i.map(jt).join(" -> ");else if("object"==typeof i){let o=[];for(let a in i)if(i.hasOwnProperty(a)){let s=i[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):jt(s)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${t.replace(CR,"\n  ")}`}("\n"+t.message,r,e,n),t.ngTokenPath=r,t[kd]=null,t}(s,i,"R3InjectorError",this.source)}throw s}finally{Oi(a),Nr(o)}}resolveInjectorInitializers(){const i=Se(null),e=Nr(this),n=Oi(void 0);try{const o=this.get(zn,Ae,Me.Self);for(const a of o)a()}finally{Nr(e),Oi(n),Se(i)}}toString(){const i=[],e=this.records;for(const n of e.keys())i.push(jt(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(i){let e=go(i=se(i))?i:se(i&&i.provide);const n=function tF(t){return jp(t)?Da(void 0,t.useValue):Da(YS(t),Od)}(i);if(!go(i)&&!0===i.multi){let r=this.records.get(e);r||(r=Da(void 0,Od,!0),r.factory=()=>Rp(r.multi),this.records.set(e,r)),e=i,r.multi.push(i)}this.records.set(e,n)}hydrate(i,e){const n=Se(null);try{return e.value===Od&&(e.value=JR,e.value=e.factory()),"object"==typeof e.value&&e.value&&function nF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Se(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const e=se(i.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(i){const e=this._onDestroyHooks.indexOf(i);-1!==e&&this._onDestroyHooks.splice(e,1)}}function $p(t){const i=Sd(t),e=null!==i?i.factory:fo(t);if(null!==e)return e;if(t instanceof F)throw new A(204,!1);if(t instanceof Function)return function eF(t){if(t.length>0)throw new A(204,!1);const e=function gR(t){return t&&(t[Cd]||t[CS])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new A(204,!1)}function YS(t,i,e){let n;if(go(t)){const r=se(t);return fo(r)||$p(r)}if(jp(t))n=()=>se(t.useValue);else if(function GS(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...Rp(t.deps||[]));else if(function $S(t){return!(!t||!t.useExisting)}(t))n=()=>w(se(t.useExisting));else{const r=se(t&&(t.useClass||t.provide));if(!function iF(t){return!!t.deps}(t))return fo(r)||$p(r);n=()=>new r(...Rp(t.deps))}return n}function Da(t,i,e=!1){return{factory:t,value:i,multi:e?[]:void 0}}function Gp(t,i){for(const e of t)Array.isArray(e)?Gp(e,i):e&&Tp(e)?Gp(e.\u0275providers,i):i(e)}function Mn(t,i){t instanceof ka&&t.assertNotDestroyed();const n=Nr(t),r=Oi(void 0);try{return i()}finally{Nr(n),Oi(r)}}function WS(){return void 0!==MS()||null!=function DR(){return _a}()}const ht=0,$=1,te=2,Et=3,Tn=4,li=5,Si=6,vo=7,nt=8,It=9,qn=10,le=11,dc=12,ZS=13,Ma=14,mt=15,bo=16,Ta=17,fr=18,Ea=19,XS=20,Br=21,Ld=22,yo=23,ne=25,Wp=1,$n=7,Ia=9,kt=10;var Hd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hd||{});function Qt(t){return Array.isArray(t)&&"object"==typeof t[Wp]}function pi(t){return Array.isArray(t)&&!0===t[Wp]}function Kp(t){return!!(4&t.flags)}function _o(t){return t.componentOffset>-1}function Vd(t){return!(1&~t.flags)}function En(t){return!!t.template}function hc(t){return!!(512&t[te])}class vF{constructor(i,e,n){this.previousValue=i,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function t0(t,i,e,n){null!==i?i.applyValueToInputSignal(i,n):t[e]=n}function wi(){return n0}function n0(t){return t.type.prototype.ngOnChanges&&(t.setInput=yF),bF}function bF(){const t=o0(this),i=t?.current;if(i){const e=t.previous;if(e===jn)t.previous=i;else for(let n in i)e[n]=i[n];t.current=null,this.ngOnChanges(i)}}function yF(t,i,e,n,r){const o=this.declaredInputs[n],a=o0(t)||function _F(t,i){return t[r0]=i}(t,{previous:jn,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new vF(l&&l.currentValue,e,c===jn),t0(t,i,r,e)}wi.ngInherit=!0;const r0="__ngSimpleChanges__";function o0(t){return t[r0]||null}const Gn=function(t,i,e){},a0="svg";function Ve(t){for(;Array.isArray(t);)t=t[ht];return t}function mc(t,i){return Ve(i[t])}function Ci(t,i){return Ve(i[t.index])}function pc(t,i){return t.data[i]}function Aa(t,i){return t[i]}function qi(t,i){const e=i[t];return Qt(e)?e:e[ht]}function ef(t){return!(128&~t[te])}function sn(t,i){return null==i?null:t[i]}function c0(t){t[Ta]=0}function DF(t){1024&t[te]||(t[te]|=1024,ef(t)&&Ud(t))}function fc(t){return!!(9216&t[te]||t[yo]?.dirty)}function tf(t){t[qn].changeDetectionScheduler?.notify(7),64&t[te]&&(t[te]|=1024),fc(t)&&Ud(t)}function Ud(t){t[qn].changeDetectionScheduler?.notify(0);let i=So(t);for(;null!==i&&!(8192&i[te])&&(i[te]|=8192,ef(i));)i=So(i)}function jd(t,i){if(!(256&~t[te]))throw new A(911,!1);null===t[Br]&&(t[Br]=[]),t[Br].push(i)}function So(t){const i=t[Et];return pi(i)?i[Et]:i}const de={lFrame:_0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let d0=!1;function u0(){return de.bindingsEnabled}function wo(){return null!==de.skipHydrationRootTNode}function R(){return de.lFrame.lView}function Te(){return de.lFrame.tView}function T(t){return de.lFrame.contextLView=t,t[nt]}function E(t){return de.lFrame.contextLView=null,t}function $e(){let t=h0();for(;null!==t&&64===t.type;)t=t.parent;return t}function h0(){return de.lFrame.currentTNode}function Yn(t,i){const e=de.lFrame;e.currentTNode=t,e.isParent=i}function af(){return de.lFrame.isParent}function sf(){de.lFrame.isParent=!1}function p0(){return d0}function f0(t){d0=t}function ki(){const t=de.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function gr(){return de.lFrame.bindingIndex}function In(){return de.lFrame.bindingIndex++}function vr(t){const i=de.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,e}function NF(t,i){const e=de.lFrame;e.bindingIndex=e.bindingRootIndex=t,cf(i)}function cf(t){de.lFrame.currentDirectiveIndex=t}function lf(t){const i=de.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function df(){return de.lFrame.currentQueryIndex}function qd(t){de.lFrame.currentQueryIndex=t}function BF(t){const i=t[$];return 2===i.type?i.declTNode:1===i.type?t[li]:null}function b0(t,i,e){if(e&Me.SkipSelf){let r=i,o=t;for(;!(r=r.parent,null!==r||e&Me.Host||(r=BF(o),null===r||(o=o[Ma],10&r.type))););if(null===r)return!1;i=r,t=o}const n=de.lFrame=y0();return n.currentTNode=i,n.lView=t,!0}function uf(t){const i=y0(),e=t[$];de.lFrame=i,i.currentTNode=e.firstChild,i.lView=t,i.tView=e,i.contextLView=t,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function y0(){const t=de.lFrame,i=null===t?null:t.child;return null===i?_0(t):i}function _0(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function S0(){const t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const w0=S0;function hf(){const t=S0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fi(){return de.lFrame.selectedIndex}function Co(t){de.lFrame.selectedIndex=t}function rt(){const t=de.lFrame;return pc(t.tView,t.selectedIndex)}let D0=!0;function vc(){return D0}function Wn(t){D0=t}function $d(t,i){for(let e=i.directiveStart,n=i.directiveEnd;e<n;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(t.contentHooks??=[]).push(-e,a),s&&((t.contentHooks??=[]).push(e,s),(t.contentCheckHooks??=[]).push(e,s)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),null!=d&&(t.destroyHooks??=[]).push(e,d)}}function Gd(t,i,e){x0(t,i,3,e)}function Yd(t,i,e,n){(3&t[te])===e&&x0(t,i,e,n)}function mf(t,i){let e=t[te];(3&e)===i&&(e&=16383,e+=1,t[te]=e)}function x0(t,i,e,n){const o=n??-1,a=i.length-1;let s=0;for(let c=void 0!==n?65535&t[Ta]:0;c<a;c++)if("number"==typeof i[c+1]){if(s=i[c],null!=n&&s>=n)break}else i[c]<0&&(t[Ta]+=65536),(s<o||-1==o)&&(qF(t,e,i,c),t[Ta]=(4294901760&t[Ta])+c+2),c++}function M0(t,i){Gn(4,t,i);const e=Se(null);try{i.call(t)}finally{Se(e),Gn(5,t,i)}}function qF(t,i,e,n){const r=e[n]<0,o=e[n+1],s=t[r?-e[n]:e[n]];r?t[te]>>14<t[Ta]>>16&&(3&t[te])===i&&(t[te]+=16384,M0(s,o)):M0(s,o)}const Pa=-1;class bc{constructor(i,e,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ff(t){return t!==Pa}function yc(t){return 32767&t}function _c(t,i){let e=function KF(t){return t>>16}(t),n=i;for(;e>0;)n=n[Ma],e--;return n}let gf=!0;function Wd(t){const i=gf;return gf=t,i}const T0=255,E0=5;let ZF=0;const Kn={};function Kd(t,i){const e=I0(t,i);if(-1!==e)return e;const n=i[$];n.firstCreatePass&&(t.injectorIndex=i.length,vf(n.data,t),vf(i,null),vf(n.blueprint,null));const r=Zd(t,i),o=t.injectorIndex;if(ff(r)){const a=yc(r),s=_c(r,i),c=s[$].data;for(let l=0;l<8;l++)i[o+l]=s[a+l]|c[a+l]}return i[o+8]=r,o}function vf(t,i){t.push(0,0,0,0,0,0,0,0,i)}function I0(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Zd(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,n=null,r=i;for(;null!==r;){if(n=L0(r),null===n)return Pa;if(e++,r=r[Ma],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return Pa}function bf(t,i,e){!function XF(t,i,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(rc)&&(n=e[rc]),null==n&&(n=e[rc]=ZF++);const r=n&T0;i.data[t+(r>>E0)]|=1<<r}(t,i,e)}function A0(t,i,e){if(e&Me.Optional||void 0!==t)return t;Ap()}function P0(t,i,e,n){if(e&Me.Optional&&void 0===n&&(n=null),!(e&(Me.Self|Me.Host))){const r=t[It],o=Oi(void 0);try{return r?r.get(i,n,e&Me.Optional):TS(i,n,e&Me.Optional)}finally{Oi(o)}}return A0(n,0,e)}function O0(t,i,e,n=Me.Default,r){if(null!==t){if(2048&i[te]&&!(n&Me.Self)){const a=function iN(t,i,e,n,r){let o=t,a=i;for(;null!==o&&null!==a&&2048&a[te]&&!(512&a[te]);){const s=R0(o,a,e,n|Me.Self,Kn);if(s!==Kn)return s;let c=o.parent;if(!c){const l=a[XS];if(l){const d=l.get(e,Kn,n);if(d!==Kn)return d}c=L0(a),a=a[Ma]}o=c}return r}(t,i,e,n,Kn);if(a!==Kn)return a}const o=R0(t,i,e,n,Kn);if(o!==Kn)return o}return P0(i,e,n,r)}function R0(t,i,e,n,r){const o=function eN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(rc)?t[rc]:void 0;return"number"==typeof i?i>=0?i&T0:tN:i}(e);if("function"==typeof o){if(!b0(i,t,n))return n&Me.Host?A0(r,0,n):P0(i,e,n,r);try{let a;if(a=o(n),null!=a||n&Me.Optional)return a;Ap()}finally{w0()}}else if("number"==typeof o){let a=null,s=I0(t,i),c=Pa,l=n&Me.Host?i[mt][li]:null;for((-1===s||n&Me.SkipSelf)&&(c=-1===s?Zd(t,i):i[s+8],c!==Pa&&N0(n,!1)?(a=i[$],s=yc(c),i=_c(c,i)):s=-1);-1!==s;){const d=i[$];if(F0(o,s,d.data)){const m=JF(s,i,e,a,n,l);if(m!==Kn)return m}c=i[s+8],c!==Pa&&N0(n,i[$].data[s+8]===l)&&F0(o,s,i)?(a=d,s=yc(c),i=_c(c,i)):s=-1}}return r}function JF(t,i,e,n,r,o){const a=i[$],s=a.data[t+8],d=Xd(s,a,e,null==n?_o(s)&&gf:n!=a&&!!(3&s.type),r&Me.Host&&o===s);return null!==d?ko(i,a,d,s):Kn}function Xd(t,i,e,n,r){const o=t.providerIndexes,a=i.data,s=1048575&o,c=t.directiveStart,d=o>>20,p=r?s+d:t.directiveEnd;for(let v=n?s:s+d;v<p;v++){const b=a[v];if(v<c&&e===b||v>=c&&b.type===e)return v}if(r){const v=a[c];if(v&&En(v)&&v.type===e)return c}return null}function ko(t,i,e,n){let r=t[e];const o=i.data;if(function $F(t){return t instanceof bc}(r)){const a=r;a.resolving&&function _R(t,i){throw i&&i.join(" > "),new A(-200,t)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(o[e]));const s=Wd(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Oi(a.injectImpl):null;b0(t,n,Me.Default);try{r=t[e]=a.factory(void 0,o,t,n),i.firstCreatePass&&e>=n.directiveStart&&function zF(t,i,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=i.type.prototype;if(n){const a=n0(i);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],i)}finally{null!==l&&Oi(l),Wd(s),a.resolving=!1,w0()}}return r}function F0(t,i,e){return!!(e[i+(t>>E0)]&1<<t)}function N0(t,i){return!(t&Me.Self||t&Me.Host&&i)}class $t{constructor(i,e){this._tNode=i,this._lView=e}get(i,e,n){return O0(this._tNode,this._lView,i,Dd(n),e)}}function tN(){return new $t($e(),R())}function At(t){return mr(()=>{const i=t.prototype.constructor,e=i[pr]||yf(i),n=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){const o=r[pr]||yf(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function yf(t){return _d(t)?()=>{const i=yf(se(t));return i&&i()}:fo(t)}function L0(t){const i=t[$],e=i.type;return 2===e?i.declTNode:1===e?t[li]:null}function j0(t,i=null,e=null,n){const r=z0(t,i,e,n);return r.resolveInjectorInitializers(),r}function z0(t,i=null,e=null,n,r=new Set){const o=[e||Ae,ZR(t)];return n=n||("object"==typeof t?void 0:jt(t)),new ka(o,i||Rd(),n||null,r)}class we{static#e=this.THROW_IF_NOT_FOUND=oc;static#t=this.NULL=new Td;static create(i,e){if(Array.isArray(i))return j0({name:""},e,i,"");{const n=i.name??"";return j0({name:n},i.parent,i.providers,n)}}static#i=this.\u0275prov=B({token:we,providedIn:"any",factory:()=>w(RS)});static#n=this.__NG_ELEMENT_ID__=-1}new F("").__NG_ELEMENT_ID__=t=>{const i=$e();if(null===i)throw new A(204,!1);if(2&i.type)return i.value;if(t&Me.Optional)return null;throw new A(204,!1)};function Sf(t){return t.ngOriginalError}class Di{constructor(){this._console=console}handleError(i){const e=this._findOriginalError(i);this._console.error("ERROR",i),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(i){let e=i&&Sf(i);for(;e&&Sf(e);)e=Sf(e);return e||null}}const $0=new F("",{providedIn:"root",factory:()=>O(Di).handleError.bind(void 0)});let Na=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hN;static#t=this.__NG_ENV_ID__=e=>e}return t})();class uN extends Na{constructor(i){super(),this._lView=i}onDestroy(i){return jd(this._lView,i),()=>function nf(t,i){if(null===t[Br])return;const e=t[Br].indexOf(i);-1!==e&&t[Br].splice(e,1)}(this._lView,i)}}function hN(){return new uN(R())}function mN(){return La($e(),R())}function La(t,i){return new Ce(Ci(t,i))}let Ce=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=mN}return t})();function Y0(t){return t instanceof Ce?t.nativeElement:t}function wf(t){return i=>{setTimeout(t,void 0,i)}}const me=class pN extends W{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,WS()&&(this.destroyRef=O(Na,{optional:!0})??void 0)}emit(i){const e=Se(null);try{super.next(i)}finally{Se(e)}}subscribe(i,e,n){let r=i,o=e||(()=>null),a=n;if(i&&"object"==typeof i){const c=i;r=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=wf(o),r&&(r=wf(r)),a&&(a=wf(a)));const s=super.subscribe({next:r,error:o,complete:a});return i instanceof Le&&i.add(s),s}};function fN(){return this._results[Symbol.iterator]()}class Ba{static#e=Symbol.iterator;get changes(){return this._changes??=new me}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Ba.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=fN)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){this.dirty=!1;const n=function Ri(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function OR(t,i,e){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=i[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Jd(t){return!(128&~t.flags)}const Cf=new Map;let vN=0;const tu="__ngContext__";function gi(t,i){Qt(i)?(t[tu]=i[Ea],function yN(t){Cf.set(t[Ea],t)}(i)):t[tu]=i}function nw(t){return ow(t[dc])}function rw(t){return ow(t[Tn])}function ow(t){for(;null!==t&&!pi(t);)t=t[Tn];return t}let Df;const Va=new F("",{providedIn:"root",factory:()=>LN}),LN="ng",mw=new F(""),Vr=new F("",{providedIn:"platform",factory:()=>"unknown"}),cn=new F(""),xf=new F("",{providedIn:"root",factory:()=>function Hr(){if(void 0!==Df)return Df;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pw=()=>null;function Of(t,i,e=!1){return pw(t,i,e)}const ww=new F("",{providedIn:"root",factory:()=>!1});let lu;function za(t){return function Lf(){if(void 0===lu&&(lu=null,et.trustedTypes))try{lu=et.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lu}()?.createHTML(t)||t}class Do{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bS})`}}class XN extends Do{getTypeName(){return"HTML"}}class QN extends Do{getTypeName(){return"Style"}}class JN extends Do{getTypeName(){return"Script"}}class e2 extends Do{getTypeName(){return"URL"}}class t2 extends Do{getTypeName(){return"ResourceURL"}}function $i(t){return t instanceof Do?t.changingThisBreaksApplicationSecurity:t}function Zn(t,i){const e=function n2(t){return t instanceof Do&&t.getTypeName()||null}(t);if(null!=e&&e!==i){if("ResourceURL"===e&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${bS})`)}return e===i}class l2{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const e=(new window.DOMParser).parseFromString(za(i),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(i):(e.removeChild(e.firstChild),e)}catch{return null}}}class d2{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const e=this.inertDocument.createElement("template");return e.innerHTML=za(i),e}}const h2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uu(t){return(t=String(t)).match(h2)?t:"unsafe:"+t}function br(t){const i={};for(const e of t.split(","))i[e]=!0;return i}function Tc(...t){const i={};for(const e of t)for(const n in e)e.hasOwnProperty(n)&&(i[n]=!0);return i}const Ew=br("area,br,col,hr,img,wbr"),Iw=br("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Aw=br("rp,rt"),Hf=Tc(Ew,Tc(Iw,br("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tc(Aw,br("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tc(Aw,Iw)),Vf=br("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pw=Tc(Vf,br("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),br("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),m2=br("script,style,template");class p2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let e=i.firstChild,n=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)r.push(e),e=v2(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=g2(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(i){const e=Ow(i).toLowerCase();if(!Hf.hasOwnProperty(e))return this.sanitizedSomething=!0,!m2.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=i.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),a=o.name,s=a.toLowerCase();if(!Pw.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let c=o.value;Vf[s]&&(c=uu(c)),this.buf.push(" ",a,'="',Fw(c),'"')}return this.buf.push(">"),!0}endElement(i){const e=Ow(i).toLowerCase();Hf.hasOwnProperty(e)&&!Ew.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(i){this.buf.push(Fw(i))}}function g2(t){const i=t.nextSibling;if(i&&t!==i.previousSibling)throw Rw(i);return i}function v2(t){const i=t.firstChild;if(i&&function f2(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,i))throw Rw(i);return i}function Ow(t){const i=t.nodeName;return"string"==typeof i?i:"FORM"}function Rw(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const b2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y2=/([^\#-~ |!])/g;function Fw(t){return t.replace(/&/g,"&amp;").replace(b2,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(y2,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hu;function Nw(t,i){let e=null;try{hu=hu||function Tw(t){const i=new d2(t);return function u2(){try{return!!(new window.DOMParser).parseFromString(za(""),"text/html")}catch{return!1}}()?new l2(i):i}(t);let n=i?String(i):"";e=hu.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=hu.getInertBodyElement(n)}while(n!==o);return za((new p2).sanitizeChildren(Uf(e)||e))}finally{if(e){const n=Uf(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Uf(t){return"content"in t&&function _2(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function ln(t){const i=function Ec(){const t=R();return t&&t[qn].sanitizer}();return i?i.sanitize(di.URL,t)||"":Zn(t,"URL")?$i(t):uu(fe(t))}const M2=/^>|^->|<!--|-->|--!>|<!-$/g,T2=/(<|>)/g,E2="\u200b$1\u200b";function jw(t){return t.ownerDocument}function Gi(t){return t instanceof Function?t():t}var Ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ur||{});let $f;function Gf(t,i){return $f(t,i)}function $a(t,i,e,n,r){if(null!=n){let o,a=!1;pi(n)?o=n:Qt(n)&&(a=!0,n=n[ht]);const s=Ve(n);0===t&&null!==e?null==r?Xw(i,e,s):xo(i,e,s,r||null,!0):1===t&&null!==e?xo(i,e,s,r||null,!0):2===t?function Pc(t,i,e){const n=vu(t,i);n&&function G2(t,i,e,n){t.removeChild(i,e,n)}(t,n,i,e)}(i,s,a):3===t&&i.destroyNode(s),null!=o&&function K2(t,i,e,n,r){const o=e[$n];o!==Ve(e)&&$a(i,t,n,o,r);for(let s=kt;s<e.length;s++){const c=e[s];yu(c[$],c,t,i,n,o)}}(i,t,o,e,r)}}function Wf(t,i){return t.createComment(function Hw(t){return t.replace(M2,i=>i.replace(T2,E2))}(i))}function fu(t,i,e){return t.createElement(i,e)}function Ww(t,i){i[qn].changeDetectionScheduler?.notify(8),yu(t,i,i[le],2,null,null)}function Kw(t,i){const e=t[Ia],n=i[Et];(Qt(n)||i[mt]!==n[Et][mt])&&(t[te]|=Hd.HasTransplantedViews),null===e?t[Ia]=[i]:e.push(i)}function Kf(t,i){const e=t[Ia],n=e.indexOf(i);e.splice(n,1)}function Ic(t,i){if(t.length<=kt)return;const e=kt+i,n=t[e];if(n){const r=n[bo];null!==r&&r!==t&&Kf(r,n),i>0&&(t[e-1][Tn]=n[Tn]);const o=xd(t,kt+i);!function V2(t,i){Ww(t,i),i[ht]=null,i[li]=null}(n[$],n);const a=o[fr];null!==a&&a.detachView(o[$]),n[Et]=null,n[Tn]=null,n[te]&=-129}return n}function gu(t,i){if(!(256&i[te])){const e=i[le];e.destroyNode&&yu(t,i,e,3,null,null),function j2(t){let i=t[dc];if(!i)return Zf(t[$],t);for(;i;){let e=null;if(Qt(i))e=i[dc];else{const n=i[kt];n&&(e=n)}if(!e){for(;i&&!i[Tn]&&i!==t;)Qt(i)&&Zf(i[$],i),i=i[Et];null===i&&(i=t),Qt(i)&&Zf(i[$],i),e=i&&i[Tn]}i=e}}(i)}}function Zf(t,i){if(256&i[te])return;const e=Se(null);try{i[te]&=-129,i[te]|=256,i[yo]&&function rS(t){if(ma(t),ic(t))for(let i=0;i<t.producerNode.length;i++)pd(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[yo]),function $2(t,i){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let n=0;n<e.length;n+=2){const r=i[e[n]];if(!(r instanceof bc)){const o=e[n+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=r[o[a]],c=o[a+1];Gn(4,s,c);try{c.call(s)}finally{Gn(5,s,c)}}else{Gn(4,r,o);try{o.call(r)}finally{Gn(5,r,o)}}}}}(t,i),function q2(t,i){const e=t.cleanup,n=i[vo];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?n[a]():n[-a].unsubscribe(),o+=2}else e[o].call(n[e[o+1]]);null!==n&&(i[vo]=null);const r=i[Br];if(null!==r){i[Br]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,i),1===i[$].type&&i[le].destroy();const n=i[bo];if(null!==n&&pi(i[Et])){n!==i[Et]&&Kf(n,i);const r=i[fr];null!==r&&r.detachView(t)}!function _N(t){Cf.delete(t[Ea])}(i)}finally{Se(e)}}function Xf(t,i,e){return function Zw(t,i,e){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return e[ht];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=t.data[n.directiveStart+r];if(o===Dn.None||o===Dn.Emulated)return null}return Ci(n,e)}}(t,i.parent,e)}function xo(t,i,e,n,r){t.insertBefore(i,e,n,r)}function Xw(t,i,e){t.appendChild(i,e)}function Qw(t,i,e,n,r){null!==n?xo(t,i,e,n,r):Xw(t,i,e)}function vu(t,i){return t.parentNode(i)}function Jw(t,i,e){return tC(t,i,e)}let Qf,tC=function eC(t,i,e){return 40&t.type?Ci(t,e):null};function bu(t,i,e,n){const r=Xf(t,n,i),o=i[le],s=Jw(n.parent||i[li],n,i);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)Qw(o,r,e[c],s,!1);else Qw(o,r,e,s,!1);void 0!==Qf&&Qf(o,n,i,e,r)}function Ac(t,i){if(null!==i){const e=i.type;if(3&e)return Ci(i,t);if(4&e)return Jf(-1,t[i.index]);if(8&e){const n=i.child;if(null!==n)return Ac(t,n);{const r=t[i.index];return pi(r)?Jf(-1,r):Ve(r)}}if(32&e)return Gf(i,t)()||Ve(t[i.index]);{const n=nC(t,i);return null!==n?Array.isArray(n)?n[0]:Ac(So(t[mt]),n):Ac(t,i.next)}}return null}function nC(t,i){return null!==i?t[mt][li].projection[i.projection]:null}function Jf(t,i){const e=kt+t+1;if(e<i.length){const n=i[e],r=n[$].firstChild;if(null!==r)return Ac(n,r)}return i[$n]}function eg(t,i,e,n,r,o,a){for(;null!=e;){const s=n[e.index],c=e.type;if(a&&0===i&&(s&&gi(Ve(s),n),e.flags|=2),32&~e.flags)if(8&c)eg(t,i,e.child,n,r,o,!1),$a(i,t,r,s,o);else if(32&c){const l=Gf(e,n);let d;for(;d=l();)$a(i,t,r,d,o);$a(i,t,r,s,o)}else 16&c?oC(t,i,n,e,r,o):$a(i,t,r,s,o);e=a?e.projectionNext:e.next}}function yu(t,i,e,n,r,o){eg(e,n,t.firstChild,i,r,o,!1)}function oC(t,i,e,n,r,o){const a=e[mt],c=a[li].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)$a(i,t,r,c[l],o);else{let l=c;const d=a[Et];Jd(n)&&(l.flags|=128),eg(t,i,l,d,r,o,!0)}}function aC(t,i,e){""===e?t.removeAttribute(i,"class"):t.setAttribute(i,"class",e)}function sC(t,i,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&Bp(t,i,n),null!==r&&aC(t,i,r),null!==o&&function X2(t,i,e){t.setAttribute(i,"style",e)}(t,i,o)}const ge={};function g(t=1){cC(Te(),R(),fi()+t,!1)}function cC(t,i,e,n){if(!n)if(3&~i[te]){const o=t.preOrderHooks;null!==o&&Yd(i,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&Gd(i,o,e)}Co(e)}function y(t,i=Me.Default){const e=R();return null===e?w(t,i):O0($e(),e,se(t),i)}function tg(){throw new Error("invalid")}function lC(t,i,e,n,r,o){const a=Se(null);try{let s=null;r&Ca.SignalBased&&(s=i[n][uo]),null!==s&&void 0!==s.transformFn&&(o=s.transformFn(o)),r&Ca.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(i,o)),null!==t.setInput?t.setInput(i,s,o,e,n):t0(i,s,n,o)}finally{Se(a)}}function _u(t,i,e,n,r,o,a,s,c,l,d){const m=i.blueprint.slice();return m[ht]=r,m[te]=204|n,(null!==l||t&&2048&t[te])&&(m[te]|=2048),c0(m),m[Et]=m[Ma]=t,m[nt]=e,m[qn]=a||t&&t[qn],m[le]=s||t&&t[le],m[It]=c||t&&t[It]||null,m[li]=o,m[Ea]=function bN(){return vN++}(),m[Si]=d,m[XS]=l,m[mt]=2==i.type?t[mt]:m,m}function Ga(t,i,e,n,r){let o=t.data[i];if(null===o)o=function ig(t,i,e,n,r){const o=h0(),a=af(),c=t.data[i]=function oL(t,i,e,n,r,o){let a=i?i.injectorIndex:-1,s=0;return wo()&&(s|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,i,n,r);return null===t.firstChild&&(t.firstChild=c),null!==o&&(a?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,i,e,n,r),function FF(){return de.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const a=function gc(){const t=de.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Yn(o,!0),o}function Oc(t,i,e,n){if(0===e)return-1;const r=i.length;for(let o=0;o<e;o++)i.push(n),t.blueprint.push(n),t.data.push(null);return r}function dC(t,i,e,n,r){const o=fi(),a=2&n;try{Co(-1),a&&i.length>ne&&cC(t,i,ne,!1),Gn(a?2:0,r),e(n,r)}finally{Co(o),Gn(a?3:1,r)}}function ng(t,i,e){if(Kp(i)){const n=Se(null);try{const o=i.directiveEnd;for(let a=i.directiveStart;a<o;a++){const s=t.data[a];s.contentQueries&&s.contentQueries(1,e[a],a)}}finally{Se(n)}}}function rg(t,i,e){u0()&&(function hL(t,i,e,n){const r=e.directiveStart,o=e.directiveEnd;_o(e)&&function yL(t,i,e){const n=Ci(i,t),r=uC(e);let a=16;e.signals?a=4096:e.onPush&&(a=64);const s=Su(t,_u(t,r,null,a,n,i,null,t[qn].rendererFactory.createRenderer(n,e),null,null,null));t[i.index]=s}(i,e,t.data[r+e.componentOffset]),t.firstCreatePass||Kd(e,i),gi(n,i);const a=e.initialInputs;for(let s=r;s<o;s++){const c=t.data[s],l=ko(i,t,s,e);gi(l,i),null!==a&&_L(0,s-r,l,c,0,a),En(c)&&(qi(e.index,i)[nt]=ko(i,t,s,e))}}(t,i,e,Ci(e,i)),!(64&~e.flags)&&gC(t,i,e))}function og(t,i,e=Ci){const n=i.localNames;if(null!==n){let r=i.index+1;for(let o=0;o<n.length;o+=2){const a=n[o+1],s=-1===a?e(i,t):t[a];t[r++]=s}}}function uC(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function ag(t,i,e,n,r,o,a,s,c,l,d){const m=ne+n,p=m+r,v=function J2(t,i){const e=[];for(let n=0;n<i;n++)e.push(n<t?null:ge);return e}(m,p),b="function"==typeof l?l():l;return v[$]={type:t,blueprint:v,template:e,queries:null,viewQuery:s,declTNode:i,data:v.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}let hC=()=>null;function mC(t,i,e,n,r){for(let o in i){if(!i.hasOwnProperty(o))continue;const a=i[o];if(void 0===a)continue;n??={};let s,c=Ca.None;Array.isArray(a)?(s=a[0],c=a[1]):s=a;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===t?pC(n,e,l,s,c):pC(n,e,l,s)}return n}function pC(t,i,e,n,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(i,n):o=t[e]=[i,n],void 0!==r&&o.push(r)}function Ni(t,i,e,n,r,o,a,s){const c=Ci(i,e);let d,l=i.inputs;!s&&null!=l&&(d=l[n])?(ug(t,e,d,n,r),_o(i)&&function cL(t,i){const e=qi(i,t);16&e[te]||(e[te]|=64)}(e,i.index)):3&i.type&&(n=function sL(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),r=null!=a?a(r,i.value||"",n):r,o.setProperty(c,n,r))}function sg(t,i,e,n){if(u0()){const r=null===n?null:{"":-1},o=function pL(t,i){const e=t.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(HS(i,a.selectors,!1))if(n||(n=[]),En(a))if(null!==a.findHostDirectiveDefs){const s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),n.unshift(...s,a),cg(t,i,s.length)}else n.unshift(a),cg(t,i,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,n,r),n.push(a)}return null===n?null:[n,r]}(t,e);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&fC(t,i,e,a,r,s),r&&function fL(t,i,e){if(i){const n=t.localNames=[];for(let r=0;r<i.length;r+=2){const o=e[i[r+1]];if(null==o)throw new A(-301,!1);n.push(i[r],o)}}}(e,n,r)}e.mergedAttrs=cc(e.mergedAttrs,e.attrs)}function fC(t,i,e,n,r,o){for(let l=0;l<n.length;l++)bf(Kd(e,i),t,n[l].type);!function vL(t,i,e){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+e,t.providerIndexes=i}(e,t.data.length,n.length);for(let l=0;l<n.length;l++){const d=n[l];d.providersResolver&&d.providersResolver(d)}let a=!1,s=!1,c=Oc(t,i,n.length,null);for(let l=0;l<n.length;l++){const d=n[l];e.mergedAttrs=cc(e.mergedAttrs,d.hostAttrs),bL(t,e,i,c,d),gL(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const m=d.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),a=!0),!s&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),s=!0),c++}!function aL(t,i,e){const r=i.directiveEnd,o=t.data,a=i.attrs,s=[];let c=null,l=null;for(let d=i.directiveStart;d<r;d++){const m=o[d],p=e?e.get(m):null,b=p?p.outputs:null;c=mC(0,m.inputs,d,c,p?p.inputs:null),l=mC(1,m.outputs,d,l,b);const _=null===c||null===a||Hp(i)?null:SL(c,d,a);s.push(_)}null!==c&&(c.hasOwnProperty("class")&&(i.flags|=8),c.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=s,i.inputs=c,i.outputs=l}(t,e,o)}function gC(t,i,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,a=function LF(){return de.lFrame.currentDirectiveIndex}();try{Co(o);for(let s=n;s<r;s++){const c=t.data[s],l=i[s];cf(s),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&mL(c,l)}}finally{Co(-1),cf(a)}}function mL(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function cg(t,i,e){i.componentOffset=e,(t.components??=[]).push(i.index)}function gL(t,i,e){if(e){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)e[i.exportAs[n]]=t;En(i)&&(e[""]=t)}}function bL(t,i,e,n,r){t.data[n]=r;const o=r.factory||(r.factory=fo(r.type)),a=new bc(o,En(r),y);t.blueprint[n]=a,e[n]=a,function dL(t,i,e,n,r){const o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const s=~i.index;(function uL(t){let i=t.length;for(;i>0;){const e=t[--i];if("number"==typeof e&&e<0)return e}return 0})(a)!=s&&a.push(s),a.push(e,n,o)}}(t,i,n,Oc(t,e,r.hostVars,ge),r)}function Xn(t,i,e,n,r,o){const a=Ci(t,i);!function lg(t,i,e,n,r,o,a){if(null==o)t.removeAttribute(i,r,e);else{const s=null==a?fe(o):a(o,n||"",r);t.setAttribute(i,r,s,e)}}(i[le],a,o,t.value,e,n,r)}function _L(t,i,e,n,r,o){const a=o[i];if(null!==a)for(let s=0;s<a.length;)lC(n,e,a[s++],a[s++],a[s++],a[s++])}function SL(t,i,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const a=t[o];for(let s=0;s<a.length;s+=3)if(a[s]===i){n.push(o,a[s+1],a[s+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function vC(t,i,e,n){return[t,!0,0,i,null,n,null,e,null,null]}function bC(t,i){const e=t.contentQueries;if(null!==e){const n=Se(null);try{for(let r=0;r<e.length;r+=2){const a=e[r+1];if(-1!==a){const s=t.data[a];qd(e[r]),s.contentQueries(2,i[a],a)}}}finally{Se(n)}}}function Su(t,i){return t[dc]?t[ZS][Tn]=i:t[dc]=i,t[ZS]=i,i}function dg(t,i,e){qd(0);const n=Se(null);try{i(t,e)}finally{Se(n)}}function yC(t){return t[vo]||(t[vo]=[])}function _C(t){return t.cleanup||(t.cleanup=[])}function SC(t,i,e){return(null===t||En(t))&&(e=function Jp(t){for(;Array.isArray(t);){if("object"==typeof t[Wp])return t;t=t[ht]}return null}(e[i.index])),e[le]}function wu(t,i){const e=t[It],n=e?e.get(Di,null):null;n&&n.handleError(i)}function ug(t,i,e,n,r){for(let o=0;o<e.length;){const a=e[o++],s=e[o++],c=e[o++];lC(t.data[a],i[a],n,s,c,r)}}function yr(t,i,e){const n=mc(i,t);!function Yw(t,i,e){t.setValue(i,e)}(t[le],n,e)}function wL(t,i){const e=qi(i,t),n=e[$];!function CL(t,i){for(let e=i.length;e<t.blueprint.length;e++)i.push(t.blueprint[e])}(n,e);const r=e[ht];null!==r&&null===e[Si]&&(e[Si]=Of(r,e[It])),hg(n,e,e[nt])}function hg(t,i,e){uf(i);try{const n=t.viewQuery;null!==n&&dg(1,n,e);const r=t.template;null!==r&&dC(t,i,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),i[fr]?.finishViewCreation(t),t.staticContentQueries&&bC(t,i),t.staticViewQueries&&dg(2,t.viewQuery,e);const o=t.components;null!==o&&function kL(t,i){for(let e=0;e<i.length;e++)wL(t,i[e])}(i,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{i[te]&=-5,hf()}}function Ya(t,i,e,n){const r=Se(null);try{const o=i.tView,c=_u(t,o,e,4096&t[te]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);c[bo]=t[i.index];const d=t[fr];return null!==d&&(c[fr]=d.createEmbeddedView(o)),hg(o,c,e),c}finally{Se(r)}}function wC(t,i){const e=kt+i;if(e<t.length)return t[e]}function Mo(t,i){return!i||null===i.firstChild||Jd(t)}function Wa(t,i,e,n=!0){const r=i[$];if(function z2(t,i,e,n){const r=kt+n,o=e.length;n>0&&(e[r-1][Tn]=i),n<o-kt?(i[Tn]=e[r],AS(e,kt+n,i)):(e.push(i),i[Tn]=null),i[Et]=e;const a=i[bo];null!==a&&e!==a&&Kw(a,i);const s=i[fr];null!==s&&s.insertView(t),tf(i),i[te]|=128}(r,i,t,e),n){const a=Jf(e,t),s=i[le],c=vu(s,t[$n]);null!==c&&function U2(t,i,e,n,r,o){n[ht]=r,n[li]=i,yu(t,n,e,1,r,o)}(r,t[li],s,i,c,a)}const o=i[Si];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function mg(t,i){const e=Ic(t,i);return void 0!==e&&gu(e[$],e),e}function Rc(t,i,e,n,r=!1){for(;null!==e;){const o=i[e.index];null!==o&&n.push(Ve(o)),pi(o)&&CC(o,n);const a=e.type;if(8&a)Rc(t,i,e.child,n);else if(32&a){const s=Gf(e,i);let c;for(;c=s();)n.push(c)}else if(16&a){const s=nC(i,e);if(Array.isArray(s))n.push(...s);else{const c=So(i[mt]);Rc(c[$],c,s,n,!0)}}e=r?e.projectionNext:e.next}return n}function CC(t,i){for(let e=kt;e<t.length;e++){const n=t[e],r=n[$].firstChild;null!==r&&Rc(n[$],n,r,i)}t[$n]!==t[ht]&&i.push(t[$n])}let kC=[];const TL={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ud(t.lView)},consumerOnSignalRead(){this.lView[yo]=this}},EL=100;function Cu(t,i=!0,e=0){const n=t[qn],r=n.rendererFactory;r.begin?.();try{!function IL(t,i){const e=p0();try{f0(!0),pg(t,i);let n=0;for(;fc(t);){if(n===EL)throw new A(103,!1);n++,pg(t,1)}}finally{f0(e)}}(t,e)}catch(a){throw i&&wu(t,a),a}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function AL(t,i,e,n){const r=i[te];if(!(256&~r))return;i[qn].inlineEffectRunner?.flush(),uf(i);let s=null,c=null;(function PL(t){return 2!==t.type})(t)&&(c=function DL(t){return t[yo]??function xL(t){const i=kC.pop()??Object.create(TL);return i.lView=t,i}(t)}(i),s=function iS(t){return t&&(t.nextProducerIndex=0),Se(t)}(c));try{c0(i),function g0(t){return de.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&dC(t,i,e,2,n);const l=!(3&~r);if(l){const p=t.preOrderCheckHooks;null!==p&&Gd(i,p,null)}else{const p=t.preOrderHooks;null!==p&&Yd(i,p,0,null),mf(i,0)}if(function OL(t){for(let i=nw(t);null!==i;i=rw(i)){if(!(i[te]&Hd.HasTransplantedViews))continue;const e=i[Ia];for(let n=0;n<e.length;n++)DF(e[n])}}(i),xC(i,0),null!==t.contentQueries&&bC(t,i),l){const p=t.contentCheckHooks;null!==p&&Gd(i,p)}else{const p=t.contentHooks;null!==p&&Yd(i,p,1),mf(i,1)}!function Q2(t,i){const e=t.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)Co(~r);else{const o=r,a=e[++n],s=e[++n];NF(a,o),s(2,i[o])}}}finally{Co(-1)}}(t,i);const d=t.components;null!==d&&TC(i,d,0);const m=t.viewQuery;if(null!==m&&dg(2,m,n),l){const p=t.viewCheckHooks;null!==p&&Gd(i,p)}else{const p=t.viewHooks;null!==p&&Yd(i,p,2),mf(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Ld]){for(const p of i[Ld])p();i[Ld]=null}i[te]&=-73}catch(l){throw Ud(i),l}finally{null!==c&&(function nS(t,i){if(Se(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ic(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)pd(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(c,s),function ML(t){t.lView[yo]!==t&&(t.lView=null,kC.push(t))}(c)),hf()}}function xC(t,i){for(let e=nw(t);null!==e;e=rw(e))for(let n=kt;n<e.length;n++)MC(e[n],i)}function RL(t,i,e){MC(qi(i,t),e)}function MC(t,i){ef(t)&&pg(t,i)}function pg(t,i){const n=t[$],r=t[te],o=t[yo];let a=!!(0===i&&16&r);if(a||=!!(64&r&&0===i),a||=!!(1024&r),a||=!(!o?.dirty||!up(o)),a||=!1,o&&(o.dirty=!1),t[te]&=-9217,a)AL(n,t,n.template,t[nt]);else if(8192&r){xC(t,1);const s=n.components;null!==s&&TC(t,s,1)}}function TC(t,i,e){for(let n=0;n<i.length;n++)RL(t,i[n],e)}function Fc(t,i){const e=p0()?64:1088;for(t[qn].changeDetectionScheduler?.notify(i);t;){t[te]|=e;const n=So(t);if(hc(t)&&!n)return t;t=n}return null}class Nc{get rootNodes(){const i=this._lView,e=i[$];return Rc(e,i,e.firstChild,[])}constructor(i,e,n=!0){this._lView=i,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(i){this._lView[nt]=i}get destroyed(){return!(256&~this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Et];if(pi(i)){const e=i[8],n=e?e.indexOf(this):-1;n>-1&&(Ic(i,n),xd(e,n))}this._attachedToViewContainer=!1}gu(this._lView[$],this._lView)}onDestroy(i){jd(this._lView,i)}markForCheck(){Fc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){tf(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Cu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=hc(this._lView),e=this._lView[bo];null!==e&&!i&&Kf(e,this._lView),Ww(this._lView[$],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=i;const e=hc(this._lView),n=this._lView[bo];null!==n&&!e&&Kw(n,this._lView),tf(this._lView)}}let Jt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LL}return t})();const FL=Jt,NL=class extends FL{constructor(i,e,n){super(),this._declarationLView=i,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,e){return this.createEmbeddedViewImpl(i,e)}createEmbeddedViewImpl(i,e,n){const r=Ya(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:e,dehydratedView:n});return new Nc(r)}};function LL(){return ku($e(),R())}function ku(t,i){return 4&t.type?new NL(i,t,La(t,i)):null}let WC=()=>null;function Eo(t,i){return WC(t,i)}class qc{}const $c=new F("",{providedIn:"root",factory:()=>!1}),KC=new F("");class kB{}class ZC{}class xB{resolveComponentFactory(i){throw function DB(t){const i=Error(`No component factory found for ${jt(t)}.`);return i.ngComponent=t,i}(i)}}class Io{static#e=this.NULL=new xB}class Eu{}let _r=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function MB(){const t=R(),e=qi($e().index,t);return(Qt(e)?e:t)[le]}()}return t})(),TB=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();const kg={},QC=new Set;function Yi(t){QC.has(t)||(QC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function JC(t){let i=!0;return setTimeout(()=>{i&&(i=!1,t())}),"function"==typeof et.requestAnimationFrame&&et.requestAnimationFrame(()=>{i&&(i=!1,t())}),()=>{i=!1}}function ek(t){let i=!0;return queueMicrotask(()=>{i&&t()}),()=>{i=!1}}function tk(...t){}class Q{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.callbackScheduled=!1,function AB(t){const i=()=>{!function IB(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{JC(()=>{t.callbackScheduled=!1,xg(t),t.isCheckStableRunning=!0,Dg(t),t.isCheckStableRunning=!1})}),xg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,a,s)=>{if(function PB(t){return rk(t,"__ignore_ng_zone__")}(s))return e.invokeTask(r,o,a,s);try{return ik(t),e.invokeTask(r,o,a,s)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&i(),nk(t)}},onInvoke:(e,n,r,o,a,s,c)=>{try{return ik(t),e.invoke(r,o,a,s,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function OB(t){return rk(t,"__scheduler_tick__")}(s)&&i(),nk(t)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,xg(t),Dg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Q.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Q.isInAngularZone())throw new A(909,!1)}run(i,e,n){return this._inner.run(i,e,n)}runTask(i,e,n,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,i,EB,tk,tk);try{return o.runTask(a,e,n)}finally{o.cancelTask(a)}}runGuarded(i,e,n){return this._inner.runGuarded(i,e,n)}runOutsideAngular(i){return this._outer.run(i)}}const EB={};function Dg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function ik(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nk(t){t._nesting--,Dg(t)}class Mg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(i,e,n){return i.apply(e,n)}runGuarded(i,e,n){return i.apply(e,n)}runOutsideAngular(i){return i()}runTask(i,e,n,r){return i.apply(e,n)}}function rk(t,i){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[i]}var Ao=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ao||{});const ok={destroy(){}};function Eg(t,i){!i&&function Fd(t){if(!WS())throw new A(-203,!1)}();const e=i?.injector??O(we);if(!function dn(t){return"browser"===(t??O(we)).get(Vr)}(e))return ok;Yi("NgAfterNextRender");const n=e.get(Gc),r=n.handler??=new sk,o=i?.phase??Ao.MixedReadWrite,a=()=>{r.unregister(c),s()},s=e.get(Na).onDestroy(a),c=Mn(e,()=>new ak(o,()=>{a(),t()}));return r.register(c),{destroy:a}}class ak{constructor(i,e){this.phase=i,this.callbackFn=e,this.zone=O(Q),this.errorHandler=O(Di,{optional:!0}),O(qc,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class sk{constructor(){this.executingCallbacks=!1,this.buckets={[Ao.EarlyRead]:new Set,[Ao.Write]:new Set,[Ao.MixedReadWrite]:new Set,[Ao.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const e of i)e.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let Gc=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of e)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function Au(t,i,e){let n=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==i)for(let a=0;a<i.length;a++){const s=i[a];"number"==typeof s?o=s:1==o?r=wp(r,s):2==o&&(n=wp(n,s+": "+i[++a]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=r:t.classesWithoutHost=r}class dk extends Io{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const e=xe(i);return new Kc(e,this.ngModule)}}function uk(t){const i=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const n=t[e];void 0!==n&&i.push({propName:Array.isArray(n)?n[0]:n,templateName:e})}return i}class Pu{constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,n){n=Dd(n);const r=this.injector.get(i,kg,n);return r!==kg||e===kg?r:this.parentInjector.get(i,e,n)}}class Kc extends ZC{get inputs(){const i=this.componentDef,e=i.inputTransforms,n=uk(i.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return uk(this.componentDef.outputs)}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=function qR(t){return t.map(zR).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!e}create(i,e,n,r){const o=Se(null);try{let a=(r=r||this.ngModule)instanceof _i?r:r?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const s=a?new Pu(i,a):i,c=s.get(Eu,null);if(null===c)throw new A(407,!1);const l=s.get(TB,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:s.get(Gc,null),changeDetectionScheduler:s.get(qc,null)},v=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",_=n?function eL(t,i,e,n){const o=n.get(ww,!1)||e===Dn.ShadowDom,a=t.selectRootElement(i,o);return function tL(t){hC(t)}(a),a}(v,n,this.componentDef.encapsulation,s):fu(v,b,function BB(t){const i=t.toLowerCase();return"svg"===i?a0:"math"===i?"math":null}(b));let k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let x=null;null!==_&&(x=Of(_,s,!0));const M=ag(0,null,null,1,0,null,null,null,null,null,null),L=_u(null,M,null,k,null,null,p,v,s,null,x);let j,J;uf(L);try{const pe=this.componentDef;let Re,Ct=null;pe.findHostDirectiveDefs?(Re=[],Ct=new Map,pe.findHostDirectiveDefs(pe,Re,Ct),Re.push(pe)):Re=[pe];const ur=function VB(t,i){const e=t[$],n=ne;return t[n]=i,Ga(e,n,2,"#host",null)}(L,_),co=function UB(t,i,e,n,r,o,a){const s=r[$];!function jB(t,i,e,n){for(const r of t)i.mergedAttrs=cc(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(Au(i,i.mergedAttrs,!0),null!==e&&sC(n,e,i))}(n,t,i,a);let c=null;null!==i&&(c=Of(i,r[It]));const l=o.rendererFactory.createRenderer(i,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const m=_u(r,uC(e),null,d,r[t.index],t,o,l,null,null,c);return s.firstCreatePass&&cg(s,t,n.length-1),Su(r,m),r[t.index]=m}(ur,_,pe,Re,L,p,v);J=pc(M,ne),_&&function qB(t,i,e,n){if(n)Bp(t,e,["ng-version","18.0.0"]);else{const{attrs:r,classes:o}=function $R(t){const i=[],e=[];let n=1,r=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===r?""!==o&&i.push(o,t[++n]):8===r&&e.push(o);else{if(!xn(r))break;r=o}n++}return{attrs:i,classes:e}}(i.selectors[0]);r&&Bp(t,e,r),o&&o.length>0&&aC(t,e,o.join(" "))}}(v,pe,_,n),void 0!==e&&function $B(t,i,e){const n=t.projection=[];for(let r=0;r<i.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(J,this.ngContentSelectors,e),j=function zB(t,i,e,n,r,o){const a=$e(),s=r[$],c=Ci(a,r);fC(s,r,a,e,null,n);for(let d=0;d<e.length;d++)gi(ko(r,s,a.directiveStart+d,a),r);gC(s,r,a),c&&gi(c,r);const l=ko(r,s,a.directiveStart+a.componentOffset,a);if(t[nt]=r[nt]=l,null!==o)for(const d of o)d(l,i);return ng(s,a,r),l}(co,pe,Re,Ct,L,[GB]),hg(M,L,null)}finally{hf()}return new HB(this.componentType,j,La(J,L),L,J)}finally{Se(o)}}}class HB extends kB{constructor(i,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Nc(r,void 0,!1),this.componentType=i}setInput(i,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),e))return;const o=this._rootLView;ug(o[$],o,r,i,e),this.previousInputValues.set(i,e),Fc(qi(this._tNode.index,o),1)}}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function GB(){const t=$e();$d(R()[$],t)}let ei=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YB}return t})();function YB(){return pk($e(),R())}const WB=ei,hk=class extends WB{constructor(i,e,n){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=n}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const i=Zd(this._hostTNode,this._hostLView);if(ff(i)){const e=_c(i,this._hostLView),n=yc(i);return new $t(e[$].data[n+8],e)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const e=mk(this._lContainer);return null!==e&&e[i]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(i,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const a=Eo(this._lContainer,i.ssrId),s=i.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,Mo(this._hostTNode,a)),s}createComponent(i,e,n,r,o){const a=i&&!function lc(t){return"function"==typeof t}(i);let s;if(a)s=e;else{const b=e||{};s=b.index,n=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=a?i:new Kc(xe(i)),l=n||this.parentInjector;if(!o&&null==c.ngModule){const _=(a?l:this.parentInjector).get(_i,null);_&&(o=_)}const d=xe(c.componentType??{}),m=Eo(this._lContainer,d?.id??null),v=c.create(l,r,m?.firstChild??null,o);return this.insertImpl(v.hostView,s,Mo(this._hostTNode,m)),v}insert(i,e){return this.insertImpl(i,e,!0)}insertImpl(i,e,n){const r=i._lView;if(function kF(t){return pi(t[Et])}(r)){const s=this.indexOf(i);if(-1!==s)this.detach(s);else{const c=r[Et],l=new hk(c,c[li],c[Et]);l.detach(l.indexOf(i))}}const o=this._adjustIndex(e),a=this._lContainer;return Wa(a,r,o,n),i.attachToViewContainerRef(),AS(Pg(a),o,i),i}move(i,e){return this.insert(i,e)}indexOf(i){const e=mk(this._lContainer);return null!==e?e.indexOf(i):-1}remove(i){const e=this._adjustIndex(i,-1),n=Ic(this._lContainer,e);n&&(xd(Pg(this._lContainer),e),gu(n[$],n))}detach(i){const e=this._adjustIndex(i,-1),n=Ic(this._lContainer,e);return n&&null!=xd(Pg(this._lContainer),e)?new Nc(n):null}_adjustIndex(i,e=0){return i??this.length+e}};function mk(t){return t[8]}function Pg(t){return t[8]||(t[8]=[])}function pk(t,i){let e;const n=i[t.index];return pi(n)?e=n:(e=vC(n,i,null,t),i[t.index]=e,Su(i,e)),fk(e,i,t,n),new hk(e,t,i)}let fk=function vk(t,i,e,n){if(t[$n])return;let r;r=8&e.type?Ve(n):function KB(t,i){const e=t[le],n=e.createComment(""),r=Ci(i,t);return xo(e,vu(e,r),n,function Y2(t,i){return t.nextSibling(i)}(e,r),!1),n}(i,e),t[$n]=r},Og=()=>!1;class Rg{constructor(i){this.queryList=i,this.matches=null}clone(){return new Rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fg{constructor(i=[]){this.queries=i}createEmbeddedView(i){const e=i.queries;if(null!==e){const n=null!==i.contentQueries?i.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const a=e.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new Fg(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)null!==Vg(i,e).matches&&this.queries[e].setDirty()}}class bk{constructor(i,e,n=null){this.flags=e,this.read=n,this.predicate="string"==typeof i?function nH(t){return t.split(",").map(i=>i.trim())}(i):i}}class Ng{constructor(i=[]){this.queries=i}elementStart(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(i,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new Ng(e):null}template(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Lg{constructor(i,e=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new Lg(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(i,e,JB(e,o)),this.matchTNodeWithReadOption(i,e,Xd(e,i,o,!1,!1))}else n===Jt?4&e.type&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,Xd(e,i,n,!1,!1))}matchTNodeWithReadOption(i,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ce||r===ei||r===Jt&&4&e.type)this.addMatch(e.index,-2);else{const o=Xd(e,i,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(i,e){null===this.matches?this.matches=[i,e]:this.matches.push(i,e)}}function JB(t,i){const e=t.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===i)return e[n+1];return null}function tH(t,i,e,n){return-1===e?function eH(t,i){return 11&t.type?La(t,i):4&t.type?ku(t,i):null}(i,t):-2===e?function iH(t,i,e){return e===Ce?La(i,t):e===Jt?ku(i,t):e===ei?pk(i,t):void 0}(t,i,n):ko(t,t[$],e,i)}function yk(t,i,e,n){const r=i[fr].queries[n];if(null===r.matches){const o=t.data,a=e.matches,s=[];for(let c=0;null!==a&&c<a.length;c+=2){const l=a[c];s.push(l<0?null:tH(i,o[l],a[c+1],e.metadata.read))}r.matches=s}return r.matches}function Bg(t,i,e,n){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const a=yk(t,i,r,e);for(let s=0;s<o.length;s+=2){const c=o[s];if(c>0)n.push(a[s/2]);else{const l=o[s+1],d=i[-c];for(let m=kt;m<d.length;m++){const p=d[m];p[bo]===p[Et]&&Bg(p[$],p,l,n)}if(null!==d[Ia]){const m=d[Ia];for(let p=0;p<m.length;p++){const v=m[p];Bg(v[$],v,l,n)}}}}}return n}function _k(t,i,e){const n=new Ba(!(4&~e));return function rL(t,i,e,n){const r=yC(i);r.push(e),t.firstCreatePass&&_C(t).push(n,r.length-1)}(t,i,n,n.destroy),(i[fr]??=new Fg).queries.push(new Rg(n))-1}function Ck(t,i,e){null===t.queries&&(t.queries=new Ng),t.queries.track(new Lg(i,e))}function Vg(t,i){return t.queries.getByIndex(i)}function kk(t,i){const e=t[$],n=Vg(e,i);return n.crossesNgTemplate?Bg(e,t,i,[]):yk(e,t,n,i)}function ye(t){let i=function Bk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const n=[t];for(;i;){let r;if(En(t))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new A(903,!1);r=i.\u0275dir}if(r){if(e){n.push(r);const a=t;a.inputs=Ru(t.inputs),a.inputTransforms=Ru(t.inputTransforms),a.declaredInputs=Ru(t.declaredInputs),a.outputs=Ru(t.outputs);const s=r.hostBindings;s&&yH(t,s);const c=r.viewQuery,l=r.contentQueries;if(c&&vH(t,c),l&&bH(t,l),fH(t,r),dR(t.outputs,r.outputs),En(r)&&r.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(t),s===ye&&(e=!1)}}i=Object.getPrototypeOf(i)}!function gH(t){let i=0,e=null;for(let n=t.length-1;n>=0;n--){const r=t[n];r.hostVars=i+=r.hostVars,r.hostAttrs=cc(r.hostAttrs,e=cc(e,r.hostAttrs))}}(n)}function fH(t,i){for(const e in i.inputs){if(!i.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const n=i.inputs[e];if(void 0!==n&&(t.inputs[e]=n,t.declaredInputs[e]=i.declaredInputs[e],null!==i.inputTransforms)){const r=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=i.inputTransforms[r]}}}function Ru(t){return t===jn?{}:t===Ae?[]:t}function vH(t,i){const e=t.viewQuery;t.viewQuery=e?(n,r)=>{i(n,r),e(n,r)}:i}function bH(t,i){const e=t.contentQueries;t.contentQueries=e?(n,r,o)=>{i(n,r,o),e(n,r,o)}:i}function yH(t,i){const e=t.hostBindings;t.hostBindings=e?(n,r)=>{i(n,r),e(n,r)}:i}function vi(t){const i=t.inputConfig,e={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[3]&&(e[n]=r[3])}t.inputTransforms=e}class Po{}class jk{}class jg extends Po{constructor(i,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dk(this);const r=mi(i);this._bootstrapComponents=Gi(r.bootstrap),this._r3Injector=z0(i,e,[{provide:Po,useValue:this},{provide:Io,useValue:this.componentFactoryResolver},...n],jt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class zg extends jk{constructor(i){super(),this.moduleType=i}create(i){return new jg(this.moduleType,i,[])}}class zk extends Po{constructor(i){super(),this.componentFactoryResolver=new dk(this),this.instance=null;const e=new ka([...i.providers,{provide:Po,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],i.parent||Rd(),i.debugName,new Set(["environment"]));this.injector=e,i.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Fu(t,i,e=null){return new zk({providers:t,parent:i,debugName:e,runEnvironmentInitializers:!0}).injector}let Oo=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lu(t){return!!qg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function qg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qn(t,i,e){return t[i]=e}function Dt(t,i,e){return!Object.is(t[i],e)&&(t[i]=e,!0)}function Ro(t,i,e,n){const r=Dt(t,i,e);return Dt(t,i+1,n)||r}function Bu(t,i,e,n,r){const o=Ro(t,i,e,n);return Dt(t,i+2,r)||o}function un(t,i,e,n,r,o){const a=Ro(t,i,e,n);return Ro(t,i+2,r,o)||a}function Qc(t,i,e,n,r,o,a,s,c,l){const d=e+ne,m=i.firstCreatePass?function PH(t,i,e,n,r,o,a,s,c){const l=i.consts,d=Ga(i,t,4,a||null,s||null);sg(i,e,d,sn(l,c)),$d(i,d);const m=d.tView=ag(2,d,n,r,o,i.directiveRegistry,i.pipeRegistry,null,i.schemas,l,null);return null!==i.queries&&(i.queries.template(i,d),m.queries=i.queries.embeddedTView(d)),d}(d,i,t,n,r,o,a,s,c):i.data[d];Yn(m,!1);const p=$k(i,t,m,e);vc()&&bu(i,t,p,m),gi(p,t);const v=vC(p,t,p,m);return t[d]=v,Su(t,v),function gk(t,i,e){return Og(t,i,e)}(v,m,t),Vd(m)&&rg(i,t,m),null!=c&&og(t,m,l),m}function H(t,i,e,n,r,o,a,s){const c=R(),l=Te();return Qc(c,l,t,i,e,n,r,sn(l.consts,o),a,s),H}let $k=function Gk(t,i,e,n){return Wn(!0),i[le].createComment("")};function Ge(t,i,e,n){const r=R();return Dt(r,In(),i)&&(Te(),Xn(rt(),r,t,i,e,n)),Ge}function os(t,i,e,n){return Dt(t,In(),e)?i+fe(e)+n:ge}function as(t,i,e,n,r,o){const s=Ro(t,gr(),e,r);return vr(2),s?i+fe(e)+n+fe(r)+o:ge}function ss(t,i,e,n,r,o,a,s){const l=Bu(t,gr(),e,r,a);return vr(3),l?i+fe(e)+n+fe(r)+o+fe(a)+s:ge}function qu(t,i){return t<<17|i<<2}function $r(t){return t>>17&32767}function ev(t){return 2|t}function No(t){return(131068&t)>>2}function tv(t,i){return-131069&t|i<<2}function iv(t){return 1|t}function k1(t,i,e,n){const r=t[e+1],o=null===i;let a=n?$r(r):No(r),s=!1;for(;0!==a&&(!1===s||o);){const l=t[a+1];y3(t[a],i)&&(s=!0,t[a+1]=n?iv(l):ev(l)),a=n?$r(l):No(l)}s&&(t[e+1]=n?ev(r):iv(r))}function y3(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&wa(t,i)>=0}const Gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function D1(t){return t.substring(Gt.key,Gt.keyEnd)}function _3(t){return t.substring(Gt.value,Gt.valueEnd)}function x1(t,i){const e=Gt.textEnd;return e===i?-1:(i=Gt.keyEnd=function C3(t,i,e){for(;i<e&&t.charCodeAt(i)>32;)i++;return i}(t,Gt.key=i,e),ms(t,i,e))}function M1(t,i){const e=Gt.textEnd;let n=Gt.key=ms(t,i,e);return e===n?-1:(n=Gt.keyEnd=function k3(t,i,e){let n;for(;i<e&&(45===(n=t.charCodeAt(i))||95===n||(-33&n)>=65&&(-33&n)<=90||n>=48&&n<=57);)i++;return i}(t,n,e),n=E1(t,n,e),n=Gt.value=ms(t,n,e),n=Gt.valueEnd=function D3(t,i,e){let n=-1,r=-1,o=-1,a=i,s=a;for(;a<e;){const c=t.charCodeAt(a++);if(59===c)return s;34===c||39===c?s=a=I1(t,c,a,e):i===a-4&&85===o&&82===r&&76===n&&40===c?s=a=I1(t,41,a,e):c>32&&(s=a),o=r,r=n,n=-33&c}return s}(t,n,e),E1(t,n,e))}function T1(t){Gt.key=0,Gt.keyEnd=0,Gt.value=0,Gt.valueEnd=0,Gt.textEnd=t.length}function ms(t,i,e){for(;i<e&&t.charCodeAt(i)<=32;)i++;return i}function E1(t,i,e,n){return(i=ms(t,i,e))<e&&i++,i}function I1(t,i,e,n){let r=-1,o=e;for(;o<n;){const a=t.charCodeAt(o++);if(a==i&&92!==r)return o;r=92==a&&92===r?0:a}throw new Error}function P(t,i,e){const n=R();return Dt(n,In(),i)&&Ni(Te(),rt(),n,t,i,n[le],e,!1),P}function nv(t,i,e,n,r){const a=r?"class":"style";ug(t,e,i.inputs[a],a,n)}function ti(t,i,e){return An(t,i,e,!1),ti}function gt(t,i){return An(t,i,null,!0),gt}function hn(t){Pn(O1,x3,t,!1)}function x3(t,i){for(let e=function w3(t){return T1(t),M1(t,ms(t,0,Gt.textEnd))}(i);e>=0;e=M1(i,e))O1(t,D1(i),_3(i))}function $u(t){Pn(P3,Jn,t,!0)}function Jn(t,i){for(let e=function S3(t){return T1(t),x1(t,ms(t,0,Gt.textEnd))}(i);e>=0;e=x1(i,e))zi(t,D1(i),!0)}function An(t,i,e,n){const r=R(),o=Te(),a=vr(2);o.firstUpdatePass&&P1(o,t,a,n),i!==ge&&Dt(r,a,i)&&R1(o,o.data[fi()],r,r[le],t,r[a+1]=function R3(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=jt($i(t)))),t}(i,e),n,a)}function Pn(t,i,e,n){const r=Te(),o=vr(2);r.firstUpdatePass&&P1(r,null,o,n);const a=R();if(e!==ge&&Dt(a,o,e)){const s=r.data[fi()];if(N1(s,n)&&!A1(r,o)){let c=n?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(e=wp(c,e||"")),nv(r,s,a,e,n)}else!function O3(t,i,e,n,r,o,a,s){r===ge&&(r=Ae);let c=0,l=0,d=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;null!==d||null!==m;){const p=c<r.length?r[c+1]:void 0,v=l<o.length?o[l+1]:void 0;let _,b=null;d===m?(c+=2,l+=2,p!==v&&(b=m,_=v)):null===m||null!==d&&d<m?(c+=2,b=d):(l+=2,b=m,_=v),null!==b&&R1(t,i,e,n,b,_,a,s),d=c<r.length?r[c]:null,m=l<o.length?o[l]:null}}(r,s,a,a[le],a[o+1],a[o+1]=function A3(t,i,e){if(null==e||""===e)return Ae;const n=[],r=$i(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else"string"==typeof r&&i(n,r);return n}(t,i,e),n,o)}}function A1(t,i){return i>=t.expandoStartIndex}function P1(t,i,e,n){const r=t.data;if(null===r[e+1]){const o=r[fi()],a=A1(t,e);N1(o,n)&&null===i&&!a&&(i=!1),i=function M3(t,i,e,n){const r=lf(t);let o=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(e=il(e=rv(null,t,i,e,n),i.attrs,n),o=null);else{const a=i.directiveStylingLast;if(-1===a||t[a]!==r)if(e=rv(r,t,i,e,n),null===o){let c=function T3(t,i,e){const n=e?i.classBindings:i.styleBindings;if(0!==No(n))return t[$r(n)]}(t,i,n);void 0!==c&&Array.isArray(c)&&(c=rv(null,t,i,c[1],n),c=il(c,i.attrs,n),function E3(t,i,e,n){t[$r(e?i.classBindings:i.styleBindings)]=n}(t,i,n,c))}else o=function I3(t,i,e){let n;const r=i.directiveEnd;for(let o=1+i.directiveStylingLast;o<r;o++)n=il(n,t[o].hostAttrs,e);return il(n,i.attrs,e)}(t,i,n)}return void 0!==o&&(n?i.residualClasses=o:i.residualStyles=o),e}(r,o,i,n),function v3(t,i,e,n,r,o){let a=o?i.classBindings:i.styleBindings,s=$r(a),c=No(a);t[n]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||wa(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const p=$r(t[s+1]);t[n+1]=qu(p,s),0!==p&&(t[p+1]=tv(t[p+1],n)),t[s+1]=function f3(t,i){return 131071&t|i<<17}(t[s+1],n)}else t[n+1]=qu(s,0),0!==s&&(t[s+1]=tv(t[s+1],n)),s=n;else t[n+1]=qu(c,0),0===s?s=n:t[c+1]=tv(t[c+1],n),c=n;l&&(t[n+1]=ev(t[n+1])),k1(t,d,n,!0),k1(t,d,n,!1),function b3(t,i,e,n,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof i&&wa(o,i)>=0&&(e[n+1]=iv(e[n+1]))}(i,d,t,n,o),a=qu(s,c),o?i.classBindings=a:i.styleBindings=a}(r,o,i,e,a,n)}}function rv(t,i,e,n,r){let o=null;const a=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<a&&(o=i[s],n=il(n,o.hostAttrs,r),o!==t);)s++;return null!==t&&(e.directiveStylingLast=s),n}function il(t,i,e){const n=e?1:2;let r=-1;if(null!==i)for(let o=0;o<i.length;o++){const a=i[o];"number"==typeof a?r=a:r===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zi(t,a,!!e||i[++o]))}return void 0===t?null:t}function O1(t,i,e){zi(t,i,$i(e))}function P3(t,i,e){const n=String(i);""!==n&&!n.includes(" ")&&zi(t,n,e)}function R1(t,i,e,n,r,o,a,s){if(!(3&i.type))return;const c=t.data,l=c[s+1],d=function g3(t){return!(1&~t)}(l)?F1(c,i,e,r,No(l),a):void 0;Gu(d)||(Gu(o)||function p3(t){return!(2&~t)}(l)&&(o=F1(c,null,e,r,s,a)),function Z2(t,i,e,n,r){if(i)r?t.addClass(e,n):t.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:Ur.DashCase;null==r?t.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ur.Important),t.setStyle(e,n,r,o))}}(n,a,mc(fi(),e),r,o))}function F1(t,i,e,n,r,o){const a=null===i;let s;for(;r>0;){const c=t[r],l=Array.isArray(c),d=l?c[1]:c,m=null===d;let p=e[r+1];p===ge&&(p=m?Ae:void 0);let v=m?Np(p,n):d===n?p:void 0;if(l&&!Gu(v)&&(v=Np(c,n)),Gu(v)&&(s=v,a))return s;const b=t[r+1];r=a?$r(b):No(b)}if(null!==i){let c=o?i.residualClasses:i.residualStyles;null!=c&&(s=Np(c,n))}return s}function Gu(t){return void 0!==t}function N1(t,i){return!!(t.flags&(i?8:16))}class $3{destroy(i){}updateValue(i,e){}swap(i,e){const n=Math.min(i,e),r=Math.max(i,e),o=this.detach(r);if(r-n>1){const a=this.detach(n);this.attach(n,o),this.attach(r,a)}else this.attach(n,o)}move(i,e){this.attach(e,this.detach(i))}}function ov(t,i,e,n,r){return t===e&&Object.is(i,n)?1:Object.is(r(t,i),r(e,n))?-1:0}function av(t,i,e,n){return!(void 0===i||!i.has(n)||(t.attach(e,i.get(n)),i.delete(n),0))}function L1(t,i,e,n,r){if(av(t,i,n,e(n,r)))t.updateValue(n,r);else{const o=t.create(n,r);t.attach(n,o)}}function B1(t,i,e,n){const r=new Set;for(let o=i;o<=e;o++)r.add(n(o,t.at(o)));return r}class H1{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const e=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(i,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,e){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,e)}else this.kvMap.set(i,e)}forEach(i){for(let[e,n]of this.kvMap)if(i(n,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,e)}}}function I(t,i){Yi("NgControlFlow");const e=R(),n=In(),r=e[n]!==ge?e[n]:-1,o=-1!==r?Yu(e,ne+r):void 0;if(Dt(e,n,t)){const s=Se(null);try{if(void 0!==o&&mg(o,0),-1!==t){const c=ne+t,l=Yu(e,c),d=sv(e[$],c),m=Eo(l,d.tView.ssrId);Wa(l,Ya(e,d,i,{dehydratedView:m}),0,Mo(d,m))}}finally{Se(s)}}else if(void 0!==o){const s=wC(o,0);void 0!==s&&(s[nt]=i)}}class Y3{constructor(i,e,n){this.lContainer=i,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-kt}}function _t(t,i){return i}class K3{constructor(i,e,n){this.hasEmptyBlock=i,this.trackByFn=e,this.liveCollection=n}}function We(t,i,e,n,r,o,a,s,c,l,d,m,p){Yi("NgControlFlow");const v=R(),b=Te(),_=void 0!==c,k=R(),x=s?a.bind(k[mt][nt]):a,M=new K3(_,x);k[ne+t]=M,Qc(v,b,t+1,i,e,n,r,sn(b.consts,o)),_&&Qc(v,b,t+2,c,l,d,m,sn(b.consts,p))}class Z3 extends $3{constructor(i,e,n){super(),this.lContainer=i,this.hostLView=e,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-kt}at(i){return this.getLView(i)[nt].$implicit}attach(i,e){const n=e[Si];this.needsIndexUpdate||=i!==this.length,Wa(this.lContainer,e,i,Mo(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function X3(t,i){return Ic(t,i)}(this.lContainer,i)}create(i,e){const n=Eo(this.lContainer,this.templateTNode.tView.ssrId),r=Ya(this.hostLView,this.templateTNode,new Y3(this.lContainer,e,i),{dehydratedView:n});return this.operationsCounter?.recordCreate(),r}destroy(i){gu(i[$],i),this.operationsCounter?.recordDestroy()}updateValue(i,e){this.getLView(i)[nt].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[nt].$index=i}getLView(i){return function Q3(t,i){return wC(t,i)}(this.lContainer,i)}}function Ke(t){const i=Se(null),e=fi();try{const n=R(),r=n[$],o=n[e],a=e+1,s=Yu(n,a);if(void 0===o.liveCollection){const l=sv(r,a);o.liveCollection=new Z3(s,n,l)}else o.liveCollection.reset();const c=o.liveCollection;if(function G3(t,i,e){let n,r,o=0,a=t.length-1;if(Array.isArray(i)){let c=i.length-1;for(;o<=a&&o<=c;){const l=t.at(o),d=i[o],m=ov(o,l,o,d,e);if(0!==m){m<0&&t.updateValue(o,d),o++;continue}const p=t.at(a),v=i[c],b=ov(a,p,c,v,e);if(0!==b){b<0&&t.updateValue(a,v),a--,c--;continue}const _=e(o,l),k=e(a,p),x=e(o,d);if(Object.is(x,k)){const M=e(c,v);Object.is(M,_)?(t.swap(o,a),t.updateValue(a,v),c--,a--):t.move(a,o),t.updateValue(o,d),o++}else if(n??=new H1,r??=B1(t,o,a,e),av(t,n,o,x))t.updateValue(o,d),o++,a++;else if(r.has(x))n.set(_,t.detach(o)),a--;else{const M=t.create(o,i[o]);t.attach(o,M),o++,a++}}for(;o<=c;)L1(t,n,e,o,i[o]),o++}else if(null!=i){const c=i[Symbol.iterator]();let l=c.next();for(;!l.done&&o<=a;){const d=t.at(o),m=l.value,p=ov(o,d,o,m,e);if(0!==p)p<0&&t.updateValue(o,m),o++,l=c.next();else{n??=new H1,r??=B1(t,o,a,e);const v=e(o,m);if(av(t,n,o,v))t.updateValue(o,m),o++,a++,l=c.next();else if(r.has(v)){const b=e(o,d);n.set(b,t.detach(o)),a--}else t.attach(o,t.create(o,m)),o++,a++,l=c.next()}}for(;!l.done;)L1(t,n,e,t.length,l.value),l=c.next()}for(;o<=a;)t.destroy(t.detach(a--));n?.forEach(c=>{t.destroy(c)})}(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){const l=In(),d=0===c.length;if(Dt(n,l,d)){const m=e+2,p=Yu(n,m);if(d){const v=sv(r,m),b=Eo(p,v.tView.ssrId);Wa(p,Ya(n,v,void 0,{dehydratedView:b}),0,Mo(v,b))}else mg(p,0)}}}finally{Se(i)}}function Yu(t,i){return t[i]}function sv(t,i){return pc(t,i)}function u(t,i,e,n){const r=R(),o=Te(),a=ne+t,s=r[le],c=o.firstCreatePass?function J3(t,i,e,n,r,o){const a=i.consts,c=Ga(i,t,2,n,sn(a,r));return sg(i,e,c,sn(a,o)),null!==c.attrs&&Au(c,c.attrs,!1),null!==c.mergedAttrs&&Au(c,c.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,c),c}(a,o,r,i,e,n):o.data[a],l=V1(o,r,c,s,i,t);r[a]=l;const d=Vd(c);return Yn(c,!0),sC(s,l,c),!function Xa(t){return!(32&~t.flags)}(c)&&vc()&&bu(o,r,l,c),0===function xF(){return de.lFrame.elementDepthCount}()&&gi(l,r),function MF(){de.lFrame.elementDepthCount++}(),d&&(rg(o,r,c),ng(o,c,r)),null!==n&&og(r,c),u}function h(){let t=$e();af()?sf():(t=t.parent,Yn(t,!1));const i=t;(function EF(t){return de.skipHydrationRootTNode===t})(i)&&function OF(){de.skipHydrationRootTNode=null}(),function TF(){de.lFrame.elementDepthCount--}();const e=Te();return e.firstCreatePass&&($d(e,t),Kp(t)&&e.queries.elementEnd(t)),null!=i.classesWithoutHost&&function YF(t){return!!(8&t.flags)}(i)&&nv(e,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function WF(t){return!!(16&t.flags)}(i)&&nv(e,i,R(),i.stylesWithoutHost,!1),h}function G(t,i,e,n){return u(t,i,e,n),h(),G}let V1=(t,i,e,n,r,o)=>(Wn(!0),fu(n,r,function k0(){return de.lFrame.currentNamespace}()));function Lo(t,i,e){const n=R(),r=Te(),o=t+ne,a=r.firstCreatePass?function iV(t,i,e,n,r){const o=i.consts,a=sn(o,n),s=Ga(i,t,8,"ng-container",a);return null!==a&&Au(s,a,!0),sg(i,e,s,sn(o,r)),null!==i.queries&&i.queries.elementStart(i,s),s}(o,r,n,i,e):r.data[o];Yn(a,!0);const s=j1(r,n,a,t);return n[o]=s,vc()&&bu(r,n,s,a),gi(s,n),Vd(a)&&(rg(r,n,a),ng(r,a,n)),null!=e&&og(n,a),Lo}function Bo(){let t=$e();const i=Te();return af()?sf():(t=t.parent,Yn(t,!1)),i.firstCreatePass&&($d(i,t),Kp(t)&&i.queries.elementEnd(t)),Bo}let j1=(t,i,e,n)=>(Wn(!0),Wf(i[le],""));function q(){return R()}function Wu(t,i,e){const n=R();return Dt(n,In(),i)&&Ni(Te(),rt(),n,t,i,n[le],e,!0),Wu}function cv(t,i,e){const n=R();if(Dt(n,In(),i)){const o=Te(),a=rt();Ni(o,a,n,t,i,SC(lf(o.data),a,n),e,!0)}return cv}const Ho=void 0;var aV=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oV(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ps={};function xi(t){const i=function sV(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=q1(i);if(e)return e;const n=i.split("-")[0];if(e=q1(n),e)return e;if("en"===n)return aV;throw new A(701,!1)}function q1(t){return t in ps||(ps[t]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[t]),ps[t]}var ot=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ot||{});const fs="en-US";let $1=fs;let dD=(t,i,e)=>{};function D(t,i,e,n){const r=R(),o=Te(),a=$e();return hv(o,r,r[le],a,t,i,n),D}function uv(t,i){const e=$e(),n=R(),r=Te();return hv(r,n,SC(lf(r.data),e,n),e,t,i),uv}function hv(t,i,e,n,r,o,a){const s=Vd(n),l=t.firstCreatePass&&_C(t),d=i[nt],m=yC(i);let p=!0;if(3&n.type||a){const _=Ci(n,i),k=a?a(_):_,x=m.length,M=a?j=>a(Ve(j[n.index])):n.index;dD(_,r,o);let L=null;if(!a&&s&&(L=function ZV(t,i,e,n){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===e&&r[o+1]===n){const s=i[vo],c=r[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(t,i,r,n.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,p=!1;else{o=hD(n,i,d,o,!1);const j=e.listen(k,r,o);m.push(o,j),l&&l.push(r,M,x,x+1)}}else o=hD(n,i,d,o,!1);const v=n.outputs;let b;if(p&&null!==v&&(b=v[r])){const _=b.length;if(_)for(let k=0;k<_;k+=2){const J=i[b[k]][b[k+1]].subscribe(o),pe=m.length;m.push(o,J),l&&l.push(r,n.index,pe,-(pe+1))}}}function uD(t,i,e,n){const r=Se(null);try{return Gn(6,i,e),!1!==e(n)}catch(o){return wu(t,o),!1}finally{Gn(7,i,e),Se(r)}}function hD(t,i,e,n,r){return function o(a){if(a===Function)return n;Fc(t.componentOffset>-1?qi(t.index,i):i,5);let c=uD(i,e,n,a),l=o.__ngNextListenerFn__;for(;l;)c=uD(i,e,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&a.preventDefault(),c}}function S(t=1){return function HF(t){return(de.lFrame.contextLView=function l0(t,i){for(;t>0;)i=i[Ma],t--;return i}(t,de.lFrame.contextLView))[nt]}(t)}function XV(t,i){let e=null;const n=function HR(t){const i=t.attrs;if(null!=i){const e=i.indexOf(5);if(!(1&e))return i[e+1]}return null}(t);for(let r=0;r<i.length;r++){const o=i[r];if("*"!==o){if(null===n?HS(t,o,!0):jR(n,o))return r}else e=r}return e}function gs(t){const i=R()[mt][li];if(!i.projection){const n=i.projection=function Md(t,i){const e=[];for(let n=0;n<t;n++)e.push(i);return e}(t?t.length:1,null),r=n.slice();let o=i.child;for(;null!==o;){const a=t?XV(o,t):0;null!==a&&(r[a]?r[a].projectionNext=o:n[a]=o,r[a]=o),o=o.next}}}function Gr(t,i=0,e,n,r,o){const a=R(),s=Te(),c=n?t+1:null;null!==c&&Qc(a,s,c,n,r,o,null,e);const l=Ga(s,ne+t,16,null,e||null);null===l.projection&&(l.projection=i),sf();const m=!a[Si]||wo();null===a[mt][li].projection[l.projection]&&null!==c?function QV(t,i,e){const n=ne+e,r=i.data[n],o=t[n],a=Eo(o,r.tView.ssrId);Wa(o,Ya(t,r,void 0,{dehydratedView:a}),0,Mo(r,a))}(a,s,c):m&&32&~l.flags&&function W2(t,i,e){oC(i[le],0,i,e,Xf(t,e,i),Jw(e.parent||i[li],e,i))}(s,a,l)}function X(t,i,e){return Ze(t,"",i,"",e),X}function Ze(t,i,e,n,r){const o=R(),a=os(o,i,e,n);return a!==ge&&Ni(Te(),rt(),o,t,a,o[le],r,!1),Ze}function Yr(t,i,e,n,r,o,a){const s=R(),c=as(s,i,e,n,r,o);return c!==ge&&Ni(Te(),rt(),s,t,c,s[le],a,!1),Yr}function Qu(t,i,e,n,r,o,a,s,c){const l=R(),d=ss(l,i,e,n,r,o,a,s);return d!==ge&&Ni(Te(),rt(),l,t,d,l[le],c,!1),Qu}function Ju(t,i,e,n,r,o,a,s,c,l,d,m,p,v,b,_,k,x,M){const L=R(),j=function hs(t,i,e,n,r,o,a,s,c,l,d,m,p,v,b,_,k,x){const M=gr();let L=un(t,M,e,r,a,c);return L=un(t,M+4,d,p,b,k)||L,vr(8),L?i+fe(e)+n+fe(r)+o+fe(a)+s+fe(c)+l+fe(d)+m+fe(p)+v+fe(b)+_+fe(k)+x:ge}(L,i,e,n,r,o,a,s,c,l,d,m,p,v,b,_,k,x);return j!==ge&&Ni(Te(),rt(),L,t,j,L[le],M,!1),Ju}function vs(t,i,e,n){!function wk(t,i,e,n){const r=Te();if(r.firstCreatePass){const o=$e();Ck(r,new bk(i,e,n),o.index),function rH(t,i){const e=t.contentQueries||(t.contentQueries=[]);i!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,i)}(r,t),!(2&~e)&&(r.staticContentQueries=!0)}return _k(r,R(),e)}(t,i,e,n)}function Bi(t,i,e){!function Sk(t,i,e){const n=Te();return n.firstCreatePass&&(Ck(n,new bk(t,i,e),-1),!(2&~i)&&(n.staticViewQueries=!0)),_k(n,R(),i)}(t,i,e)}function Yt(t){const i=R(),e=Te(),n=df();qd(n+1);const r=Vg(e,n);if(t.dirty&&function CF(t){return!(4&~t[te])}(i)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=kk(i,n);t.reset(o,Y0),t.notifyOnChanges()}return!0}return!1}function Wt(){return function Hg(t,i){return t[fr].queries[i].queryList}(R(),df())}function cl(t){return Aa(function RF(){return de.lFrame.contextLView}(),ne+t)}function f(t,i=""){const e=R(),n=Te(),r=t+ne,o=n.firstCreatePass?Ga(n,r,1,i,null):n.data[r],a=MD(n,e,o,i,t);e[r]=a,vc()&&bu(n,e,a,o),Yn(o,!1)}let MD=(t,i,e,n,r)=>(Wn(!0),function Yf(t,i){return t.createText(i)}(i[le],n));function ke(t){return V("",t,""),ke}function V(t,i,e){const n=R(),r=os(n,t,i,e);return r!==ge&&yr(n,fi(),r),V}function mn(t,i,e,n,r){const o=R(),a=as(o,t,i,e,n,r);return a!==ge&&yr(o,fi(),a),mn}function Vo(t,i,e,n,r,o,a){const s=R(),c=ss(s,t,i,e,n,r,o,a);return c!==ge&&yr(s,fi(),c),Vo}function mv(t,i,e,n,r){if(t=se(t),Array.isArray(t))for(let o=0;o<t.length;o++)mv(t[o],i,e,n,r);else{const o=Te(),a=R(),s=$e();let c=go(t)?t:se(t.provide);const l=YS(t),d=1048575&s.providerIndexes,m=s.directiveStart,p=s.providerIndexes>>20;if(go(t)||!t.multi){const v=new bc(l,r,y),b=fv(c,i,r?d:d+p,m);-1===b?(bf(Kd(s,a),o,c),pv(o,t,i.length),i.push(c),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(v),a.push(v)):(e[b]=v,a[b]=v)}else{const v=fv(c,i,d+p,m),b=fv(c,i,d,d+p),k=b>=0&&e[b];if(r&&!k||!r&&!(v>=0&&e[v])){bf(Kd(s,a),o,c);const x=function bU(t,i,e,n,r){const o=new bc(t,e,y);return o.multi=[],o.index=i,o.componentProviders=0,ND(o,r,n&&!e),o}(r?vU:gU,e.length,r,n,l);!r&&k&&(e[b].providerFactory=x),pv(o,t,i.length,0),i.push(c),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(x),a.push(x)}else pv(o,t,v>-1?v:b,ND(e[r?b:v],l,!r&&n));!r&&n&&k&&e[b].componentProviders++}}}function pv(t,i,e,n){const r=go(i),o=function QR(t){return!!t.useClass}(i);if(r||o){const c=(o?se(i.useClass):i).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&i.multi){const d=l.indexOf(e);-1===d?l.push(e,[n,c]):l[d+1].push(n,c)}else l.push(e,c)}}}function ND(t,i,e){return e&&t.componentProviders++,t.multi.push(i)-1}function fv(t,i,e,n){for(let r=e;r<n;r++)if(i[r]===t)return r;return-1}function gU(t,i,e,n){return gv(this.multi,[])}function vU(t,i,e,n){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=ko(e,e[$],this.providerFactory.index,n);o=s.slice(0,a),gv(r,o);for(let c=a;c<s.length;c++)o.push(s[c])}else o=[],gv(r,o);return o}function gv(t,i){for(let e=0;e<t.length;e++)i.push((0,t[e])());return i}function Ie(t,i=[]){return e=>{e.providersResolver=(n,r)=>function fU(t,i,e){const n=Te();if(n.firstCreatePass){const r=En(t);mv(e,n.data,n.blueprint,r,!0),mv(i,n.data,n.blueprint,r,!1)}}(n,r?r(t):t,i)}}let yU=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=Vp(0,e.type),r=n.length>0?Fu([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(w(_i))})}return t})();function Ki(t){Yi("NgStandalone"),t.getStandaloneInjector=i=>i.get(yU).getOrCreateStandaloneInjector(t)}function bs(t,i,e){const n=t.\u0275cmp;n.directiveDefs=Id(i,!1),n.pipeDefs=Id(e,!0)}function De(t,i,e,n){return BD(R(),ki(),t,i,e,n)}function er(t,i,e,n,r){return HD(R(),ki(),t,i,e,n,r)}function Zi(t,i,e,n,r,o,a,s,c,l){const d=ki()+t,m=R();let p=un(m,d,e,n,r,o);return Bu(m,d+4,a,s,c)||p?Qn(m,d+7,l?i.call(l,e,n,r,o,a,s,c):i(e,n,r,o,a,s,c)):function Xc(t,i){return t[i]}(m,d+7)}function ll(t,i){const e=t[i];return e===ge?void 0:e}function BD(t,i,e,n,r,o){const a=i+e;return Dt(t,a,r)?Qn(t,a+1,o?n.call(o,r):n(r)):ll(t,a+1)}function HD(t,i,e,n,r,o,a){const s=i+e;return Ro(t,s,r,o)?Qn(t,s+2,a?n.call(a,r,o):n(r,o)):ll(t,s+2)}function N(t,i){const e=Te();let n;const r=t+ne;e.firstCreatePass?(n=function TU(t,i){if(i)for(let e=i.length-1;e>=0;e--){const n=i[e];if(t===n.name)return n}}(i,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];const o=n.factory||(n.factory=fo(n.type)),s=Oi(y);try{const c=Wd(!1),l=o();return Wd(c),function iU(t,i,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),i[e]=n}(e,R(),r,l),l}finally{Oi(s)}}function U(t,i,e){const n=t+ne,r=R(),o=Aa(r,n);return dl(r,n)?BD(r,ki(),i,o.transform,e,o):o.transform(e)}function Pt(t,i,e,n){const r=t+ne,o=R(),a=Aa(o,r);return dl(o,r)?HD(o,ki(),i,a.transform,e,n,a):a.transform(e,n)}function dl(t,i){return t[$].data[i].pure}let rx=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const lx=new F(""),nh=new F("");let kv,wv=(()=>{class t{constructor(e,n,r){this._ngZone=e,this.registry=n,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,kv||(function Dj(t){kv=t}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||t)(w(Q),w(Cv),w(nh))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Cv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return kv?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ml(t){return!!t&&"function"==typeof t.then}function dx(t){return!!t&&"function"==typeof t.subscribe}const Dv=new F("");let xv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=O(Dv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(ml(o))e.push(o);else if(dx(o)){const a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});e.push(a)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rh=new F("");function mx(t,i){return Array.isArray(i)?i.reduce(mx,t):{...t,...i}}let pn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O($0),this.afterRenderEffectManager=O(Gc),this.zonelessEnabled=O($c),this.externalTestViews=new Set,this.beforeRender=new W,this.afterTick=new W,this.componentTypes=[],this.components=[],this.isStable=O(Oo).hasPendingTasks.pipe(he(e=>!e)),this._injector=O(_i)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof ZC;if(!this._injector.get(xv).done)throw!r&&function Lr(t){const i=xe(t)||zt(t)||ci(t);return null!==i&&i.standalone}(e),new A(405,!1);let a;a=r?e:this._injector.get(Io).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const s=function xj(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Po),l=a.create(we.NULL,[],n||a.selector,s),d=l.location.nativeElement,m=l.injector.get(lx,null);return m?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),oh(this.components,l),m?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new A(101,!1);const n=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Se(n),this.afterTick.next()}}detectChangesInAttachedViews(e){let n=null;this._injector.destroyed||(n=this._injector.get(Eu,null,{optional:!0}));let r=0;const o=this.afterRenderEffectManager;for(;r<10;){const a=0===r;if(e||!a){this.beforeRender.next(a);for(let{_lView:s,notifyErrorHandler:c}of this._views)Tj(s,c,a,this.zonelessEnabled)}else n?.begin?.(),n?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:s})=>fc(s))&&(o.execute(),!this.allViews.some(({_lView:s})=>fc(s))))break}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;oh(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(rh,[]);[...this._bootstrapListeners,...n].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>oh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oh(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}function Tj(t,i,e,n){(e||fc(t))&&Cu(t,i,e&&!n?0:1)}class Ej{constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}}let fx=(()=>{class t{compileModuleSync(e){return new zg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=Gi(mi(e).declarations).reduce((a,s)=>{const c=xe(s);return c&&a.push(new Kc(c)),a},[]);return new Ej(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let sh=(()=>{class t{constructor(){this.appRef=O(pn),this.taskService=O(Oo),this.ngZone=O(Q),this.zonelessEnabled=O($c),this.disableScheduling=O(KC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Mg||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const n=this.useMicrotaskScheduler?ek:JC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=n(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=n(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Q.isInAngularZone())}tick(e){if(this.runningTick||this.appRef.destroyed)return;const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ek(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oj=(()=>{class t{constructor(){this.zone=O(Q),this.changeDetectionScheduler=O(qc,{optional:!0}),this.applicationRef=O(pn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler?.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rj(){const t=O(Q),i=O(Di);return e=>t.runOutsideAngular(()=>i.handleError(e))}function Ev(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Fj=(()=>{class t{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=O(Q),this.pendingTasks=O(Oo)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tr=new F("",{providedIn:"root",factory:()=>O(tr,Me.Optional|Me.SkipSelf)||function Nj(){return typeof $localize<"u"&&$localize.locale||fs}()}),Iv=new F("");let yx=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function RB(t="zone.js",i){return"noop"===t?new Mg:"zone.js"===t?new Q(i):t}(n?.ngZone,Ev({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const o=n?.ignoreChangesOutsideZone,a=function xH(t,i,e){return new jg(t,i,e)}(e.moduleType,this.injector,function Tv({ngZoneFactory:t,ignoreChangesOutsideZone:i}){return t??=()=>new Q(Ev()),[{provide:Q,useFactory:t},{provide:zn,multi:!0,useFactory:()=>{const e=O(Oj,{optional:!0});return()=>e.initialize()}},{provide:zn,multi:!0,useFactory:()=>{const e=O(Fj);return()=>{e.initialize()}}},{provide:$0,useFactory:Rj},!0===i?{provide:KC,useValue:!0}:[],{provide:qc,useExisting:sh}]}({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o})),s=a.injector.get(Di,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:l=>{s.handleError(l)}});a.onDestroy(()=>{oh(this._modules,a),c.unsubscribe()})}),function hx(t,i,e){try{const n=e();return ml(n)?n.catch(r=>{throw i.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>t.handleError(n)),n}}(s,r,()=>{const c=a.injector.get(xv);return c.runInitializers(),c.donePromise.then(()=>(function G1(t){"string"==typeof t&&($1=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(tr,fs)||fs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,n=[]){const r=mx({},n);return function Aj(t,i,e){const n=new zg(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(pn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new A(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(Iv,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||t)(w(we))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Wr=null;const _x=new F("");function Sx(t,i,e=[]){const n=`Platform: ${i}`,r=new F(n);return(o=[])=>{let a=Av();if(!a||a.injector.get(_x,!1)){const s=[...e,...o,{provide:r,useValue:!0}];t?t(s):function Hj(t){if(Wr&&!Wr.get(_x,!1))throw new A(400,!1);(function ux(){!function GO(t){sS=t}(()=>{throw new A(600,!1)})})(),Wr=t;const i=t.get(yx);(function Cx(t){t.get(mw,null)?.forEach(e=>e())})(t)}(function wx(t=[],i){return we.create({name:i,providers:[{provide:zp,useValue:"platform"},{provide:Iv,useValue:new Set([()=>Wr=null])},...t]})}(s,n))}return function Vj(t){const i=Av();if(!i)throw new A(401,!1);return i}()}}function Av(){return Wr?.get(yx)??null}let Hi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=jj}return t})();function jj(t){return function zj(t,i,e){if(_o(t)&&!e){const n=qi(t.index,i);return new Nc(n,n)}return 47&t.type?new Nc(i[mt],i):null}($e(),R(),!(16&~t))}class Tx{constructor(){}supports(i){return Lu(i)}create(i){return new Wj(i)}}const Yj=(t,i)=>i;class Wj{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Yj}forEachItem(i){let e;for(e=this._itHead;null!==e;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const a=!n||e&&e.currentIndex<Ix(n,r,o)?e:n,s=Ix(a,r,o),c=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{o||(o=[]);const l=s-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const v=p<o.length?o[p]:o[p]=0,b=v+p;d<=b&&b<l&&(o[p]=v+1)}o[a.previousIndex]=d-l}}s!==c&&i(a,s,c)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)i(e)}diff(i){if(null==i&&(i=[]),!Lu(i))throw new A(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,o,a,e=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let s=0;s<this.length;s++)o=i[s],a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),n=!0),e=e._next}else r=0,function IH(t,i){if(Array.isArray(t))for(let e=0;e<t.length;e++)i(t[e]);else{const e=t[Symbol.iterator]();let n;for(;!(n=e.next()).done;)i(n.value)}}(i,s=>{a=this._trackByFn(r,s),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,n,r){let o;return null===i?o=this._itTail:(o=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,o,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,o,r)):i=this._addAfter(new Kj(e,n),o,r),i}_verifyReinsertion(i,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?i=this._reinsertAfter(o,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const e=i._next;this._addToRemovals(this._unlink(i)),i=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,o=i._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(i,e,n),this._addToMoves(i,n),i}_moveAfter(i,e,n){return this._unlink(i),this._insertAfter(i,e,n),this._addToMoves(i,n),i}_addAfter(i,e,n){return this._insertAfter(i,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,e,n){const r=null===e?this._itHead:e._next;return i._next=r,i._prev=e,null===r?this._itTail=i:r._prev=i,null===e?this._itHead=i:e._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const e=i._prev,n=i._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Kj{constructor(i,e){this.item=i,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zj{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const e=i._prevDup,n=i._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const e=i.trackById;let n=this.map.get(e);n||(n=new Zj,this.map.set(e,n)),n.add(i)}get(i,e){const r=this.map.get(i);return r?r.get(i,e):null}remove(i){const e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ix(t,i,e){const n=t.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+i+r}class Ax{constructor(){}supports(i){return i instanceof Map||qg(i)}create(){return new Xj}}class Xj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let e;for(e=this._mapHead;null!==e;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}diff(i){if(i){if(!(i instanceof Map||qg(i)))throw new A(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){const n=i._prev;return e._next=i,e._prev=n,i._prev=e,n&&(n._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,e);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const n=new Qj(i);return this._records.set(i,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(n=>e(i[n],n))}}class Qj{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Px(){return new Nv([new Tx])}let Nv=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:Px});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Px()),deps:[[t,new sc,new po]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new A(901,!1)}}return t})();function Ox(){return new dh([new Ax])}let dh=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:Ox});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ox()),deps:[[t,new sc,new po]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new A(901,!1)}}return t})();const t4=Sx(null,"core",[]);let n4=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||t)(w(pn))};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})();function ze(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Vv(t,i=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?i:Number(t)}let iM=null;function Kr(){return iM}class $4{}const be=new F("");let Uv=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(Y4),providedIn:"platform"})}return t})();const G4=new F("");let Y4=(()=>{class t extends Uv{constructor(){super(),this._doc=O(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kr().getBaseHref(this._doc)}onPopState(e){const n=Kr().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Kr().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function jv(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function nM(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Sr(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(oM),providedIn:"root"})}return t})();const rM=new F("");let oM=(()=>{class t extends zo{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??O(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return jv(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Sr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const a=this.prepareExternalUrl(r+Sr(o));this._platformLocation.pushState(e,n,a)}replaceState(e,n,r,o){const a=this.prepareExternalUrl(r+Sr(o));this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||t)(w(Uv),w(rM,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),W4=(()=>{class t extends zo{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=jv(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let a=this.prepareExternalUrl(r+Sr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,n,a)}replaceState(e,n,r,o){let a=this.prepareExternalUrl(r+Sr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||t)(w(Uv),w(rM,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),qo=(()=>{class t{constructor(e){this._subject=new me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function X4(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(nM(aM(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Sr(n))}normalize(e){return t.stripTrailingSlash(function Z4(t,i){if(!t||!i.startsWith(t))return i;const e=i.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:i}(this._basePath,aM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Sr(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Sr(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=Sr;static#t=this.joinWithSlash=jv;static#i=this.stripTrailingSlash=nM;static#n=this.\u0275fac=function(n){return new(n||t)(w(zo))};static#r=this.\u0275prov=B({token:t,factory:()=>function K4(){return new qo(w(zo))}(),providedIn:"root"})}return t})();function aM(t){return t.replace(/\/index.html$/,"")}var gh=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(gh||{});const Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fn(t,i){const e=xi(t),n=e[ot.NumberSymbols][i];if(typeof n>"u"){if(i===Ot.CurrencyDecimal)return e[ot.NumberSymbols][Ot.Decimal];if(i===Ot.CurrencyGroup)return e[ot.NumberSymbols][Ot.Group]}return n}function zv(t,i){return xi(t)[ot.NumberFormats][i]}const D5=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wv(t,i,e,n,r,o,a=!1){let s="",c=!1;if(isFinite(t)){let l=function O5(t){let n,r,o,a,s,i=Math.abs(t)+"",e=0;for((r=i.indexOf("."))>-1&&(i=i.replace(".","")),(o=i.search(/e/i))>0?(r<0&&(r=o),r+=+i.slice(o+1),i=i.substring(0,o)):r<0&&(r=i.length),o=0;"0"===i.charAt(o);o++);if(o===(s=i.length))n=[0],r=1;else{for(s--;"0"===i.charAt(s);)s--;for(r-=o,n=[],a=0;o<=s;o++,a++)n[a]=Number(i.charAt(o))}return r>22&&(n=n.splice(0,21),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}(t);a&&(l=function P5(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(l));let d=i.minInt,m=i.minFrac,p=i.maxFrac;if(o){const M=o.match(D5);if(null===M)throw new Error(`${o} is not a valid digit info`);const L=M[1],j=M[3],J=M[5];null!=L&&(d=Zv(L)),null!=j&&(m=Zv(j)),null!=J?p=Zv(J):null!=j&&m>p&&(p=m)}!function R5(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let n=t.digits,r=n.length-t.integerLen;const o=Math.min(Math.max(i,r),e);let a=o+t.integerLen,s=n[a];if(a>0){n.splice(Math.max(t.integerLen,a));for(let m=a;m<n.length;m++)n[m]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,a=o+1),n[0]=0;for(let m=1;m<a;m++)n[m]=0}if(s>=5)if(a-1<0){for(let m=0;m>a;m--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[a-1]++;for(;r<Math.max(0,o);r++)n.push(0);let c=0!==o;const l=i+t.integerLen,d=n.reduceRight(function(m,p,v,b){return b[v]=(p+=m)<10?p:p-10,c&&(0===b[v]&&v>=l?b.pop():c=!1),p>=10?1:0},0);d&&(n.unshift(d),t.integerLen++)}(l,m,p);let v=l.digits,b=l.integerLen;const _=l.exponent;let k=[];for(c=v.every(M=>!M);b<d;b++)v.unshift(0);for(;b<0;b++)v.unshift(0);b>0?k=v.splice(b,v.length):(k=v,v=[0]);const x=[];for(v.length>=i.lgSize&&x.unshift(v.splice(-i.lgSize,v.length).join(""));v.length>i.gSize;)x.unshift(v.splice(-i.gSize,v.length).join(""));v.length&&x.unshift(v.join("")),s=x.join(fn(e,n)),k.length&&(s+=fn(e,r)+k.join("")),_&&(s+=fn(e,Ot.Exponential)+"+"+_)}else s=fn(e,Ot.Infinity);return s=t<0&&!c?i.negPre+s+i.negSuf:i.posPre+s+i.posSuf,s}function Kv(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(";"),r=n[0],o=n[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";e.posPre=s.substring(0,s.indexOf("#"));for(let d=0;d<c.length;d++){const m=c.charAt(d);"0"===m?e.minFrac=e.maxFrac=d+1:"#"===m?e.maxFrac=d+1:e.posSuf+=m}const l=s.split(",");if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,m=o.indexOf("#");e.negPre=o.substring(0,m).replace(/'/g,""),e.negSuf=o.slice(m+d).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function Zv(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}const Qv=/\s+/,fM=[];let Zt=(()=>{class t{constructor(e,n){this._ngEl=e,this._renderer=n,this.initialClasses=fM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Qv):fM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Qv):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(Qv).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(_r))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class B5{constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vl=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new B5(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)n.remove(null===o?void 0:o);else if(null!==o){const s=n.get(o);n.move(s,a),vM(s,r)}});for(let r=0,o=n.length;r<o;r++){const s=n.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{vM(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||t)(y(ei),y(Jt),y(Nv))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function vM(t,i){t.context.$implicit=i.item}let _M=(()=>{class t{constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:Ur.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(dh),y(_r))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})();function Rn(t,i){return new A(2100,!1)}const X5=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Qi=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw Rn();return e.replace(X5,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=si({name:"titlecase",type:t,pure:!0,standalone:!0})}return t})(),Mh=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=SM}transform(e,n=SM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const r=this.differ.diff(e),o=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(function sz(t,i){return{key:t,value:i}}(a.key,a.currentValue))})),(r||o)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static#e=this.\u0275fac=function(n){return new(n||t)(y(dh,16))};static#t=this.\u0275pipe=si({name:"keyvalue",type:t,pure:!1,standalone:!0})}return t})();function SM(t,i){const e=t.key,n=i.key;if(e===n)return 0;if(void 0===e)return 1;if(void 0===n)return-1;if(null===e)return 1;if(null===n)return-1;if("string"==typeof e&&"string"==typeof n)return e<n?-1:1;if("number"==typeof e&&"number"==typeof n)return e-n;if("boolean"==typeof e&&"boolean"==typeof n)return e<n?-1:1;const r=String(e),o=String(n);return r==o?0:r<o?-1:1}let ks=(()=>{class t{constructor(e){this._locale=e}transform(e,n,r){if(!tb(e))return null;r||=this._locale;try{return function A5(t,i,e){return Wv(t,Kv(zv(i,gh.Decimal),fn(i,Ot.MinusSign)),i,Ot.Group,Ot.Decimal,e)}(ib(e),r,n)}catch(o){throw Rn()}}static#e=this.\u0275fac=function(n){return new(n||t)(y(tr,16))};static#t=this.\u0275pipe=si({name:"number",type:t,pure:!0,standalone:!0})}return t})(),Th=(()=>{class t{constructor(e){this._locale=e}transform(e,n,r){if(!tb(e))return null;r||=this._locale;try{return function I5(t,i,e){return Wv(t,Kv(zv(i,gh.Percent),fn(i,Ot.MinusSign)),i,Ot.Group,Ot.Decimal,e,!0).replace(new RegExp("%","g"),fn(i,Ot.PercentSign))}(ib(e),r,n)}catch(o){throw Rn()}}static#e=this.\u0275fac=function(n){return new(n||t)(y(tr,16))};static#t=this.\u0275pipe=si({name:"percent",type:t,pure:!0,standalone:!0})}return t})();function tb(t){return!(null==t||""===t||t!=t)}function ib(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let nb=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})();const wM="browser";function CM(t){return t===wM}function kM(t){return"server"===t}let DM=(()=>{class t{static#e=this.\u0275prov=B({token:t,providedIn:"root",factory:()=>CM(O(Vr))?new dz(O(be),window):new hz})}return t})();class dz{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const e=function uz(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(a)return a}r=n.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}}class hz{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class Uz extends $4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ob extends Uz{static makeCurrent(){!function q4(t){iM??=t}(new ob)}onAndCancel(i,e,n){return i.addEventListener(e,n),()=>{i.removeEventListener(e,n)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=function jz(){return _l=_l||document.querySelector("base"),_l?_l.getAttribute("href"):null}();return null==e?null:function zz(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){_l=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function N5(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(o)}return null}(document.cookie,i)}}let _l=null,$z=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const ab=new F("");let RM=(()=>{class t{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new A(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||t)(w(ab),w(Q))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();class FM{constructor(i){this._doc=i}}const sb="ng-app-id";let NM=(()=>{class t{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kM(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${sb}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(sb),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(sb,this.appId),e.appendChild(a),a}}addStyleToHost(e,n){const r=this.getStyleElement(e,n),o=this.styleRef,a=o.get(n)?.elements;a?a.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Va),w(xf,8),w(Vr))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const cb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lb=/%COMP%/g,Kz=new F("",{providedIn:"root",factory:()=>!0});function BM(t,i){return i.map(e=>e.replace(lb,t))}let db=(()=>{class t{constructor(e,n,r,o,a,s,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=kM(s),this.defaultRenderer=new ub(e,a,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Dn.ShadowDom&&(n={...n,encapsulation:Dn.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof VM?r.applyToHost(e):r instanceof hb&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(n.encapsulation){case Dn.Emulated:o=new VM(c,l,n,this.appId,d,a,s,m);break;case Dn.ShadowDom:return new Jz(c,l,e,n,a,s,this.nonce,m);default:o=new hb(c,l,n,d,a,s,m)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||t)(w(RM),w(NM),w(Va),w(Kz),w(be),w(Vr),w(Q),w(xf))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();class ub{constructor(i,e,n,r){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,e){return e?this.doc.createElementNS(cb[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(HM(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(HM(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new A(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;const o=cb[r];o?i.setAttributeNS(o,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){const r=cb[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(Ur.DashCase|Ur.Important)?i.style.setProperty(e,n,r&Ur.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&Ur.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){null!=i&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n){if("string"==typeof i&&!(i=Kr().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${e}`);return this.eventManager.addEventListener(i,e,this.decoratePreventDefault(n))}decoratePreventDefault(i){return e=>{if("__ngUnwrap__"===e)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))&&e.preventDefault()}}}function HM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Jz extends ub{constructor(i,e,n,r,o,a,s,c){super(i,o,a,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=BM(r.id,r.styles);for(const d of l){const m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hb extends ub{constructor(i,e,n,r,o,a,s,c){super(i,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?BM(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class VM extends hb{constructor(i,e,n,r,o,a,s,c){const l=r+"-"+n.id;super(i,e,n,o,a,s,c,l),this.contentAttr=function Zz(t){return"_ngcontent-%COMP%".replace(lb,t)}(l),this.hostAttr=function Xz(t){return"_nghost-%COMP%".replace(lb,t)}(l)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){const n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}}let eq=(()=>{class t extends FM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const UM=["alt","control","meta","shift"],tq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let nq=(()=>{class t extends FM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const o=t.parseEventName(n),a=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kr().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(n.pop());let a="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),a="code."),UM.forEach(l=>{const d=n.indexOf(l);d>-1&&(n.splice(d,1),a+=l+".")}),a+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(e,n){let r=tq[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),UM.forEach(a=>{a!==r&&(0,iq[a])(e)&&(o+=a+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||t)(w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const sq=Sx(t4,"browser",[{provide:Vr,useValue:wM},{provide:mw,useValue:function rq(){ob.makeCurrent()},multi:!0},{provide:be,useFactory:function aq(){return function NN(t){Df=t}(document),document},deps:[]}]),cq=new F(""),qM=[{provide:nh,useClass:class qz{addToWindow(i){et.getAngularTestability=(n,r=!0)=>{const o=i.findTestabilityInTree(n,r);if(null==o)throw new A(5103,!1);return o},et.getAllAngularTestabilities=()=>i.getAllTestabilities(),et.getAllAngularRootElements=()=>i.getAllRootElements(),et.frameworkStabilizers||(et.frameworkStabilizers=[]),et.frameworkStabilizers.push(n=>{const r=et.getAllAngularTestabilities();let o=r.length;const a=function(){o--,0==o&&n()};r.forEach(s=>{s.whenStable(a)})})}findTestabilityInTree(i,e,n){return null==e?null:i.getTestability(e)??(n?Kr().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},deps:[]},{provide:lx,useClass:wv,deps:[Q,Cv,nh]},{provide:wv,useClass:wv,deps:[Q,Cv,nh]}],$M=[{provide:zp,useValue:"root"},{provide:Di,useFactory:function oq(){return new Di},deps:[]},{provide:ab,useClass:eq,multi:!0,deps:[be,Q,Vr]},{provide:ab,useClass:nq,multi:!0,deps:[be]},db,NM,RM,{provide:Eu,useExisting:db},{provide:class mz{},useClass:$z,deps:[]},[]];let GM=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Va,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||t)(w(cq,12))};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[...$M,...qM],imports:[nb,n4]})}return t})(),lq=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||t)(w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mb=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:function(n){let r=null;return r=n?new(n||t):w(mq),r},providedIn:"root"})}return t})(),mq=(()=>{class t extends mb{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case di.NONE:return n;case di.HTML:return Zn(n,"HTML")?$i(n):Nw(this._doc,String(n)).toString();case di.STYLE:return Zn(n,"Style")?$i(n):n;case di.SCRIPT:if(Zn(n,"Script"))return $i(n);throw new A(5200,!1);case di.URL:return Zn(n,"URL")?$i(n):uu(String(n));case di.RESOURCE_URL:if(Zn(n,"ResourceURL"))return $i(n);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(e){return function r2(t){return new XN(t)}(e)}bypassSecurityTrustStyle(e){return function o2(t){return new QN(t)}(e)}bypassSecurityTrustScript(e){return function a2(t){return new JN(t)}(e)}bypassSecurityTrustUrl(e){return function s2(t){return new e2(t)}(e)}bypassSecurityTrustResourceUrl(e){return function c2(t){return new t2(t)}(e)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KM(t,i,e,n,r,o,a){try{var s=t[o](a),c=s.value}catch(l){return void e(l)}s.done?i(c):Promise.resolve(c).then(n,r)}function pq(t){return function(){var i=this,e=arguments;return new Promise(function(n,r){var o=t.apply(i,e);function a(c){KM(o,n,r,a,s,"next",c)}function s(c){KM(o,n,r,a,s,"throw",c)}a(void 0)})}}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function JM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function vb(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(a){return new Promise(function(s,c){!function r(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}(s,c,(a=t[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eT(t){return Ne(t?.then)}function tT(t){return Ne(t[_p])}function iT(t){return Symbol.asyncIterator&&Ne(t?.[Symbol.asyncIterator])}function nT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rT=function Lq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oT(t){return Ne(t?.[rT])}function aT(t){return function QM(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(t,i||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(p){n[p]&&(r[p]=function(v){return new Promise(function(b,_){o.push([p,v,b,_])>1||s(p,v)})})}function s(p,v){try{!function c(p){p.value instanceof Zr?Promise.resolve(p.value.v).then(l,d):m(o[0][2],p)}(n[p](v))}catch(b){m(o[0][3],b)}}function l(p){s("next",p)}function d(p){s("throw",p)}function m(p,v){p(v),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:n,done:r}=yield Zr(e.read());if(r)return yield Zr(void 0);yield yield Zr(n)}}finally{e.releaseLock()}})}function sT(t){return Ne(t?.getReader)}function Vi(t){if(t instanceof Je)return t;if(null!=t){if(tT(t))return function Bq(t){return new Je(i=>{const e=t[_p]();if(Ne(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(bb(t))return function Hq(t){return new Je(i=>{for(let e=0;e<t.length&&!i.closed;e++)i.next(t[e]);i.complete()})}(t);if(eT(t))return function Vq(t){return new Je(i=>{t.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,mS)})}(t);if(iT(t))return cT(t);if(oT(t))return function Uq(t){return new Je(i=>{for(const e of t)if(i.next(e),i.closed)return;i.complete()})}(t);if(sT(t))return function jq(t){return cT(aT(t))}(t)}throw nT(t)}function cT(t){return new Je(i=>{(function zq(t,i){var e,n,r,o;return function ZM(t,i,e,n){return new(e||(e=Promise))(function(o,a){function s(d){try{l(n.next(d))}catch(m){a(m)}}function c(d){try{l(n.throw(d))}catch(m){a(m)}}function l(d){d.done?o(d.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(d.value).then(s,c)}l((n=n.apply(t,i||[])).next())})}(this,void 0,void 0,function*(){try{for(e=JM(t);!(n=yield e.next()).done;)if(i.next(n.value),i.closed)return}catch(a){r={error:a}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}i.complete()})})(t,i).catch(e=>i.error(e))})}function Fn(t,i,e,n=0,r=!1){const o=i.schedule(function(){e(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function lT(t,i=0){return lt((e,n)=>{e.subscribe(Ye(n,r=>Fn(n,t,()=>n.next(r),i),()=>Fn(n,t,()=>n.complete(),i),r=>Fn(n,t,()=>n.error(r),i)))})}function dT(t,i=0){return lt((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),i))})}function uT(t,i){if(!t)throw new Error("Iterable cannot be null");return new Je(e=>{Fn(e,i,()=>{const n=t[Symbol.asyncIterator]();Fn(e,i,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ft(t,i){return i?function Kq(t,i){if(null!=t){if(tT(t))return function qq(t,i){return Vi(t).pipe(dT(i),lT(i))}(t,i);if(bb(t))return function Gq(t,i){return new Je(e=>{let n=0;return i.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,i);if(eT(t))return function $q(t,i){return Vi(t).pipe(dT(i),lT(i))}(t,i);if(iT(t))return uT(t,i);if(oT(t))return function Yq(t,i){return new Je(e=>{let n;return Fn(e,i,()=>{n=t[rT](),Fn(e,i,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(a){return void e.error(a)}o?e.complete():e.next(r)},0,!0)}),()=>Ne(n?.return)&&n.return()})}(t,i);if(sT(t))return function Wq(t,i){return uT(aT(t),i)}(t,i)}throw nT(t)}(t,i):Vi(t)}function hT(t){return t&&Ne(t.schedule)}function yb(t){return t[t.length-1]}function mT(t){return Ne(yb(t))?t.pop():void 0}function Ds(t){return hT(yb(t))?t.pop():void 0}function ee(...t){return Ft(t,Ds(t))}const{isArray:Xq}=Array,{getPrototypeOf:Qq,prototype:Jq,keys:e8}=Object;function pT(t){if(1===t.length){const i=t[0];if(Xq(i))return{args:i,keys:null};if(function t8(t){return t&&"object"==typeof t&&Qq(t)===Jq}(i)){const e=e8(i);return{args:e.map(n=>i[n]),keys:e}}}return{args:t,keys:null}}const{isArray:i8}=Array;function _b(t){return he(i=>function n8(t,i){return i8(i)?t(...i):t(i)}(t,i))}function fT(t,i){return t.reduce((e,n,r)=>(e[n]=i[r],e),{})}function Oh(...t){const i=Ds(t),e=mT(t),{args:n,keys:r}=pT(t);if(0===n.length)return Ft([],i);const o=new Je(function r8(t,i,e=Rr){return n=>{gT(i,()=>{const{length:r}=t,o=new Array(r);let a=r,s=r;for(let c=0;c<r;c++)gT(i,()=>{const l=Ft(t[c],i);let d=!1;l.subscribe(Ye(n,m=>{o[c]=m,d||(d=!0,s--),s||n.next(e(o.slice()))},()=>{--a||n.complete()}))},n)},n)}}(n,i,r?a=>fT(r,a):Rr));return e?o.pipe(_b(e)):o}function gT(t,i,e){t?Fn(e,t,i):i()}const Rh=mp(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ui(t,i,e=1/0){return Ne(i)?ui((n,r)=>he((o,a)=>i(n,o,r,a))(Vi(t(n,r))),e):("number"==typeof i&&(e=i),lt((n,r)=>function o8(t,i,e,n,r,o,a,s){const c=[];let l=0,d=0,m=!1;const p=()=>{m&&!c.length&&!l&&i.complete()},v=_=>l<n?b(_):c.push(_),b=_=>{o&&i.next(_),l++;let k=!1;Vi(e(_,d++)).subscribe(Ye(i,x=>{r?.(x),o?v(x):i.next(x)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<n;){const x=c.shift();a?Fn(i,a,()=>b(x)):b(x)}p()}catch(x){i.error(x)}}))};return t.subscribe(Ye(i,v,()=>{m=!0,p()})),()=>{s?.()}}(n,r,t,e)))}function xs(t=1/0){return ui(Rr,t)}function Fh(...t){return function a8(){return xs(1)}()(Ft(t,Ds(t)))}function Nh(t){return new Je(i=>{Vi(t()).subscribe(i)})}function Sl(t,i){const e=Ne(t)?t:()=>t,n=r=>r.error(e());return new Je(i?r=>i.schedule(n,0,r):n)}const vn=new Je(t=>t.complete());function Sb(){return lt((t,i)=>{let e=null;t._refCount++;const n=Ye(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),i.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}class vT extends Je{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,vS(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Le;const e=this.getSubject();i.add(this.source.subscribe(Ye(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Le.EMPTY)}return i}refCount(){return Sb()(this)}}function bn(t,i){return lt((e,n)=>{let r=null,o=0,a=!1;const s=()=>a&&!r&&n.complete();e.subscribe(Ye(n,c=>{r?.unsubscribe();let l=0;const d=o++;Vi(t(c,d)).subscribe(r=Ye(n,m=>n.next(i?i(c,m,d,l++):m),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function ii(t){return t<=0?()=>vn:lt((i,e)=>{let n=0;i.subscribe(Ye(e,r=>{++n<=t&&(e.next(r),t<=n&&e.complete())}))})}function kr(...t){const i=Ds(t);return lt((e,n)=>{(i?Fh(t,e,i):Fh(t,e)).subscribe(n)})}function ni(t,i){return lt((e,n)=>{let r=0;e.subscribe(Ye(n,o=>t.call(i,o,r++)&&n.next(o)))})}function Lh(t){return lt((i,e)=>{let n=!1;i.subscribe(Ye(e,r=>{n=!0,e.next(r)},()=>{n||e.next(t),e.complete()}))})}function bT(t=c8){return lt((i,e)=>{let n=!1;i.subscribe(Ye(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(t())))})}function c8(){return new Rh}function Go(t,i){const e=arguments.length>=2;return n=>n.pipe(t?ni((r,o)=>t(r,o,n)):Rr,ii(1),e?Lh(i):bT(()=>new Rh))}function Ms(t,i){return Ne(i)?ui(t,i,1):ui(t,1)}function Nt(t,i,e){const n=Ne(t)||i||e?{next:t,error:i,complete:e}:t;return n?lt((r,o)=>{var a;null===(a=n.subscribe)||void 0===a||a.call(n);let s=!0;r.subscribe(Ye(o,c=>{var l;null===(l=n.next)||void 0===l||l.call(n,c),o.next(c)},()=>{var c;s=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var l;s=!1,null===(l=n.error)||void 0===l||l.call(n,c),o.error(c)},()=>{var c,l;s&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):Rr}function Yo(t){return lt((i,e)=>{let o,n=null,r=!1;n=i.subscribe(Ye(e,void 0,void 0,a=>{o=Vi(t(a,Yo(t)(i))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function wb(t){return t<=0?()=>vn:lt((i,e)=>{let n=[];i.subscribe(Ye(e,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Bh(t){return lt((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}function vt(t){return lt((i,e)=>{Vi(t).subscribe(Ye(e,()=>e.complete(),fp)),!e.closed&&i.subscribe(e)})}const _e="primary",wl=Symbol("RouteTitle");class m8{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ts(t){return new m8(t)}function p8(t,i,e){const n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||n.length<t.length))return null;const r={};for(let o=0;o<n.length;o++){const a=n[o],s=t[o];if(":"===a[0])r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function ir(t,i){const e=t?Cb(t):void 0,n=i?Cb(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!yT(t[r],i[r]))return!1;return!0}function Cb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yT(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),n=[...i].sort();return e.every((r,o)=>n[o]===r)}return t===i}function _T(t){return t.length>0?t[t.length-1]:null}function Xr(t){return function fq(t){return!!t&&(t instanceof Je||Ne(t.lift)&&Ne(t.subscribe))}(t)?t:ml(t)?Ft(Promise.resolve(t)):ee(t)}const g8={exact:function CT(t,i,e){if(!Wo(t.segments,i.segments)||!Hh(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!t.children[n]||!CT(t.children[n],i.children[n],e))return!1;return!0},subset:kT},ST={exact:function v8(t,i){return ir(t,i)},subset:function b8(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>yT(t[e],i[e]))},ignored:()=>!0};function wT(t,i,e){return g8[e.paths](t.root,i.root,e.matrixParams)&&ST[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function kT(t,i,e){return DT(t,i,i.segments,e)}function DT(t,i,e,n){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Wo(r,e)||i.hasChildren()||!Hh(r,e,n))}if(t.segments.length===e.length){if(!Wo(t.segments,e)||!Hh(t.segments,e,n))return!1;for(const r in i.children)if(!t.children[r]||!kT(t.children[r],i.children[r],n))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(Wo(t.segments,r)&&Hh(t.segments,r,n)&&t.children[_e])&&DT(t.children[_e],i,o,n)}}function Hh(t,i,e){return i.every((n,r)=>ST[e](t[r].parameters,n.parameters))}class Es{constructor(i=new Xe([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return S8.serialize(this)}}class Xe{constructor(i,e){this.segments=i,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class Cl{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return TT(this)}}function Wo(t,i){return t.length===i.length&&t.every((e,n)=>e.path===i[n].path)}let Is=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>new Vh,providedIn:"root"})}return t})();class Vh{parse(i){const e=new P8(i);return new Es(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){const e=`/${kl(i.root,!0)}`,n=function k8(t){const i=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(r=>`${jh(e)}=${jh(r)}`).join("&"):`${jh(e)}=${jh(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${e}${n}${"string"==typeof i.fragment?`#${function w8(t){return encodeURI(t)}(i.fragment)}`:""}`}}const S8=new Vh;function Uh(t){return t.segments.map(i=>TT(i)).join("/")}function kl(t,i){if(!t.hasChildren())return Uh(t);if(i){const e=t.children[_e]?kl(t.children[_e],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==_e&&n.push(`${r}:${kl(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function _8(t,i){let e=[];return Object.entries(t.children).forEach(([n,r])=>{n===_e&&(e=e.concat(i(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==_e&&(e=e.concat(i(r,n)))}),e}(t,(n,r)=>r===_e?[kl(t.children[_e],!1)]:[`${r}:${kl(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[_e]?`${Uh(t)}/${e[0]}`:`${Uh(t)}/(${e.join("//")})`}}function xT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(t){return xT(t).replace(/%3B/gi,";")}function kb(t){return xT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zh(t){return decodeURIComponent(t)}function MT(t){return zh(t.replace(/\+/g,"%20"))}function TT(t){return`${kb(t.path)}${function C8(t){return Object.entries(t).map(([i,e])=>`;${kb(i)}=${kb(e)}`).join("")}(t.parameters)}`}const D8=/^[^\/()?;#]+/;function Db(t){const i=t.match(D8);return i?i[0]:""}const x8=/^[^\/()?;=#]+/,T8=/^[^=?&#]+/,I8=/^[^&#]+/;class P8{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[_e]=new Xe(i,e)),n}parseSegment(){const i=Db(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(i),new Cl(zh(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=function M8(t){const i=t.match(x8);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=Db(this.remaining);r&&(n=r,this.capture(n))}i[zh(e)]=zh(n)}parseQueryParam(i){const e=function E8(t){const i=t.match(T8);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const a=function A8(t){const i=t.match(I8);return i?i[0]:""}(this.remaining);a&&(n=a,this.capture(n))}const r=MT(e),o=MT(n);if(i.hasOwnProperty(r)){let a=i[r];Array.isArray(a)||(a=[a],i[r]=a),a.push(o)}else i[r]=o}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Db(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new A(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=_e);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[_e]:new Xe([],a),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new A(4011,!1)}}function ET(t){return t.segments.length>0?new Xe([],{[_e]:t}):t}function IT(t){const i={};for(const[n,r]of Object.entries(t.children)){const o=IT(r);if(n===_e&&0===o.segments.length&&o.hasChildren())for(const[a,s]of Object.entries(o.children))i[a]=s;else(o.segments.length>0||o.hasChildren())&&(i[n]=o)}return function O8(t){if(1===t.numberOfChildren&&t.children[_e]){const i=t.children[_e];return new Xe(t.segments.concat(i.segments),i.children)}return t}(new Xe(t.segments,i))}function Dl(t){return t instanceof Es}function AT(t){let i;const r=ET(function e(o){const a={};for(const c of o.children){const l=e(c);a[c.outlet]=l}const s=new Xe(o.url,a);return o===t&&(i=s),s}(t.root));return i??r}function PT(t,i,e,n){let r=t;for(;r.parent;)r=r.parent;if(0===i.length)return xb(r,r,r,e,n);const o=function F8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new RT(!0,0,t);let i=0,e=!1;const n=t.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((s,c)=>{0==c&&"."===s||(0==c&&""===s?e=!0:".."===s?i++:""!=s&&r.push(s))}),r):[...r,o]},[]);return new RT(e,i,n)}(i);if(o.toRoot())return xb(r,r,new Xe([],{}),e,n);const a=function N8(t,i,e){if(t.isAbsolute)return new $h(i,!0,0);if(!e)return new $h(i,!1,NaN);if(null===e.parent)return new $h(e,!0,0);const n=qh(t.commands[0])?0:1;return function L8(t,i,e){let n=t,r=i,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new A(4005,!1);r=n.segments.length}return new $h(n,!1,r-o)}(e,e.segments.length-1+n,t.numberOfDoubleDots)}(o,r,t),s=a.processChildren?Ml(a.segmentGroup,a.index,o.commands):FT(a.segmentGroup,a.index,o.commands);return xb(r,a.segmentGroup,s,e,n)}function qh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xl(t){return"object"==typeof t&&null!=t&&t.outlets}function xb(t,i,e,n,r){let a,o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),a=t===i?e:OT(t,i,e);const s=ET(IT(a));return new Es(s,o,r)}function OT(t,i,e){const n={};return Object.entries(t.children).forEach(([r,o])=>{n[r]=o===i?e:OT(o,i,e)}),new Xe(t.segments,n)}class RT{constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&qh(n[0]))throw new A(4003,!1);const r=n.find(xl);if(r&&r!==_T(n))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $h{constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}}function FT(t,i,e){if(t??=new Xe([],{}),0===t.segments.length&&t.hasChildren())return Ml(t,i,e);const n=function H8(t,i,e){let n=0,r=i;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return o;const a=t.segments[r],s=e[n];if(xl(s))break;const c=`${s}`,l=n<e.length-1?e[n+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!LT(c,l,a))return o;n+=2}else{if(!LT(c,{},a))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new Xe(t.segments.slice(0,n.pathIndex),{});return o.children[_e]=new Xe(t.segments.slice(n.pathIndex),t.children),Ml(o,0,r)}return n.match&&0===r.length?new Xe(t.segments,{}):n.match&&!t.hasChildren()?Mb(t,i,e):n.match?Ml(t,0,r):Mb(t,i,e)}function Ml(t,i,e){if(0===e.length)return new Xe(t.segments,{});{const n=function B8(t){return xl(t[0])?t[0].outlets:{[_e]:t}}(e),r={};if(Object.keys(n).some(o=>o!==_e)&&t.children[_e]&&1===t.numberOfChildren&&0===t.children[_e].segments.length){const o=Ml(t.children[_e],i,e);return new Xe(t.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[o]=FT(t.children[o],i,a))}),Object.entries(t.children).forEach(([o,a])=>{void 0===n[o]&&(r[o]=a)}),new Xe(t.segments,r)}}function Mb(t,i,e){const n=t.segments.slice(0,i);let r=0;for(;r<e.length;){const o=e[r];if(xl(o)){const c=V8(o.outlets);return new Xe(n,c)}if(0===r&&qh(e[0])){n.push(new Cl(t.segments[i].path,NT(e[0]))),r++;continue}const a=xl(o)?o.outlets[_e]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&qh(s)?(n.push(new Cl(a,NT(s))),r+=2):(n.push(new Cl(a,{})),r++)}return new Xe(n,{})}function V8(t){const i={};return Object.entries(t).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[e]=Mb(new Xe([],{}),0,n))}),i}function NT(t){const i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function LT(t,i,e){return t==e.path&&ir(i,e.parameters)}const Tl="imperative";var Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{});class nr{constructor(i,e){this.id=i,this.url=e}}class Gh extends nr{constructor(i,e,n="imperative",r=null){super(i,e),this.type=Ee.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dr extends nr{constructor(i,e,n){super(i,e),this.urlAfterRedirects=n,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ji=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ji||{}),Yh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yh||{});class Ko extends nr{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class As extends nr{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=Ee.NavigationSkipped}}class Tb extends nr{constructor(i,e,n,r){super(i,e),this.error=n,this.target=r,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BT extends nr{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U8 extends nr{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j8 extends nr{constructor(i,e,n,r,o){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z8 extends nr{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends nr{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $8{constructor(i){this.route=i,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G8{constructor(i){this.route=i,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y8{constructor(i){this.snapshot=i,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W8{constructor(i){this.snapshot=i,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K8{constructor(i){this.snapshot=i,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(i){this.snapshot=i,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HT{constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n,this.type=Ee.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Eb{}class Wh{constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}}class X8{constructor(i){this.injector=i,this.outlet=null,this.route=null,this.children=new El(this.injector),this.attachRef=null}}let El=(()=>{class t{constructor(e){this.parentInjector=e,this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new X8(this.parentInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||t)(w(_i))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class VT{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=Ib(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){const e=Ib(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=Ab(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return Ab(i,this._root).map(e=>e.value)}}function Ib(t,i){if(t===i.value)return i;for(const e of i.children){const n=Ib(t,e);if(n)return n}return null}function Ab(t,i){if(t===i.value)return[i];for(const e of i.children){const n=Ab(t,e);if(n.length)return n.unshift(i),n}return[]}class Nn{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ps(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class UT extends VT{constructor(i,e){super(i),this.snapshot=e,Pb(this,i)}toString(){return this.snapshot.toString()}}function jT(t){const i=function Q8(t){const o=new Zh([],{},{},"",{},_e,t,null,{});return new zT("",new Nn(o,[]))}(t),e=new Pi([new Cl("",{})]),n=new Pi({}),r=new Pi({}),o=new Pi({}),a=new Pi(""),s=new Os(e,n,o,a,r,_e,t,i.root);return s.snapshot=i.root,new UT(new Nn(s,[]),i)}class Os{constructor(i,e,n,r,o,a,s,c){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(he(l=>l[wl]))??ee(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(i=>Ts(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(i=>Ts(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kh(t,i,e="emptyOnly"){let n;const{routeConfig:r}=t;return n=null===i||"always"!==e&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.data,...r?.data,...t._resolvedData}},r&&$T(r)&&(n.resolve[wl]=r.title),n}class Zh{get title(){return this.data?.[wl]}constructor(i,e,n,r,o,a,s,c,l){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zT extends VT{constructor(i,e){super(e),this.url=i,Pb(this,e)}toString(){return qT(this._root)}}function Pb(t,i){i.value._routerState=t,i.children.forEach(e=>Pb(t,e))}function qT(t){const i=t.children.length>0?` { ${t.children.map(qT).join(", ")} } `:"";return`${t.value}${i}`}function Ob(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ir(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),ir(i.params,e.params)||t.paramsSubject.next(e.params),function f8(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!ir(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.urlSubject.next(e.url),ir(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rb(t,i){const e=ir(t.params,i.params)&&function y8(t,i){return Wo(t,i)&&t.every((e,n)=>ir(e.parameters,i[n].parameters))}(t.url,i.url);return e&&!(!t.parent!=!i.parent)&&(!t.parent||Rb(t.parent,i.parent))}function $T(t){return"string"==typeof t.title||null===t.title}let GT=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.parentContexts=O(El),this.location=O(ei),this.changeDetector=O(Hi),this.inputBinder=O(Xh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Fb(e,s,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wi]})}return t})();class Fb{__ngOutletInjector(i){return new Fb(this.route,this.childContexts,i)}constructor(i,e,n){this.route=i,this.childContexts=e,this.parent=n}get(i,e){return i===Os?this.route:i===El?this.childContexts:this.parent.get(i,e)}}const Xh=new F("");let YT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=Oh([n.queryParams,n.params,n.data]).pipe(bn(([o,a,s],c)=>(s={...o,...a,...s},0===c?ee(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const a=function z4(t){const i=xe(t);if(!i)return null;const e=new Kc(i);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(a)for(const{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Il(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=i.value;const r=function e6(t,i,e){return i.children.map(n=>{for(const r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Il(t,n,r);return Il(t,n)})}(t,i,e);return new Nn(n,r)}{if(t.shouldAttach(i.value)){const o=t.retrieve(i.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(s=>Il(t,s)),a}}const n=function t6(t){return new Os(new Pi(t.url),new Pi(t.params),new Pi(t.queryParams),new Pi(t.fragment),new Pi(t.data),t.outlet,t.component,t)}(i.value),r=i.children.map(o=>Il(t,o));return new Nn(n,r)}}class Nb{constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}}const WT="ngNavigationCancelingError";function Qh(t,i){const{redirectTo:e,navigationBehaviorOptions:n}=Dl(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=KT(!1,Ji.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function KT(t,i){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[WT]=!0,e.cancellationCode=i,e}function ZT(t){return!!t&&t[WT]}let XT=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=ve({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ki],decls:1,vars:0,template:function(n,r){1&n&&G(0,"router-outlet")},dependencies:[GT],encapsulation:2})}return t})();function Lb(t){const i=t.children&&t.children.map(Lb),e=i?{...t,children:i}:{...t};return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==_e&&(e.component=XT),e}function Ln(t){return t.outlet||_e}function Al(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class l6{constructor(i,e,n,r,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),Ob(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){const r=Ps(e);i.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],n),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(i,e,n){const r=i.value,o=e?e.value:null;if(r===o)if(r.component){const a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(i,e,a.children)}else this.deactivateChildRoutes(i,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=Ps(i);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(n&&n.outlet){const a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:s})}}deactivateRouteAndOutlet(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=Ps(i);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){const r=Ps(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Z8(o.value.snapshot))}),i.children.length&&this.forwardEvent(new W8(i.value.snapshot))}activateRoutes(i,e,n){const r=i.value,o=e?e.value:null;if(Ob(r),r===o)if(r.component){const a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,a.children)}else this.activateChildRoutes(i,e,n);else if(r.component){const a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ob(s.route.value),this.activateChildRoutes(i,null,a.children)}else{const s=Al(r.snapshot);a.attachRef=null,a.route=r,a.injector=s??a.injector,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(i,null,a.children)}}else this.activateChildRoutes(i,null,n)}}class QT{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Jh{constructor(i,e){this.component=i,this.route=e}}function d6(t,i,e){const n=t._root;return Pl(n,i?i._root:null,e,[n.value])}function Rs(t,i){const e=Symbol(),n=i.get(t,e);return n===e?"function"!=typeof t||function fR(t){return null!==Sd(t)}(t)?i.get(t):t:n}function Pl(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ps(i);return t.children.forEach(a=>{(function h6(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=i?i.value:null,s=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function m6(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Wo(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Wo(t.url,i.url)||!ir(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rb(t,i)||!ir(t.queryParams,i.queryParams);default:return!Rb(t,i)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new QT(n)):(o.data=a.data,o._resolvedData=a._resolvedData),Pl(t,i,o.component?s?s.children:null:e,n,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Jh(s.outlet.component,a))}else a&&Ol(i,s,r),r.canActivateChecks.push(new QT(n)),Pl(t,null,o.component?s?s.children:null:e,n,r)})(a,o[a.value.outlet],e,n.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ol(s,e.getContext(a),r)),r}function Ol(t,i,e){const n=Ps(t),r=t.value;Object.entries(n).forEach(([o,a])=>{Ol(a,r.component?i?i.children.getContext(o):null:i,e)}),e.canDeactivateChecks.push(new Jh(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function Rl(t){return"function"==typeof t}function JT(t){return t instanceof Rh||"EmptyError"===t?.name}const em=Symbol("INITIAL_VALUE");function Fs(){return bn(t=>Oh(t.map(i=>i.pipe(ii(1),kr(em)))).pipe(he(i=>{for(const e of i)if(!0!==e){if(e===em)return em;if(!1===e||_6(e))return e}return!0}),ni(i=>i!==em),ii(1)))}function _6(t){return Dl(t)||t instanceof Nb}function eE(t){return function oR(...t){return pS(t)}(Nt(i=>{if("boolean"!=typeof i)throw Qh(0,i)}),he(i=>!0===i))}class Bb{constructor(i){this.segmentGroup=i||null}}class tm extends Error{constructor(i){super(),this.urlTree=i}}function Ns(t){return Sl(new Bb(t))}class O6{constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ee(n);if(r.numberOfChildren>1||!r.children[_e])return Sl(new A(4e3,!1));r=r.children[_e]}}applyRedirectCommands(i,e,n,r,o){if("string"!=typeof e){const s=e,{queryParams:c,fragment:l,routeConfig:d,url:m,outlet:p,params:v,data:b,title:_}=r,k=Mn(o,()=>s({params:v,data:b,queryParams:c,fragment:l,routeConfig:d,url:m,outlet:p,title:_}));if(k instanceof Es)throw new tm(k);e=k}const a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if("/"===e[0])throw new tm(a);return a}applyRedirectCreateUrlTree(i,e,n,r){const o=this.createSegmentGroup(i,e.root,n,r);return new Es(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const n={};return Object.entries(i).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const s=o.substring(1);n[r]=e[s]}else n[r]=o}),n}createSegmentGroup(i,e,n,r){const o=this.createSegments(i,e.segments,n,r);let a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(i,c,n,r)}),new Xe(o,a)}createSegments(i,e,n,r){return e.map(o=>":"===o.path[0]?this.findPosParam(i,o,r):this.findOrReturn(o,n))}findPosParam(i,e,n){const r=n[e.path.substring(1)];if(!r)throw new A(4001,!1);return r}findOrReturn(i,e){let n=0;for(const r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}}const Hb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R6(t,i,e,n,r){const o=Vb(t,i,e);return o.matched?(n=function n6(t,i){return t.providers&&!t._injector&&(t._injector=Fu(t.providers,i,`Route: ${t.path}`)),t._injector??i}(i,n),function I6(t,i,e,n){const r=i.canMatch;return r&&0!==r.length?ee(r.map(a=>{const s=Rs(a,t);return Xr(function y6(t){return t&&Rl(t.canMatch)}(s)?s.canMatch(i,e):Mn(t,()=>s(i,e)))})).pipe(Fs(),eE()):ee(!0)}(n,i,e).pipe(he(a=>!0===a?o:{...Hb}))):ee(o)}function Vb(t,i,e){if("**"===i.path)return function F6(t){return{matched:!0,parameters:t.length>0?_T(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?{...Hb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(i.matcher||p8)(e,t,i);if(!r)return{...Hb};const o={};Object.entries(r.posParams??{}).forEach(([s,c])=>{o[s]=c.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function tE(t,i,e,n){return e.length>0&&function B6(t,i,e){return e.some(n=>im(t,i,n)&&Ln(n)!==_e)}(t,e,n)?{segmentGroup:new Xe(i,L6(n,new Xe(e,t.children))),slicedSegments:[]}:0===e.length&&function H6(t,i,e){return e.some(n=>im(t,i,n))}(t,e,n)?{segmentGroup:new Xe(t.segments,N6(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new Xe(t.segments,t.children),slicedSegments:e}}function N6(t,i,e,n){const r={};for(const o of e)if(im(t,i,o)&&!n[Ln(o)]){const a=new Xe([],{});r[Ln(o)]=a}return{...n,...r}}function L6(t,i){const e={};e[_e]=i;for(const n of t)if(""===n.path&&Ln(n)!==_e){const r=new Xe([],{});e[Ln(n)]=r}return e}function im(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}class j6{}class $6{constructor(i,e,n,r,o,a,s){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new O6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new A(4002,`'${i.segmentGroup}'`)}recognize(){const i=tE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(he(({children:e,rootSnapshot:n})=>{const r=new Nn(n,e),o=new zT("",r),a=function R8(t,i,e=null,n=null){return PT(AT(t),i,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(i){const e=new Zh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,_e,e).pipe(he(n=>({children:n,rootSnapshot:e})),Yo(n=>{if(n instanceof tm)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Bb?this.noMatchError(n):n}))}processSegmentGroup(i,e,n,r,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,e,n,o):this.processSegment(i,e,n,n.segments,r,!0,o).pipe(he(a=>a instanceof Nn?[a]:[]))}processChildren(i,e,n,r){const o=[];for(const a of Object.keys(n.children))"primary"===a?o.unshift(a):o.push(a);return Ft(o).pipe(Ms(a=>{const s=n.children[a],c=function s6(t,i){const e=t.filter(n=>Ln(n)===i);return e.push(...t.filter(n=>Ln(n)!==i)),e}(e,a);return this.processSegmentGroup(i,c,s,a,r)}),function d8(t,i){return lt(function l8(t,i,e,n,r){return(o,a)=>{let s=e,c=i,l=0;o.subscribe(Ye(a,d=>{const m=l++;c=s?t(c,d,m):(s=!0,d),n&&a.next(c)},r&&(()=>{s&&a.next(c),a.complete()})))}}(t,i,arguments.length>=2,!0))}((a,s)=>(a.push(...s),a)),Lh(null),function u8(t,i){const e=arguments.length>=2;return n=>n.pipe(t?ni((r,o)=>t(r,o,n)):Rr,wb(1),e?Lh(i):bT(()=>new Rh))}(),ui(a=>{if(null===a)return Ns(n);const s=iE(a);return function G6(t){t.sort((i,e)=>i.value.outlet===_e?-1:e.value.outlet===_e?1:i.value.outlet.localeCompare(e.value.outlet))}(s),ee(s)}))}processSegment(i,e,n,r,o,a,s){return Ft(e).pipe(Ms(c=>this.processSegmentAgainstRoute(c._injector??i,e,c,n,r,o,a,s).pipe(Yo(l=>{if(l instanceof Bb)return ee(null);throw l}))),Go(c=>!!c),Yo(c=>{if(JT(c))return function U6(t,i,e){return 0===i.length&&!t.children[e]}(n,r,o)?ee(new j6):Ns(n);throw c}))}processSegmentAgainstRoute(i,e,n,r,o,a,s,c){return function V6(t,i,e,n){return!!(Ln(t)===n||n!==_e&&im(i,e,t))&&Vb(i,t,e).matched}(n,r,o,a)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,n,o,a,c):Ns(r):Ns(r)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,o,a,s){const{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:m,remainingSegments:p}=Vb(e,r,o);if(!c)return Ns(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new Zh(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nE(r),Ln(r),r.component??r._loadedComponent??null,r,rE(r)),b=Kh(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);const _=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,m,v,i);return this.applyRedirects.lineralizeSegments(r,_).pipe(ui(k=>this.processSegment(i,n,e,k.concat(p),a,!1,s)))}matchSegmentAgainstRoute(i,e,n,r,o,a){const s=R6(e,n,r,i);return"**"===n.path&&(e.children={}),s.pipe(bn(c=>c.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(bn(({routes:l})=>{const d=n._loadedInjector??i,{parameters:m,consumedSegments:p,remainingSegments:v}=c,b=new Zh(p,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nE(n),Ln(n),n.component??n._loadedComponent??null,n,rE(n)),_=Kh(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(_.params),b.data=Object.freeze(_.data);const{segmentGroup:k,slicedSegments:x}=tE(e,p,v,l);if(0===x.length&&k.hasChildren())return this.processChildren(d,l,k,b).pipe(he(L=>new Nn(b,L)));if(0===l.length&&0===x.length)return ee(new Nn(b,[]));const M=Ln(n)===o;return this.processSegment(d,l,k,x,M?_e:o,!0,b).pipe(he(L=>new Nn(b,L instanceof Nn?[L]:[])))})):Ns(e)))}getChildConfig(i,e,n){return e.children?ee({routes:e.children,injector:i}):e.loadChildren?void 0!==e._loadedRoutes?ee({routes:e._loadedRoutes,injector:e._loadedInjector}):function E6(t,i,e,n){const r=i.canLoad;return void 0===r||0===r.length?ee(!0):ee(r.map(a=>{const s=Rs(a,t);return Xr(function f6(t){return t&&Rl(t.canLoad)}(s)?s.canLoad(i,e):Mn(t,()=>s(i,e)))})).pipe(Fs(),eE())}(i,e,n).pipe(ui(r=>r?this.configLoader.loadChildren(i,e).pipe(Nt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function P6(t){return Sl(KT(!1,Ji.GuardRejected))}())):ee({routes:[],injector:i})}}function Y6(t){const i=t.value.routeConfig;return i&&""===i.path}function iE(t){const i=[],e=new Set;for(const n of t){if(!Y6(n)){i.push(n);continue}const r=i.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):i.push(n)}for(const n of e){const r=iE(n.children);i.push(new Nn(n.value,r))}return i.filter(n=>!e.has(n))}function nE(t){return t.data||{}}function rE(t){return t.resolve||{}}function oE(t){const i=t.children.map(e=>oE(e)).flat();return[t,...i]}function Ub(t){return bn(i=>{const e=t(i);return e?Ft(e).pipe(he(()=>i)):ee(i)})}let aE=(()=>{class t{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===_e);return n}getResolvedTitleForRoute(e){return e.data[wl]}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(J6),providedIn:"root"})}return t})(),J6=(()=>{class t extends aE{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||t)(w(lq))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ls=new F("",{providedIn:"root",factory:()=>({})}),Bs=new F("");let jb=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(fx)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ee(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Xr(e.loadComponent()).pipe(he(sE),Nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Bh(()=>{this.componentLoaders.delete(e)})),r=new vT(n,()=>new W).pipe(Sb());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ee({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function e$(t,i,e,n){return Xr(t.loadChildren()).pipe(he(sE),ui(r=>r instanceof jk||Array.isArray(r)?ee(r):Ft(i.compileModuleAsync(r))),he(r=>{n&&n(t);let o,a,s=!1;return Array.isArray(r)?(a=r,!0):(o=r.create(e).injector,a=o.get(Bs,[],{optional:!0,self:!0}).flat()),{routes:a.map(Lb),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Bh(()=>{this.childrenLoaders.delete(n)})),a=new vT(o,()=>new W).pipe(Sb());return this.childrenLoaders.set(n,a),a}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sE(t){return function t$(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let zb=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(i$),providedIn:"root"})}return t})(),i$=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cE=new F(""),lE=new F("");function n$(t,i,e){const n=t.get(lE),r=t.get(be);return t.get(Q).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o;const a=new Promise(l=>{o=l}),s=r.startViewTransition(()=>(o(),function r$(t){return new Promise(i=>{Eg(i,{injector:t})})}(t))),{onViewTransitionCreated:c}=n;return c&&Mn(t,()=>c({transition:s,from:i,to:e})),a})}const dE=new F("");let nm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new W,this.transitionAbortSubject=new W,this.configLoader=O(jb),this.environmentInjector=O(_i),this.urlSerializer=O(Is),this.rootContexts=O(El),this.location=O(qo),this.inputBindingEnabled=null!==O(Xh,{optional:!0}),this.titleStrategy=O(aE),this.options=O(Ls,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(zb),this.createViewTransition=O(cE,{optional:!0}),this.navigationErrorHandler=O(dE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new G8(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new $8(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new Pi({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tl,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ni(o=>0!==o.id),he(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),bn(o=>{let a=!1,s=!1;return ee(o).pipe(bn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ji.SupersededByNewNavigation),vn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new As(c.id,this.urlSerializer.serialize(c.rawUrl),m,Yh.IgnoredSameUrlNavigation)),c.resolve(!1),vn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ee(c).pipe(bn(m=>{const p=this.transitions?.getValue();return this.events.next(new Gh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),p!==this.transitions?.getValue()?vn:Promise.resolve(m)}),function W6(t,i,e,n,r,o){return ui(a=>function z6(t,i,e,n,r,o,a="emptyOnly"){return new $6(t,i,e,n,r,a,o).recognize()}(t,i,e,n,a.extractedUrl,r,o).pipe(he(({state:s,tree:c})=>({...a,targetSnapshot:s,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Nt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const p=new BT(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:p,source:v,restoredState:b,extras:_}=c,k=new Gh(m,this.urlSerializer.serialize(p),v,b);this.events.next(k);const x=jT(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:x,urlAfterRedirects:p,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=p,ee(o)}{const m="";return this.events.next(new As(c.id,this.urlSerializer.serialize(c.extractedUrl),m,Yh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),vn}}),Nt(c=>{const l=new U8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),he(c=>(this.currentTransition=o={...c,guards:d6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function S6(t,i){return ui(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?ee({...e,guardsResult:!0}):function w6(t,i,e,n){return Ft(t).pipe(ui(r=>function T6(t,i,e,n,r){const o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return o&&0!==o.length?ee(o.map(s=>{const c=Al(i)??r,l=Rs(s,c);return Xr(function b6(t){return t&&Rl(t.canDeactivate)}(l)?l.canDeactivate(t,i,e,n):Mn(c,()=>l(t,i,e,n))).pipe(Go())})).pipe(Fs()):ee(!0)}(r.component,r.route,e,i,n)),Go(r=>!0!==r,!0))}(a,n,r,t).pipe(ui(s=>s&&function p6(t){return"boolean"==typeof t}(s)?function C6(t,i,e,n){return Ft(i).pipe(Ms(r=>Fh(function D6(t,i){return null!==t&&i&&i(new Y8(t)),ee(!0)}(r.route.parent,n),function k6(t,i){return null!==t&&i&&i(new K8(t)),ee(!0)}(r.route,n),function M6(t,i,e){const n=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(a=>function u6(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(a)).filter(a=>null!==a).map(a=>Nh(()=>ee(a.guards.map(c=>{const l=Al(a.node)??e,d=Rs(c,l);return Xr(function v6(t){return t&&Rl(t.canActivateChild)}(d)?d.canActivateChild(n,t):Mn(l,()=>d(n,t))).pipe(Go())})).pipe(Fs())));return ee(o).pipe(Fs())}(t,r.path,e),function x6(t,i,e){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return ee(!0);const r=n.map(o=>Nh(()=>{const a=Al(i)??e,s=Rs(o,a);return Xr(function g6(t){return t&&Rl(t.canActivate)}(s)?s.canActivate(i,t):Mn(a,()=>s(i,t))).pipe(Go())}));return ee(r).pipe(Fs())}(t,r.route,e))),Go(r=>!0!==r,!0))}(n,o,t,i):ee(s)),he(s=>({...e,guardsResult:s})))})}(this.environmentInjector,c=>this.events.next(c)),Nt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw Qh(0,c.guardsResult);const l=new j8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ni(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Ji.GuardRejected),!1)),Ub(c=>{if(c.guards.canActivateChecks.length)return ee(c).pipe(Nt(l=>{const d=new z8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),bn(l=>{let d=!1;return ee(l).pipe(function K6(t,i){return ui(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ee(e);const o=new Set(r.map(c=>c.route)),a=new Set;for(const c of o)if(!a.has(c))for(const l of oE(c))a.add(l);let s=0;return Ft(a).pipe(Ms(c=>o.has(c)?function Z6(t,i,e,n){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!$T(r)&&(o[wl]=r.title),function X6(t,i,e,n){const r=Cb(t);if(0===r.length)return ee({});const o={};return Ft(r).pipe(ui(a=>function Q6(t,i,e,n){const r=Al(i)??n,o=Rs(t,r);return Xr(o.resolve?o.resolve(i,e):Mn(r,()=>o(i,e)))}(t[a],i,e,n).pipe(Go(),Nt(s=>{if(s instanceof Nb)throw Qh(new Vh,s);o[a]=s}))),wb(1),function h8(t){return he(()=>t)}(o),Yo(a=>JT(a)?vn:Sl(a)))}(o,t,i,n).pipe(he(a=>(t._resolvedData=a,t.data=Kh(t,t.parent,e).resolve,null)))}(c,n,t,i):(c.data=Kh(c,c.parent,t).resolve,ee(void 0))),Nt(()=>s++),wb(1),ui(c=>s===a.size?ee(e):vn))})}(this.paramsInheritanceStrategy,this.environmentInjector),Nt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Ji.NoDataFromResolver)}}))}),Nt(l=>{const d=new q8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ub(c=>{const l=d=>{const m=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(d.routeConfig).pipe(Nt(p=>{d.component=p}),he(()=>{})));for(const p of d.children)m.push(...l(p));return m};return Oh(l(c.targetSnapshot.root)).pipe(Lh(null),ii(1))}),Ub(()=>this.afterPreactivation()),bn(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?Ft(d).pipe(he(()=>o)):ee(o)}),he(c=>{const l=function J8(t,i,e){const n=Il(t,i._root,e?e._root:void 0);return new UT(n,i)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Nt(()=>{this.events.next(new Eb)}),((t,i,e,n)=>he(r=>(new l6(i,r.targetRouterState,r.currentRouterState,e,n).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ii(1),Nt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),vt(this.transitionAbortSubject.pipe(Nt(c=>{throw c}))),Bh(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",Ji.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yo(c=>{if(s=!0,ZT(c))this.events.next(new Ko(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function i6(t){return ZT(t)&&Dl(t.url)}(c)?this.events.next(new Wh(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{const l=new Tb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{const d=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof Nb){const{message:m,cancellationCode:p}=Qh(0,d);this.events.next(new Ko(o.id,this.urlSerializer.serialize(o.extractedUrl),m,p)),this.events.next(new Wh(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(l);const m=e.errorHandler(c);o.resolve(!!m)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return vn}))}))}cancelNavigationTransition(e,n,r){const o=new Ko(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function o$(t){return t!==Tl}let a$=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(c$),providedIn:"root"})}return t})();class s${shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}let c$=(()=>{class t extends s${static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=At(t)))(r||t)}})();static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uE=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:()=>O(l$),providedIn:"root"})}return t})(),l$=(()=>{class t extends uE{constructor(){super(...arguments),this.location=O(qo),this.urlSerializer=O(Is),this.options=O(Ls,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(zb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Es,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{"popstate"===n.type&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Gh)this.stateMemento=this.createStateMemento();else if(e instanceof As)this.rawUrlTree=n.initialUrl;else if(e instanceof BT){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else e instanceof Eb?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Ko&&(e.code===Ji.GuardRejected||e.code===Ji.NoDataFromResolver)?this.restoreHistory(n):e instanceof Tb?this.restoreHistory(n,!0):e instanceof Dr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const a={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=At(t)))(r||t)}})();static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fl||{});function hE(t,i){t.events.pipe(ni(e=>e instanceof Dr||e instanceof Ko||e instanceof Tb||e instanceof As),he(e=>e instanceof Dr||e instanceof As?Fl.COMPLETE:e instanceof Ko&&(e.code===Ji.Redirect||e.code===Ji.SupersededByNewNavigation)?Fl.REDIRECTING:Fl.FAILED),ni(e=>e!==Fl.REDIRECTING),ii(1)).subscribe(()=>{i()})}function d$(t){throw t}const u$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(rx),this.stateManager=O(uE),this.options=O(Ls,{optional:!0})||{},this.pendingTasks=O(Oo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(nm),this.urlSerializer=O(Is),this.location=O(qo),this.urlHandlingStrategy=O(zb),this._events=new W,this.errorHandler=this.options.errorHandler||d$,this.navigated=!1,this.routeReuseStrategy=O(a$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Bs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Xh,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(n,o),n instanceof Ko&&n.code!==Ji.Redirect&&n.code!==Ji.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Dr)this.navigated=!0;else if(n instanceof Wh){const a=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),c={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||o$(r.source),...a};this.scheduleNavigation(s,Tl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function p$(t){return!(t instanceof Eb||t instanceof Wh)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const s=this.parseUrl(e);this.scheduleNavigation(s,n,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Lb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:a;let m,d=null;switch(s){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{m=AT(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),m=this.currentUrlTree.root}return PT(m,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=Dl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Tl,null,n)}navigate(e,n={skipLocationChange:!1}){return function m$(t){for(let i=0;i<t.length;i++)if(null==t[i])throw new A(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(r=!0===n?{...u$}:!1===n?{...h$}:n,Dl(e))return wT(this.currentUrlTree,e,r);const o=this.parseUrl(e);return wT(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(null!=o&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((m,p)=>{s=m,c=p});const d=this.pendingTasks.add();return hE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class mE{}let v$=(()=>{class t{constructor(e,n,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ni(e=>e instanceof Dr),Ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=Fu(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Ft(r).pipe(xs())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):ee(null);const o=r.pipe(ui(a=>null===a?ee(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return n.loadComponent&&!n._loadedComponent?Ft([o,this.loader.loadComponent(n)]).pipe(xs()):o})}static#e=this.\u0275fac=function(n){return new(n||t)(w(rr),w(fx),w(_i),w(mE),w(jb))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $b=new F("");let pE=(()=>{class t{constructor(e,n,r,o,a={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(_i),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof As&&e.code===Yh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HT&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){var r=this;this.zone.runOutsideAngular(pq(function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Eg(()=>{o()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new HT(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){tg()};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function or(t,i){return{\u0275kind:t,\u0275providers:i}}function gE(){const t=O(we);return i=>{const e=t.get(pn);if(i!==e.components[0])return;const n=t.get(rr),r=t.get(vE);1===t.get(Gb)&&n.initialNavigation(),t.get(bE,null,Me.Optional)?.setUpPreloading(),t.get($b,null,Me.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const vE=new F("",{factory:()=>new W}),Gb=new F("",{providedIn:"root",factory:()=>1}),bE=new F("");function S$(t){return or(0,[{provide:bE,useExisting:v$},{provide:mE,useExisting:t}])}function C$(t){return or(9,[{provide:cE,useValue:n$},{provide:lE,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const yE=new F("ROUTER_FORROOT_GUARD"),k$=[qo,{provide:Is,useClass:Vh},rr,El,{provide:Os,useFactory:function fE(t){return t.routerState.root},deps:[rr]},jb,[]];let _E=(()=>{class t{constructor(e){}static forRoot(e,n){return{ngModule:t,providers:[k$,[],{provide:Bs,multi:!0,useValue:e},{provide:yE,useFactory:T$,deps:[[rr,new po,new sc]]},{provide:Ls,useValue:n||{}},n?.useHash?{provide:zo,useClass:W4}:{provide:zo,useClass:oM},{provide:$b,useFactory:()=>{const t=O(DM),i=O(Q),e=O(Ls),n=O(nm),r=O(Is);return e.scrollOffset&&t.setOffset(e.scrollOffset),new pE(r,n,t,i,e)}},n?.preloadingStrategy?S$(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?E$(n):[],n?.bindToComponentInputs?or(8,[YT,{provide:Xh,useExisting:YT}]).\u0275providers:[],n?.enableViewTransitions?C$().\u0275providers:[],[{provide:SE,useFactory:gE},{provide:rh,multi:!0,useExisting:SE}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Bs,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||t)(w(yE,8))};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})();function T$(t){return"guarded"}function E$(t){return["disabled"===t.initialNavigation?or(3,[{provide:Dv,multi:!0,useFactory:()=>{const i=O(rr);return()=>{i.setUpLocationChangeListener()}}},{provide:Gb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?or(2,[{provide:Gb,useValue:0},{provide:Dv,multi:!0,deps:[we],useFactory:i=>{const e=i.get(G4,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=i.get(rr),o=i.get(vE);hE(r,()=>{n(!0)}),i.get(nm).afterPreactivation=()=>(n(!0),o.closed?ee(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const SE=new F(""),A$=[];let P$=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[_E.forRoot(A$),_E]})}return t})();class R$ extends Le{constructor(i,e){super()}schedule(i,e=0){return this}}const rm={setInterval(t,i,...e){const{delegate:n}=rm;return n?.setInterval?n.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){const{delegate:i}=rm;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};class Yb extends R${constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){if(this.closed)return this;this.state=i;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(i,e,n=0){return rm.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;rm.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let r,n=!1;try{this.work(i)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,pa(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}}const wE={now:()=>(wE.delegate||Date).now(),delegate:void 0};class Nl{constructor(i,e=Nl.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}}Nl.now=wE.now;class Wb extends Nl{constructor(i,e=Nl.now){super(i,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}}const Zo=new Wb(Yb),F$=Zo,CE={leading:!0,trailing:!1};function om(t=0,i,e=F$){let n=-1;return null!=i&&(hT(i)?e=i:n=i),new Je(r=>{let o=function L$(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function kE(t){return null!=t&&"false"!=`${t}`}function Xo(t,i=0){return function H$(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):i}function Ll(t){return Array.isArray(t)?t:[t]}function Lt(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Bt(t){return t instanceof Ce?t.nativeElement:t}const V$=["addListener","removeListener"],U$=["addEventListener","removeEventListener"],j$=["on","off"];function Qo(t,i,e,n){if(Ne(e)&&(n=e,e=void 0),n)return Qo(t,i,e).pipe(_b(n));const[r,o]=function $$(t){return Ne(t.addEventListener)&&Ne(t.removeEventListener)}(t)?U$.map(a=>s=>t[a](i,s,e)):function z$(t){return Ne(t.addListener)&&Ne(t.removeListener)}(t)?V$.map(DE(t,i)):function q$(t){return Ne(t.on)&&Ne(t.off)}(t)?j$.map(DE(t,i)):[];if(!r&&bb(t))return ui(a=>Qo(a,i,e))(Vi(t));if(!r)throw new TypeError("Invalid event target");return new Je(a=>{const s=(...c)=>a.next(1<c.length?c:c[0]);return r(s),()=>o(s)})}function DE(t,i){return e=>n=>t[e](i,n)}const Bl={schedule(t){let i=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Bl;n&&(i=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=i(o=>{e=void 0,t(o)});return new Le(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:i}=Bl;return(i?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:i}=Bl;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},xE=new class Y$ extends Wb{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class G$ extends Yb{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=Bl.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(i,e,n);i.actions.some(r=>r.id===e)||(Bl.cancelAnimationFrame(e),i._scheduled=void 0)}});let Kb,W$=1;const am={};function ME(t){return t in am&&(delete am[t],!0)}const K$={setImmediate(t){const i=W$++;return am[i]=!0,Kb||(Kb=Promise.resolve()),Kb.then(()=>ME(i)&&t()),i},clearImmediate(t){ME(t)}},{setImmediate:Z$,clearImmediate:X$}=K$,sm={setImmediate(...t){const{delegate:i}=sm;return(i?.setImmediate||Z$)(...t)},clearImmediate(t){const{delegate:i}=sm;return(i?.clearImmediate||X$)(t)},delegate:void 0};new class J$ extends Wb{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class Q$ extends Yb{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=sm.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(i,e,n);i.actions.some(r=>r.id===e)||(sm.clearImmediate(e),i._scheduled=void 0)}});function TE(t,i=Zo){return function tG(t){return lt((i,e)=>{let n=!1,r=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const l=r;r=null,e.next(l)}a&&e.complete()},c=()=>{o=null,a&&e.complete()};i.subscribe(Ye(e,l=>{n=!0,r=l,o||Vi(t(l)).subscribe(o=Ye(e,s,c))},()=>{a=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>om(t,i))}let Zb;try{Zb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zb=!1}let Hl,Ht=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?CM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||t)(w(Vr))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xr(t){return function iG(){if(null==Hl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hl=!0}))}finally{Hl=Hl||!1}return Hl}()?t:!!t.capture}var ar=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(ar||{});let cm,Jo,Xb;function IE(){if(null==Jo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jo=!1,Jo;if("scrollBehavior"in document.documentElement.style)Jo=!0;else{const t=Element.prototype.scrollTo;Jo=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Jo}function Vl(){if("object"!=typeof document||!document)return ar.NORMAL;if(null==cm){const t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),cm=ar.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,cm=0===t.scrollLeft?ar.NEGATED:ar.INVERTED),t.remove()}return cm}function Qb(t){if(function nG(){if(null==Xb){const t=typeof document<"u"?document.head:null;Xb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Xb}()){const i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Jb(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function yn(t){return t.composedPath?t.composedPath()[0]:t.target}function ey(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const rG=new F("cdk-dir-doc",{providedIn:"root",factory:function oG(){return O(be)}}),aG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sr=(()=>{class t{constructor(e){this.value="ltr",this.change=new me,e&&(this.value=function sG(t){const i=t?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?aG.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||t)(w(rG,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ul=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})(),lm=(()=>{class t{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new W,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Je(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(TE(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ee()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(ni(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Bt(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||t)(w(Q),w(Ht),w(be,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lG=(()=>{class t{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new W,this._elementScrolled=new Je(a=>this.ngZone.runOutsideAngular(()=>Qo(this.elementRef.nativeElement,"scroll").pipe(vt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&Vl()!=ar.NORMAL?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),Vl()==ar.INVERTED?e.left=e.right:Vl()==ar.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;IE()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:n:"end"==e&&(e=a?n:r),a&&Vl()==ar.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Vl()==ar.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(lm),y(Q),y(sr,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return t})(),jl=(()=>{class t{constructor(e,n,r){this._platform=e,this._change=new W,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(TE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ht),w(Q),w(be,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dm=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})(),AE=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[Ul,dm,Ul,dm]})}return t})();class ty{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Vs extends ty{constructor(i,e,n,r,o){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class zl extends ty{constructor(i,e,n,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class uG extends ty{constructor(i){super(),this.element=i instanceof Ce?i.nativeElement:i}}class um{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Vs?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof zl?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof uG?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hG extends um{constructor(i,e,n,r,o){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=a=>{const s=a.element,c=this._document.createComment("dom-portal");s.parentNode.insertBefore(c,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||we.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let mG=(()=>{class t extends zl{constructor(e,n){super(e,n)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Jt),y(ei))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ye]})}return t})(),Qr=(()=>{class t extends um{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new me,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||t)(y(Io),y(ei),y(be))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ye]})}return t})(),hm=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})();function Jr(...t){const i=Ds(t),e=function Zq(t,i){return"number"==typeof yb(t)?t.pop():i}(t,1/0),n=t;return n.length?1===n.length?Vi(n[0]):xs(e)(Ft(n,i)):vn}const PE=IE();class pG{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Lt(-this._previousScrollPosition.left),i.style.top=Lt(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,o=n.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),PE&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PE&&(n.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class fG{constructor(i,e,n,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(ni(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class OE{enable(){}disable(){}attach(){}}function iy(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function RE(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class gG{constructor(i,e,n,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();iy(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vG=(()=>{class t{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new OE,this.close=a=>new fG(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new pG(this._viewportRuler,this._document),this.reposition=a=>new gG(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static#e=this.\u0275fac=function(n){return new(n||t)(w(lm),w(jl),w(Q),w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ny{constructor(i){if(this.scrollStrategy=new OE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const n of e)void 0!==i[n]&&(this[n]=i[n])}}}class bG{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let FE=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||t)(w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yG=(()=>{class t extends FE{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Q,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_G=(()=>{class t extends FE{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=yn(o)},this._clickListener=o=>{const a=yn(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(s))break;const m=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Ht),w(Q,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mm=(()=>{class t{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ey()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),ey()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Ht))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class pm{constructor(i,e,n,r,o,a,s,c,l,d=!1){this._portalOutlet=i,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new W,this._attachments=new W,this._detachments=new W,this._locationChanges=Le.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new W,this._outsidePointerEvents=new W,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ii(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Lt(this._config.width),i.height=Lt(this._config.height),i.minWidth=Lt(this._config.minWidth),i.minHeight=Lt(this._config.minHeight),i.maxWidth=Lt(this._config.maxWidth),i.maxHeight=Lt(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,e,n){const r=Ll(e||[]).filter(o=>!!o);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(vt(Jr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const NE="cdk-overlay-connected-position-bounding-box",SG=/([A-Za-z%]+)$/;class wG{get positions(){return this._preferredPositions}constructor(i,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new W,this._resizeSubscription=Le.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(NE),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let c=this._getOriginPoint(i,r,s),l=this._getOverlayPoint(c,e,s),d=this._getOverlayFit(l,e,n,s);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(d,l,n)?o.push({position:s,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:l,originPoint:c,position:s,overlayRect:e})}if(o.length){let s=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,s=l)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ea(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let r,o;if("center"==n.originX)r=i.left+i.width/2;else{const a=this._isRtl()?i.right:i.left,s=this._isRtl()?i.left:i.right;r="start"==n.originX?a:s}return e.left<0&&(r-=e.left),o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(i,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:i.x+r,y:i.y+o}}_getOverlayFit(i,e,n,r){const o=BE(e);let{x:a,y:s}=i,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(a+=c),l&&(s+=l);let p=0-s,v=s+o.height-n.height,b=this._subtractOverflows(o.width,0-a,a+o.width-n.width),_=this._subtractOverflows(o.height,p,v),k=b*_;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,a=LE(this._overlayRef.getConfig().minHeight),s=LE(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=a&&a<=r)&&(i.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=BE(e),o=this._viewportRect,a=Math.max(i.x+r.width-o.width,0),s=Math.max(i.y+r.height-o.height,0),c=Math.max(o.top-n.top-i.y,0),l=Math.max(o.left-n.left-i.x,0);let d=0,m=0;return d=r.width<=o.width?l||-a:i.x<this._viewportMargin?o.left-n.left-i.x:0,m=r.height<=o.height?c||-s:i.y<this._viewportMargin?o.top-n.top-i.y:0,this._previousPushAmount={x:d,y:m},{x:i.x+d,y:i.y+m}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!function CG(t,i){return t===i||t.isOriginClipped===i.isOriginClipped&&t.isOriginOutsideView===i.isOriginOutsideView&&t.isOverlayClipped===i.isOverlayClipped&&t.isOverlayOutsideView===i.isOverlayOutsideView}(this._lastScrollVisibility,n)){const r=new bG(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,e){const n=this._viewportRect,r=this._isRtl();let o,a,s,d,m,p;if("top"===e.overlayY)a=i.y,o=n.height-a+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-i.y+2*this._viewportMargin,o=n.height-s+this._viewportMargin;else{const v=Math.min(n.bottom-i.y+n.top,i.y),b=this._lastBoundingBoxSize.height;o=2*v,a=i.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(a=i.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=n.width-i.x+2*this._viewportMargin,d=i.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)m=i.x,d=n.right-i.x;else{const v=Math.min(n.right-i.x+n.left,i.x),b=this._lastBoundingBoxSize.width;d=2*v,m=i.x-v,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(m=i.x-b/2)}return{top:a,left:m,bottom:s,right:p,width:d,height:o}}_setBoundingBoxStyles(i,e){const n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Lt(n.height),r.top=Lt(n.top),r.bottom=Lt(n.bottom),r.width=Lt(n.width),r.left=Lt(n.left),r.right=Lt(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Lt(o)),a&&(r.maxWidth=Lt(a))}this._lastBoundingBoxSize=n,ea(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ea(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ea(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();ea(n,this._getExactOverlayY(e,i,d)),ea(n,this._getExactOverlayX(e,i,d))}else n.position="static";let s="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),a.maxHeight&&(r?n.maxHeight=Lt(a.maxHeight):o&&(n.maxHeight="")),a.maxWidth&&(r?n.maxWidth=Lt(a.maxWidth):o&&(n.maxWidth="")),ea(this._pane.style,n)}_getExactOverlayY(i,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Lt(o.y),r}_getExactOverlayX(i,e,n){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),a=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Lt(o.x),r}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RE(i,n),isOriginOutsideView:iy(i,n),isOverlayClipped:RE(e,n),isOverlayOutsideView:iy(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Ll(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof Ce)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}}function ea(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function LE(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(SG);return e&&"px"!==e?null:parseFloat(i)}return t||null}function BE(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const HE="cdk-global-overlay-wrapper";class kG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(HE),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=n,c=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),l=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),d=this._xPosition,m=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let v="",b="",_="";c?_="flex-start":"center"===d?(_="center",p?b=m:v=m):p?"left"===d||"end"===d?(_="flex-end",v=m):("right"===d||"start"===d)&&(_="flex-start",b=m):"left"===d||"start"===d?(_="flex-start",v=m):("right"===d||"end"===d)&&(_="flex-end",b=m),i.position=this._cssPosition,i.marginLeft=c?"0":v,i.marginTop=l?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=c?"0":b,e.justifyContent=_,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(HE),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let DG=(()=>{class t{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new kG}flexibleConnectedTo(e){return new wG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||t)(w(jl),w(be),w(Ht),w(mm))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xG=0,en=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m,p,v){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=c,this._document=l,this._directionality=d,this._location=m,this._outsideClickDispatcher=p,this._animationsModuleType=v}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),a=new ny(e);return a.direction=a.direction||this._directionality.value,new pm(o,n,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+xG++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(pn)),new hG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||t)(w(vG),w(mm),w(Io),w(DG),w(yG),w(we),w(Q),w(be),w(sr),w(qo),w(_G),w(cn,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const EG={provide:new F("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=O(en);return()=>t.scrollStrategies.reposition()}}),deps:[en],useFactory:function TG(t){return()=>t.scrollStrategies.reposition()}};let ry=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[en,EG],imports:[Ul,hm,AE,AE]})}return t})();function ql(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function ay(t,i=Zo){return lt((e,n)=>{let r=null,o=null,a=null;const s=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,n.next(l)}};function c(){const l=a+t,d=i.now();if(d<l)return r=this.schedule(void 0,l-d),void n.add(r);s()}e.subscribe(Ye(n,l=>{o=l,a=i.now(),r||(r=i.schedule(c,t),n.add(r))},()=>{s(),n.complete()},void 0,()=>{o=r=null}))})}function sy(t){return ni((i,e)=>t<=e)}function VE(t,i=Rr){return t=t??ZG,lt((e,n)=>{let r,o=!0;e.subscribe(Ye(n,a=>{const s=i(a);(o||!t(r,s))&&(o=!1,r=s,n.next(a))}))})}function ZG(t,i){return t===i}let UE=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XG=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=Bt(e);return new Je(r=>{const a=this._observeElement(n).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new W,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(n){return new(n||t)(w(UE))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QG=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Xo(e),this._subscribe()}constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new me,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ay(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(y(XG),y(Ce),y(Q))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ze],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[vi]})}return t})(),JG=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[UE]})}return t})();const jE=new Set;let ta,eY=(()=>{class t{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function tY(t,i){if(!jE.has(t))try{ta||(ta=document.createElement("style"),i&&(ta.nonce=i),ta.setAttribute("type","text/css"),document.head.appendChild(ta)),ta.sheet&&(ta.sheet.insertRule(`@media ${t} {body{ }}`,0),jE.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ht),w(xf,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iY(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let zE=(()=>{class t{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new W}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return qE(Ll(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Oh(qE(Ll(e)).map(a=>this._registerQuery(a).observable));return o=Fh(o.pipe(ii(1)),o.pipe(sy(1),ay(0))),o.pipe(he(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{s.matches=s.matches||c,s.breakpoints[l]=c}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new Je(a=>{const s=c=>this._zone.run(()=>a.next(c));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(kr(n),he(({matches:a})=>({query:e,matches:a})),vt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||t)(w(eY),w(Q))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qE(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}function fm(t,i){return t.getAttribute(i)?.match(/\S+/g)??[]}const GE="cdk-describedby-message",gm="cdk-describedby-host";let cy=0,aY=(()=>{class t{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+cy++,this._document=e,this._id=O(Va)+"-"+cy++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const o=ly(n,r);"string"!=typeof n?(YE(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const o=ly(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof n){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${gm}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(gm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");YE(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ly(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=fm(e,"aria-describedby").filter(r=>0!=r.indexOf(GE));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);(function rY(t,i,e){const n=fm(t,i);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),t.setAttribute(i,n.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(gm,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,function oY(t,i,e){const n=fm(t,i);e=e.trim();const r=n.filter(o=>o!==e);r.length?t.setAttribute(i,r.join(" ")):t.removeAttribute(i)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(gm)}_isElementDescribedByMessage(e,n){const r=fm(e,"aria-describedby"),o=this._messageRegistry.get(n),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Ht))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ly(t,i){return"string"==typeof t?`${i||""}/${t}`:t}function YE(t,i){t.id||(t.id=`${GE}-${i}-${cy++}`)}class sY{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new W,this._typeaheadSubscription=Le.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new W,this.change=new W,i instanceof Ba&&(this._itemChangesSubscription=i.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Nt(e=>this._pressedLetters.push(e)),ay(i),ni(()=>this._pressedLetters.length>0),he(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const o=(this._activeItemIndex+r)%n.length,a=n[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){const e=this._activeItem;this.updateActiveItem(i),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){const e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!i[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((r||ql(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const e=this._getItemsArray(),n="number"==typeof i?i:e.indexOf(i);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+i*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=e])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof Ba?this._items.toArray():this._items}}class cY extends sY{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let dy=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function dY(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function lY(t){try{return t.frameElement}catch{return null}}(function bY(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(n&&(-1===KE(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=KE(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function gY(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function vY(t){return!function hY(t){return function pY(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function uY(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function mY(t){return function fY(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||WE(t))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ht))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WE(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function KE(t){if(!WE(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class ZE{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,e,n,r,o=!1){this._element=i,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(i),!!n}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){const e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(ii(1)).subscribe(i)}}let XE=(()=>{class t{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new ZE(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||t)(w(dy),w(Q),w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uy(t){return 0===t.buttons||0===t.detail}function hy(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const yY=new F("cdk-input-modality-detector-options"),_Y={ignoreKeys:[18,17,224,91,16]},Us=xr({passive:!0,capture:!0});let SY=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Pi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uy(a)?"keyboard":"mouse"),this._mostRecentTarget=yn(a))},this._onTouchstart=a=>{hy(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yn(a))},this._options={..._Y,...o},this.modalityDetected=this._modality.pipe(sy(1)),this.modalityChanged=this.modalityDetected.pipe(VE()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Us),r.addEventListener("mousedown",this._onMousedown,Us),r.addEventListener("touchstart",this._onTouchstart,Us)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Us),document.removeEventListener("mousedown",this._onMousedown,Us),document.removeEventListener("touchstart",this._onTouchstart,Us))}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ht),w(Q),w(be),w(yY,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wY=new F("liveAnnouncerElement",{providedIn:"root",factory:function CY(){return null}}),kY=new F("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let DY=0,xY=(()=>{class t{constructor(e,n,r,o){this._ngZone=n,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let o,a;return 1===n.length&&"number"==typeof n[0]?a=n[0]:[o,a]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+DY++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],a=o.getAttribute("aria-owns");a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(n){return new(n||t)(w(wY,8),w(Q),w(be),w(kY,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(vm||{});const MY=new F("cdk-focus-monitor-default-options"),bm=xr({passive:!0,capture:!0});let $l=(()=>{class t{constructor(e,n,r,o,a){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new W,this._rootNodeFocusAndBlurListener=s=>{for(let l=yn(s);l;l=l.parentElement)"focus"===s.type?this._onFocus(s,l):this._onBlur(s,l)},this._document=o,this._detectionMode=a?.detectionMode||vm.IMMEDIATE}monitor(e,n=!1){const r=Bt(e);if(!this._platform.isBrowser||1!==r.nodeType)return ee();const o=Qb(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return n&&(a.checkChildren=!0),a.subject;const s={checkChildren:n,subject:new W,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const n=Bt(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=Bt(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,c])=>this._originChanged(s,n,c)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===vm.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,this._detectionMode===vm.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=yn(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,bm),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,bm)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bm),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bm),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||t)(w(Q),w(Ht),w(SY),w(be,8),w(MY,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TY=(()=>{class t{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new me}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y($l))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return t})();var ia=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ia||{});const JE="cdk-high-contrast-black-on-white",eI="cdk-high-contrast-white-on-black",my="cdk-high-contrast-active";let tI=(()=>{class t{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=O(zE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ia.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ia.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ia.BLACK_ON_WHITE}return ia.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(my,JE,eI),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===ia.BLACK_ON_WHITE?e.add(my,JE):n===ia.WHITE_ON_BLACK&&e.add(my,eI)}}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ht),w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iI=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||t)(w(tI))};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[JG]})}return t})();function EY(t,i){}class ym{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let nI=(()=>{class t extends um{constructor(e,n,r,o,a,s,c,l){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=c,this._focusMonitor=l,this._platform=O(Ht),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=O(Hi),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const m=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),m},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=Jb(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=Jb();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Jb()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(XE),y(be,8),y(ym),y(dy),y(Q),y(pm),y($l))};static#t=this.\u0275cmp=ve({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Bi(Qr,7),2&n){let o;Yt(o=Wt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&Ge("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[ye,Ki],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&H(0,EY,0,0,"ng-template",0)},dependencies:[Qr],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})();class py{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new W,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!ql(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(i,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const rI=new F("DialogScrollStrategy",{providedIn:"root",factory:()=>{const t=O(en);return()=>t.scrollStrategies.block()}}),IY=new F("DialogData"),AY=new F("DefaultDialogConfig");let OY=0,oI=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,a,s){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this._ariaHiddenElements=new Map,this.afterAllClosed=Nh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kr(void 0))),this._scrollStrategy=s}open(e,n){(n={...this._defaultOptions||new ym,...n}).id=n.id||"cdk-dialog-"+OY++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),a=this._overlay.create(o),s=new py(a,n),c=this._attachContainer(a,s,n);return s.containerInstance=c,this._attachDialogContent(e,s,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){fy(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){fy(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),fy(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new ny({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:ym,useValue:r},{provide:py,useValue:n},{provide:pm,useValue:e}];let s;r.container?"function"==typeof r.container?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=nI;const c=new Vs(s,r.viewContainerRef,we.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,n,r,o){if(e instanceof Jt){const a=this._createInjector(o,n,r,void 0);let s={$implicit:o.data,dialogRef:n};o.templateContext&&(s={...s,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new zl(e,null,s,a))}else{const a=this._createInjector(o,n,r,this._injector),s=r.attachComponentPortal(new Vs(e,o.viewContainerRef,a,o.componentFactoryResolver));n.componentRef=s,n.componentInstance=s.instance}}_createInjector(e,n,r,o){const a=e.injector||e.viewContainerRef?.injector,s=[{provide:IY,useValue:e.data},{provide:py,useValue:n}];return e.providers&&("function"==typeof e.providers?s.push(...e.providers(n,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(sr,null,{optional:!0}))&&s.push({provide:sr,useValue:{value:e.direction,change:ee()}}),we.create({parent:a||o,providers:s})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||t)(w(en),w(we),w(AY,8),w(t,12),w(mm),w(rI))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fy(t,i){let e=t.length;for(;e--;)i(t[e])}let RY=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[oI],imports:[ry,hm,iI,hm]})}return t})();const NY=new F("mat-sanity-checks",{providedIn:"root",factory:function FY(){return!0}});let eo=(()=>{class t{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ey()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||t)(w(tI),w(NY,8),w(be))};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[Ul,Ul]})}return t})();var _n=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(_n||{});class zY{constructor(i,e,n,r=!1){this._renderer=i,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=_n.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const cI=xr({passive:!0,capture:!0});class qY{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const e=yn(i);e&&this._events.get(i.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(i))})}}addHandler(i,e,n,r){const o=this._events.get(e);if(o){const a=o.get(n);a?a.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,cI)})}removeHandler(i,e,n){const r=this._events.get(i);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,cI)))}}const lI={enterDuration:225,exitDuration:150},dI=xr({passive:!0,capture:!0}),uI=["mousedown","touchstart"],hI=["mouseup","mouseleave","touchend","touchcancel"];class _m{static#e=this._eventManager=new qY;constructor(i,e,n,r){this._target=i,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bt(n))}fadeInRipple(i,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...lI,...n.animation};n.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);const a=n.radius||function GY(t,i,e){const n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+r*r)}(i,e,r),s=i-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=s-a+"px",d.style.top=c-a+"px",d.style.height=2*a+"px",d.style.width=2*a+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const m=window.getComputedStyle(d),v=m.transitionDuration,b="none"===m.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,_=new zY(this,d,n,b);d.style.transform="scale3d(1, 1, 1)",_.state=_n.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let k=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const x=()=>this._finishRippleTransition(_),M=()=>this._destroyRipple(_);d.addEventListener("transitionend",x),d.addEventListener("transitioncancel",M),k={onTransitionEnd:x,onTransitionCancel:M}}),this._activeRipples.set(_,k),(b||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(i){if(i.state===_n.FADING_OUT||i.state===_n.HIDDEN)return;const e=i.element,n={...lI,...i.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=_n.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=Bt(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,uI.forEach(n=>{_m._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hI.forEach(e=>{this._triggerElement.addEventListener(e,this,dI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===_n.FADING_IN?this._startFadeOutTransition(i):i.state===_n.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=_n.VISIBLE,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=_n.HIDDEN,null!==e&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel)),i.element.remove()}_onMousedown(i){const e=uy(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!hy(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===_n.VISIBLE||i.config.terminateOnPointerUp&&i.state===_n.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(uI.forEach(e=>_m._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&hI.forEach(e=>i.removeEventListener(e,this,dI)))}}const mI=new F("mat-ripple-global-options");let gy=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new _m(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(Q),y(Ht),y(mI,8),y(cn,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&gt("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return t})();const pI={capture:!0},fI=["focus","click","mouseenter","touchstart"],vy="mat-ripple-loader-uninitialized",by="mat-ripple-loader-class-name",gI="mat-ripple-loader-centered",Sm="mat-ripple-loader-disabled";let YY=(()=>{class t{constructor(){this._document=O(be,{optional:!0}),this._animationMode=O(cn,{optional:!0}),this._globalRippleOptions=O(mI,{optional:!0}),this._platform=O(Ht),this._ngZone=O(Q),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${vy}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of fI)this._document?.addEventListener(e,this._onInteraction,pI)})}ngOnDestroy(){const e=this._hosts.keys();for(const n of e)this.destroyRipple(n);for(const n of fI)this._document?.removeEventListener(n,this._onInteraction,pI)}configureRipple(e,n){e.setAttribute(vy,""),(n.className||!e.hasAttribute(by))&&e.setAttribute(by,n.className||""),n.centered&&e.setAttribute(gI,""),n.disabled&&e.setAttribute(Sm,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,n){const r=this._hosts.get(e);r?r.disabled=n:n?e.setAttribute(Sm,""):e.removeAttribute(Sm)}_createRipple(e){if(!this._document)return;const n=this._hosts.get(e);if(n)return n;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(by)),e.append(r);const o=new gy(new Ce(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(gI),o.disabled=e.hasAttribute(Sm),this.attachRipple(e,o),o}attachRipple(e,n){e.removeAttribute(vy),this._hosts.set(e,n)}destroyRipple(e){const n=this._hosts.get(e);n&&(n.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ue=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ue||{});const Mr="*";function js(t,i){return{type:ue.Trigger,name:t,definitions:i,options:{}}}function Bn(t,i=null){return{type:ue.Animate,styles:i,timings:t}}function St(t){return{type:ue.Style,styles:t,offset:null}}function Hn(t,i,e){return{type:ue.State,name:t,styles:i,options:e}}function bI(t){return{type:ue.Keyframes,steps:t}}function Vn(t,i,e=null){return{type:ue.Transition,expr:t,animation:i,options:e}}class Yl{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class SI{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++n==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function JY(t,i){}class _y{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Sy="mdc-dialog--open",wI="mdc-dialog--opening",CI="mdc-dialog--closing";let kI=(()=>{class t extends nI{constructor(e,n,r,o,a,s,c,l,d){super(e,n,r,o,a,s,c,d),this._animationMode=l,this._animationStateChanged=new me,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?xI(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?xI(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(DI,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wI,Sy)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Sy),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Sy),this._animationsEnabled?(this._hostElement.style.setProperty(DI,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CI)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(wI,CI)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(XE),y(be,8),y(_y),y(dy),y(Q),y(pm),y(cn,8),y($l))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){2&n&&(Wu("id",r._config.id),Ge("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),gt("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[ye,Ki],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(u(0,"div",0)(1,"div",1),H(2,JY,0,0,"ng-template",2),h()())},dependencies:[Qr],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return t})();const DI="--mat-dialog-transition-duration";function xI(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?Xo(t.substring(0,t.length-2)):t.endsWith("s")?1e3*Xo(t.substring(0,t.length-1)):"0"===t?0:null}var wm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(wm||{});class wy{constructor(i,e,n){this._ref=i,this._containerInstance=n,this._afterOpened=new W,this._beforeClosed=new W,this._state=wm.OPEN,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(ni(r=>"opened"===r.state),ii(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(ni(r=>"closed"===r.state),ii(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Jr(this.backdropClick(),this.keydownEvents().pipe(ni(r=>27===r.keyCode&&!this.disableClose&&!ql(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function MI(t,i,e){return t._closeInteractionType=i,t.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(ni(e=>"closing"===e.state),ii(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=wm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=wm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Wl=new F("MatMdcDialogData"),iW=new F("mat-mdc-dialog-default-options"),TI=new F("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const t=O(en);return()=>t.scrollStrategies.block()}});let rW=0,ri=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,a,s,c,l){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this.dialogConfigClass=_y,this.afterAllClosed=Nh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kr(void 0))),this._dialog=n.get(oI),this._dialogRefConstructor=wy,this._dialogContainerType=kI,this._dialogDataToken=Wl}open(e,n){let r;(n={...this._defaultOptions||new _y,...n}).id=n.id||"mat-mdc-dialog-"+rW++,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:ym,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(a,s,c)=>(r=new this._dialogRefConstructor(a,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){return new(n||t)(w(en),w(we),w(qo,8),w(iW,8),w(TI),w(t,12),w(mm),w(cn,8))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[ri],imports:[RY,ry,hm,eo,eo]})}return t})();var z=function(t){return t[t.OddJobs=0]="OddJobs",t[t.Resting=1]="Resting",t[t.Begging=2]="Begging",t[t.Blacksmithing=3]="Blacksmithing",t[t.GatherHerbs=4]="GatherHerbs",t[t.ChopWood=5]="ChopWood",t[t.Woodworking=6]="Woodworking",t[t.Leatherworking=7]="Leatherworking",t[t.Farming=8]="Farming",t[t.Mining=9]="Mining",t[t.Smelting=10]="Smelting",t[t.Hunting=11]="Hunting",t[t.Fishing=12]="Fishing",t[t.Alchemy=13]="Alchemy",t[t.Burning=14]="Burning",t[t.BalanceChi=15]="BalanceChi",t[t.BodyCultivation=16]="BodyCultivation",t[t.MindCultivation=17]="MindCultivation",t[t.CoreCultivation=18]="CoreCultivation",t[t.SoulCultivation=19]="SoulCultivation",t[t.InfuseBody=20]="InfuseBody",t[t.InfuseEquipment=21]="InfuseEquipment",t[t.ExtendLife=22]="ExtendLife",t[t.Recruiting=23]="Recruiting",t[t.TrainingFollowers=24]="TrainingFollowers",t[t.Swim=25]="Swim",t[t.ForgeChains=26]="ForgeChains",t[t.AttachChains=27]="AttachChains",t[t.MakeBrick=28]="MakeBrick",t[t.MakeMortar=29]="MakeMortar",t[t.MakeScaffold=30]="MakeScaffold",t[t.BuildTower=31]="BuildTower",t[t.ResearchWind=32]="ResearchWind",t[t.TameWinds=33]="TameWinds",t[t.LearnToFly=34]="LearnToFly",t[t.OfferDragonFood=35]="OfferDragonFood",t[t.OfferDragonWealth=36]="OfferDragonWealth",t[t.TalkToDragon=37]="TalkToDragon",t[t.GatherArmies=38]="GatherArmies",t[t.ConquerTheWorld=39]="ConquerTheWorld",t[t.MoveStars=40]="MoveStars",t[t.Taunting=41]="Taunting",t[t.EscapeHell=42]="EscapeHell",t[t.HellRecruiting=43]="HellRecruiting",t[t.BurnMoney=44]="BurnMoney",t[t.HonorAncestors=45]="HonorAncestors",t[t.CombatTraining=46]="CombatTraining",t[t.Rehabilitation=47]="Rehabilitation",t[t.CopperMining=48]="CopperMining",t[t.ForgeHammer=49]="ForgeHammer",t[t.ClimbMountain=50]="ClimbMountain",t[t.AttackClimbers=51]="AttackClimbers",t[t.MeltMountain=52]="MeltMountain",t[t.HealAnimals=53]="HealAnimals",t[t.PetRecruiting=54]="PetRecruiting",t[t.PetTraining=55]="PetTraining",t[t.LiftBoulder=56]="LiftBoulder",t[t.SearchForExit=57]="SearchForExit",t[t.TeachTheWay=58]="TeachTheWay",t[t.Interrogate=59]="Interrogate",t[t.RecoverTreasure=60]="RecoverTreasure",t[t.ReplaceTreasure=61]="ReplaceTreasure",t[t.PurifyGems=62]="PurifyGems",t[t.Endure=63]="Endure",t[t.FreezeMountain=64]="FreezeMountain",t[t.ExamineContracts=65]="ExamineContracts",t[t.FinishHell=66]="FinishHell",t[t.Hell=67]="Hell",t}(z||{});let Tr=(()=>{class t{constructor(){this.reincarnateSubject=new W}reincarnate(){this.reincarnateSubject.next(void 0)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const OI=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Bob","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"],RI=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberht","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],dW=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],uW=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],hW=["helmet","helm","mask","faceguard","cap","hat","hood"],mW=["sandals","boots","shoes","footwear","slippers"],cr=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],zs=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],Cm=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],qs=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],km=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],Kl=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],Cy=["rotten","wilted","tiny","poor","weak","low-grade","average","healthy","abundant","quality","great","huge","exceptional","amazing","exquisite","sublime","spiritual","divine"];let hi=(()=>{class t{constructor(e,n,r,o,a,s,c){this.injector=e,this.logService=n,this.characterService=r,this.itemRepoService=o,this.inventoryService=a,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.enablePyroclasm=!1,this.enableMetalFist=!1,this.enableFireShield=!1,this.enableIceShield=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.pyroclasmUnlocked=!1,this.metalFistUnlocked=!1,this.fireShieldUnlocked=!1,this.iceShieldUnlocked=!1,this.ticksPerFight=10,this.highestDamageTaken=0,this.highestDamageDealt=0,this.totalKills=0,this.skipEnemyAttack=0,this.degradeFactor=1e-7,this.monsterNames=["spider","rat","scorpion","lizard","snake","jack-o-lantern","gnome","imp","ooze","jackalope","pixie","goblin","monkey","redcap","boar","skeleton","zombie","hobgoblin","kobold","chupacabra","siren","crocodile","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","centaur","troll","manticore","merlion","mummy","landshark","bugbear","yeti","dreameater","kelpie","unicorn","hippo","ogre","banshee","harpy","sphinx","werewolf","boogeyman","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","lich","thunderbird","vampire","beholder","hydra","roc","wyrm","giant","kraken","behemoth","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a tiny","a pathetic","a sickly","a starving","a wimpy","a frail","an ill","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a scatterbrained","a mediocre","a typical","an average","a healthy","a big","a tough","a crazy","a strong","a fearsome","a gutsy","a quick","a hefty","a grotesque","a large","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a brutal","a devious","a mighty","a frightening","a massive","a powerful","a noble","a magical","a dangerous","a murderous","a terrifying","a gargantuan","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],setTimeout(()=>this.hellService=this.injector.get(Pe)),this.bigNumberPipe=this.injector.get(Vt),this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null===this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,(this.yearlyMonsterDay>=365||this.autoTroubleEnabled)&&(this.yearlyMonsterDay=0,this.trouble())}}),c.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.clearEnemies(),this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,totalKills:this.totalKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,pyroclasmUnlocked:this.pyroclasmUnlocked,metalFistUnlocked:this.metalFistUnlocked,fireShieldUnlocked:this.fireShieldUnlocked,iceShieldUnlocked:this.iceShieldUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack,enablePyroclasm:this.enablePyroclasm,enableMetalFist:this.enableMetalFist,enableFireShield:this.enableFireShield,enableIceShield:this.enableIceShield,highestDamageDealt:this.highestDamageDealt,highestDamageTaken:this.highestDamageTaken}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.totalKills=e.totalKills||0,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack,this.enablePyroclasm=e.enablePyroclasm||!1,this.enableMetalFist=e.enableMetalFist||!1,this.enableFireShield=e.enableFireShield||!1,this.enableIceShield=e.enableIceShield||!1,this.manaShieldUnlocked=e.manaShieldUnlocked||!1,this.manaAttackUnlocked=e.manaAttackUnlocked||!1,this.pyroclasmUnlocked=e.pyroclasmUnlocked||!1,this.metalFistUnlocked=e.metalFistUnlocked||!1,this.fireShieldUnlocked=e.fireShieldUnlocked||!1,this.iceShieldUnlocked=e.iceShieldUnlocked||!1,this.highestDamageDealt=e.highestDamageDealt||0,this.highestDamageTaken=e.highestDamageTaken||0}enemiesAttack(){if(this.skipEnemyAttack>0)return void this.skipEnemyAttack--;let e=0;for(const n of this.enemies)for(let r=0;r<n.quantity;r++)if(Math.random()<n.enemy.accuracy){let o=n.enemy.attack;const a=this.characterService.characterState.defense;a>=1&&(o/=Math.pow(a,.2)+Math.pow(2e4,(-o+a)/a)),o<.3&&(o=.3),this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(o/=2,this.characterService.characterState.status.mana.value-=10);let s=!1;if(this.enableFireShield&&this.characterService.characterState.status.mana.value>1e4){let l=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);l<1&&(l=1),l>10&&(l=10),o/=l,this.characterService.characterState.status.mana.value-=1e4,s=!0}if(this.enableIceShield&&this.characterService.characterState.status.mana.value>1e4){let l=Math.log(this.characterService.characterState.attributes.waterLore.value)/Math.log(100);l<1&&(l=1),l>10&&(l=10),o/=l,this.characterService.characterState.status.mana.value-=1e4,this.skipEnemyAttack++}this.characterService.characterState.yinYangUnlocked&&(o-=o*(this.characterService.characterState.yinYangBalance/2)),this.logService.injury(C.COMBAT,"Ow! "+n.enemy.name+" hit you for "+this.bigNumberPipe.transform(o)+" damage"),s&&this.damageEnemy(o,"The flames of your shield strike back, damaging the enemy for "+o+" damage."),o>this.highestDamageTaken&&(this.highestDamageTaken=o),this.characterService.characterState.status.health.value-=o,e+=.01,this.attackEffect(n.enemy);const c=[];if(this.characterService.characterState.equipment.head&&c.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&c.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&c.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&c.push(this.characterService.characterState.equipment.feet),c.length>0&&this.degradeArmor(c[Math.floor(Math.random()*c.length)],o),this.characterService.characterState.status.health.value<=0)return this.logService.injury(C.EVENT,"Death itself"===n.enemy.name?n.enemy.name+" overkilled you by "+Math.floor(-this.characterService.characterState.status.health.value)+" damage. You were defeated.":"You were defeated by "+n.enemy.name),this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0),void(this.hellService?.inHell&&(this.hellService.beaten=!0,this.clearEnemies()))}else this.logService.log(C.COMBAT,"Miss! "+n.enemy.name+" tries to hit you but fails.");this.characterService.characterState.increaseAttribute("toughness",e)}youAttack(){if(this.characterService.characterState.accuracy=Math.min((this.troubleKills+Math.sqrt(this.characterService.characterState.attributes.speed.value))/this.troubleKills/2,1),this.currentEnemy&&this.characterService.characterState.status.health.value>0){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.log(C.COMBAT,"You attack "+this.currentEnemy.enemy.name+" but miss.");let e=this.characterService.characterState.attackPower;const n=this.currentEnemy.enemy.defense;n>=1&&(e/=Math.pow(n,.2)+Math.pow(2e4,(-e+n)/n)),e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10);let r=!1;if(this.enableMetalFist&&this.characterService.characterState.status.mana.value>1e4){let c=Math.log(this.characterService.characterState.attributes.metalLore.value)/Math.log(50);c<1&&(c=1),c>100&&(c=100),e*=c,this.characterService.characterState.status.mana.value-=1e4}if(this.enablePyroclasm&&this.characterService.characterState.status.mana.value>1e4){let c=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);c<1&&(c=1),c>10&&(c=10),e*=c,this.characterService.characterState.status.mana.value-=1e4,r=!0}this.characterService.characterState.yinYangUnlocked&&(e+=e*this.characterService.characterState.yinYangBalance),"corruption"===this.characterService.characterState.equipment?.leftHand?.weaponStats?.effect&&(e*=10),"corruption"===this.characterService.characterState.equipment?.rightHand?.weaponStats?.effect&&(e*=10),"corruption"===this.characterService.characterState.equipment?.head?.armorStats?.effect&&(e*=2),"corruption"===this.characterService.characterState.equipment?.body?.armorStats?.effect&&(e*=2),"corruption"===this.characterService.characterState.equipment?.legs?.armorStats?.effect&&(e*=2),"corruption"===this.characterService.characterState.equipment?.feet?.armorStats?.effect&&(e*=2),e>this.highestDamageDealt&&(this.highestDamageDealt=e);let o=1;n>2e4&&(o+=Math.sqrt(n-2e4));const a=this.degradeFactor/4;this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability-="corruption"===this.characterService.characterState.equipment.leftHand.weaponStats.effect?100*(o+Math.floor(this.characterService.characterState.equipment.leftHand.weaponStats.durability*a)):o+Math.floor(this.characterService.characterState.equipment.leftHand.weaponStats.durability*a),this.characterService.characterState.equipment.leftHand.value-=1+Math.floor(this.characterService.characterState.equipment.leftHand.value*a),this.characterService.characterState.equipment.leftHand.value<1&&(this.characterService.characterState.equipment.leftHand.value=1),this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage-=1+Math.floor(this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage*a),this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage<1&&(this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage=1),"life"===this.characterService.characterState.equipment.leftHand.weaponStats.effect&&(this.logService.log(C.COMBAT,"Your "+this.characterService.characterState.equipment.leftHand.name+" healed you for "+o+" as you struck the enemy."),this.characterService.characterState.status.health.value+=o,this.characterService.characterState.checkOverage()),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability-="corruption"===this.characterService.characterState.equipment.rightHand.weaponStats.effect?100*(o+Math.floor(this.characterService.characterState.equipment.rightHand.weaponStats.durability*a)):o+Math.floor(this.characterService.characterState.equipment.rightHand.weaponStats.durability*a),this.characterService.characterState.equipment.rightHand.value-=1+Math.floor(this.characterService.characterState.equipment.rightHand.value*a),this.characterService.characterState.equipment.rightHand.value<1&&(this.characterService.characterState.equipment.rightHand.value=1),this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage-=1+Math.floor(this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage*a),this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage<1&&(this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage=1),"life"===this.characterService.characterState.equipment.rightHand.weaponStats.effect&&(this.logService.log(C.COMBAT,"Your "+this.characterService.characterState.equipment.rightHand.name+" healed you for "+o+" as you struck the enemy."),this.characterService.characterState.status.health.value+=o,this.characterService.characterState.checkOverage()),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null));let s=this.damageEnemy(e);if(r)for(;s>0&&this.enemies.length>0;)this.currentEnemy=this.enemies[0],s=this.damageEnemy(s)}}damageEnemy(e,n=""){if(!this.currentEnemy)return 0;const r=this.currentEnemy.enemy.health;if(this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),""===n&&(n="You attack "+this.currentEnemy.enemy.name+" for "+this.bigNumberPipe.transform(e)+" damage"),e-=r,this.currentEnemy.enemy.health<=0){this.kills++,this.totalKills++,this.logService.log(C.COMBAT,"You manage to kill "+this.currentEnemy.enemy.name),"Death itself"===this.currentEnemy.enemy.name&&this.characterService.toast("HURRAY! Check your inventory. You just got something special!",0);for(const o of this.currentEnemy.enemy.loot){const a=this.itemRepoService.getItemById(o.id);this.inventoryService.addItem(a||o)}if(this.currentEnemy.quantity--,this.defeatEffect(this.currentEnemy.enemy),this.currentEnemy.quantity<=0){const o=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(o,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth;return(e-r)/2}return this.logService.log(C.COMBAT,n),0}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.log(C.COMBAT,"A new enemy comes along to trouble your sleep: "+e.name);for(const n of this.enemies)if(n.enemy.name===e.name)return void(e.unique||n.quantity++);this.enemies.push({enemy:e,quantity:1}),null===this.currentEnemy&&(this.currentEnemy=this.enemies[0])}clearEnemies(){this.enemies=[],this.currentEnemy=null}trouble(){if(0!==this.enemies.length)return;if(this.hellService&&this.hellService.inHell)return void this.hellService.trouble();let o,a,s,e=10*this.troubleKills,n=this.troubleKills/5,r=this.troubleKills/5;if(this.characterService.characterState.god){const c=this.troubleKills%this.monsterNames.length,l=Math.floor(this.troubleKills/this.monsterNames.length);s=this.monsterNames[c],a="Godslaying "+s,l>0&&(a+=" "+(l+1)),n=Math.round(Math.pow(1.1,this.troubleKills)),r=10*n,e=200*n,o=this.inventoryService.generateSpiritGem(Math.ceil(this.troubleKills/30))}else{const c=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),l=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),d=Math.floor(l/this.monsterQualities.length);s=this.monsterNames[d],a=this.monsterQualities[l%this.monsterQualities.length]+" "+this.monsterNames[d],c>0&&(a+=" "+(c+1)),o=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)))}this.addEnemy({name:a,baseName:s,health:e,maxHealth:e,accuracy:.5,attack:n,defense:r,loot:[o]}),this.troubleKills++}degradeArmor(e,n){let r=1;if(n>2e4&&(r+=Math.sqrt(n-2e4)),e.armorStats){if(e.armorStats.durability-="corruption"===e.armorStats.effect?100*(r+Math.floor(e.armorStats.durability*this.degradeFactor)):r+Math.floor(e.armorStats.durability*this.degradeFactor),e.value-=1+Math.floor(e.value*this.degradeFactor),e.value<1&&(e.value=1),e.armorStats.defense-=1+Math.floor(e.armorStats.defense*this.degradeFactor),e.armorStats.defense<1&&(e.armorStats.defense=1),"life"===e.armorStats.effect){const o=10*(r+Math.floor(e.armorStats.durability*this.degradeFactor));this.logService.log(C.COMBAT,"Your "+e.name+" healed you for "+o+" as the enemy struck it."),this.characterService.characterState.status.health.value+=o,this.characterService.characterState.checkOverage()}e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null)}}defeatEffect(e){e.defeatEffect&&"respawnDouble"===e.defeatEffect&&(this.logService.log(C.COMBAT,"They just keep coming! Two more "+e.name+" appear!"),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,accuracy:e.accuracy,attack:e.attack,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot}),this.addEnemy({name:e.name,baseName:e.baseName,health:e.maxHealth,maxHealth:e.maxHealth,accuracy:e.accuracy,attack:e.attack,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot}))}attackEffect(e){if(e.attackEffect&&"feeder"===e.attackEffect&&this.hellService)if(void 0!==e.hitTracker&&e.hitTracker<2)e.hitTracker++;else{this.hellService.daysFasted=0;const n=this.characterService.characterState.status.health.value/4;this.logService.injury(C.COMBAT,"The hellfire burns as it goes down, damaging you for "+n+" extra damage."),this.characterService.characterState.status.health.value-=n}}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Ei),w(Oe),w(tn),w(ie),w(ft),w(Tr))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ae=function(t){return t[t.Swim=0]="Swim",t[t.RaiseIsland=1]="RaiseIsland",t[t.BuildTower=2]="BuildTower",t[t.TameWinds=3]="TameWinds",t[t.LearnToFly=4]="LearnToFly",t[t.BefriendDragon=5]="BefriendDragon",t[t.ConquerTheWorld=6]="ConquerTheWorld",t[t.RearrangeTheStars=7]="RearrangeTheStars",t[t.OvercomeDeath=8]="OvercomeDeath",t}(ae||{});let Er=(()=>{class t{constructor(e,n,r,o,a,s,c){this.injector=e,this.logService=n,this.characterService=r,this.itemRepoService=o,this.battleService=c,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:ae.Swim,progressRequired:4e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:ae.RaiseIsland,progressRequired:777},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:ae.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:ae.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:ae.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:ae.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:ae.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:ae.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:ae.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],a.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let l=0;l<this.tasks.length;l++)if(this.taskProgress[l].complete&&this.tasks[l].taskType===this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}markPriorCompletions(){let e=!1;this.nextTask=-1;for(let n=this.tasks.length-1;n>=0;n--)(this.taskProgress[n].complete||e)&&(e=!0,this.taskProgress[n].progress=this.tasks[n].progressRequired,this.taskProgress[n].complete=!0),e&&this.nextTask<0?this.nextTask=n:0===n&&(this.nextTask=0)}reset(){this.markPriorCompletions();for(let e=this.tasks.length-1;e>=0;e--)this.taskProgress[e].progress<this.tasks[e].progressRequired&&(this.taskProgress[e].complete?this.taskProgress[e].progress=this.tasks[e].progressRequired:e!==ae.BuildTower&&(this.taskProgress[e].progress=0));this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=void 0===e.activeTaskIndex?-1:e.activeTaskIndex,this.markPriorCompletions(),this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.reloadActivities(),this.activeTaskIndex===ae.OvercomeDeath&&this.battleService.addEnemy({name:"Death itself",baseName:"death",health:1e24,maxHealth:1e24,accuracy:.99,attack:3e8,defense:3e8,loot:[this.itemRepoService.items.immortality],unique:!0})}stopTask(){this.activeTaskIndex===ae.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.reloadActivities()}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Ei),w(Oe),w(tn),w(ft),w(Tr),w(hi))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ky{constructor(i,e,n){this.autoBuyerService=i,this.homeService=e,this.characterService=n}}class pW extends ky{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(i){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){const e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){const n=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-i),e.landRequired-this.homeService.land);n>0&&this.homeService.buyLand(n)}}}else{const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-i),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+i&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}}class fW extends ky{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.homeService.autoFieldUnlocked}run(i){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+i){const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-i),this.homeService.autoBuyLandLimit-(this.homeService.land+this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.homeService.autoFieldUnlocked){const e=Math.min(this.homeService.land,this.homeService.autoFieldLimit-(this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.addField(e)}}isBlocked(){return!(!this.homeService.autoFieldUnlocked||this.homeService.autoBuyLandUnlocked)&&0===this.homeService.land&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit}isWaiting(){return!1}isComplete(){let i=!0;this.homeService.autoBuyLandUnlocked&&(i=this.homeService.land+this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.homeService.autoFieldUnlocked&&(e=this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoFieldLimit),i&&e}}class gW extends ky{shouldRun(){return this.homeService.autoBuyFurnitureUnlocked}run(i){for(const e of this.homeService.furniturePositionsArray)if(this.homeService.home.furnitureSlots.includes(e)&&null===this.homeService.furniture[e]){const n=this.homeService.autoBuyFurniture[e];n&&this.homeService.furniture[e]?.id!==n.id&&this.characterService.characterState.money>n.value+i&&this.homeService.buyFurniture(n.id)}return!0}isBlocked(){let i=!0,e=!0;for(const n of this.homeService.furniturePositionsArray){const r=this.homeService.autoBuyFurniture[n];r&&(this.homeService.home.furnitureSlots.includes(n)?this.homeService.furniture[n]?.id!==r.id&&(e=!1):i=!1)}return!this.homeService.upgrading&&e&&!i}isWaiting(){let i=!1;for(const e of this.homeService.furniturePositionsArray)this.homeService.autoBuyFurniture[e]&&!this.homeService.home.furnitureSlots.includes(e)&&this.homeService.nextHome.furnitureSlots.includes(e)&&(i=!1);return this.homeService.upgrading&&i}isComplete(){for(const i of this.homeService.furniturePositionsArray){const e=this.homeService.autoBuyFurniture[i];if(e&&(!this.homeService.home.furnitureSlots.includes(i)||this.homeService.furniture[i]?.id!==e.id))return!1}return!0}}let Dm=(()=>{class t{constructor(e,n,r,o){this.injector=e,this.characterService=n,this.homeService=r,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new pW(this,this.homeService,this.characterService),land:new fW(this,this.homeService,this.characterService),furniture:new gW(this,this.homeService,this.characterService)},setTimeout(()=>this.hellService=this.injector.get(Pe)),o.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Furniture",type:"furniture",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){if(this.hellService?.inHell)return;const e=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:10*(this.homeService.home.costPerDay+1);for(const n of this.autoBuyerSettings){const r=this.autobuyers[n.type];if(n.enabled&&r.shouldRun()&&!r.isBlocked()&&!r.isComplete()){if(r.isWaiting()&&n.waitForFinish)break;if(r.isWaiting())continue;if(r.run(e),!r.isComplete()&&n.waitForFinish)break}}}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Oe),w(pt),w(ft))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tn=(()=>{class t{constructor(e,n,r,o){this.characterService=e,this.injector=n,this.logService=r,this.mainLoopService=o,this.colorByRank=["darkgray","gray","lightgray","white","darkgreen","green","lightgreen","darkblue","blue","lightblue","darkviolet","purple","fuchsia","darkorange","orange","yellow","gold","red"],this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},bookshelf:{id:"bookshelf",name:"bookshelf",type:"furniture",slot:"workbench",value:1e6,description:"An bookshelf to read and expand your mind.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("intelligence",.1)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",imageFile:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",imageFile:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.01&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a),this.characterService.characterState.checkOverage()}},beans:{id:"beans",imageFile:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.02,5,a)}},broccoli:{id:"broccoli",imageFile:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.05,10,a)}},calabash:{id:"calabash",imageFile:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.08,15,a)}},taro:{id:"taro",imageFile:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.1,20,a)}},pear:{id:"pear",imageFile:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.12,25,a)}},melon:{id:"melon",imageFile:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.15,30,a)}},plum:{id:"plum",imageFile:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.18,35,a)}},apricot:{id:"apricot",imageFile:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.2,40,a)}},peach:{id:"peach",imageFile:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:(a=1)=>{this.eatProduce(.22,72,a,2)}},divinePeach:{id:"divinePeach",imageFile:"divinePeach",name:"divine peach",type:"food",value:100,description:"A divinely prized and delicious fruit.",useLabel:"Eat",useDescription:"Sates your immortal hunger.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.max+=a,this.characterService.characterState.status.nourishment.value+=a,this.characterService.characterState.healthBonusFood+=2*a,this.characterService.characterState.status.health.value+=20*a,this.characterService.characterState.status.stamina.value+=2*a,this.characterService.characterState.status.stamina.max+=2*a,this.characterService.characterState.status.mana.value+=a,this.characterService.characterState.foodLifespan+a<=262800?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<262800&&(this.characterService.characterState.foodLifespan=262800),this.characterService.characterState.checkOverage()}},meat:{id:"meat",imageFile:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=2*a,this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=10*a,this.characterService.characterState.status.stamina.max+=a,this.characterService.characterState.checkOverage()}},spiritMeat:{id:"spiritMeat",imageFile:"spiritMeat",name:"spirit meat",type:"food",value:1e3,description:"Your hunters have performed a ritual burned offering of meat to send you this spiritual feast.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=2*a,this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=20*a,this.characterService.characterState.status.stamina.max+=a,this.characterService.characterState.checkOverage()}},carp:{id:"carp",imageFile:"fish",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.stamina.max+=a),this.characterService.characterState.checkOverage()}},hide:{id:"hide",imageFile:"hide",imageColor:this.colorByRank[0],name:"tattered hide",type:"hide",value:1,description:"A tattered animal hide."},thinPelt:{id:"thinPelt",imageFile:"hide",imageColor:this.colorByRank[1],name:"thin pelt",type:"hide",value:2,description:"A thin fur pelt."},plainLeather:{id:"plainLeather",imageFile:"hide",imageColor:this.colorByRank[2],name:"plain leather",type:"hide",value:3,description:"A basic leather hide."},scaleSkin:{id:"scaleSkin",imageFile:"hide",imageColor:this.colorByRank[3],name:"scale skin",type:"hide",value:4,description:"A scaly reptile skin."},thickFur:{id:"thickFur",imageFile:"hide",imageColor:this.colorByRank[4],name:"thick fur",type:"hide",value:5,description:"A thick animal fur."},armoredHide:{id:"armoredHide",imageFile:"hide",imageColor:this.colorByRank[5],name:"armored hide",type:"hide",value:6,description:"An armored animal hide."},frozenScales:{id:"frozenScales",imageFile:"hide",imageColor:this.colorByRank[6],name:"frozen scales",type:"hide",value:7,description:"A frozen scaly hide."},mysticalLeather:{id:"mysticalLeather",imageFile:"hide",imageColor:this.colorByRank[7],name:"mystical leather",type:"hide",value:8,description:"A mystical animal hide."},infernalFur:{id:"infernalFur",imageFile:"hide",imageColor:this.colorByRank[8],name:"infernal fur",type:"hide",value:9,description:"A fiery pelt."},orichalcumHide:{id:"orichalcumHide",imageFile:"hide",imageColor:this.colorByRank[9],name:"orichalcum hide",type:"hide",value:10,description:"A strong magic-infused hide."},tempestScales:{id:"tempestScales",imageFile:"hide",imageColor:this.colorByRank[10],name:"tempest scales",type:"hide",value:11,description:"A hide bristling with electricity."},evergreenVeil:{id:"evergreenVeil",imageFile:"hide",imageColor:this.colorByRank[11],name:"evergreen veil",type:"hide",value:12,description:"An extremely durable hide ."},sovereignLeather:{id:"sovereignLeather",imageFile:"hide",imageColor:this.colorByRank[12],name:"sovereign leather",type:"hide",value:13,description:"A powerful hide of a noble animal."},abyssalFur:{id:"abyssalFur",imageFile:"hide",imageColor:this.colorByRank[13],name:"abyssal fur",type:"hide",value:14,description:"A fur brimming with unholy power."},umbralHide:{id:"umbralHide",imageFile:"hide",imageColor:this.colorByRank[14],name:"umbral hide",type:"hide",value:15,description:"A hide made of shadows themselves."},divineVeil:{id:"divineVeil",imageFile:"hide",imageColor:this.colorByRank[15],name:"divine veil",type:"hide",value:16,description:"A hide consecrated with divine protection."},balsaLog:{id:"balsaLog",imageFile:"wood",imageColor:this.colorByRank[0],name:"balsa log",type:"wood",value:1,description:"A really soft log."},elmLog:{id:"elmLog",imageFile:"wood",imageColor:this.colorByRank[1],name:"elm log",type:"wood",value:2,description:"A soft log."},cypressLog:{id:"cypressLog",imageFile:"wood",imageColor:this.colorByRank[2],name:"cypress log",type:"wood",value:3,description:"A poor quality log."},walnutLog:{id:"walnutLog",imageFile:"wood",imageColor:this.colorByRank[3],name:"walnut log",type:"wood",value:4,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",imageFile:"wood",imageColor:this.colorByRank[4],name:"laurelwood log",type:"wood",value:5,description:"A nice quality log."},blackwoodLog:{id:"blackwoodLog",imageFile:"wood",imageColor:this.colorByRank[5],name:"blackwood log",type:"wood",value:6,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",imageFile:"wood",imageColor:this.colorByRank[6],name:"rosewood log",type:"wood",value:7,description:"A great quality log."},pearwoodLog:{id:"pearwoodLog",imageFile:"wood",imageColor:this.colorByRank[7],name:"pearwood log",type:"wood",value:8,description:"An excellent quality log."},zitanLog:{id:"zitanLog",imageFile:"wood",imageColor:this.colorByRank[8],name:"zitan log",type:"wood",value:9,description:"An amazing quality log."},lignumvitaeLog:{id:"lignumvitaeLog",imageFile:"wood",imageColor:this.colorByRank[9],name:"lignum vitae log",type:"wood",value:10,description:"A log of the highest mortal quality."},peachwoodlog:{id:"peachwoodlog",imageFile:"wood",imageColor:this.colorByRank[10],name:"peachwood log",type:"wood",value:11,description:"A log brimming with spiritual energy."},diamondwoodLog:{id:"diamondwoodLog",imageFile:"wood",imageColor:this.colorByRank[11],name:"diamondwood log",type:"wood",value:12,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",imageFile:"wood",imageColor:this.colorByRank[12],name:"titanwood log",type:"wood",value:13,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",imageFile:"wood",imageColor:this.colorByRank[13],name:"dragonwood log",type:"wood",value:14,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",imageFile:"wood",imageColor:this.colorByRank[14],name:"devilwood log",type:"wood",value:15,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",imageFile:"wood",imageColor:this.colorByRank[15],name:"divinewood log",type:"wood",value:16,description:"A divine quality log."},copperOre:{id:"copperOre",imageFile:"ore",imageColor:this.colorByRank[0],name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",imageFile:"ore",imageColor:this.colorByRank[1],name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",imageFile:"ore",imageColor:this.colorByRank[2],name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",imageFile:"ore",imageColor:this.colorByRank[3],name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",imageFile:"ore",imageColor:this.colorByRank[4],name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",imageFile:"ore",imageColor:this.colorByRank[5],name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",imageFile:"ore",imageColor:this.colorByRank[6],name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",imageFile:"ore",imageColor:this.colorByRank[7],name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",imageFile:"ore",imageColor:this.colorByRank[8],name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",imageFile:"ore",imageColor:this.colorByRank[9],name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",imageFile:"ore",imageColor:this.colorByRank[10],name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",imageFile:"ore",imageColor:this.colorByRank[11],name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",imageFile:"ore",imageColor:this.colorByRank[12],name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",imageFile:"ore",imageColor:this.colorByRank[13],name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",imageFile:"ore",imageColor:this.colorByRank[14],name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",imageFile:"ore",imageColor:this.colorByRank[15],name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",imageFile:"metal",imageColor:this.colorByRank[0],name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",imageFile:"metal",imageColor:this.colorByRank[1],name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",imageFile:"metal",imageColor:this.colorByRank[2],name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",imageFile:"metal",imageColor:this.colorByRank[3],name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",imageFile:"metal",imageColor:this.colorByRank[4],name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",imageFile:"metal",imageColor:this.colorByRank[5],name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",imageFile:"metal",imageColor:this.colorByRank[6],name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",imageFile:"metal",imageColor:this.colorByRank[7],name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",imageFile:"metal",imageColor:this.colorByRank[8],name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",imageFile:"metal",imageColor:this.colorByRank[9],name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",imageFile:"metal",imageColor:this.colorByRank[10],name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",imageFile:"metal",imageColor:this.colorByRank[11],name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",imageFile:"metal",imageColor:this.colorByRank[12],name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",imageFile:"metal",imageColor:this.colorByRank[13],name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",imageFile:"metal",imageColor:this.colorByRank[14],name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",imageFile:"metal",imageColor:this.colorByRank[15],name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",imageFile:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",imageFile:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",imageFile:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",imageFile:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",imageFile:"chain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong, but it's REALLY heavy."},everlastingBrick:{id:"everlastingBrick",imageFile:"brick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",imageFile:"mortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",imageFile:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",imageFile:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",imageFile:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",imageFile:"immortality",name:"Essence of Immortality",type:"immortality",value:1/0,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(Er)),this.impossibleTaskService.taskProgress[ae.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=ae.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.OvercomeDeath].complete&&(this.logService.injury(C.STORY,"YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!"),this.gameStateService||(this.gameStateService=this.injector.get(bt)),this.gameStateService.easyModeEver&&this.logService.log(C.STORY,"Good work, even if you did take the easy path. For more of a challenge, you could reset and try without using the easy game mode."),this.logService.log(C.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and succeeded in your quest on "+(new Date).toDateString()+"."),this.logService.log(C.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes to overcome death."),this.characterService.characterState.immortal=!0)}},portalKey:{id:"portalKey",imageFile:"key",name:"Portal Key",type:"portalKey",value:1/0,description:"The key to Lord Yama's kingdom. With this key, you can use his portals to instantly travel anywhere.",useLabel:"Create a portal back to the palace of the gods on Mount Penglai and claim your throne.",useDescription:"Become a god and win the game (again).",useConsumes:!0,use:()=>{this.logService.injury(C.STORY,"YOU HAVE ACHIEVED GODHOOD! YOU WILL RULE OVER THE UNIVERSE FOREVER!"),this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.inHell=!1,this.gameStateService||(this.gameStateService=this.injector.get(bt)),this.activityService||(this.activityService=this.injector.get(ct)),this.battleService||(this.battleService=this.injector.get(hi)),this.logService.log(C.STORY,"You started your journey on "+new Date(this.gameStateService.gameStartTimestamp).toDateString()+" and achieved godhood on "+(new Date).toDateString()+"."),this.logService.log(C.STORY,"You took "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes to claim your throne on Mount Penglai."),this.characterService.characterState.god=!0,this.battleService.troubleKills=0,this.activityService.reloadActivities()}},fingers:{id:"fingers",imageFile:"finger",name:"fingers",type:"fingers",value:1,description:"A handful of bloody fingers. The demons carry them as grisly trophies. Now, it seems, you do too."},tokenOfGratitude:{id:"tokenOfGratitude",imageFile:"token",name:"token of gratitude",type:"tokenOfGratitude",value:1,description:"A small keepsake from your family member."},mirrorShard:{id:"mirrorShard",imageFile:"mirrorShard",name:"mirror shard",type:"mirrorShard",value:1,description:"A shard of broken glass. You carefully turn the reflective side away from you."},iceCore:{id:"iceCore",imageFile:"iceCore",name:"ice core",type:"iceCore",value:1,description:"A small sphere containing the essence of pure cold."},fireCore:{id:"fireCore",imageFile:"fireCore",name:"fire core",type:"fireCore",value:1,description:"A small sphere containing the essence of pure heat."},treasureMap:{id:"treasureMap",imageFile:"treasureMap",name:"treasure map",type:"treasureMap",value:1,description:"A treasure map with the location of a stolen relic."},stolenRelic:{id:"stolenRelic",imageFile:"relic",name:"stolen relic",type:"stolenRelic",value:1,description:"A treasure pilfered from a tomb."},hellCrownTongueRippers:{id:"hellCrownTongueRippers",imageFile:"crown",name:"Crown of the Tongue Rippers",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Tongue Rippers. Using this will unlock a new type of follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.followerService||(this.followerService=this.injector.get(Tt)),this.hellService.completedHellBosses.includes(Y.TongueRipping)||this.hellService.completedHellBosses.push(Y.TongueRipping),this.logService.log(C.STORY,"The Crown of Tongue Rippers settles onto your head, then sinks in to become a part of your very soul. You feel that your words carry a new power that can inspire a new kind of follower to worship you as the god you are becoming. Perhaps a trip back to the mortal realm through reincarnation might be worthwhile."),this.followerService.unlockJob("prophet")}},hellCrownScissors:{id:"hellCrownScissors",imageFile:"crown",name:"Crown of Scissors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Scissors. Using this will unlock a new ability for your followers.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.followerService||(this.followerService=this.injector.get(Tt)),this.hellService.completedHellBosses.includes(Y.Scissors)||this.hellService.completedHellBosses.push(Y.Scissors),this.logService.log(C.STORY,"The Crown of Scissors settles onto your head, then sinks in to become a part of your very soul. You feel a deeper appreciation for marriage and family, and your followers sense it."),this.logService.log(C.STORY,"From now on, each follower will train a child to replace themselves in your service when they pass away."),this.followerService.autoReplaceUnlocked=!0}},hellCrownTreesOfKnives:{id:"hellCrownTreesOfKnives",imageFile:"crown",name:"Crown of Knives",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Trees of Knives. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.followerService||(this.followerService=this.injector.get(Tt)),this.hellService.completedHellBosses.includes(Y.TreesOfKnives)||this.hellService.completedHellBosses.push(Y.TreesOfKnives),this.logService.log(C.STORY,"The Crown of Knives settles onto your head, then sinks in to become a part of your very soul. You can recruit a new follower specialized in honoring ancestors."),this.followerService.unlockJob("moneyBurner")}},hellCrownMirrors:{id:"hellCrownMirrors",imageFile:"crown",name:"Crown of Mirrors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Mirrors. Using this will unlock a new understanding of combat.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.followerService||(this.followerService=this.injector.get(Tt)),this.activityService||(this.activityService=this.injector.get(ct)),this.hellService.completedHellBosses.includes(Y.Mirrors)||this.hellService.completedHellBosses.push(Y.Mirrors),this.logService.log(C.STORY,"The Crown of Mirrors settles onto your head, then sinks in to become a part of your very soul. A deep understanding of combat based on your many battles with yourself reveals itself in a moment of enlightenment."),this.characterService.characterState.attributes.combatMastery.value+=1,this.activityService.CombatTraining.unlocked=!0}},hellCrownSteamers:{id:"hellCrownSteamers",imageFile:"crown",name:"Crown of Steam",type:"hellcrown",value:1/0,description:"A misty crown proving your mastery over the Hell of Steamers. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.battleService||(this.battleService=this.injector.get(hi)),this.hellService.completedHellBosses.includes(Y.Steamers)||this.hellService.completedHellBosses.push(Y.Steamers),this.logService.log(C.STORY,"The Crown of Steam settles onto your head, then sinks in to become a part of your very soul. You learn to harness the intense heat of the Hell of Steamers in a powerful magical blast."),this.battleService.pyroclasmUnlocked=!0}},hellCrownPillars:{id:"hellCrownPillars",imageFile:"crown",name:"Crown of Pillars",type:"hellcrown",value:1/0,description:"A crown topped with tiny copper pillars. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.battleService||(this.battleService=this.injector.get(hi)),this.hellService.completedHellBosses.includes(Y.CopperPillars)||this.hellService.completedHellBosses.push(Y.CopperPillars),this.logService.log(C.STORY,"The Crown of Pillars settles onto your head, then sinks in to become a part of your very soul. You can now summon a massive metal fist with each of your combat strikes."),this.battleService.metalFistUnlocked=!0}},hellCrownMountainOfKnives:{id:"hellCrownMountainOfKnives",imageFile:"crown",name:"Crown of the Knife Mountain",type:"hellcrown",value:1/0,description:"A crown shaped like a mountain covered in tiny blades. Using this will unlock a new understanding of the world.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.MountainOfKnives)||this.hellService.completedHellBosses.push(Y.MountainOfKnives),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Having balanced your karmic debt, you begin to see the balance in all the world around you."),this.characterService.characterState.yinYangUnlocked=!0}},hellCrownMountainOfIce:{id:"hellCrownMountainOfIce",imageFile:"crown",name:"Crown of Ice",type:"hellcrown",value:1/0,description:"A frozen crown. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.MountainOfIce)||this.hellService.completedHellBosses.push(Y.MountainOfIce),this.battleService||(this.battleService=this.injector.get(hi)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The deep freezing from the mountain has given you a new idea for how to defend yourself."),this.battleService.iceShieldUnlocked=!0}},hellCrownCauldronsOfOil:{id:"hellCrownCauldronsOfOil",imageFile:"crown",name:"Cauldron Crown",type:"hellcrown",value:1/0,description:"An ugly pot you can wear on your head. Using this will unlock a new respect for the sanctity and dignity of human life.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.CauldronsOfOil)||this.hellService.completedHellBosses.push(Y.CauldronsOfOil),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. A new resolve awakens in you to protect the defenseless from those that would abuse them."),this.characterService.characterState.righteousWrathUnlocked=!0}},hellCrownCattlePit:{id:"hellCrownCattlePit",imageFile:"crown",name:"Cow Crown",type:"hellcrown",value:1/0,description:"Now you are the Cow Emperor. Using this will let you understand animals.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.CattlePit)||this.hellService.completedHellBosses.push(Y.CattlePit),this.followerService||(this.followerService=this.injector.get(Tt)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You find a new and deep connection to animals that you've never felt before."),this.followerService.unlockElementalPets()}},hellCrownCrushingBoulder:{id:"hellCrownCrushingBoulder",imageFile:"crown",name:"Boulder Crown",type:"hellcrown",value:1/0,description:"A heavy stone crown. Using this will greatly improve your physical characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.CrushingBoulder)||this.hellService.completedHellBosses.push(Y.CrushingBoulder),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your muscles swell with new power."),this.characterService.characterState.bonusMuscles=!0}},hellCrownMortarsAndPestles:{id:"hellCrownMortarsAndPestles",imageFile:"crown",name:"Gluttonous Crown",type:"hellcrown",value:1/0,description:"A crown topped with mortars full of hellfire. Using this will lead you to a new enlightenment about food.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.MortarsAndPestles)||this.hellService.completedHellBosses.push(Y.MortarsAndPestles),this.homeService||(this.homeService=this.injector.get(pt)),this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You come to a deep appreciation of the value and importance of food."),this.homeService.hellFood=!0,this.inventoryService.divinePeachesUnlocked=!0,this.inventoryService.updateFarmFoodList()}},hellCrownBloodPool:{id:"hellCrownBloodPool",imageFile:"crown",name:"Blood Crown",type:"hellcrown",value:1/0,description:"A liquid crown made of blood. Using this will empower your bloodline.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.BloodPool)||this.hellService.completedHellBosses.push(Y.BloodPool),this.homeService||(this.homeService=this.injector.get(pt)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your bloodline becomes so powerful that the benefits of your ancestral home now apply even when you are no longer in the mortal realm."),this.homeService.hellHome=!0}},hellCrownWrongfulDead:{id:"hellCrownWrongfulDead",imageFile:"crown",name:"Hollow Crown",type:"hellcrown",value:1/0,description:"A crown so light you can barely feel it. Using this will greatly improve your mental characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.WrongfulDead)||this.hellService.completedHellBosses.push(Y.WrongfulDead),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. Your mind suddenly expands with endless new possibilities."),this.characterService.characterState.bonusBrains=!0}},hellCrownDismemberment:{id:"hellCrownDismemberment",imageFile:"crown",name:"Crown of Limbs",type:"hellcrown",value:1/0,description:"A crown topped with dismembered limbs. Using this will open up a new understanding of spirit gems.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.Dismemberment)||this.hellService.completedHellBosses.push(Y.Dismemberment),this.activityService||(this.activityService=this.injector.get(ct)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. If you are spiritual enough, you can now purify gems to infuse new effects into your weapons."),this.activityService.purifyGemsUnlocked=!0,this.activityService.reloadActivities()}},hellCrownFireMountain:{id:"hellCrownFireMountain",imageFile:"crown",name:"Lava Crown",type:"hellcrown",value:1/0,description:"A crown made of pure lava. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.MountainOfFire)||this.hellService.completedHellBosses.push(Y.MountainOfFire),this.battleService||(this.battleService=this.injector.get(hi)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The intense heat of the volcano has strengthened your inner fire, allowing you to form a barrier to protect you and harm your enemies."),this.battleService.fireShieldUnlocked=!0}},hellCrownMills:{id:"hellCrownMills",imageFile:"crown",name:"Millstone Crown",type:"hellcrown",value:1/0,description:"A heavy crown with the weight of a millstone. Using this will increase the limits of your health.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.Mills)||this.hellService.completedHellBosses.push(Y.Mills),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. The intense pressure of the mill has strengthened your skin and bones allowing you to increase your total health dramatically."),this.characterService.characterState.bonusHealth=!0}},hellCrownSaws:{id:"hellCrownSaws",imageFile:"crown",name:"Saw Crown",type:"hellcrown",value:1/0,description:"A toothy crown with sawblades pointing in all directions. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.completedHellBosses.includes(Y.Saws)||this.hellService.completedHellBosses.push(Y.Saws),this.followerService||(this.followerService=this.injector.get(Tt)),this.logService.log(C.STORY,"The crown settles onto your head, then sinks in to become a part of your very soul. You can now recruit followers that put their swindling and cheating to good use."),this.followerService.unlockJob("banker")}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>5?5:this.mainLoopService.topDivider,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>2?2:this.mainLoopService.topDivider,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.mainLoopService.topDivider=1,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.autoRestart=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(ct)),this.activityService?.autoRestart)},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock auto-sell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock auto-use button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoUseUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock auto-balance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyLandUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoBuyFurnitureUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(Dm)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(Dm)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoFieldUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.homeService||(this.homeService=this.injector.get(pt)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock auto-drinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoPotionUnlocked=!0,this.inventoryService.autoPotionEnabled=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Potion")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-swallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoPillUnlocked=!0,this.inventoryService.autoPillEnabled=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(hi)),this.battleService.autoTroubleUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.battleService||(this.battleService=this.injector.get(hi)),this.battleService?.autoTroubleUnlocked)},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldHerbs=!0,this.inventoryService.autoSellOldHerbsEnabled=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldWood=!0,this.inventoryService.autoSellOldWoodEnabled=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldOre=!0,this.inventoryService.autoSellOldOreEnabled=!0,this.inventoryService.autoSellOldBarsEnabled=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldOre)},bestHidesManual:{id:"bestHidesManual",name:"Manual of Pelt Perception",type:"manual",description:"This manual teaches you to automatically sell any hides below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade hides.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldHides=!0,this.inventoryService.autoSellOldHidesEnabled=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldHides)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoequipBestWeapon=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoequipBestArmor=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize*=10,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize*=10,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize*=10,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you to automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(Tt)),this.followerService.autoDismissUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.followerService||(this.followerService=this.injector.get(Tt)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you to automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem auto-selling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ie)),this.inventoryService.autoSellOldGemsUnlocked)},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.autoPauseUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.autoPauseUnlocked)},bankedTicksEfficiencyManual:{id:"bankedTicksEfficiencyManual",name:"Manual of Efficient Time Banking",type:"manual",description:"This manual teaches you to more efficiently bank ticks when paused or offline.",value:25e8,useLabel:"Read",useDescription:"Permanently increase banked tick efficiency to 50%.",useConsumes:!0,use:()=>{this.mainLoopService.offlineDivider=2,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.offlineDivider<=2},autoRestManual:{id:"autoRestManual",name:"Manual of Timely Rest",type:"manual",description:"This manual teaches you to avoid overwork by resting just in time.",value:4e10,useLabel:"Read",useDescription:"Permanently unlock automatic resting.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.autoRestUnlocked=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>(this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.autoRestUnlocked)},ageSpeedManual:{id:"ageSpeedManual",name:"Manual of Aged Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the older you are.",value:75e8,useLabel:"Read",useDescription:"Permanently increase time passage based on your age.",useConsumes:!0,use:()=>{this.mainLoopService.unlockAgeSpeed=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockAgeSpeed},totalPlaytimeManual:{id:"totalPlaytimeManual",name:"Manual of Lifetime Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the longer you've lived across all your lives.",value:5e10,useLabel:"Read",useDescription:"Permanently increase time passage based on your total time lived.",useConsumes:!0,use:()=>{this.mainLoopService.unlockPlaytimeSpeed=!0,this.logService.log(C.EVENT,"The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.")},owned:()=>this.mainLoopService.unlockPlaytimeSpeed}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}eatProduce(e,n,r=1,o=1){this.characterService.characterState.status.nourishment.value+=r,Math.random()<e&&(this.characterService.characterState.healthBonusFood+=r,this.characterService.characterState.status.health.value+=r*o,this.characterService.characterState.foodLifespan+r<=365*n?this.characterService.characterState.foodLifespan+=r:this.characterService.characterState.foodLifespan<365*n&&(this.characterService.characterState.foodLifespan=365*n)),this.characterService.characterState.checkOverage()}static#e=this.\u0275fac=function(n){return new(n||t)(w(Oe),w(we),w(Ei),w(ft))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ie=(()=>{class t{constructor(e,n,r,o,a,s,c){this.injector=e,this.logService=n,this.characterService=r,this.itemRepoService=s,this.titleCasePipe=c,this.itemStacks=[],this.stashedItemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.autoequipBestEnabled=!0,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.autoBuyFood=!0,this.automergeEquipped=!1,this.autoSort=!1,this.descendingSort=!1,this.divinePeachesUnlocked=!1,this.equipmentUnlocked=!1,this.equipmentCreated=0,this.durabilityDisclaimer="\nThe durability and value of equipment degrades with use. Be careful when merging powerful items that have seen a lot of wear, the product may be even lower quality than the original if the item's value is low.",this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],setTimeout(()=>this.hellService=this.injector.get(Pe)),this.bigNumberPipe=this.injector.get(Vt),this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellEntries=[],this.autoUseUnlocked=!1,this.autoUseEntries=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoPotionEnabled=!1,this.autoPillEnabled=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.useCheapestSpiritGem=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldHides=!1,this.autoSellOldHerbsEnabled=!1,this.autoSellOldWoodEnabled=!1,this.autoSellOldOreEnabled=!1,this.autoSellOldBarsEnabled=!1,this.autoSellOldHidesEnabled=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1;for(let l=0;l<this.maxItems;l++)this.itemStacks.push(null);o.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),o.longTickSubject.subscribe(()=>{this.autoequipBestWeapon&&this.autoWeaponMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoArmorMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipArmor();for(const l of["head","body","legs","feet"]){const d=this.characterService.characterState.equipment[l];d&&this.updateArmorDescription(d)}for(const l of["leftHand","rightHand"]){const d=this.characterService.characterState.equipment[l];d&&this.updateWeaponDescription(d)}for(const l of this.itemStacks)if(l){const d=l.item;Xt(d)&&(d.weaponStats?this.updateWeaponDescription(d):d.armorStats&&this.updateArmorDescription(d))}this.autoSort&&this.sortInventory()}),a.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,stashedItemStacks:this.stashedItemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoPotionEnabled:this.autoPotionEnabled,autoPillEnabled:this.autoPillEnabled,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,useCheapestSpiritGem:this.useCheapestSpiritGem,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoSellOldHides:this.autoSellOldHides,autoSellOldHerbsEnabled:this.autoSellOldHerbsEnabled,autoSellOldWoodEnabled:this.autoSellOldWoodEnabled,autoSellOldOreEnabled:this.autoSellOldOreEnabled,autoSellOldBarsEnabled:this.autoSellOldBarsEnabled,autoSellOldHidesEnabled:this.autoSellOldHidesEnabled,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled,autoBuyFood:this.autoBuyFood,automergeEquipped:this.automergeEquipped,autoSort:this.autoSort,descendingSort:this.descendingSort,divinePeachesUnlocked:this.divinePeachesUnlocked,equipmentUnlocked:this.equipmentUnlocked,equipmentCreated:this.equipmentCreated}}setProperties(e){this.itemStacks=e.itemStacks,this.stashedItemStacks=e.stashedItemStacks||[],this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellEntries=e.autoSellEntries||[],this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseEntries=e.autoUseEntries||[],this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoPotionEnabled=e.autoPotionUnlocked||this.autoPotionUnlocked,this.autoPillEnabled=e.autoPillUnlocked||this.autoPillUnlocked,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.useCheapestSpiritGem=e.useCheapestSpiritGem||!1,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoSellOldHides=e.autoSellOldHides||!1,this.autoSellOldHerbsEnabled=e.autoSellOldHerbsEnabled||!1,this.autoSellOldWoodEnabled=e.autoSellOldWoodEnabled||!1,this.autoSellOldOreEnabled=e.autoSellOldOreEnabled||!1,this.autoSellOldBarsEnabled=e.autoSellOldBarsEnabled||!1,this.autoSellOldHidesEnabled=e.autoSellOldHidesEnabled||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.autoequipBestEnabled=void 0===e.autoequipBestEnabled||e.autoequipBestEnabled,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1,this.autoBuyFood=e.autoBuyFood??!0,this.automergeEquipped=e.automergeEquipped||!1,this.autoSort=e.autoSort||!1,this.descendingSort=e.descendingSort||!1,this.divinePeachesUnlocked=e.divinePeachesUnlocked||!1,this.updateFarmFoodList();for(const n of this.itemStacks)n&&n.item.name.includes("monster gem")&&(n.item.name=n.item.name.replace("monster gem","spirit gem"));this.equipmentUnlocked=e.equipmentUnlocked||!1,this.equipmentCreated=e.equipmentCreated||0}updateFarmFoodList(){this.divinePeachesUnlocked&&this.farmFoodList.push(this.itemRepoService.items.divinePeach)}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}sortInventory(){const e=[],n=[],r=[];for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&("spiritGem"===this.itemStacks[a]?.item.type?n.push(s):"equipment"===this.itemStacks[a]?.item.type?r.push(s):e.push(s))}this.descendingSort?(e.sort((a,s)=>a.quantity-s.quantity),e.sort((a,s)=>a.item.value-s.item.value),e.sort((a,s)=>a.item.type>s.item.type?-1:a.item.type===s.item.type?0:1),r.sort((a,s)=>a.item.name>s.item.name?-1:a.item.name===s.item.name?0:1),r.sort((a,s)=>a.item.value-s.item.value),n.sort((a,s)=>a.quantity-s.quantity),n.sort((a,s)=>a.item.value-s.item.value)):(e.sort((a,s)=>s.quantity-a.quantity),e.sort((a,s)=>s.item.value-a.item.value),e.sort((a,s)=>s.item.type>a.item.type?-1:s.item.type===a.item.type?0:1),r.sort((a,s)=>s.item.name>a.item.name?-1:s.item.name===a.item.name?0:1),r.sort((a,s)=>s.item.value-a.item.value),n.sort((a,s)=>s.quantity-a.quantity),n.sort((a,s)=>s.item.value-a.item.value));const o=this.itemStacks.length-e.length-n.length-r.length;this.itemStacks=e,this.itemStacks.push(...r),this.itemStacks.push(...n);for(let a=0;a<o;a++)this.itemStacks.push(null)}generateWeapon(e,n,r,o=void 0,a=void 0){if(this.equipmentCreated++,this.useSpiritGemUnlocked&&this.useSpiritGemWeapons&&r){const j=this.consume("spiritGem",1,this.useCheapestSpiritGem);j>0&&(e=Math.floor(Math.pow(e,1+j/400)))}const s=cr.length*zs.length*Cm.length,c=Math.ceil(Math.sqrt(e/1e10)*s);let l=c%cr.length;c>=s&&(l=cr.length-1);let d=Math.floor(c/cr.length);const m=cr[l];let p="";if(d>0){let j=Math.floor(d/zs.length);j>0?(j>Cm.length?(j=Cm.length,d=zs.length-1):d%=zs.length,p=" of "+Cm[j-1]+" "+zs[d]):p=" of "+zs[d-1]}let v=n,b="rightHand",_="metalWeapon";"wood"===n&&(b="leftHand",v="wooden",_="woodenWeapon");const k=o??RI[Math.floor(Math.random()*RI.length)];let x;"Grandmother's Walking Stick"===k?(x=k,_="stick"):x=m+" "+v+" "+k+p,this.logService.log(C.CRAFTING,"Your hard work paid off! You created a new weapon: "+this.titleCasePipe.transform(x)+"!");const M=15*e,L=Math.max(Math.sqrt(e),1e3)*e;return{id:"weapon",imageFile:_,name:x,type:"equipment",slot:b,value:e,weaponStats:{baseDamage:L,material:n,durability:M,baseName:k,effect:a},description:"A unique weapon made of "+n+". Drag and drop onto similar weapons to merge them into something better.\nBase Damage: "+this.bigNumberPipe.transform(L)+"\nDurability: "+this.bigNumberPipe.transform(M)+"\nValue: "+this.bigNumberPipe.transform(e)+this.durabilityDisclaimer}}updateWeaponDescription(e){if(!e.weaponStats)return;let n="";e.weaponStats.effect&&(n=" and imbued with the power of "+e.weaponStats.effect),e.description="A unique weapon made of "+e.weaponStats.material+n+". Drag and drop onto similar weapons to merge them into something better.\nBase Damage: "+this.bigNumberPipe.transform(e.weaponStats.baseDamage)+"\nDurability: "+this.bigNumberPipe.transform(e.weaponStats.durability)+"\nValue: "+this.bigNumberPipe.transform(e.value)+this.durabilityDisclaimer}updateArmorDescription(e){if(!e.armorStats)return;let n="";e.armorStats.effect&&(n=" and imbued with the power of "+e.armorStats.effect),e.description="A unique piece of armor made of "+e.armorStats.material+n+". Drag and drop onto similar armor to merge them into something better.\nDefense: "+this.bigNumberPipe.transform(e.armorStats.defense)+"\nDurability: "+this.bigNumberPipe.transform(e.armorStats.durability)+"\nValue: "+this.bigNumberPipe.transform(e.value)+this.durabilityDisclaimer}upgradeEquppedEquipment(e){const n=[];if(this.characterService.characterState.equipment.leftHand&&n.push(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.rightHand&&n.push(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.head&&n.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&n.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&n.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&n.push(this.characterService.characterState.equipment.feet),n.length>0){const r=n[Math.floor(Math.random()*n.length)];this.upgradeEquipment(r,e)}}upgradeEquipment(e,n,r="spirit"){e.armorStats?(e.armorStats.durability+=n,e.armorStats.defense+=Math.max(Math.sqrt(n),1e3)*n,"spirit"!==r&&(e.armorStats.effect=r)):e.weaponStats&&(e.weaponStats.durability+=n,e.weaponStats.baseDamage+=Math.max(Math.sqrt(n),1e3)*n,"spirit"!==r&&(e.weaponStats.effect=r)),e.value+=n,this.logService.log(C.CRAFTING,"You add "+n+" power to your "+this.titleCasePipe.transform(e.name))}generatePotion(e,n){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){const s=this.consume("spiritGem",1,this.useCheapestSpiritGem);if(s>0&&(e+=s),(s>0||n)&&Math.random()<.1)return void this.generatePill(e)}else if(n&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())],a="Potion of "+o+" +"+e;this.logService.log(C.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(a)+". Keep up the good work."),this.addItem({name:a,imageFile:"potion",id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let n="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",a=10*e,s=n+" Pill  +"+e,c="pill";this.checkFor("pillBox")>0&&this.checkFor("pillMold")>0&&this.checkFor("pillPouch")>0?(this.consume("pillBox"),this.consume("pillMold"),this.consume("pillPouch"),n="Empowerment",r="A pill that permanently empowers the increase of your attributes based on your aptitudes.",o="Use to permanently empower the increase of your attributes based on your aptitudes.",a=1,s="Empowerment Pill",c="empowermentPill",this.logService.log(C.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(s)+". Its effect gets worse the more you take.")):this.logService.log(C.CRAFTING,"Alchemy Success! Created a "+this.titleCasePipe.transform(s)+". Keep up the good work."),this.addItem({name:s,imageFile:c,id:"pill",type:"pill",value:a,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:n,power:e})}generateHerb(){let e=0;const n=Kl.length*Cy.length;e=Math.floor(Math.pow(this.characterService.characterState.attributes.woodLore.value/1e9,.26)*n);let o=e%Kl.length,a=Math.floor(e/Kl.length);e>=n&&(o=Kl.length-1,a=Cy.length-1);const l=e+1,d=Cy[a]+" "+Kl[o];if(this.addItem({id:"herb",imageFile:"herb",imageColor:this.itemRepoService.colorByRank[a],name:d,type:"ingredient",value:l,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbsEnabled)for(let m=0;m<this.itemStacks.length;m++){const p=this.itemStacks[m];p&&"herb"===p.item.id&&p.item.value<l&&p.item.name!==d&&this.sell(p,p.quantity)}}generateSpiritGem(e,n="spirit"){let r="A spirit gem dropped by a monster.";return"spirit"!==n&&(r="A spirit gem full of the power of "+n+"."),{id:"spiritGemGrade"+e,imageFile:"spiritGem",name:n+" gem grade "+e,type:n+"Gem",value:10*e,description:r}}generateArmor(e,n,r,o,a=void 0,s=void 0){if(this.equipmentCreated++,this.useSpiritGemUnlocked&&this.useSpiritGemWeapons&&o){const j=this.consume("spiritGem",1,this.useCheapestSpiritGem);j>0&&(e=Math.floor(Math.pow(e,1+j/400)))}const c=cr.length*qs.length*km.length,l=Math.ceil(Math.sqrt(e/1e10)*c);let d=l%cr.length;l>=c&&(d=cr.length-1);let m=Math.floor(l/cr.length);const p=cr[d];let v="";if(m>0){let j=Math.floor(m/qs.length);j>0?(j>km.length?(j=km.length,m=qs.length-1):m%=qs.length,v=" of "+km[j-1]+" "+qs[m]):v=" of "+qs[m-1]}let b=dW,_="chestArmor";"legs"===r?(b=uW,_="legsArmor"):"head"===r?(b=hW,_="headArmor"):"feet"===r&&(_="feetArmor",b=mW);const k=a??b[Math.floor(Math.random()*b.length)],x=p+" "+k+v;this.logService.log(C.CRAFTING,"Your hard work paid off! You created some armor: "+this.titleCasePipe.transform(x)+"!");const M=10*e,L=Math.max(Math.sqrt(e),1e3)*e;return{id:"armor",imageFile:_,name:x,type:"equipment",slot:r,value:e,armorStats:{defense:L,material:n,durability:M,baseName:k,effect:s},description:"A unique piece of armor made of "+n+". Drag and drop onto similar armor to merge them into something better.\nDefense: "+this.bigNumberPipe.transform(L)+"\nDurability: "+this.bigNumberPipe.transform(M)+"\nValue: "+this.bigNumberPipe.transform(e)+this.durabilityDisclaimer}}randomArmorSlot(){const e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){const n=Math.floor(16*Math.pow(this.characterService.characterState.attributes.earthLore.value/1e9,.15));let r=this.itemRepoService.items.copperOre;for(const o in this.itemRepoService.items){const a=this.itemRepoService.items[o];"ore"===a.type&&a.value>r.value&&a.value<=n&&(r=a)}if(this.autoSellOldOreEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){const a=this.itemStacks[o];a&&"ore"===a.item.type&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getBar(e){const n=10*e;let r=this.itemRepoService.items.copperBar;for(const o in this.itemRepoService.items){const a=this.itemRepoService.items[o];if("metal"===a.type&&a.value===n){r=a;break}}if(this.autoSellOldBarsEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){const a=this.itemStacks[o];a&&"metal"===a.item.type&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getWood(){const n=Math.floor(16*Math.pow(this.characterService.characterState.attributes.woodLore.value/1e9,.15));let r=this.itemRepoService.items.balsaLog;for(const o in this.itemRepoService.items){const a=this.itemRepoService.items[o];"wood"===a.type&&a.value>r.value&&a.value<=n&&(r=a)}if(this.autoSellOldWoodEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){const a=this.itemStacks[o];a&&"wood"===a.item.type&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}getHide(){const n=Math.floor(16*Math.pow(this.characterService.characterState.attributes.animalHandling.value/1e9,.15));let r=this.itemRepoService.items.hide;for(const o in this.itemRepoService.items){const a=this.itemRepoService.items[o];"hide"===a.type&&a.value>r.value&&a.value<=n&&(r=a)}if(this.autoSellOldHidesEnabled&&!this.hellService?.inHell)for(let o=0;o<this.itemStacks.length;o++){const a=this.itemStacks[o];a&&"hide"===a.item.type&&a.item.value<r.value&&this.sell(a,a.quantity)}return r}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.stashedItemStacks=[],this.changeMaxItems(10),this.grandmotherGift&&this.addItem({id:"weapon",imageFile:"stick",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100,baseName:"Grandmother's Walking Stick"},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.\nBase Damage: 10\nDurability: 100\nValue: 10"+this.durabilityDisclaimer}),this.characterService.characterState.bloodlineRank>=6||this.motherGift&&(this.logService.log(C.EVENT,"Your mother gives you three big bags of rice as she sends you out to make your way in the world."),this.addItem(this.itemRepoService.items.rice,300))}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!==r&&"food"===r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,!this.hellService?.inHell&&this.characterService.characterState.money>0&&this.autoBuyFood&&(this.characterService.characterState.updateMoney(-1),this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItem(e,n=1,r=0){n<1&&(n=1);for(const a of this.autoBalanceItems)if(a.name===e.name){if(this.hellService?.inHell)return this.useItem(e,n*a.useNumber),-1;if(a.useNumber<1){if(a.sellNumber<1)break;return this.characterService.characterState.updateMoney(e.value*n),-1}if(a.sellNumber<1)return this.useItem(e,n*a.useNumber),-1;let s=n%(a.useNumber+a.sellNumber);for(n-=s;s>0;){if(a.index<a.useNumber){if(s+a.index<=a.useNumber){this.useItem(e,s),a.index+=s;break}this.useItem(e,a.useNumber-a.index),s-=a.useNumber-a.index,a.index=a.useNumber}if(a.index<a.useNumber+a.sellNumber){if(s+a.index<a.useNumber+a.sellNumber){this.characterService.characterState.updateMoney(e.value*s),a.index+=s;break}this.characterService.characterState.updateMoney(e.value*(a.useNumber+a.sellNumber-a.index)),s-=a.useNumber+a.sellNumber-a.index,a.index=0}a.index>=a.useNumber+a.sellNumber&&(a.index-=a.useNumber+a.sellNumber)}if(n&&(this.useItem(e,(n/=a.useNumber+a.sellNumber)*a.useNumber),this.characterService.characterState.updateMoney(e.value*n),n=0),n<1)return-1;break}if(this.autoPotionEnabled&&"potion"===e.type)return this.useItem(e,n),-1;if(this.autoPillEnabled&&"pill"===e.type)return this.useItem(e,n),-1;for(const a of this.autoUseEntries)if(a.name===e.name){let s=this.getQuantityByName(e.name)+n-a.reserve;if(s>n&&(s=n),s>0&&(this.useItem(e,n),0==(n-=s)))return-1}if(this.autoSellOldGemsEnabled&&"spiritGem"===e.type&&!this.hellService?.inHell)for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&"spiritGem"===s.item.type&&s.item.value<e.value&&(this.characterService.characterState.updateMoney(s.item.value*s.quantity),this.itemStacks[a]=null)}for(const a of this.autoSellEntries)if(a.name===e.name&&!this.hellService?.inHell){let s=this.getQuantityByName(e.name)+n-a.reserve;if(s>n&&(s=n),s>0&&(this.characterService.characterState.updateMoney(e.value*s),0==(n-=s)))return-1}let o=-1;if("equipment"!==e.type)for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];if(s&&s.item.name===e.name){if(s.quantity+n<=this.maxStackSize)return s.quantity+=n,-1===o&&(o=a),o;-1===o&&(o=a),n-=this.maxStackSize-s.quantity,s.quantity=this.maxStackSize}}for(let a=r;a<this.itemStacks.length;a++)if(null===this.itemStacks[a]){if(-1===o&&(o=a),n<=this.maxStackSize)return this.itemStacks[a]={item:e,quantity:n},o;this.itemStacks[a]={item:e,quantity:this.maxStackSize},n-=this.maxStackSize}return this.autoSellUnlocked&&!this.hellService?.inHell?(this.logService.log(C.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you sold it."),this.characterService.characterState.updateMoney(e.value*n)):this.logService.log(C.EVENT,"You don't have enough room for the "+this.titleCasePipe.transform(e.name)+" so you threw it away."),this.thrownAwayItems+=n,o}sell(e,n){if(e.item.value===1/0||this.hellService?.inHell)return;this.lifetimeSoldItems+=n,"spiritGem"===e.item.type&&(this.lifetimeGemsSold+=n);const r=this.itemStacks.indexOf(e);n>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.updateMoney(e.quantity*e.item.value),e===this.selectedItem&&(this.selectedItem=null)):(e.quantity-=n,this.characterService.characterState.updateMoney(n*e.item.value))}sellAll(e){if(!this.hellService?.inHell)for(const n of this.itemStacks)null!==n&&n.item.name===e.name&&this.sell(n,n.quantity)}autoSell(e){e.value!==1/0&&this.autoSellUnlocked&&(Xt(e)||(this.autoSellEntries.some(n=>n.name===e.name)||this.autoSellEntries.push({name:e.name,reserve:0}),this.sellAll(e)))}unAutoSell(e){const n=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(n,1)}useItemStack(e,n=1){if(n<1&&(n=1),n>e.quantity&&(n=e.quantity),this.useItem(e.item,n),e.item.useConsumes&&(e.quantity-=n,e.quantity<=0)){const r=this.itemStacks.indexOf(e);this.itemStacks[r]=null,e===this.selectedItem&&(this.selectedItem=null)}}useItem(e,n=1){n<1&&(n=1),this.lifetimeUsedItems++,"potion"===e.type&&function vW(t){return"attribute"in t}(e)?this.usePotion(e,n):"pill"===e.type&&function bW(t){return"effect"in t}(e)?this.usePill(e,n):e.use&&(e.use(n),"food"===e.type&&(this.fed=!0,this.hellService&&(this.hellService.daysFasted=0)))}autoUse(e){if(this.autoUseUnlocked&&("potion"===e.type||"pill"===e.type||e.use)&&(this.autoUseEntries.some(n=>n.name===e.name)||this.autoUseEntries.push({name:e.name,reserve:0}),e.useConsumes))for(let n=0;n<this.itemStacks.length;n++){const r=this.itemStacks[n];r&&r.item.name===e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){const n=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(n,1)}autoBalance(e){for(const n of this.autoBalanceItems)if(n.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let n=0;n<this.autoBalanceItems.length;n++)if(this.autoBalanceItems[n].name===e)return void this.autoBalanceItems.splice(n,1)}equip(e){const n=e.item;if(!Xt(n))return;if((n.armorStats?.durability||0)<=0&&(n.weaponStats?.durability||0)<=0)return void this.logService.log(C.EVENT,"You tried to equip some broken equipment, but it was broken.");const r=this.characterService.characterState.equipment[n.slot];r&&this.addItem(r),this.characterService.characterState.equipment[n.slot]=n;const o=this.itemStacks.indexOf(e);this.itemStacks[o]=null}equipBest(e){let n=0,r=!0;"leftHand"===e||"rightHand"===e?n=this.characterService.characterState.equipment[e]?.weaponStats?.baseDamage||0:(r=!1,n=this.characterService.characterState.equipment[e]?.armorStats?.defense||0);for(let o=0;o<this.itemStacks.length;o++){const a=this.itemStacks[o];if(a){const s=a.item;if(Xt(s)&&s.slot===e){let c=0;if(r&&s.weaponStats&&s.weaponStats?.durability>0)c=s.weaponStats?.baseDamage;else{if(!(!r&&s.armorStats&&s.armorStats?.durability>0))continue;c=s.armorStats?.defense}c>n&&this.equip(a)}}}}consume(e,n=1,r=!1){n<0&&(n=0);let o=-1;r&&(o=1/0);let a=-1;for(let s=0;s<this.itemStacks.length;s++){const c=this.itemStacks[s];c&&c.item.type===e&&(r?o>c.item.value&&(o=c.item.value,a=s):o<c.item.value&&(o=c.item.value,a=s))}if(a>=0){const s=this.itemStacks[a];if(null!==s){const c=Math.min(s.quantity,n);s.quantity-=c,n-=c,s.quantity<=0&&(this.itemStacks[a]=null)}}return n>0&&a>=0&&(o=this.consume(e,n)),r&&o===1/0&&(o=-1),o}checkFor(e){let n=-1;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];o&&o.item.type===e&&n<o.item.value&&(n=o.item.value)}return n}getQuantityByName(e){let n=0;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];o&&o.item.name===e&&(n+=o.quantity)}return n}getQuantityByType(e){let n=0;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];o&&o.item.type===e&&(n+=o.quantity)}return n}hasDurability(e){const n=e.item;return!Xt(n)||(n.armorStats?.durability||0)>0||(n.weaponStats?.durability||0)>0}usePotion(e,n=1){n<1&&(n=1),this.lifetimePotionsUsed+=n,this.characterService.characterState.attributes[e.attribute].value+=e.increase*n}usePill(e,n=1){n<1&&(n=1),this.lifetimePillsUsed+=n,"Longevity"===e.effect?(this.characterService.characterState.alchemyLifespan+=e.power*n,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):"Empowerment"===e.effect&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(const n of this.itemStacks)n||e++;return e}mergeEquipment(e,n,r){if(e.slot!==n.slot)return;let o=0;o=this.addItem("rightHand"===e.slot||"leftHand"===e.slot?this.generateWeapon(e.value+n.value,e.weaponStats?.material+"",!1,e.weaponStats?.baseName,e.weaponStats?.effect):this.generateArmor(e.value+n.value,e.armorStats?.material+"",e.slot,!1,e.armorStats?.baseName,e.armorStats?.effect)),o!==r&&!this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[o],this.itemStacks[o]=null)}mergeItemStacks(e,n,r){e&&n&&e.item.name===n.item.name&&e.quantity+n.quantity<this.maxStackSize&&(n.quantity+=e.quantity,this.itemStacks[r]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){let n=-1,r=null,o=null,a=-1;for(let s=0;s<this.itemStacks.length;s++){let c=this.itemStacks[s]?.item;c&&Xt(c)&&c.slot===e&&(-1===n?(n=s,a=s,r=c):(o=c,r&&((this.selectedItem===this.itemStacks[n]||this.selectedItem===this.itemStacks[s])&&(this.selectedItem=null),this.itemStacks[n]=null,this.itemStacks[s]=null,this.mergeEquipment(r,o,n),c=this.itemStacks[n]?.item,c?Xt(c)&&c.slot===e&&(r=c):n=-1)))}this.automergeEquipped&&r&&this.autoequipBestEnabled&&(this.autoequipBestWeapon||this.autoequipBestArmor)&&(("rightHand"===e||"leftHand"===e)&&this.autoequipBestWeapon||"rightHand"!==e&&"leftHand"!==e&&this.autoequipBestArmor)&&this.mergeEquippedSlot(e,r,a)}mergeEquippedSlot(e,n,r){const o=this.characterService.characterState.equipment[e];if(!o)return;if(n.type.includes("Gem")&&o)return void this.gemifyEquipment(r,o);if(!Xt(n))return;let a;if(!o)return this.characterService.characterState.equipment[e]=n,void(this.itemStacks[r]=null);a="rightHand"===e||"leftHand"===e?this.generateWeapon(o.value+n.value,n.weaponStats?.material+"",!1,o.weaponStats?.baseName,o.weaponStats?.effect):this.generateArmor(o.value+n.value,n.armorStats?.material+"",e,!1,o.armorStats?.baseName,o.armorStats?.effect),this.characterService.characterState.equipment[e]=a,this.itemStacks[r]=null}mergeSpiritGem(e,n=0){if(!(e.quantity<10-n)&&(e.quantity-=10-n,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0===e.quantity))for(let r=0;r<this.itemStacks.length;r++)if(this.itemStacks[r]===e)return void(this.itemStacks[r]=null)}mergeAnySpiritGem(e=0){const n=this.characterService.meridianRank();e>n-5&&(e=n-5),e<0&&(e=0);for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];if(o&&"spiritGem"===o.item.type&&o.quantity>=10-e)return void this.mergeSpiritGem(o,e)}}stashWeapons(){this.characterService.stashWeapons();for(let e=0;e<this.itemStacks.length;e++){const n=this.itemStacks[e]?.item;n&&Xt(n)&&n.weaponStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.itemStacks[e]=null)}}restoreWeapons(){this.characterService.restoreWeapons();for(let e=this.stashedItemStacks.length-1;e>=0;e--){const n=this.stashedItemStacks[e];n&&n.item&&Xt(n.item)&&n.item.weaponStats&&(this.addItem(n.item,n.quantity),this.stashedItemStacks.splice(e,1))}}stashArmor(){this.characterService.stashArmor();for(let e=0;e<this.itemStacks.length;e++){const n=this.itemStacks[e]?.item;n&&Xt(n)&&n.armorStats&&(this.stashedItemStacks.push(this.itemStacks[e]),this.itemStacks[e]=null)}}restoreArmor(){this.characterService.restoreArmor();for(let e=this.stashedItemStacks.length-1;e>=0;e--){const n=this.stashedItemStacks[e];n&&n.item&&Xt(n.item)&&n.item.armorStats&&(this.addItem(n.item,n.quantity),this.stashedItemStacks.splice(e,1))}}stashInventory(){for(let e=0;e<this.itemStacks.length;e++){const n=this.itemStacks[e]?.item;n&&"food"!==n.type&&!n.type.includes("Gem")&&(this.stashedItemStacks.push(this.itemStacks[e]),this.itemStacks[e]=null)}}restoreInventory(){for(let e=this.stashedItemStacks.length-1;e>=0;e--){const n=this.stashedItemStacks[e];n&&n.item&&this.addItem(n.item,n.quantity)}this.stashedItemStacks=[]}gemifyEquipment(e,n){const r=this.itemStacks[e],o=this.itemStacks[e]?.item;if(r&&o&&o.type.includes("Gem")){const a=o.type.substring(0,o.type.length-3);this.upgradeEquipment(n,Math.floor(Math.pow(o.value/10,2.4)),a),this.updateArmorDescription(n),r.quantity>1?r.quantity--:this.itemStacks[e]=null,this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}}removeItemStack(e){const n=this.itemStacks.indexOf(e);this.thrownAwayItems+=e.quantity,this.itemStacks[n]=null}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Ei),w(Oe),w(ft),w(Tr),w(tn),w(Qi))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xt(t){return"slot"in t}let Tt=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d){this.injector=e,this.logService=n,this.characterService=r,this.homeService=o,this.inventoryService=a,this.itemRepoService=s,this.battleService=d,this.camelToTitle=new ao,this.followersUnlocked=!1,this.followerLifespanDoubled=!1,this.followers=[],this.pets=[],this.stashedFollowers=[],this.stashedPets=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.maxPetsByType={},this.stashedFollowersMaxes={},this.stashedPetMaxes={},this.followerCap=0,this.petsCap=0,this.followersMaxed="UNMAXED",this.petsMaxed="UNMAXED",this.sortField="Job",this.sortAscending=!0,this.totalRecruited=0,this.totalDied=0,this.totalDismissed=0,this.highestLevel=0,this.unlockedHiddenJobs=[],this.autoReplaceUnlocked=!1,this.petsEnabled=!1,this.onlyWantedFollowers=!1,this.jobs={builder:{work:m=>{this.homeService.nextHomeCostReduction+=this.jobs.builder.totalPower,this.homeService.upgrading&&this.homeService.upgradeTick(this.jobs.builder.totalPower*m)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster.",totalPower:0},hunter:{work:m=>{this.hellService?.inHell?this.jobs.hunter.totalPower>1e3&&this.inventoryService.addItem(this.itemRepoService.items.spiritMeat,Math.floor(this.jobs.hunter.totalPower/1e3*m)):this.inventoryService.addItem(this.itemRepoService.items.meat,this.jobs.hunter.totalPower*m)},description:"Hunters collect meat and help you hunt for hides.",totalPower:0,runEachTick:!0},farmer:{work:m=>{this.homeService.workFields(this.jobs.farmer.totalPower*m)},description:"Farmers work your fields, helping your crops to grow.",totalPower:0,runEachTick:!0},weaponsmith:{work:m=>{let p=this.jobs.weaponsmith.totalPower;this.hellService?.inHell&&(p/=10);const v=this.characterService.characterState.equipment.rightHand,b=this.characterService.characterState.equipment.leftHand;v&&v.weaponStats&&(v.weaponStats.durability+=Math.ceil(100*Math.pow(p/10,2))*m,v.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(p/10),2))*m,v.value+=Math.ceil(Math.pow(Math.floor(p/10),2))*m),b&&b.weaponStats&&(b.weaponStats.durability+=Math.ceil(100*Math.pow(p/10,2))*m,b.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(p/10),2))*m,b.value+=Math.ceil(Math.pow(Math.floor(p/10),2))*m)},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day. Higher levels can also help improve them.",totalPower:0},armorer:{work:m=>{let p=this.jobs.armorer.totalPower;this.hellService?.inHell&&(p/=10);const v=_=>({..._,armorStats:_.armorStats?{..._.armorStats,durability:_.armorStats?.durability+Math.ceil(50*Math.pow(p/10,2))*m,defense:_.armorStats?.defense+Math.ceil(Math.pow(Math.floor(p/10),2)/2)*m}:void 0,value:_.value+Math.ceil(Math.pow(Math.floor(p/10),2)/2)*m}),b=this.characterService.characterState.equipment;b.head&&b.head.armorStats&&(b.head=v(b.head)),b.body&&b.body.armorStats&&(b.body=v(b.body)),b.legs&&b.legs.armorStats&&(b.legs=v(b.legs)),b.feet&&b.feet.armorStats&&(b.feet=v(b.feet))},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day. Higher levels can also help improve them.",totalPower:0},brawler:{work:m=>{let p=this.jobs.brawler.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("strength",p)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength.",totalPower:0},sprinter:{work:m=>{let p=this.jobs.sprinter.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("speed",p)},description:"Sprinters challenge you to footraces and help you increase your speed.",totalPower:0},trainer:{work:m=>{let p=this.jobs.trainer.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("toughness",p)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness.",totalPower:0},tutor:{work:m=>{let p=this.jobs.tutor.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("intelligence",p)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence.",totalPower:0},mediator:{work:m=>{let p=this.jobs.mediator.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("charisma",p)},description:"Mediators teach you how to persuade others, increasing your charisma.",totalPower:0},priest:{work:m=>{let p=this.jobs.priest.totalPower*m;this.hellService?.inHell&&(p/=10),this.characterService.characterState.increaseAttribute("spirituality",p)},description:"Priests help you get closer to the divine, increasing your sprituality.",totalPower:0},gemologist:{work:m=>{let p=this.jobs.gemologist.totalPower;this.hellService?.inHell&&(p/=10),p=Math.floor(p/50),p>4&&(p=4);for(let v=0;v<m;v++)this.inventoryService.mergeAnySpiritGem(p)},description:"Gemologists combine spirit gems into higher grades.",totalPower:0},scout:{work:m=>{let p=this.jobs.scout.totalPower*m;this.hellService?.inHell&&(p/=10),this.battleService.tickCounter+=p},description:"Scouts help you track down and fight monsters faster.",totalPower:0,runEachTick:!0},damned:{work:m=>{this.battleService.tickCounter+=this.jobs.damned.totalPower*m},description:"Damned are souls working off karmic debt in hell that hav decided to join you. Having this follower seems to enrage the demons around you.",hidden:!0,totalPower:0},prophet:{work:m=>{for(let p=0;p<m;p++)Math.random()<1e-5*this.jobs.prophet.totalPower&&this.generateFollower()},description:"Prophets are dedicated to spreading the word of your greatness. Prophets can even find other followers for you if you are out of the mortal realm.",hidden:!0,totalPower:0},moneyBurner:{work:m=>{let p=this.jobs.moneyBurner.totalPower;p=Math.floor(p/50),p>10?p=10:p<1&&(p=1);const v=1e6/p;let b=m;this.characterService.characterState.money<v*b&&(b=Math.floor(this.characterService.characterState.money/v)),this.characterService.characterState.updateMoney(0-b*v),this.characterService.characterState.hellMoney+=b},description:"Money Burners dedicate themselves to burning mortal money to produce hell money.",hidden:!0,totalPower:0},banker:{work:m=>{let p=this.jobs.banker.totalPower;this.hellService?.inHell&&(p/=10);for(let v=0;v<m;v++)this.characterService.characterState.updateMoney(273e-9*this.characterService.characterState.money*p),this.characterService.characterState.hellMoney+=273e-9*this.characterService.characterState.hellMoney*p},description:"Bankers put your money to use, earning interest on what you have. Surprisingly, this works for hell money too.",hidden:!0,totalPower:0},snake:{work:m=>{this.characterService.characterState.increaseAttribute("fireLore",this.jobs.snake.totalPower*m)},description:"A fiery serpent. Snakes understand fire and can teach you the hidden secrets of the flames.",hidden:!0,pet:!0,totalPower:0},tiger:{work:m=>{this.characterService.characterState.increaseAttribute("woodLore",this.jobs.tiger.totalPower*m)},description:"Tigers know the secrets of the jungle and can teach you the deepest mysteries of Wood Lore.",hidden:!0,pet:!0,totalPower:0},ox:{work:m=>{this.characterService.characterState.increaseAttribute("earthLore",this.jobs.ox.totalPower*m)},description:"Oxen connect deeply to the earth and can teach you their secret understanding.",hidden:!0,pet:!0,totalPower:0},monkey:{work:m=>{this.characterService.characterState.increaseAttribute("metalLore",this.jobs.monkey.totalPower*m)},description:"Monkeys know more about metal than the greatest of human blacksmiths.",hidden:!0,pet:!0,totalPower:0},pig:{work:m=>{this.characterService.characterState.increaseAttribute("waterLore",this.jobs.pig.totalPower*m)},description:"Pigs understand the secrets of water and can teach them to you.",hidden:!0,pet:!0,totalPower:0}},setTimeout(()=>this.hellService=this.injector.get(Pe)),c.yearOrLongTickSubject.subscribe(m=>{this.followersUnlocked&&m&&(this.updateFollowerCap(),this.yearTickFollowers(this.followers,m),this.yearTickFollowers(this.pets,m),this.followersWorks(m),this.sortFollowers(this.sortAscending,!0),this.sortFollowers(this.sortAscending,!1))}),c.tickSubject.subscribe(()=>{this.followersUnlocked&&(this.characterService.characterState.dead||(this.characterService.characterState.age%18250==0&&!this.hellService?.inHell&&this.generateFollower(),this.followersWorks(),this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED",this.petsMaxed=this.petsMaxed=this.pets.length<this.petsCap?"UNMAXED":"MAXED"))}),l.reincarnateSubject.subscribe(()=>{this.reset()})}yearTickFollowers(e,n){for(let r=e.length-1;r>=0;r--){const o=e[r];if(o.age+=n,o.age>=e[r].lifespan){if(this.totalDied++,e.splice(r,1),this.autoReplaceUnlocked){const a=this.generateFollower(o.pet,o.job);a&&(a.power=Math.round(o.power/2),a.cost=100*a.power,this.logService.log(C.FOLLOWER,"Your follower "+o.name+" passed away from old age but was replaced by their child "+a?.name+".")),this.logService.log(C.FOLLOWER,"Your follower "+o.name+" passed away from old age and was not replaced because of your choices in follower jobs.")}else this.logService.injury(C.FOLLOWER,"Your follower "+o.name+" passed away from old age.");this.updateFollowerTotalPower()}else this.characterService.characterState.money<e[r].cost*n&&!this.hellService?.inHell?(this.totalDismissed++,this.logService.injury(C.FOLLOWER,"You didn't have enough money to suppport your follower "+e[r].name+" so they left your service."),e.splice(r,1),this.updateFollowerTotalPower()):this.hellService?.inHell||this.characterService.characterState.updateMoney(0-e[r].cost*n)}}updateFollowerCap(){this.followerCap=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank,this.petsCap=Math.round(1+this.characterService.meridianRank()/10+this.characterService.soulCoreRank()/10+this.characterService.characterState.bloodlineRank/10+Math.log10(this.characterService.characterState.attributes.animalHandling.value)),this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED"}updateFollowerTotalPower(){for(const e of Object.keys(this.jobs))this.jobs[e].totalPower=0;for(let e=this.followers.length-1;e>=0;e--)this.jobs[this.followers[e].job].totalPower+=this.followers[e].power;for(let e=this.pets.length-1;e>=0;e--)this.jobs[this.pets[e].job].totalPower+=this.pets[e].power}sortFollowers(e,n=!1){let r=1,o=-1;e||(r=-1,o=1);let a=this.followers;n&&(a=this.pets),a.sort("Remaining Life"===this.sortField?(s,c)=>s.lifespan-s.age>c.lifespan-c.age?r:s.lifespan-s.age==c.lifespan-c.age?0:o:(s,c)=>(s[this.sortField.toLowerCase()]??0)>(c[this.sortField.toLowerCase()]??0)?r:s[this.sortField.toLowerCase()]===c[this.sortField.toLowerCase()]?0:o)}followersWorks(e){for(const n of Object.keys(this.jobs)){const r=this.jobs[n];r.totalPower>0&&(e&&!r.runEachTick?r.work(e):!e&&r.runEachTick&&r.work(1))}}reset(){this.characterService.characterState.bloodlineRank>=7?this.logService.log(C.FOLLOWER,"Your imperial entourage rejoins you as you set out."):(this.followers.splice(0,this.followers.length),this.followersMaxed="UNMAXED"),this.followersRecruited=0,this.updateFollowerTotalPower()}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,pets:this.pets,stashedFollowers:this.stashedFollowers,stashedPets:this.stashedPets,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType,maxPetsByType:this.maxPetsByType,stashedFollowersMaxes:this.stashedFollowersMaxes,stashedPetMaxes:this.stashedPetMaxes,sortField:this.sortField,sortAscending:this.sortAscending,totalRecruited:this.totalRecruited,totalDied:this.totalDied,totalDismissed:this.totalDismissed,highestLevel:this.highestLevel,unlockedHiddenJobs:this.unlockedHiddenJobs,autoReplaceUnlocked:this.autoReplaceUnlocked,petsEnabled:this.petsEnabled,onlyWantedFollowers:this.onlyWantedFollowers}}setProperties(e){this.followers=e.followers||[],this.pets=e.pets||[],this.stashedFollowers=e.stashedFollowers||[],this.stashedPets=e.stashedPets||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.maxFollowerByType=e.maxFollowerByType||{},this.maxPetsByType=e.maxPetsByType||{},this.stashedFollowersMaxes=e.stashedFollowersMaxes||{},this.stashedPetMaxes=e.stashedPetMaxes||{},this.sortField=e.sortField||"Job",this.sortAscending=void 0===e.sortAscending||e.sortAscending,this.totalRecruited=e.totalRecruited||0,this.totalDied=e.totalDied||0,this.totalDismissed=e.totalDismissed||0,this.highestLevel=e.highestLevel||0,this.unlockedHiddenJobs=e.unlockedHiddenJobs||[],this.autoReplaceUnlocked=e.autoReplaceUnlocked||!1,this.petsEnabled=e.petsEnabled||!1,this.onlyWantedFollowers=e.onlyWantedFollowers||!1,this.unhideUnlockedJobs(),this.updateFollowerTotalPower()}unlockJob(e){this.unlockedHiddenJobs.includes(e)||this.unlockedHiddenJobs.push(e),this.unhideUnlockedJobs()}unhideUnlockedJobs(){for(const e of this.unlockedHiddenJobs)this.jobs[e].hidden=!1}generateFollower(e=!1,n){let r=this.followers,o=this.followerCap;if(e&&(r=this.pets,o=this.petsCap),this.totalRecruited++,this.followersRecruited++,r.length>=o){if(!this.onlyWantedFollowers)return this.logService.injury(C.FOLLOWER,"A new follower shows up, but you already have too many. You are forced to turn them away."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null;{const l=Object.keys(this.jobs);let d=!1;for(const m of l){if(this.jobs[m].hidden)continue;let p=void 0!==this.maxFollowerByType[m]?this.maxFollowerByType[m]:1e3;e&&(p=void 0!==this.maxPetsByType[m]?this.maxPetsByType[m]:1e3);let v=0;for(const b of r)if(b.job===m&&v++,v>p){d=!0,this.dismissFollower(b);break}if(d)break}if(!d)return this.logService.injury(C.FOLLOWER,"A new follower shows up, but you already have all the followers you want."),e?this.petsMaxed="MAXED":this.followersMaxed="MAXED",null}}if(""===(n=n||this.generateFollowerJob(e,r)))return null;let a=void 0!==this.maxFollowerByType[n]?this.maxFollowerByType[n]:1e3;if(e&&(a=void 0!==this.maxPetsByType[n]?this.maxPetsByType[n]:1e3),this.numFollowersOnJob(n,r)>=a)return this.logService.log(C.FOLLOWER,"A new follower shows up, but they were a "+this.camelToTitle.transform(n)+" and you don't want any more of those."),this.totalDismissed++,null;const s=this.followerLifespanDoubled?5:10;this.logService.log(C.FOLLOWER,"A new "+this.camelToTitle.transform(n)+" has come to learn at your feet.");const c={name:this.generateFollowerName(),age:0,lifespan:Math.min(this.characterService.characterState.lifespan/s,365e3),job:n,power:1,cost:100,pet:e};return r.push(c),this.sortFollowers(this.sortAscending,e),r.length>=o&&(e?this.petsMaxed="MAXED":this.followersMaxed="MAXED"),this.updateFollowerTotalPower(),c}numFollowersOnJob(e,n){let r=0;for(const o of n)o.job===e&&r++;return r}generateFollowerName(){return OI[Math.floor(Math.random()*OI.length)]}generateFollowerJob(e=!1,n){const r=Object.keys(this.jobs),o=[];for(const a of r)if(!this.jobs[a].hidden&&(e&&this.jobs[a].pet||!e&&!this.jobs[a].pet))if(this.onlyWantedFollowers){let s=void 0!==this.maxFollowerByType[a]?this.maxFollowerByType[a]:1e3;e&&(s=void 0!==this.maxPetsByType[a]?this.maxPetsByType[a]:1e3),this.numFollowersOnJob(a,n)<s&&o.push(a)}else o.push(a);return 0===o.length?"":o[Math.floor(Math.random()*o.length)]}dismissFollower(e){if(this.totalDismissed++,e.pet){const n=this.pets.indexOf(e);this.pets.splice(n,1),this.petsMaxed="UNMAXED"}else{const n=this.followers.indexOf(e);this.followers.splice(n,1),this.followersMaxed="UNMAXED"}this.updateFollowerTotalPower()}dismissAllFollowers(e=null,n=!1){let r=this.followers;if(n?(r=this.pets,this.petsMaxed="UNMAXED"):this.followersMaxed="UNMAXED",e)for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&(r.splice(o,1),this.totalDismissed++);else this.totalDismissed+=r.length,r.splice(0);this.updateFollowerTotalPower()}limitFollower(e){let n=0,r=this.followers;e.pet&&(r=this.pets);for(let o=r.length-1;o>=0;o--)r[o].job===e.job&&n++;e.pet?this.maxPetsByType[e.job]=n:this.maxFollowerByType[e.job]=n}setMaxFollowers(e,n){this.maxFollowerByType[e]=!n||n<0?0:n}setMaxPets(e,n){this.maxPetsByType[e]=!n||n<0?0:n}stashFollowers(){this.stashedFollowers=this.followers,this.followers=[],this.stashedPets=this.pets,this.pets=[],this.stashedFollowersMaxes=this.maxFollowerByType,this.stashedPetMaxes=this.maxPetsByType,this.maxFollowerByType={},this.maxPetsByType={}}restoreFollowers(){this.followers=this.stashedFollowers,this.stashedFollowers=[],this.pets=this.stashedPets,this.stashedPets=[],this.maxFollowerByType=this.stashedFollowersMaxes,this.maxPetsByType=this.stashedPetMaxes,this.stashedFollowersMaxes={},this.stashedPetMaxes={}}hellPurge(){const e=["prophet","moneyBurner","damned"];for(let n=this.followers.length-1;n>=0;n--)e.includes(this.followers[n].job)||this.followers.splice(n,1);this.updateFollowerTotalPower()}unlockElementalPets(){this.petsEnabled=!0,this.unlockJob("snake"),this.unlockJob("tiger"),this.unlockJob("ox"),this.unlockJob("monkey"),this.unlockJob("pig")}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Ei),w(Oe),w(pt),w(ie),w(tn),w(ft),w(Tr),w(hi))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y=function(t){return t[t.TongueRipping=0]="TongueRipping",t[t.Scissors=1]="Scissors",t[t.TreesOfKnives=2]="TreesOfKnives",t[t.Mirrors=3]="Mirrors",t[t.Steamers=4]="Steamers",t[t.CopperPillars=5]="CopperPillars",t[t.MountainOfKnives=6]="MountainOfKnives",t[t.MountainOfIce=7]="MountainOfIce",t[t.CauldronsOfOil=8]="CauldronsOfOil",t[t.CattlePit=9]="CattlePit",t[t.CrushingBoulder=10]="CrushingBoulder",t[t.MortarsAndPestles=11]="MortarsAndPestles",t[t.BloodPool=12]="BloodPool",t[t.WrongfulDead=13]="WrongfulDead",t[t.Dismemberment=14]="Dismemberment",t[t.MountainOfFire=15]="MountainOfFire",t[t.Mills=16]="Mills",t[t.Saws=17]="Saws",t}(Y||{});let Pe=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m){this.injector=e,this.logService=n,this.characterService=r,this.activityService=s,this.followerService=c,this.battleService=l,this.inventoryService=d,this.itemRepoService=m,this.inHell=!1,this.currentHell=-1,this.completedHellTasks=[],this.completedHellBosses=[],this.beaten=!1,this.mountainSteps=0,this.animalsHealed=0,this.boulderHeight=0,this.daysFasted=0,this.swimDepth=0,this.exitFound=!1,this.soulsEscaped=0,this.relicsReturned=0,this.timesCrushed=0,this.contractsExamined=0,this.atonedKills=0,this.fasterHellMoney=!1,this.burnedMoney=0,this.burnMoney={level:0,name:["Burn Money"],activityType:z.BurnMoney,description:["Burn mortal realm money to receive hell money."],consequenceDescription:["Uses a huge pile of mortal money (one million). Gives you some hell money."],consequence:[()=>{this.characterService.characterState.money<1e6?this.logService.log(C.EVENT,"You fail to burn the money that you don't have, and feel pretty dumb for trying."):(this.characterService.characterState.updateMoney(-1e6),this.burnedMoney+=1e6,this.fasterHellMoney?this.characterService.characterState.hellMoney+=10:this.characterService.characterState.hellMoney++)}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.hellRecruiting={level:0,name:["Recruiting the Damned"],activityType:z.HellRecruiting,description:["Look for followers willing to help you."],consequenceDescription:["Uses 100 Stamina and 1000 hell money. Gives you a small chance of finding a follower."],consequence:[()=>{if(!(this.characterService.characterState.attributes.charisma.value<1e6))return this.characterService.characterState.hellMoney<1e3?(this.logService.injury(C.EVENT,"You don't have enough hell money. The damned souls around you team up with the demons to give you a beating."),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.characterService.characterState.status.health.value<=0&&(this.beaten=!0))):(this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.hellMoney-=1e3,void(Math.random()<.01?(this.followerService.generateFollower(!1,"damned"),this.logService.log(C.EVENT,"Your recruiting efforts seem to infuriate the demons here.")):this.logService.log(C.EVENT,"You pass around some bribes but fail to find any interested followers today.")));this.logService.log(C.EVENT,"You completely fail to catch the attention of any of the damned.")}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.rehabilitation={level:0,name:["Rehabilitate Troublemakers"],activityType:z.Rehabilitation,description:["You recognize a bunch of the troublemakers here as people who used to beat and rob you in your past lives. Perhaps you can give them some some friendly rehabilitation. With your fists."],consequenceDescription:["Uses 100 Stamina and 10 hell money as bait. Breaks a troublemaker out of their basket and picks a fight with them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.battleService.addEnemy({name:"Troublemaker",baseName:"troublemaker",health:100,maxHealth:100,accuracy:.5,attack:10,defense:10,defeatEffect:"respawnDouble",loot:[]})}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,discovered:!0,skipApprenticeshipLevel:0},this.honorAncestors={level:0,name:["Honor Ancestors"],activityType:z.HonorAncestors,description:["You look around and realize that you have many family members and ancestors here. You should probably give them some credit for what they have done for you. And some money."],consequenceDescription:["Uses 1 hell money."],consequence:[()=>{this.characterService.characterState.hellMoney<1?this.logService.log(C.EVENT,"Your ancestors are not impressed with your lack of financial offerings."):(this.characterService.characterState.hellMoney--,this.inventoryService.addItem(this.itemRepoService.items.tokenOfGratitude))}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.copperMining={level:0,name:["Copper Mining"],activityType:z.CopperMining,description:["The copper pillars here look like they're made of a decent grade of copper. It looks like you have enough slack in your chains to turn and break off some pieces."],consequenceDescription:["Uses 100,000 stamina and produces one copper bar."],consequence:[()=>{this.characterService.characterState.attributes.strength.value<1e24?this.logService.log(C.EVENT,"You try to crack into the pillar, but you're not strong enough."):(this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.addItem(this.itemRepoService.items.copperBar))}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.forgeHammer={level:0,name:["Forge Hammer"],activityType:z.ForgeHammer,description:["Shape a bar of copper into a hammer using your bare hands. This would be so much easier with an anvil and tools."],consequenceDescription:["Uses 100,000 stamina and produces the worst hammer in the world."],consequence:[()=>{this.characterService.characterState.attributes.strength.value<1e24?this.logService.log(C.EVENT,"Your weak muscles flinch at the very thought of trying to mold metal by hand."):(this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.consume("metal",1)>0&&this.inventoryService.addItem({id:"weapon",imageFile:"copperHammer",name:"Copper Hammer",type:"equipment",slot:"rightHand",value:1,weaponStats:{baseDamage:1,material:"metal",durability:1,baseName:"hammer"},description:"A crude copper hammer."}))}],resourceUse:[{stamina:1e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.climbMountain={level:0,name:["Climb the Mountain"],activityType:z.ClimbMountain,description:["Take another step up the mountain. The path before you seems exceptionally jagged. Maybe you shouldn't have killed so very many little spiders."],consequenceDescription:["Uses 1000 stamina and works off some of that murderous karma you have built up."],consequence:[()=>{this.characterService.characterState.attributes.strength.value<1e24||this.characterService.characterState.attributes.toughness.value<1e24?this.logService.log(C.EVENT,"Your legs give out before you can take a single step up the mountain. Maybe if you were stronger and tougher you could climb."):(this.characterService.characterState.status.stamina.value-=1e3,this.mountainSteps++)}],resourceUse:[{stamina:1e3}],requirements:[{strength:1e24,toughness:1e24}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.attackClimbers={level:0,name:["Attack Climbers"],activityType:z.AttackClimbers,description:["The murderers on this mountain look pretty distracted. It wouldn't be hard to knock them down to the bottom."],consequenceDescription:["Knock a climber off the mountain."],consequence:[()=>{this.mountainSteps=0}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.meltMountain={level:0,name:["Melt the Mountain"],activityType:z.MeltMountain,description:["The mountain is far to slippery climb. The only way you're getting to the top is to bring the top down to you."],consequenceDescription:["Focus your connection to fire and melt that sucker down."],consequence:[()=>{if(this.characterService.characterState.attributes.fireLore.value<1e16)return void this.logService.log(C.EVENT,"Your connection to fire isn't nearly as strong as you thought it was.");const p=Math.log10(this.characterService.characterState.attributes.fireLore.value);for(let v=0;v<p;v++)this.battleService.addEnemy({name:"Ice Golem",baseName:"icegolem",health:1e15,maxHealth:1e15,accuracy:.7,attack:1e6,defense:1e6,loot:[this.itemRepoService.items.iceCore]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.freezeMountain={level:0,name:["Rock the Lava"],activityType:z.FreezeMountain,description:["Swimming in lava is less fun that it seemed like it would be."],consequenceDescription:["Focus your connection to water and turn that lava back to stone."],consequence:[()=>{if(this.characterService.characterState.attributes.waterLore.value<1e16)return void this.logService.log(C.EVENT,"Your connection to water isn't nearly as strong as you thought it was.");const p=Math.log10(this.characterService.characterState.attributes.waterLore.value);for(let v=0;v<p;v++)this.battleService.addEnemy({name:"Lava Golem",baseName:"lavagolem",health:1e15,maxHealth:1e15,accuracy:.7,attack:1e6,defense:1e6,loot:[this.itemRepoService.items.fireCore]})}],resourceUse:[{}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.healAnimals={level:0,name:["Heal Animals"],activityType:z.HealAnimals,description:["You notice that not all the animals here are frenzied killers. Some of them are sick, wounded, and miserable. You resolve to do what good you can here."],consequenceDescription:["Uses 10,000 mana and 10,000 stamina. Heals an animal."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.status.mana.value-=1e4,this.animalsHealed++}],resourceUse:[{stamina:1e4,mana:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.liftBoulder={level:0,name:["Lift the Boulder Higher"],activityType:z.LiftBoulder,description:["The boulder is heavy, but you are strong. See how high you can lift it."],consequenceDescription:["Uses 100,000 stamina."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5,this.boulderHeight++}],resourceUse:[{stamina:1e4,mana:1e4}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.swim={level:0,name:["Swim Deeper into the Blood"],activityType:z.Swim,description:["Swim down further into the crimson depths."],consequenceDescription:["Uses 2000 Stamina. Reduce health by 1000."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=2e3,this.characterService.characterState.status.health.value-=1e3,this.swimDepth++}],resourceUse:[{stamina:2e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.searchForExit={level:0,name:["Search for the Exit"],activityType:z.SearchForExit,description:["The lost souls here are searching for a way out, and they can't seem to see the portal you came in on. You could help them search for the exit they're seeking."],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=2e5,this.characterService.characterState.attributes.intelligence.value<=1e24)return void this.logService.log(C.EVENT,"You stumble around completely lost like the rest of the souls here. If only you were smarter.");const p=1e-5*Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24);Math.random()<p&&(this.exitFound=!0,this.hells[Y.WrongfulDead].activities.includes(this.teachTheWay)||(this.hells[Y.WrongfulDead].activities.push(this.teachTheWay),this.activityService.reloadActivities()))}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.teachTheWay={level:0,name:["Teach the Way to the Exit"],activityType:z.TeachTheWay,description:["Teach the other damned souls here the way out."],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=2e5,this.characterService.characterState.attributes.charisma.value<=1e24)return void this.logService.log(C.EVENT,"The damned souls completely ignore your attempts at instruction.");const p=Math.floor(Math.log10(this.characterService.characterState.attributes.charisma.value-1e24));this.soulsEscaped+=p}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.interrogate={level:0,name:["Interrogate the Damned"],activityType:z.Interrogate,description:["Find out where the tomb looters here hid their stolen treasures. You might be able to reverse some of the damage they have done."],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.charisma.value<=1e24)return void this.logService.log(C.EVENT,"The damned here completely ignore you attempts.");const p=1e-5*Math.log10(this.characterService.characterState.attributes.charisma.value-1e24);Math.random()<p?this.inventoryService.addItem(this.itemRepoService.items.treasureMap):this.logService.log(C.EVENT,"You almost talk a soul into telling you where their treasure is hidden.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.recoverTreasure={level:0,name:["Recover a Treasure"],activityType:z.RecoverTreasure,description:["Recover a stolen relic. You'll need all your wits to find it even if you have one the sketchy maps the damned can provide."],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.intelligence.value<=1e24)return void this.logService.log(C.EVENT,"The puzzle your best puzzling but can't figure out how to even start on this relic.");const p=1e-5*Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24);Math.random()<p?this.inventoryService.consume("treasureMap")>0&&this.inventoryService.addItem(this.itemRepoService.items.stolenRelic):this.logService.log(C.EVENT,"You think you're getting close to figuring out where this relic is. If only you were more clever.")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.replaceTreasure={level:0,name:["Replace a Treasure"],activityType:z.ReplaceTreasure,description:["Return a stolen relic to the tomb where it came from. You'll need to be quick to avoid the tomb's traps."],consequenceDescription:["Uses 1000 Stamina."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.attributes.speed.value<=1e24)return void this.logService.log(C.EVENT,"You are too slow to even attempt replacing a treasure.");const p=1e-5*Math.log10(this.characterService.characterState.attributes.speed.value-1e24);Math.random()<p?this.inventoryService.consume("stolenRelic")>0&&this.relicsReturned++:this.logService.log(C.EVENT,"You make a good effort to run through the tomb, but you fail. Try harder!")}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.endureTheMill={level:0,name:["Endure the Mill"],activityType:z.Endure,description:["Trapped under the millstone like this, there's not much you can do but endure the punishment. Fortunately, you probably never went out looking for tiny spiders to squash, right?"],consequenceDescription:["Uses 1000 stamina. Try not to give up. You can do this!"],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;const p=Math.max(1e5-this.characterService.characterState.attributes.toughness.value/1e23,100);this.characterService.characterState.status.health.value-=p,this.characterService.characterState.status.health.value<=0?this.beaten=!0:this.timesCrushed++}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.examineContracts={level:0,name:["Examine Contracts"],activityType:z.ExamineContracts,description:["As if the saw-weilding demons weren't bad enough, this place is a haven for fiendish bureaucrats. Huge piles of paper containing the contracts, covenants, bylaws, stipulations, regulations, and heretofor unspecified legal nonsense for this hell. Maybe if you go through them carefully, you can find a loophole to get yourself an audience with the boss."],consequenceDescription:["Uses 500,000 stamina because hellish legalese is so incredibly boring."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=5e5,this.characterService.characterState.attributes.intelligence.value<=1e24)return void this.logService.log(C.EVENT,"You can't even begin to read the complex contracts.");const p=1e-5*Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24);Math.random()<p?this.contractsExamined++:this.logService.log(C.EVENT,"You very nearly make out the meaning of the scrawled contract.")}],resourceUse:[{stamina:5e5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.hells=[{name:"Hell of Tongue-ripping",description:"Torment for gossips and everyone one who made trouble with their words. The demons here reach for your tongue to rip it out.",index:Y.TongueRipping,entryEffect:()=>{this.followerService.stashFollowers()},dailyEffect:()=>{this.characterService.characterState.attributes.charisma.value*=.9},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.logService.log(C.STORY,"Together with your new followers, you have seized control of the Hell of Tongue-ripping. Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.hellRecruiting,this.activityService.TrainingFollowers],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It's hard to talk with all these demons going for your mouth, but maybe if you can get some help from the other prisoners here you could take control of this place.",progress:()=>{let p=0;for(const v of this.followerService.followers)p+=v.power;return p},progressMax:()=>5e3,successCheck:()=>{let p=0;for(const v of this.followerService.followers)p+=v.power;return p>5e3}},{name:"Hell of Scissors",description:"Torment for those who ruin marriages. The demons here will cut your fingers right off.",index:Y.Scissors,entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},completeEffect:()=>{this.logService.log(C.STORY,"Using nothing but the strength of your body and mind, you have seized control of the Hell of Scissors. Now all that remains is to defeat its lord.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"These demons don't seem content to just take your fingers. You'd better get ready to defend yourself.",progress:()=>this.inventoryService.getQuantityByName("fingers"),progressMax:()=>100,successCheck:()=>this.inventoryService.getQuantityByName("fingers")>=100},{name:"Hell of Trees of Knives",description:"Torment for those who cause trouble between family members. The demons here will tie you to a tree made of sharp knives",index:Y.TreesOfKnives,entryEffect:()=>{this.characterService.stashMoney()},dailyEffect:()=>{const p=.1*this.characterService.characterState.status.health.value;this.logService.injury(C.COMBAT,"The knives dig into your flesh, causing "+p+" damage."),this.characterService.characterState.status.health.value-=p},exitEffect:()=>{this.characterService.restoreMoney()},completeEffect:()=>{this.logService.log(C.STORY,"You have reconciled yourself with all of your family members and satisfied the demands of this hell. Now all that remains is to defeat its lord (while still tied to this tree).")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.honorAncestors],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Heal your family bonds.",progress:()=>this.inventoryService.getQuantityByName("token of gratitude"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("token of gratitude")>=1e4},{name:"Hell of Mirrors",description:"Torment for those who escaped punishment for their crimes. The mirrors here shine with a terrifying glow.",index:Y.Mirrors,entryEffect:()=>{this.followerService.stashFollowers()},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.inventoryService.consume("mirrorShard",1e3),this.logService.log(C.STORY,"You piece together the shards of mirror that you have collected to form a new mirror. A dark shape looms beyond it.")},activities:[this.activityService.Resting,this.activityService.CombatTraining,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Master yourself. All by yourself.",progress:()=>this.inventoryService.getQuantityByName("mirror shard"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("mirror shard")>=1e3},{name:"Hell of Steamers",description:"Torment for hypocrites and troublemakers. The steam baskets here are just the right size for you.",index:Y.Steamers,entryEffect:()=>{this.inventoryService.stashWeapons(),this.inventoryService.stashArmor()},exitEffect:()=>{this.inventoryService.restoreWeapons(),this.inventoryService.restoreArmor()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){const p=.05*this.characterService.characterState.status.health.value;this.logService.injury(C.COMBAT,"The steam cooks your skin, causing "+p+" damage."),this.characterService.characterState.status.health.value-=p}Math.random()<.2&&(this.logService.log(C.EVENT,"As if the constant scalding steam isn't enough, one of these troublemakers stole some money! Why does this feel so familiar?"),this.characterService.characterState.hellMoney-=.1*this.characterService.characterState.hellMoney)},completeEffect:()=>{this.battleService.clearEnemies(),this.logService.log(C.STORY,"You defeat so many troublemakers that the rest all beg to return to their baskets for their regular torment.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.rehabilitation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"There so many troublemakers here that deserve some payback from you. I wonder if you can take them all on.",progress:()=>{let p=0;for(const v of this.battleService.enemies)p+=v.quantity;return p},progressMax:()=>100,successCheck:()=>{let p=0;for(const v of this.battleService.enemies)p+=v.quantity;return p>100}},{name:"Hell of Copper Pillars",description:"Torment for arsonists. The red-hot copper pillars you will be bound to remind you of all those times you played with fire.",index:Y.CopperPillars,entryEffect:()=>{this.inventoryService.stashWeapons()},exitEffect:()=>{this.inventoryService.restoreWeapons()},dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){const p=Math.max(.1*this.characterService.characterState.status.health.value,20);this.characterService.characterState.status.health.value-=p,this.logService.injury(C.COMBAT,"The heat of the pillars burns you for "+p+" damage.")}},completeEffect:()=>{this.logService.log(C.STORY,"You finally forge a hammer powerful enough to break through the chains that bind you to the pillar. The Lord of this Hell comes to investigate all the commotion as the chains fall to the ground.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.copperMining,this.forgeHammer],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You'll need a really strong hammer to break through these hellsteel chain. Too bad the only material around is copper.",progress:()=>this.characterService.characterState.equipment.rightHand?.weaponStats?.baseDamage||0,progressMax:()=>100,successCheck:()=>(this.characterService.characterState.equipment.rightHand?.weaponStats?.baseDamage||0)>100},{name:"Hell of the Mountain of Knives",description:"Torment for those who killed for pleasure. The mountain of sharp blades looks like it might be rough on footwear.",index:Y.MountainOfKnives,dailyEffect:()=>{let p=this.battleService.totalKills/100-this.mountainSteps-this.atonedKills;this.atonedKills++,p<0&&(p=0),this.characterService.characterState.status.health.value-=p,p>0&&this.logService.injury(C.COMBAT,"The mountain's blades shred you for "+p+" damage.")},completeEffect:()=>{this.logService.log(C.STORY,"You finally reach the peak. The karmic weight of all the killing you've ever done drops from your shoulders. Now to defeat this hell's lord without taking any pleasure in the act.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.climbMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It seems you've accrued a lot of karma from all the killing you've done over your many lives. The bill is due.",progress:()=>this.mountainSteps,progressMax:()=>this.battleService.totalKills/100,successCheck:()=>this.mountainSteps>=this.battleService.totalKills/100},{name:"Hell of the Mountain of Ice",description:"Torment for adulterers and schemers. The chill wind blowing through the gate is so cold it burns.",index:Y.MountainOfIce,completeEffect:()=>{this.logService.log(C.STORY,"You realize that the power of the ice cores is all that prevents the heat from the neighboring hells from turning the mountain into slush. With enough of these tucked away in your pack, the mountain dwindles down to a managable size. Now to see who's in charge around here.")},dailyEffect:()=>{this.inventoryService.consume("fireCore")<0&&(this.characterService.characterState.status.health.value-=1e3,this.logService.injury(C.COMBAT,"The mountain's ice freezes you for 1000 damage.")),this.characterService.characterState.attributes.fireLore.value*=.9},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting,this.meltMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Burn it down!",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e4},{name:"Hell of the Cauldrons of Oil",description:"Torment for rapists and abusers. Next on the menu: deep fried immortal.",index:Y.CauldronsOfOil,dailyEffect:()=>{if(!this.completedHellTasks.includes(Y.CauldronsOfOil)){if(this.inventoryService.consume("iceCore")>0)return this.logService.injury(C.EVENT,"The ice cores you brought in with you make the oil sputter and pop, baking you in a cloud of superheated steam."),void(this.characterService.characterState.status.health.value-=1e5);const p=Math.max(.1*this.characterService.characterState.status.health.value,20);this.logService.injury(C.COMBAT,"The oil scorches you, causing "+p+" damage."),this.characterService.characterState.status.health.value-=p}if(Math.random()<.1){this.logService.injury(C.COMBAT,"Your weapons slip from your oily hands."),this.inventoryService.autoequipBestEnabled=!1;let p=this.characterService.characterState.equipment.rightHand;p&&(this.inventoryService.addItem(p),this.characterService.characterState.equipment.rightHand=null),p=this.characterService.characterState.equipment.leftHand,p&&(this.inventoryService.addItem(p),this.characterService.characterState.equipment.leftHand=null)}},completeEffect:()=>{this.logService.log(C.STORY,"The pile of ice cores you brought in with you make the oil sputter and pop, but you are tough enough to withstand the superheated steam. Out of the cauldron now, you look around for the boss.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You'd need to be incredibly resilient to survive this place.",progress:()=>this.inventoryService.getQuantityByName("ice core"),progressMax:()=>1e3,successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e3&&this.characterService.characterState.status.health.value>1e5},{name:"Hell of the Cattle Pit",description:"Torment for animal abusers. The cows are looking a little restless.",index:Y.CattlePit,completeEffect:()=>{this.logService.log(C.STORY,"The horde of rampaging cattle finally seems to understand that you're not there to hurt them. They back off and leave you alone. All except for that really big cow over there.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.healAnimals],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Look at those poor sick cows. And those other cows that for some reason are standing up on two legs and charging you with weapons.",progress:()=>this.animalsHealed,progressMax:()=>1e6,successCheck:()=>this.animalsHealed>1e6},{name:"Hell of the Crushing Boulder",description:"Torment for child-killer and abondoners where the damned have to lift giant boulders or be crushed under them. Atlas had it easy compared to these people.",index:Y.CrushingBoulder,dailyEffect:()=>{this.boulderHeight>100||(this.characterService.characterState.status.health.value-=500,this.logService.injury(C.COMBAT,"The boulder crushes you for 500 damage."),Math.random()<.1&&this.battleService.addEnemy({name:"An Annoying Imp",baseName:"imp",health:10,maxHealth:10,accuracy:1,attack:100,defense:100,loot:[]}))},entryEffect:()=>{this.boulderHeight=0},completeEffect:()=>{this.logService.log(C.STORY,"You hoist the boulder high over your head, then throw it high into the air. It lands with a satisfying thud. Unfortunately, it grows arms and legs and walks back to you, and this time it looks angry.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.liftBoulder],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"It's leg day. No, it's arm day. Must be both! Lift!",progress:()=>this.boulderHeight,progressMax:()=>1e3,successCheck:()=>this.boulderHeight>1e3},{name:"Hell of Mortars and Pestles",description:"Torment for food wasters. You didn't really need to eat all those peaches, did you? The diet here is pure hellfire.",index:Y.MortarsAndPestles,dailyEffect:()=>{this.daysFasted++},completeEffect:()=>{this.logService.log(C.STORY,"Your righteous asceticism have served you well. The lord of this hell has arrived to deal with you personally.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You begin to feel remorse for your gluttony across your many lives. Perhaps a nice, long fast would help you feel better. Hopefully you can keep the demons from spoonfeeding you their fiery concoction.",progress:()=>this.daysFasted,progressMax:()=>1e3,successCheck:()=>this.daysFasted>1e3},{name:"Hell of the Blood Pool",description:"Torment for those who disrespect others. The pool looks deep, but it's hard to tell with all that blood.",index:Y.BloodPool,entryEffect:()=>{this.swimDepth=0},completeEffect:()=>{this.logService.log(C.STORY,"You finally reach the bottom of the pool where you find a massive plug. When you pull it, the pool begins to drain, revealing the source of all this blood.")},activities:[this.swim],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"Not this again!",progress:()=>this.swimDepth,progressMax:()=>1e4,successCheck:()=>this.swimDepth>1e4},{name:"Hell of the Wrongful Dead",description:"Torment for those who gave up their lives too early. Fortunately you've probably never done that. The pounding Rains of Pain and the blowing Winds of Sorrow give unrelenting misery to everyone here.",index:Y.WrongfulDead,entryEffect:()=>{this.exitFound&&(this.hells[Y.WrongfulDead].activities.includes(this.teachTheWay)||this.hells[Y.WrongfulDead].activities.push(this.teachTheWay))},dailyEffect:()=>{this.logService.injury(C.COMBAT,"The constant storm saps you of 500 health and 100 stamina."),this.characterService.characterState.status.health.value-=500,this.characterService.characterState.status.stamina.value-=100},completeEffect:()=>{this.logService.log(C.STORY,"You sigh in relief as you usher the last of the damned out. The hell is finally empty. Well, empty except for the monstrous Hell Lord coming toward you.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.searchForExit],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"These people don't belong here. Get them out.",progress:()=>this.soulsEscaped,progressMax:()=>1e6,successCheck:()=>this.soulsEscaped>1e6},{name:"Hell of Dismemberment",description:"Torment for tomb-raiders and grave-robbers. The demons here look awfully handy with those giant axes.",index:Y.Dismemberment,completeEffect:()=>{this.logService.log(C.STORY,"As you help more of the damned here to resolve their crimes, an angry cry sounds through the hell. The lord has arrived.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.interrogate],projectionActivities:[this.activityService.OddJobs,this.burnMoney,this.recoverTreasure,this.replaceTreasure],hint:"Unloot those tombs.",progress:()=>this.relicsReturned,progressMax:()=>1e4,successCheck:()=>this.relicsReturned>1e4},{name:"Hell of the Mountain of Fire",description:"Torment for thieves. The volcano where the poor souls are thrown looks a little toasty for comfort.",index:Y.MountainOfFire,dailyEffect:()=>{if(this.inventoryService.consume("iceCore")<0){const p=Math.max(.1*this.characterService.characterState.status.health.value,20);this.logService.injury(C.COMBAT,"The oppressive heat of the volcano burns you for "+p+" damage."),this.characterService.characterState.status.health.value-=p}},completeEffect:()=>{this.logService.log(C.STORY,"You realize that the power of the fire cores is essential to keeping the lava in the volcano liquid. With enough of these tucked away in your pack, the the surface finally cools enough to turn back to stone. Someone is not happy with this change.")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.freezeMountain],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"How does this volcano stay so hot?",progress:()=>this.inventoryService.getQuantityByName("fire core"),progressMax:()=>1e4,successCheck:()=>this.inventoryService.getQuantityByName("fire core")>=1e4},{name:"Hell of Mills",description:"Torment for any who abused their power to oppress the weak. You don't look forward to being ground into immortal flour.",index:Y.Mills,completeEffect:()=>{this.logService.log(C.STORY,"Your karmic debt for all the oppression you've ever inflicted is paid off. Now you just need to show the strongest demon here not to pick on the weak.")},activities:[this.endureTheMill],projectionActivities:[],hint:"Just endure.",progress:()=>this.timesCrushed,progressMax:()=>100*this.characterService.characterState.totalLives,successCheck:()=>this.timesCrushed>100*this.characterService.characterState.totalLives},{name:"Hell of Saws",description:"Torment for swindlers and business cheats. The demons sharpen their saws and grin at you. You wish now that you'd stayed out of politics.",index:Y.Saws,dailyEffect:()=>{this.contractsExamined<=2e4&&(this.logService.injury(C.COMBAT,"The saws tear into your flesh, causing 100 damage."),this.characterService.characterState.status.health.value-=100)},completeEffect:()=>{this.logService.log(C.STORY,"You finally find article 131 of bylaw 8888 subsection 42(b)6.42 where paragraph fourty-eight clearly states that you have the right to confront the Hell Lord. Time to party!")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.examineContracts],projectionActivities:[this.activityService.OddJobs,this.burnMoney],hint:"You read legalese, right?",progress:()=>this.contractsExamined,progressMax:()=>2e4,successCheck:()=>this.contractsExamined>2e4}],o.tickSubject.subscribe(()=>{if(this.currentHell<0)return;const p=this.hells[this.currentHell];p.dailyEffect&&p.dailyEffect(),this.beaten&&(this.beaten=!1,this.logService.injury(C.EVENT,"You fall to your knees, unable to bear more damage. You crawl back through this hell's gate to get a moment of respite at the gates of Lord Yama's realm."),this.battleService.enemies=[],this.battleService.currentEnemy=null,p.exitEffect&&p.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()),!this.completedHellTasks.includes(this.currentHell)&&p.successCheck()&&(p.completeEffect(),this.completedHellTasks.push(this.currentHell))}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){if(this.inHell){if(this.currentHell>0){const e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect()}this.inHell=!1,this.currentHell=-1,this.activityService.reloadActivities()}}trouble(){if(this.currentHell<0)return;const e=this.hells[this.currentHell].progress();if(this.currentHell===Y.TongueRipping)this.battleService.addEnemy({name:"Tongue Ripper",baseName:"tongueripper",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:.5,attack:1e6+1e4*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corruption")]});else if(this.currentHell===Y.Scissors)this.battleService.addEnemy({name:"Scissors Demon",baseName:"scissorsdemon",health:1e15+1e14*e,maxHealth:1e15+1e14*e,accuracy:.5,attack:1e6+1e4*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corruption"),this.itemRepoService.items.fingers]});else if(this.currentHell===Y.TreesOfKnives)this.battleService.addEnemy({name:"Hungry Crow",baseName:"crow",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]});else if(this.currentHell===Y.Mirrors)this.battleService.addEnemy({name:"Your Reflection",baseName:"mirror",health:this.characterService.characterState.status.health.value,maxHealth:this.characterService.characterState.status.health.value,accuracy:this.characterService.characterState.accuracy,attack:this.characterService.characterState.attackPower,defense:this.characterService.characterState.defense,loot:[this.itemRepoService.items.mirrorShard]});else if(this.currentHell===Y.CauldronsOfOil)this.battleService.addEnemy({name:"Oiled Demon",baseName:"oileddemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:1,attack:1e6,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]});else if(this.currentHell===Y.CattlePit){if(this.animalsHealed<=1e6)for(let n=0;n<10;n++)this.battleService.addEnemy({name:"Demonic Cow",baseName:"demoniccow",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:1,attack:1e6,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]})}else this.currentHell===Y.MortarsAndPestles?this.battleService.addEnemy({name:"Force Feeder",baseName:"forcefeeder",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,attackEffect:"feeder",hitTracker:0,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]}):this.currentHell===Y.Dismemberment?this.battleService.addEnemy({name:"Axe Demon",baseName:"axedemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:1,attack:1e6,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]}):this.currentHell===Y.Saws&&this.battleService.addEnemy({name:"Saw Demon",baseName:"sawdemon",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:1,attack:1e6,defense:1e8,loot:[this.inventoryService.generateSpiritGem(25,"corruption")]})}fightHellBoss(){this.currentHell===Y.TongueRipping?this.battleService.addEnemy({name:"Gorbolash the Gossip Gasher",baseName:"Gorbolash",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownTongueRippers]}):this.currentHell===Y.Scissors?this.battleService.addEnemy({name:"Malgorath the Marriage Masher",baseName:"Malgorath",health:1e27,maxHealth:1e27,accuracy:.8,attack:1e11,defense:1e12,loot:[this.itemRepoService.items.hellCrownScissors]}):this.currentHell===Y.TreesOfKnives?this.battleService.addEnemy({name:"Flamgolus the Family Flayer",baseName:"Flamgolus",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownTreesOfKnives]}):this.currentHell===Y.Mirrors?this.battleService.addEnemy({name:"Myorshuggath the Mirror Master",baseName:"Myorshuggath",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownMirrors]}):this.currentHell===Y.Steamers?this.battleService.addEnemy({name:"Stactolus the Steamer",baseName:"Stactolus",health:1e27,maxHealth:1e27,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownSteamers]}):this.currentHell===Y.CopperPillars?this.battleService.addEnemy({name:"Ignificor the Forever Burning",baseName:"Ignificor",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownPillars]}):this.currentHell===Y.MountainOfKnives?this.battleService.addEnemy({name:"Malignus the Murderer Muncher",baseName:"Malignus",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfKnives]}):this.currentHell===Y.MountainOfIce?this.battleService.addEnemy({name:"The Cheat",baseName:"Cheat",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownMountainOfIce]}):this.currentHell===Y.CauldronsOfOil?this.battleService.addEnemy({name:"Nestor the Molestor",baseName:"Nestor",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownCauldronsOfOil]}):this.currentHell===Y.CattlePit?this.battleService.addEnemy({name:"The Cow Emperor",baseName:"CowEmperor",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownCattlePit]}):this.currentHell===Y.CrushingBoulder?this.battleService.addEnemy({name:"The Crusher",baseName:"Crusher",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownCrushingBoulder]}):this.currentHell===Y.MortarsAndPestles?this.battleService.addEnemy({name:"Glorbulskath the Gluttonous",baseName:"Glorbulskath",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownMortarsAndPestles]}):this.currentHell===Y.BloodPool?this.battleService.addEnemy({name:"Gnarlyathor the Ever-Bleeding",baseName:"Gnarlyathor",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownBloodPool]}):this.currentHell===Y.WrongfulDead?this.battleService.addEnemy({name:"Azoth-Raketh the Storm Master",baseName:"Azoth-Raketh",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownWrongfulDead]}):this.currentHell===Y.Dismemberment?this.battleService.addEnemy({name:"Druskall the Dismemberer",baseName:"Druskall",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownDismemberment]}):this.currentHell===Y.MountainOfFire?this.battleService.addEnemy({name:"Magmar the Lava King",baseName:"Magmar",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownFireMountain]}):this.currentHell===Y.Mills?this.battleService.addEnemy({name:"Grimstone The Human Grinder",baseName:"Grimstone",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownMills]}):this.currentHell===Y.Saws&&this.battleService.addEnemy({name:"Crognaslark the Corrupter",baseName:"Crognaslark",health:1e30,maxHealth:1e30,accuracy:.8,attack:1e10,defense:1e12,loot:[this.itemRepoService.items.hellCrownSaws]})}getProperties(){return{inHell:this.inHell,currentHell:this.currentHell,completedHellTasks:this.completedHellTasks,completedHellBosses:this.completedHellBosses,mountainSteps:this.mountainSteps,animalsHealed:this.animalsHealed,boulderHeight:this.boulderHeight,daysFasted:this.daysFasted,swimDepth:this.swimDepth,exitFound:this.exitFound,soulsEscaped:this.soulsEscaped,relicsReturned:this.relicsReturned,timesCrushed:this.timesCrushed,contractsExamined:this.contractsExamined,atonedKills:this.atonedKills,fasterHellMoney:this.fasterHellMoney,burnedMoney:this.burnedMoney}}setProperties(e){this.inHell=e.inHell||!1,this.currentHell=e.currentHell??-1,this.completedHellTasks=e.completedHellTasks||[],this.completedHellBosses=e.completedHellBosses||[],this.mountainSteps=e.mountainSteps||0,this.animalsHealed=e.animalsHealed||0,this.boulderHeight=e.boulderHeight||0,this.daysFasted=e.daysFasted||0,this.swimDepth=e.swimDepth||0,this.exitFound=e.exitFound||!1,this.soulsEscaped=e.soulsEscaped||0,this.relicsReturned=e.relicsReturned||0,this.timesCrushed=e.timesCrushed||0,this.contractsExamined=e.contractsExamined||0,this.atonedKills=e.atonedKills||0,this.fasterHellMoney=e.fasterHellMoney||!1,this.burnedMoney=e.burnedMoney||0,this.activityService.reloadActivities()}getActivityList(){const e=[];if(-1===this.currentHell)this.activityService.activityHeader="The Gates of Hell",this.activityService.activityHeaderDescription="The heavens have cast you down to the depths of hell. You'll need to defeat every level to escape.",this.setEnterHellsArray(e);else{this.activityService.activityHeader=this.hells[this.currentHell].name,this.activityService.activityHeaderDescription=this.hells[this.currentHell].description;const n=this.hells[this.currentHell];for(const r of n.activities)r&&(r.projectionOnly=!1,e.push(r));for(const r of n.projectionActivities)r&&(r.projectionOnly=!0,e.push(r));e.push(this.flee())}return e}flee(){return{level:0,name:["Escape from this hell"],activityType:z.EscapeHell,description:["Return to the gates of Lord Yama's realm."],consequenceDescription:[""],consequence:[()=>{this.battleService.enemies=[],this.battleService.currentEnemy=null;const e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0,portal:!0}}setEnterHellsArray(e){e.push(this.activityService.Resting),e.push(this.activityService.CombatTraining),e.push(this.activityService.CoreCultivation),e.push(this.activityService.SoulCultivation),e.push(this.activityService.InfuseBody),this.activityService.purifyGemsUnlocked&&e.push(this.activityService.PurifyGems),e.push(this.activityService.InfuseEquipment);let n=!0;for(const r of this.hells){let o="";this.completedHellBosses.includes(r.index)?o="You have proven your mastery over this hell.":(this.completedHellTasks.includes(r.index)&&(o="The Lord of this Hell is available to challenge."),n=!1),e.push({level:0,name:[r.name],activityType:z.Hell+r.index,description:[r.description],consequenceDescription:[o],consequence:[()=>{this.currentHell=r.index;const a=this.hells[r.index];a.entryEffect&&a.entryEffect(),this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0,portal:!0})}n&&e.push({level:0,name:["Challenge Lord Yama"],activityType:z.FinishHell,description:["You've had enough of this place and learned everything these hells can teach you. Your karmic debt is paid. Challenge Lord Yama to prove you deserve your rightful place in the heavens."],consequenceDescription:[""],consequence:[()=>{0===this.battleService.enemies.length&&(this.battleService.addEnemy({name:"Lord Yama",baseName:"Yama",health:1e40,maxHealth:1e40,accuracy:.8,attack:1e14,defense:1e18,loot:[this.itemRepoService.items.portalKey]}),this.battleService.addEnemy({name:"Horse Face",baseName:"HorseFace",health:1e39,maxHealth:1e39,accuracy:.8,attack:5e13,defense:5e17,loot:[]}),this.battleService.addEnemy({name:"Ox Head",baseName:"OxHead",health:1e39,maxHealth:1e39,accuracy:.8,attack:5e13,defense:5e17,loot:[]}))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0})}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Ei),w(Oe),w(ft),w(Tr),w(ct),w(Tt),w(hi),w(ie),w(tn))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Be=function(t){return t[t.SquatterTent=0]="SquatterTent",t[t.OwnTent=1]="OwnTent",t[t.DirtyShack=2]="DirtyShack",t[t.SimpleHut=3]="SimpleHut",t[t.PleasantCottage=4]="PleasantCottage",t[t.LargeHouse=5]="LargeHouse",t[t.CourtyardHouse=6]="CourtyardHouse",t[t.Manor=7]="Manor",t[t.Mansion=8]="Mansion",t[t.Palace=9]="Palace",t[t.Castle=10]="Castle",t[t.Fortress=11]="Fortress",t[t.Mountain=12]="Mountain",t[t.ForbiddenCity=13]="ForbiddenCity",t[t.Capital=14]="Capital",t[t.ImperialSeat=15]="ImperialSeat",t[t.Godthrone=16]="Godthrone",t}(Be||{});let pt=(()=>{class t{constructor(e,n,r,o,a,s,c,l){if(this.injector=e,this.characterService=n,this.inventoryService=r,this.logService=o,this.battleService=a,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.thugPause=!1,this.hellFood=!1,this.hellHome=!1,this.homeUnlocked=!1,this.smoothFarming=!1,this.homesList=[{name:"Squatter Tent",type:Be.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"Get a better house.",consequence:()=>{Math.random()<.05&&(this.logService.injury(C.EVENT,"Some troublemakers stole some money while you were sleeping. It might be time to get some walls."),this.characterService.characterState.updateMoney(0-this.characterService.characterState.money/10)),Math.random()<.4&&this.battleService.addEnemy({name:"a pesky mouse",baseName:"mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]})},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Be.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,upgradeToTooltip:"Get a better house. A better home will cost 100 taels and take up 1 land. The new home will restore 1 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.injury(C.EVENT,"Some troublemakers stole some money while you were sleeping. It might be time to get some walls."),this.characterService.characterState.updateMoney(0-this.characterService.characterState.money/10)),Math.random()<.2&&this.battleService.addEnemy({name:"a pesky mouse",baseName:"mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]}),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Be.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,upgradeToTooltip:"Get a better house. A better home will cost 1,000 taels and take up 5 land. The new home will restore 3 stamina and a bit of health each night. It also has walls and space to properly sleep.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Be.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,upgradeToTooltip:"Get a better house. A better home will cost 10,000 taels and take up 10 land. The new home will restore 5 stamina and a bit of health each night. It has enough room to properly bathe.",consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Be.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina, 1 health and a bit of mana each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,upgradeToTooltip:"Get a better house. A better home will cost 100,000 taels and take up 20 land. The new home will restore 10 stamina and 1 health and a bit of mana each night. It also has room to let you cook.",consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Be.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina, 2 health, and a bit of mana each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,upgradeToTooltip:"Get a better house. A better home will cost 1M taels and take up 50 land. The new home will restore 15 stamina, 2 health, and a bit of mana each night. It has room to practice your craft.",consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Be.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina, 3 health, and a bit of mana each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,upgradeToTooltip:"Get a better house. A better home will cost 10m taels and take up 80 land. The new home will restore 20 stamina, 3 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Be.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina, 4 health, and a bit of mana each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,upgradeToTooltip:"Get a better house. A better home will cost 100m taels and take up 100 land. The new home will restore 25 stamina, 4 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Be.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina, 5 health, and a bit of mana each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,upgradeToTooltip:"Get a better house. A better home will cost 1B taels and take up 120 land. The new home will restore 30 stamina, 5 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Be.Palace,description:"A lavish palace. Automatically restores 35 stamina, 10 health, and 1 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,upgradeToTooltip:"Get a better house. A better home will cost 10B taels and take up 150 land. The new home will restore 35 stamina, 10 health, and 1 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Be.Castle,description:"An imposing castle. Automatically restores 40 stamina, 15 health, and 2 mana each night.",cost:1e11,costPerDay:150,landRequired:150,maxInventory:40,upgradeToTooltip:"Get a better house. A better home will cost 100B taels and take up 150 land. The new home will restore 40 stamina, 15 health, and 2 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Be.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina, 20 health, and 3 mana each night.",cost:1e12,costPerDay:180,landRequired:180,maxInventory:50,upgradeToTooltip:"Get a better house. A better home will cost 1T taels and take up 180 land. The new home will restore 50 stamina, 20 health, and 3 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Be.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina, 30 health, and 4 mana each night.",cost:1e13,costPerDay:500,landRequired:500,maxInventory:60,upgradeToTooltip:"Get a better house. A better home will cost 10T taels and take up 500 land. The new home will restore 100 stamina, 30 health, and 4 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Be.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina, 50 health, and 5 mana each night.",cost:1e14,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house. A better home will cost 100T taels and take up 1,000 land. The new home will restore 200 stamina, 50 health, and 5 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Be.Capital,description:"The entire province is yours now. Automatically restores 300 stamina, 80 health, and 10 mana each night.",cost:1e15,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house. A better home will cost 1q taels and take up 10,000 land. The new home will restore 300 stamina, 80 health, and 10 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7},{name:"Seat of the Empire",type:Be.ImperialSeat,description:"You've built quite an empire. Automatically restores 500 stamina, 100 health, and 20 mana each night.",cost:1e16,costPerDay:1e6,landRequired:1e6,maxInventory:125,upgradeToTooltip:"Get a better house. A better home will cost 10q taels and take up 1,000,000 land. The new home will restore 500 stamina, 100 health, and 20 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=20,this.characterService.characterState.status.health.value+=100,this.characterService.characterState.status.stamina.value+=500,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e8},{name:"Godthrone",type:Be.Godthrone,description:"The entire world kneels far beneath you. Automatically restores 1000 stamina, 150 health, and 30 mana each night.",cost:1e17,costPerDay:1e7,landRequired:1e7,maxInventory:150,upgradeToTooltip:"Get a better house. A better home will cost 100q taels and take up 10,000,000 land. The new home will restore 1000 stamina, 150 health, and 30 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=30,this.characterService.characterState.status.health.value+=150,this.characterService.characterState.status.stamina.value+=1e3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e9}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.highestLand=0,this.highestLandPrice=100,this.mostFields=0,this.highestAverageYield=0,this.bestHome=0,this.consecutiveHarvests=0,setTimeout(()=>this.hellService=this.injector.get(Pe)),this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),!this.hellService?.inHell||this.hellHome){this.home.consequence();for(const d of this.furniturePositionsArray){const m=this.furniture[d];m?.use&&m?.use()}}(!this.hellService?.inHell||this.hellFood)&&this.ageFields(),!this.hellService?.inHell&&!this.characterService.characterState.god&&(this.home.costPerDay>this.characterService.characterState.money?(this.logService.injury(C.EVENT,"You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast."),this.thugPause&&(s.pause=!0),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.updateMoney(0-this.home.costPerDay))}}),s.longTickSubject.subscribe(()=>{this.land>this.highestLand&&(this.highestLand=this.land),this.landPrice>this.highestLandPrice&&(this.highestLandPrice=this.landPrice),this.fields.length+this.extraFields>this.mostFields&&(this.mostFields=this.fields.length+this.extraFields),this.averageYield>this.highestAverageYield&&(this.highestAverageYield=this.averageYield),this.homeValue>this.bestHome&&(this.bestHome=this.homeValue),this.upgrading&&this.nextHome===this.home&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.home))}),c.reincarnateSubject.subscribe(()=>{this.reset(),this.characterService.characterState.bloodlineRank>=6?(this.logService.log(C.EVENT,"You reincarnate as one of your descendants and your family recognizes you as you age."),this.logService.log(C.EVENT,this.characterService.characterState.bloodlineRank>=7?"Your family steps aside and assists your takeover of your Empire.":"Your family escorts you to your ancestral home and helps you get settled in.")):this.grandfatherTent&&(this.logService.log(C.EVENT,"Your grandfather gives you a bit of land and helps you set up a tent on it."),this.characterService.characterState.updateMoney(50),this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture,highestLand:this.highestLand,highestLandPrice:this.highestLandPrice,mostFields:this.mostFields,highestAverageYield:this.highestAverageYield,bestHome:this.bestHome,thugPause:this.thugPause,hellFood:this.hellFood,hellHome:this.hellHome,homeUnlocked:this.homeUnlocked}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(const n of this.furniturePositionsArray){const r=e.furniture[n];r&&(this.furniture[n]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[],this.highestLand=e.highestLand||0,this.highestLandPrice=e.highestLandPrice||100,this.mostFields=e.mostFields||0,this.highestAverageYield=e.highestAverageYield||0,this.bestHome=e.bestHome||0,this.thugPause=e.thugPause||!1,this.hellFood=e.hellFood||!1,this.hellHome=e.hellHome||!1,this.homeUnlocked=e.homeUnlocked||!1}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.updateMoney(0-this.nextHomeCost),this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.log(C.EVENT,"You start upgrading your home to a "+this.nextHome.name))}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.log(C.EVENT,"You finished upgrading your home. You now live in a "+this.home.name))}reset(){this.characterService.characterState.bloodlineRank<6&&(this.setCurrentHome(this.homesList[0]),this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.ownedFurniture=[]),this.characterService.characterState.bloodlineRank<7&&(this.upgrading=!1,this.houseBuildingProgress=1),this.inventoryService.changeMaxItems(this.home.maxInventory),this.nextHomeCostReduction=0,this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const n of this.homesList)if(n.type===e)return n;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const n=this.inventoryService.farmFoodList[e];return{cropName:n.id,yield:1,maxYield:Math.floor(200/n.value),daysToHarvest:180+n.value,originalDaysToHarvest:180+n.value}}addField(e=1){for(e<0&&(e=this.land);e>0&&this.land>=e;){if(this.fields.length>=300)return this.extraFields+=e,void(this.land-=e);this.fields.push(this.getCrop()),this.land--,e--}}clearField(e=1){return e<0?(this.land+=this.extraFields,this.extraFields=0,this.land+=this.fields.length,void this.fields.splice(0)):this.extraFields>0&&e<=this.extraFields?(this.extraFields-=e,void(this.land+=e)):(e-=this.extraFields,this.extraFields=0,void(this.fields.length>0&&(e>this.fields.length&&(e=this.fields.length),this.land+=e,this.fields.splice(this.fields.length-e))))}workFields(e){for(let n=0;n<this.fields.length&&n<300;n++){const r=this.fields[n];r.yield+e<r.maxYield?r.yield+=e:r.yield=r.maxYield}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let n=0,r=!1;for(let o=e;o>=0;o--)if(this.fields[o].daysToHarvest<=0){let a=this.fields[o].yield;this.fields.length+this.extraFields>300&&(a=Math.floor(a*(this.fields.length+this.extraFields)/300)),n+=a,this.hellService?.inHell&&a>0&&(a=Math.max(a/1e3,1)),this.inventoryService.addItem(this.itemRepoService.items[this.fields[o].cropName],a),r=!0,this.fields[o]=this.getCrop()}else this.fields[o].daysToHarvest--;n>0||this.smoothFarming?this.consecutiveHarvests++:this.consecutiveHarvests=0,this.averageYield=(364*this.averageYield+n)/365,this.smoothFarming&&!r&&this.fields.length>0&&this.averageYield>.5&&this.inventoryService.addItem(this.itemRepoService.items[this.fields[0].cropName],Math.round(this.averageYield))}buyLand(e){const n=this.calculateAffordableLand(this.characterService.characterState.money);if(!n||!e)return 0;let r=0,o=0;return r=(e=e>0?Math.min(e,n):Math.floor(n/2))*(e-1)/2*10,o=this.landPrice*e+r,this.characterService.characterState.money>=o&&(this.characterService.characterState.updateMoney(0-o),this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){const n=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*n+25))/10)}buyFurniture(e){const n=this.itemRepoService.getFurnitureById(e);n&&this.characterService.characterState.money>=n.value&&(this.characterService.characterState.updateMoney(0-n.value),this.ownedFurniture.push(n.name),this.furniture[n.slot]=n)}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Oe),w(ie),w(Ei),w(hi),w(ft),w(Tr),w(tn))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ct=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m,p){this.injector=e,this.characterService=n,this.inventoryService=r,this.homeService=o,this.mainLoopService=s,this.itemRepoService=c,this.battleService=l,this.logService=d,this.followerService=m,this.impossibleTaskService=p,this.activityLoop=[],this.savedActivityLoop=[],this.savedActivityLoop2=[],this.savedActivityLoop3=[],this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnImpossibleFail=!0,this.pauseOnDeath=!0,this.pauseBeforeDeath=!1,this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=void 0,this.activityDeath=!1,this.autoRestUnlocked=!1,this.totalExhaustedDays=0,this.activityHeader="",this.activityHeaderDescription="",this.spiritActivityProgress=!1,this.purifyGemsUnlocked=!1,this.trainingFollowersDays=0,this.trainingPetsDays=0,this.immediateActivity=null,this.defineActivities(),this.activities=[],setTimeout(()=>this.activities=this.getActivityList()),a.reincarnateSubject.subscribe(()=>{this.reset()}),s.longTickSubject.subscribe(b=>{this.characterService.characterState.bloodlineRank>=9&&(!this.hellService?.inHell||this.hellService.currentHell!==Y.TreesOfKnives)&&this.characterService.characterState.increaseAptitudeDaily(b)});const v=(b,_,k)=>{let x=!1;const M=()=>(1-Math.pow(k.power/100,.55))/(365e5/(3650+k.age*Math.log2(b/1e10+1))),L=()=>{const J=1-M();return pe=>pe>0?Math.pow(J,pe):1};let j=_;for(;j>0;){const J=L(),pe=Math.random();if(pe<J(j)){j=0;break}x=!0,j-=Math.max(1,Math.ceil(Math.log(pe)/Math.log(1-M()))),k.power++,k.power>this.followerService.highestLevel&&(this.followerService.highestLevel=k.power),k.cost=100*k.power,this.logService.log(C.FOLLOWER,k.name+" gains additional power as a "+k.job)}return x};s.yearOrLongTickSubject.subscribe(()=>{if(this.trainingFollowersDays+this.trainingPetsDays>0&&this.followerService.followersUnlocked){if(this.followerService.followersUnlocked){let b=!0,_=!0,k=!1;for(const x of this.followerService.followers){const M=this.characterService.characterState.attributes.charisma.value,L=this.trainingFollowersDays;x.power>=100?x.power=100:(b=!1,0!==L&&(k||=v(M,L,x)))}for(const x of this.followerService.pets){const M=this.characterService.characterState.attributes.animalHandling.value,L=this.trainingPetsDays;x.power>=100?x.power=100:(_=!1,0!==L&&(k||=v(M,L,x)))}b&&this.trainingFollowersDays&&this.logService.log(C.FOLLOWER,"You try to train your followers, but they are all already as powerful as they can be. You pat them each on the back and tell them they are great."),_&&this.trainingPetsDays&&this.logService.log(C.FOLLOWER,"You try to train your pets, but they are all already as powerful as they can be. You give them all belly rubs and tell them they are great."),k&&this.followerService.updateFollowerTotalPower()}this.trainingFollowersDays=0,this.trainingPetsDays=0}}),s.tickSubject.subscribe(()=>{if(0!==this.activityLoop.length||this.immediateActivity){if(!this.characterService.characterState.dead){if(this.pauseBeforeDeath&&this.characterService.characterState.age>=this.characterService.characterState.lifespan-1&&!this.characterService.characterState.immortal&&(this.logService.injury(C.EVENT,"The end of your natural life is imminent. Game paused."),this.mainLoopService.pause=!0),this.exhaustionDays>0)return this.totalExhaustedDays++,this.exhaustionDays--,void(this.immediateActivity&&this.logService.log(C.EVENT,"You were too exhausted to do "+this.immediateActivity.name[this.immediateActivity.level]+" today, but you are getting better."));if(this.immediateActivity){let b=this.immediateActivity;return this.autoRestUnlocked&&""!==this.checkResourceUse(b)&&(b=this.Resting),b.consequence[b.level](),this.checkExhaustion(),this.checkManaOveruse(),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.handleSpiritActivity(),void(this.characterService.characterState.money>this.characterService.characterState.maxMoney&&(this.characterService.characterState.money=this.characterService.characterState.maxMoney))}if(this.currentIndex<this.activityLoop.length){this.currentLoopEntry=this.activityLoop[this.currentIndex];let b=this.getActivityByType(this.currentLoopEntry.activity);if(null===b||this.currentLoopEntry.disabled||0===this.currentLoopEntry.repeatTimes){let _=0;for(this.currentIndex<this.activityLoop.length-1&&(_=this.currentIndex+1);_!==this.currentIndex&&(0===this.activityLoop[_].repeatTimes||this.activityLoop[_].disabled||null===this.getActivityByType(this.activityLoop[_].activity));)_++,_>=this.activityLoop.length&&(_=0);if(_===this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=_,this.currentLoopEntry=this.activityLoop[this.currentIndex],b=this.getActivityByType(this.currentLoopEntry.activity),this.currentTickCount=0}if(b?(this.autoRestUnlocked&&""!==this.checkResourceUse(b)&&(b=this.Resting),b.consequence[b.level]()):console.log("Invalid activity, skipping activity for the day"),this.checkExhaustion(),this.checkManaOveruse(),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes){this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0);const _=this.currentIndex;for(;0===this.activityLoop[this.currentIndex].repeatTimes||this.activityLoop[this.currentIndex].disabled||null===this.getActivityByType(this.activityLoop[this.currentIndex].activity);)if(this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0),this.currentIndex===_&&(0===this.activityLoop[this.currentIndex].repeatTimes||this.activityLoop[this.currentIndex].disabled||null===this.getActivityByType(this.activityLoop[this.currentIndex].activity)))return void(this.mainLoopService.pause=!0)}}else this.currentIndex=0;this.handleSpiritActivity(),this.characterService.characterState.money>this.characterService.characterState.maxMoney&&(this.characterService.characterState.money=this.characterService.characterState.maxMoney)}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}checkExhaustion(){this.characterService.characterState.status.stamina.value<0&&(this.logService.injury(C.EVENT,"You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again."),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max)}checkManaOveruse(){this.characterService.characterState.status.mana.value<0&&(this.logService.injury(C.EVENT,"You overextend your mana and damage your mana channels. It takes you 10 days to recover."),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max)}checkResourceUse(e,n=!1){if(!e.resourceUse||!e.resourceUse[e.level])return"";if(n&&(e.resourceUse[e.level].mana||(e.resourceUse[e.level].mana=0),this.characterService.characterState.status.mana.value<(e.resourceUse[e.level]?.mana??0)+5))return"mana";for(const r in e.resourceUse[e.level])if(this.characterService.characterState.status[r].value<(e.resourceUse?.[e.level]?.[r]??0))return r;return""}handleSpiritActivity(){if(null!==this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){this.spiritActivityProgress=!0;const e=this.getActivityByType(this.spiritActivity);null!==e&&""===this.checkResourceUse(e,!0)&&e.unlocked?(e.consequence[e.level](),this.characterService.characterState.status.mana.value-=5):this.spiritActivityProgress=!1}else this.spiritActivityProgress=!1}getProperties(){const e=[],n=[];for(const r of this.activities)r.unlocked&&e.push(r.activityType),r.discovered&&n.push(r.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,discoveredActivities:n,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop,savedActivityLoop2:this.savedActivityLoop2,savedActivityLoop3:this.savedActivityLoop3,autoRestUnlocked:this.autoRestUnlocked,pauseOnImpossibleFail:this.pauseOnImpossibleFail,totalExhaustedDays:this.totalExhaustedDays,purifyGemsUnlocked:this.purifyGemsUnlocked}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];const n=e.unlockedActivities||[z.OddJobs,z.Resting],r=e.discoveredActivities||[z.OddJobs,z.Resting];for(const o of this.activities)o.unlocked=n.includes(o.activityType),o.discovered||(o.discovered=r.includes(o.activityType)||n.includes(o.activityType));this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity??null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship,this.savedActivityLoop=e.savedActivityLoop||[],this.savedActivityLoop2=e.savedActivityLoop2||[],this.savedActivityLoop3=e.savedActivityLoop3||[],this.autoRestUnlocked=e.autoRestUnlocked||!1,this.purifyGemsUnlocked=e.purifyGemsUnlocked||!1,this.pauseOnImpossibleFail=void 0===e.pauseOnImpossibleFail||e.pauseOnImpossibleFail,this.totalExhaustedDays=e.totalExhaustedDays||0;for(let o=0;o<5;o++)this.upgradeActivities(!0)}meetsRequirements(e){if(this.meetsRequirementsByLevel(e,e.level)){if(e.unlocked=!0,e.discovered)for(const n of this.activityLoop)n.activity===e.activityType&&n.disabled&&(n.disabled=!1);else e.discovered=!0;return!0}return!1}meetsRequirementsByLevel(e,n){if(e.skipApprenticeshipLevel>0&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&!this.completedApprenticeships.includes(e.activityType))return!1;const r=Object.keys(e.requirements[n]);for(const o in r){const a=r[o];let s=0;if(void 0!==e.requirements[n][a]&&(s=e.requirements[n][a]??0),this.characterService.characterState.attributes[a].value<=s)return!1}return!0}checkRequirements(e){for(const n of this.activities)!n.unlocked&&this.meetsRequirements(n)&&(e||this.logService.log(C.EVENT,"A new activity is available. Maybe you should try "+n.name[n.level]+"."));for(let n=this.activityLoop.length-1;n>=0;n--)this.getActivityByType(this.activityLoop[n].activity)?.unlocked||(this.activityLoop[n].disabled=!0)}upgradeActivities(e){for(const n of this.activities)n.level<n.description.length-1&&this.meetsRequirementsByLevel(n,n.level+1)&&(!e&&n.unlocked&&this.logService.log(C.EVENT,"Congratulations on your promotion! "+n.name[n.level]+" upgraded to "+n.name[n.level+1]),n.level++)}reset(){this.openApprenticeships=1,this.currentApprenticeship=void 0,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==ae.Swim&&(this.Resting.unlocked=!0,this.OddJobs.unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&!this.characterService.characterState.immortal&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const n of this.activities)if(n.activityType===e)return n;return null}checkApprenticeship(e){if(!this.completedApprenticeships.includes(e))if(this.currentApprenticeship===e){const n=this.getActivityByType(e);n&&n.level>=n.skipApprenticeshipLevel&&this.completedApprenticeships.push(e)}else if(this.openApprenticeships>0){this.openApprenticeships--,this.currentApprenticeship=e;for(const n of this.activities)n.skipApprenticeshipLevel>0&&(n.unlocked=!1);this.checkRequirements(!0)}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let n=!1;for(const r of this.activities)r.activityType===this.activityLoop[e].activity&&(n=!0),r.discovered||this.meetsRequirements(r);n||(this.activityLoop[e].disabled=!0)}if(this.spiritActivity){let e=!1;for(const n of this.activities)n.activityType===this.spiritActivity&&(e=!0);e||(this.spiritActivity=null)}for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(e=1){1===e?this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop)):2===e?this.savedActivityLoop2=JSON.parse(JSON.stringify(this.activityLoop)):3===e&&(this.savedActivityLoop3=JSON.parse(JSON.stringify(this.activityLoop)))}loadActivityLoop(e=1){1===e?this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)):2===e?this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop2)):3===e&&(this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop3))),this.checkRequirements(!0)}getActivityList(){const e=[];if(this.activityHeader="",this.activityHeaderDescription="",this.impossibleTaskService.activeTaskIndex>=0&&(this.activityHeader="Do the impossible: "+this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].name,this.activityHeaderDescription=this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].description),this.hellService||(this.hellService=this.injector.get(Pe)),this.hellService.inHell)return this.hellService.getActivityList();if(this.impossibleTaskService.activeTaskIndex===ae.Swim)return e.push(this.Swim),e;this.impossibleTaskService.activeTaskIndex===ae.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex===ae.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex===ae.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex===ae.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex===ae.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex===ae.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex===ae.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.Resting),e.push(this.OddJobs),e.push(this.Begging),e.push(this.Burning),e.push(this.Taunting),e.push(this.Farming),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.ChopWood),e.push(this.Woodworking),e.push(this.Hunting),e.push(this.Leatherworking),e.push(this.Fishing),e.push(this.GatherHerbs),e.push(this.Alchemy),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.BalanceChi),this.characterService.characterState.manaUnlocked&&(e.push(this.CoreCultivation),e.push(this.InfuseEquipment),e.push(this.InfuseBody),e.push(this.ExtendLife)),this.characterService.characterState.immortal&&e.push(this.SoulCultivation),this.purifyGemsUnlocked&&e.push(this.PurifyGems),e.push(this.Recruiting),this.followerService.petsEnabled&&(e.push(this.PetRecruiting),e.push(this.PetTraining)),e.push(this.TrainingFollowers),e.push(this.CombatTraining);for(const n of e)n.projectionOnly=!1;return e}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],imageBaseName:"swim",activityType:z.Swim,description:["Swim down further into the depths."],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[ae.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.Swim].complete&&this.logService.log(C.STORY,"Your preparations were worthwhile! You dove all the way to the bottom of the ocean, through a hidden tunnel that led impossibly deep, and found a mythical sunken island.")}],resourceUse:[{stamina:20}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],imageBaseName:"forgechains",activityType:z.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Uses 100 Stamina. If you have the right facilities, materials, and knowledge you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const n=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&n>=150&&this.characterService.characterState.attributes.metalLore.value>=1e9?Math.random()<.1?(this.logService.log(C.CRAFTING,"Your anvil gives off an ear-splitting ringing and echoes endlessly into the depths. The new chain glows with power!"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):this.logService.log(C.CRAFTING,"Your anvil rings and weakly echoes into the depths. You throw aside the useless dull chain."):this.characterService.characterState.attributes.metalLore.value<1e9?(this.logService.injury(C.EVENT,"You lack the necessary knowledge and cause a deadly explosion."),this.characterService.characterState.status.health.value-=.6*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.injury(C.EVENT,"You fumble with the wrong tools and materials and hurt yourself."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],imageBaseName:"attachchains",activityType:z.AttachChains,description:["Swim deep and attach one of your chains to the island, then pull."],consequenceDescription:["Uses 1,000,000 Stamina. These chains are really, REALLY heavy. You better plan on having an Unbreakable Chain and a good place to rest afterwards."],consequence:[()=>{this.characterService.characterState.status.stamina.value>=1e6&&this.inventoryService.consume("chain")>0?(this.characterService.characterState.status.stamina.value-=1e6,this.logService.log(C.EVENT,"You attach a chain to the island, and give your chains a long, strenuous tug."),this.impossibleTaskService.taskProgress[ae.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.RaiseIsland].complete&&this.logService.log(C.STORY,"With a mighty pull of 777 chains, the island comes loose. You haul it to the surface.")):this.inventoryService.consume("chain",0)?(this.logService.injury(C.EVENT,"You strain yourself trying to lug the chain to an anchor point and collapse."),this.characterService.characterState.status.stamina.value-=1e6,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.injury(C.EVENT,"You pass time exploring the hidden tunnels without a chain until a horror of the depths takes a nibble."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e6}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],imageBaseName:"makebrick",activityType:z.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const n=this.inventoryService.consume("ore",200),r=Math.floor((this.followerService.jobs.builder.totalPower+10)/10);n>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,r),this.logService.log(C.CRAFTING,"You and your followers made "+(1+r)+" "+this.itemRepoService.items.everlastingBrick.name)):(this.logService.injury(C.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],imageBaseName:"scaffolding",activityType:z.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let n=0;n=this.inventoryService.consume("wood",200),n>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.log(C.CRAFTING,"You made "+this.itemRepoService.items.scaffolding.name)):(this.logService.injury(C.EVENT,"You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],imageBaseName:"makemortar",activityType:z.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const n=this.inventoryService.consume("ore"),r=Math.floor((this.followerService.jobs.builder.totalPower+100)/100);this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&n>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,r),this.logService.log(C.CRAFTING,"You and your followers made "+(1+r)+" "+this.itemRepoService.items.everlastingMortar.name)):(this.logService.injury(C.EVENT,"You fumble with the wrong materials and hurt yourself."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],imageBaseName:"buildtower",activityType:z.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let n=0;for(const o of this.followerService.followers)"builder"===o.job&&n++;if(n<10)return this.logService.injury(C.EVENT,"You fumble without the proper help and hurt yourself."),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));let r=0;return r=this.inventoryService.consume("scaffolding"),r<1?(this.logService.injury(C.EVENT,"You try building without a scaffolding, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(r=0,r=this.inventoryService.consume("mortar",100),r<1?(this.logService.injury(C.EVENT,"You try building without enough mortar, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(r=0,r=this.inventoryService.consume("brick",1e3),r<1?(this.logService.injury(C.EVENT,"You try building without enough bricks, but it ends in a disaster and you are badly hurt."),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.impossibleTaskService.taskProgress[ae.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),void(this.impossibleTaskService.taskProgress[ae.BuildTower].complete&&this.logService.log(C.STORY,"You have acheived the impossible and built a tower beyond the heavens.")))))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],imageBaseName:"researchwind",activityType:z.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Uses 100 Stamina and Mana. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value<0||this.characterService.characterState.status.mana.value<0?this.logService.log(C.EVENT,"You try to research, but you just don't have the energy."):this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.log(C.CRAFTING,"Research breakthrough! You produce a tome!."),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],resourceUse:[{stamina:100,mana:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],imageBaseName:"tamewind",activityType:z.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Uses 100 Stamina. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let n=0;n=this.inventoryService.consume("windTome"),n>0?(this.impossibleTaskService.taskProgress[ae.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.TameWinds].complete&&this.logService.log(C.STORY,"You acheived the impossible and tamed a hurricane.")):(this.logService.injury(C.EVENT,"You try to tame the winds, but without the proper preparation you are blown off the top of the tower."),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],imageBaseName:"learntofly",activityType:z.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[ae.LearnToFly].progress++,this.impossibleTaskService.taskProgress[ae.LearnToFly].progress<2222?(this.logService.injury(C.EVENT,"Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something."),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[ae.LearnToFly].progress<4444?(this.logService.injury(C.EVENT,"You feel like you might have flown a litte bit, somewhere near the time you hit the ground."),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[ae.LearnToFly].progress<6666?(this.logService.injury(C.EVENT,"You definitely did better that time. You did some great flying but sticking the landing is still tricky."),this.characterService.characterState.status.health.value-=100):(this.logService.injury(C.EVENT,"Almost there! Perfect landings are so hard."),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.LearnToFly].complete&&this.logService.log(C.STORY,"You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.")}],resourceUse:[{health:1001}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],imageBaseName:"offerfood",activityType:z.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let n=0;if(n=this.inventoryService.consume("food",1e3),n<1)return this.logService.injury(C.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress++:this.logService.log(C.EVENT,"The dragon doesn't seem interested in any more food.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],imageBaseName:"offergold",activityType:z.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.injury(C.EVENT,"The dragon is offended by your paltry offering and takes a swipe at you with its massive claw."),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.characterService.characterState.updateMoney(1e9),this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress++:this.logService.log(C.EVENT,"The dragon doesn't seem interested in any more money.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],imageBaseName:"talktodragon",activityType:z.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.injury(C.EVENT,"The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first."),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress<3500?this.logService.log(C.EVENT,"The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you."):(this.impossibleTaskService.taskProgress[ae.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.BefriendDragon].complete&&this.logService.log(C.STORY,"You did the impossible and made friends with a dragon!"))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],imageBaseName:"gatherarmy",activityType:z.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Be.Capital){this.logService.injury(C.EVENT,"You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.");for(let r=0;r<3;r++)this.battleService.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]});return}let n=0;return n=this.inventoryService.consume("food",1e4),n<1?(this.logService.injury(C.EVENT,"You don't have enough food to feed your army, so they revolt and fight you instead."),this.battleService.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]}),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):this.characterService.characterState.money<1e10?(this.logService.injury(C.EVENT,"You don't have enough money to pay your army, so they revolt and fight you instead."),this.battleService.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]}),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.characterService.characterState.updateMoney(1e10),void this.inventoryService.addItem(this.itemRepoService.items.army))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],imageBaseName:"conquer",activityType:z.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let n=0;if(n=this.inventoryService.consume("army",this.impossibleTaskService.taskProgress[ae.ConquerTheWorld].progress+1),n<1){for(let r=0;r<5;r++)this.battleService.addEnemy({name:"an angry army",baseName:"army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]});return this.logService.log(C.EVENT,"Your armies failed you and you are forced to fight the enemy armies to a standstill."),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}this.impossibleTaskService.taskProgress[ae.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.ConquerTheWorld].complete&&this.logService.log(C.STORY,"You did the impossible and conquered the world! Under your wise rule all human suffering ceases.")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],imageBaseName:"movestars",activityType:z.MoveStars,description:["Extend your vast magical powers into the heavens and force the stars into alignment."],consequenceDescription:["Uses 1000 Stamina and Mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[ae.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[ae.RearrangeTheStars].complete&&this.logService.log(C.STORY,"You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches."))}],resourceUse:[{stamina:1e3,mana:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0};let e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live.";this.hellService?.inHell?e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for an aspiring god, but you can't manage anything more profitable when you're projecting your spirit this far.":this.characterService.characterState.immortal&&(e="Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Why would you stoop to jobs like this now that you are immortal?"),this.OddJobs={level:0,name:["Odd Jobs"],imageBaseName:"oddjobs",activityType:z.OddJobs,description:[e],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("toughness",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("intelligence",.02),this.characterService.characterState.increaseAttribute("charisma",.02),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.updateMoney(3),this.OddJobs.lastIncome=3,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity","Finding True Inner Peace"],imageBaseName:"resting",activityType:z.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities.","Turn your senses inward and find pure stillness within."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Mana (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Mana (if unlocked).","Restores 300 Stamina, 30 Health, and 20 Mana (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.mana.value+=20,this.characterService.characterState.increaseAttribute("spirituality",1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{},{},{},{}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4},{strength:1e21,speed:1e21,charisma:1e21,intelligence:1e21,toughness:1e21,spirituality:1e21,fireLore:1e18,waterLore:1e18,earthLore:1e18,metalLore:1e18,woodLore:1e18}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],imageBaseName:"begging",activityType:z.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder if there is more to life than just money and fame."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;const n=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.updateMoney(n),this.Begging.lastIncome=n,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;const n=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.updateMoney(n),this.Begging.lastIncome=n,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;const n=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.updateMoney(n),this.Begging.lastIncome=n,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;const n=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.updateMoney(n),this.Begging.lastIncome=n,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:5},{stamina:5},{stamina:5},{stamina:5}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],imageBaseName:"blacksmithing",activityType:z.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(z.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.updateMoney(n),this.Blacksmithing.lastIncome=n;let r=.01;this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(r+=.05),this.characterService.characterState.increaseAttribute("metalLore",.1*r),Math.random()<r&&this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.updateMoney(n),this.Blacksmithing.lastIncome=n;let r=.02;if("anvil"===this.homeService.furniture.workbench?.id&&(r+=.05),this.characterService.characterState.increaseAttribute("metalLore",.2*r),this.characterService.characterState.increaseAttribute("fireLore",.02*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160),o/10)),"metal",!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.updateMoney(n),this.Blacksmithing.lastIncome=n;let r=.05;if("anvil"===this.homeService.furniture.workbench?.id&&(r+=.05),this.characterService.characterState.increaseAttribute("metalLore",.3*r),this.characterService.characterState.increaseAttribute("fireLore",.05*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160),o/10)),"metal",!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.updateMoney(n),this.Blacksmithing.lastIncome=n;let r=.2;if("anvil"===this.homeService.furniture.workbench?.id&&(r+=.2),this.characterService.characterState.increaseAttribute("metalLore",.5*r),this.characterService.characterState.increaseAttribute("fireLore",.1*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160),o/10)),"metal",!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillMold),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:25},{stamina:25},{stamina:25},{stamina:50}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],imageBaseName:"herbs",activityType:z.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"===this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],imageBaseName:"alchemy",activityType:z.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(z.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;const n=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.updateMoney(n),this.Alchemy.lastIncome=n;let r=.01;this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(r+=.05),this.characterService.characterState.increaseAttribute("woodLore",.05*r),this.characterService.characterState.increaseAttribute("waterLore",.1*r),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.checkApprenticeship(z.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;const n=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.updateMoney(n),this.Alchemy.lastIncome=n;let r=.02;if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(r+=.05),this.characterService.characterState.increaseAttribute("woodLore",.1*r),this.characterService.characterState.increaseAttribute("waterLore",.2*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){let o=this.inventoryService.consume("ingredient");o>=1&&(o=Math.floor(o*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(o,!1))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.checkApprenticeship(z.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;const n=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.updateMoney(n),this.Alchemy.lastIncome=n;let r=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(r+=.05),this.characterService.characterState.increaseAttribute("woodLore",.15*r),this.characterService.characterState.increaseAttribute("waterLore",.3*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){let o=this.inventoryService.consume("ingredient");o>=1&&(o=Math.floor(o*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(o+1,!1))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.checkApprenticeship(z.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.updateMoney(n),this.Alchemy.lastIncome=n,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let r=this.inventoryService.consume("ingredient");r>=1&&(r=Math.floor(r*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(r+1,!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:10},{stamina:10},{stamina:10},{stamina:20}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],imageBaseName:"chopping",activityType:z.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],imageBaseName:"woodworking",activityType:z.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(z.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.updateMoney(n),this.Woodworking.lastIncome=n,this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.checkApprenticeship(z.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.updateMoney(n),this.Woodworking.lastIncome=n,this.characterService.characterState.increaseAttribute("woodLore",.005),Math.random()<.02&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("wood");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),r/16),r)),"wood",!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.checkApprenticeship(z.Woodworking),this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.updateMoney(n),this.Woodworking.lastIncome=n,this.characterService.characterState.increaseAttribute("woodLore",.02),Math.random()<.05&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("wood");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),r/16),r)),"wood",!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.checkApprenticeship(z.Woodworking),this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;const n=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.updateMoney(n),this.Woodworking.lastIncome=n,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("wood");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),r/16),r)),"wood",!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillBox),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],imageBaseName:"leatherworking",activityType:z.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(z.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.updateMoney(n),this.Leatherworking.lastIncome=n,this.characterService.characterState.increaseAttribute("animalHandling",.001),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.updateMoney(n),this.Leatherworking.lastIncome=n,this.characterService.characterState.increaseAttribute("animalHandling",.002),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("hide");r>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),r/16),r)),"leather",this.inventoryService.randomArmorSlot(),!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;const n=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.updateMoney(n),this.Leatherworking.lastIncome=n,this.characterService.characterState.increaseAttribute("animalHandling",.003),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("hide");r>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),r/16),r)),"leather",this.inventoryService.randomArmorSlot(),!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(z.Leatherworking),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;const n=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.updateMoney(n),this.Leatherworking.lastIncome=n,this.characterService.characterState.increaseAttribute("animalHandling",.1),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("hide");r>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.max(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),r/16),r)),"leather",this.inventoryService.randomArmorSlot(),!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillPouch),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],imageBaseName:"farming",activityType:z.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let n=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));n<1&&(n=1),this.homeService.workFields(n),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:20}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],imageBaseName:"mining",activityType:z.Mining,description:["Dig in the ground for usable minerals."],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("earthLore",.05),Math.random()<.5&&this.inventoryService.addItem(this.inventoryService.getOre()),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:20}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],imageBaseName:"smelting",activityType:z.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){const n=this.inventoryService.consume("ore");n>=1&&this.inventoryService.addItem(this.inventoryService.getBar(n))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:20}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],imageBaseName:"hunting",activityType:z.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let n=.1;this.homeService.furniture.workbench&&"dogKennel"===this.homeService.furniture.workbench.id&&(n+=.4),this.characterService.characterState.increaseAttribute("animalHandling",.1*n),Math.random()<n&&(this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.inventoryService.getHide(),Math.floor(this.followerService.jobs.hunter.totalPower/20))),Math.random()<.01&&0===this.battleService.enemies.length&&this.battleService.addEnemy({name:"a hungry wolf",baseName:"wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:5,loot:[this.inventoryService.getHide()]}),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:50}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],imageBaseName:"fishing",activityType:z.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("animalHandling",.02),this.characterService.characterState.increaseAttribute("waterLore",.01),Math.random()<.2&&this.inventoryService.addItem(this.itemRepoService.items.carp),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:30}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],imageBaseName:"burning",activityType:z.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;const n=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.updateMoney(0-n),this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:5}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BalanceChi={level:0,name:["Balance Your Chi"],imageBaseName:"balance",activityType:z.BalanceChi,description:["Balance the flow of your chi and widen your meridians."],consequenceDescription:["Uses 100 Stamina. Increases your weakest lore."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let n="earthLore";for(const o of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[o].value<this.characterService.characterState.attributes[n].value&&(n=o);let r=.01;(this.characterService.characterState.manaUnlocked||this.characterService.characterState.easyMode)&&(r=.1),this.characterService.characterState.increaseAttribute(n,r),this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{stamina:100}],requirements:[{strength:1e3,speed:1e3,toughness:1e3,charisma:1e3,intelligence:1e3,earthLore:1e3,metalLore:1e3,woodLore:1e3,waterLore:1e3,fireLore:1e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],imageBaseName:"bodycultivation",activityType:z.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:100}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],imageBaseName:"mindcultivation",activityType:z.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:100}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],imageBaseName:"corecultivation",activityType:z.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.SoulCultivation={level:0,name:["Soul Cultivation"],imageBaseName:"soulcultivation",activityType:z.SoulCultivation,description:["Focus on the development of your immortal soul."],consequenceDescription:["Uses 1000 health. An immortal's cultivation technique. Balance your attributes and your lore, and improve yourself in every way."],consequence:[()=>{this.characterService.characterState.status.health.value-=1e3;let n="earthLore";for(const r of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[r].value<this.characterService.characterState.attributes[n].value&&(n=r);this.characterService.characterState.increaseAttribute(n,1),n="strength";for(const r of["speed","toughness","intelligence","charisma"])this.characterService.characterState.attributes[r].value<this.characterService.characterState.attributes[n].value&&(n=r);this.characterService.characterState.increaseAttribute(n,1),this.characterService.characterState.increaseAttribute("spirituality",.01),this.characterService.characterState.healthBonusSoul++,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.status.mana.max++,this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{health:1e3}],requirements:[{spirituality:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseEquipment={level:0,name:["Infuse Equipment"],imageBaseName:"infuseequipment",activityType:z.InfuseEquipment,description:["Infuse the power of a gem into your equipment."],consequenceDescription:["Uses 200 Stamina and 10 mana. An advanced magical technique."],consequence:[()=>{if(!this.characterService.characterState.manaUnlocked)return;this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.status.mana.value-=10;const n=this.inventoryService.consume("spiritGem",1,this.inventoryService.useCheapestSpiritGem);n>0&&this.characterService.characterState.status.mana.value>=0&&this.inventoryService.upgradeEquppedEquipment(Math.floor(Math.pow(n/10,2.4))),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200,mana:10}],requirements:[{strength:2e7,toughness:2e7,speed:2e7,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],imageBaseName:"infusebody",activityType:z.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["Uses 10 Mana and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10&&(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200,mana:10}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],imageBaseName:"extendlife",activityType:z.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["Uses 20 Mana and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20&&(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:400,mana:20}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],imageBaseName:"recruiting",activityType:z.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,!(this.characterService.characterState.money<=1e6)&&(this.characterService.characterState.updateMoney(-1e6),this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():this.logService.injury(C.EVENT,"All of your potential followers ignore your recruiting efforts after sensing your low cultivation."),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++)}],resourceUse:[{stamina:100}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],imageBaseName:"trainingfollowers",activityType:z.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Uses 1000 Stamina. Gives you a small chance for each follower of increasing their power. They might learn more if you are a better leader."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.trainingFollowersDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:1e3}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0},this.Taunting={level:0,name:["Taunting Enemies"],imageBaseName:"taunting",activityType:z.Taunting,description:["Rudely point at your enemies and call them out to battle."],consequenceDescription:["Incites a fight with your current enemy this very night."],consequence:[()=>{this.battleService.tickCounter=this.battleService.ticksPerFight,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{}],requirements:[{strength:1e3,toughness:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.CombatTraining={level:0,name:["Combat Training"],imageBaseName:"combattraining",activityType:z.CombatTraining,description:["Hone every fiber of your being to martial sepremacy. Your experience in the Hell of Mirrors allowed you to examine your own combat form and understand how to improve it. Now all you need is practice."],consequenceDescription:["Uses 10000 stamina. Trains your Combat Mastery."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.increaseAttribute("combatMastery",.01),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:1e4}],requirements:[{combatMastery:1}],unlocked:!1,skipApprenticeshipLevel:0},this.PetRecruiting={level:0,name:["Finding Pets"],imageBaseName:"findingpets",activityType:z.PetRecruiting,description:["Look for animals that want to be your pets."],consequenceDescription:["Uses 100 Stamina and 100,000 food. Gives you a small chance of finding a pet."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.characterState.status.stamina.value-=100,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.characterState.increaseAttribute("animalHandling",1),this.followerService.followersUnlocked&&this.followerService.petsEnabled&&Math.random()<.01&&this.followerService.generateFollower(!0),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++))}],resourceUse:[{stamina:100}],requirements:[{animalHandling:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.PetTraining={level:0,name:["Training Pets"],imageBaseName:"trainingpets",activityType:z.PetTraining,description:["Train your pets to make them more powerful."],consequenceDescription:["Uses 1000 Stamina and 100k food. Gives you a small chance for each pet of increasing their power. They might learn more if you are a better with animals."],consequence:[()=>{this.inventoryService.getQuantityByType("food")<1e5||(this.characterService.characterState.status.stamina.value-=1e3,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.characterState.increaseAttribute("animalHandling",1),this.trainingPetsDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++))}],resourceUse:[{stamina:1e3}],requirements:[{animalHandling:1e18}],unlocked:!1,skipApprenticeshipLevel:0},this.PurifyGems={level:0,name:["Purifying Gems"],imageBaseName:"purifyinggems",activityType:z.PurifyGems,description:["Purify corrupted spirit gems into something more useful."],consequenceDescription:["Uses 100000 Stamina and a corrupted spirit gem."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5;const n=this.inventoryService.consume("corruptionGem");n>0&&this.inventoryService.addItem(this.inventoryService.generateSpiritGem(n/10,"life"))}],resourceUse:[{stamina:1e5}],requirements:[{spirituality:1e24}],unlocked:!1,skipApprenticeshipLevel:0}}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(Oe),w(ie),w(pt),w(Tr),w(ft),w(tn),w(hi),w(Ei),w(Tt),w(Er))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _W(t,i){1&t&&(u(0,"div",1)(1,"span"),f(2,"Don't worry. Each mortal life is just a drop of time in the vast ocean of eternity. You are destined for immortality, and immortality you will achieve! Your experiences in your previous life will let you learn faster and grow stronger in the next life."),h()())}function SW(t,i){if(1&t&&(u(0,"div",1)(1,"span"),f(2),h()()),2&t){const e=S();g(2),ke(e.tip)}}let wW=(()=>{class t{constructor(e,n,r,o,a,s){this.data=e,this.characterService=n,this.activityService=r,this.inventoryService=o,this.followerSerivce=a,this.impossibleTaskService=s,this.causeOfDeath="",this.attributeGains="",this.tip="",this.causeOfDeath=e.causeOfDeath,this.attributeGains=e.attributeGains,this.tip="",this.characterService.characterState.age<9125?this.tip="Life for an aspiring immortal can be brutal in the beginning. You may need to swallow your pride and do whatever is necessary to survive. A better home goes a long way toward keeping you safe.":this.characterService.characterState.age<12775&&this.characterService.characterState.attributes.intelligence.value<200?this.tip="Life for an aspiring immortal can be frustratingly short. Perhaps increasing your intelligence might open up new avenues for extending your life.":this.characterService.characterState.age<51100?this.tip="Life for an aspiring immortal can be frustratingly short. Farming some healthy food might give you just what you need.":this.activityService.completedApprenticeships.length<4&&this.characterService.characterState.attributes.spirituality.value<=0?this.tip="Blacksmithing, alchemy, woodworking, and leatherworking are all essential trades for an aspiring immortal. You should master them all.":this.characterService.characterState.attributes.spirituality.value<=0?this.tip="Balance is important to aspiring immortals. You'll need to develop all of your attributes if you want to progress in your journey.":this.characterService.characterState.attributes.spirituality.value<=10?this.tip="Developing your spirituality is essential. Focusing on your spiritual development will help you on your way to immortality.":this.inventoryService.autoWeaponMergeUnlocked?this.inventoryService.autoArmorMergeUnlocked?this.characterService.characterState.bloodlineRank<1||this.characterService.soulCoreRank()<1||this.characterService.meridianRank()<1?this.tip="Ascension provides a pathway to the power you'll need to achieve immortality. Each ascension technique benefits you in unique and important ways.":this.characterService.characterState.manaUnlocked?this.characterService.characterState.status.stamina.max<200?this.tip="Building up your stamina requires protein. Hunting of fishing can provide you with the food that you need to take on more challenging tasks.":this.followerSerivce.followers.length<5?this.tip="Recruiting more followers will help you advance toward immortality. Perhaps its time to return to politics to build up the charm you'll need to recruit.":this.followerSerivce.highestLevel<=1?this.tip="Your followers are too weak to give you the help you need. Perhaps its time to return to politics to build up the charm you'll need to train them to be stronger.":this.impossibleTaskService.impossibleTasksUnlocked?this.characterService.characterState.immortal||(this.tip="You're so close now. If you could only manage to do the impossible, you know you would achieve immortality."):this.tip="Ascensions are the key to your progress now. Push forward!":this.tip="Magic will be required for your journey to immortality. Only by balancing your mastery of the five elements will you be able to access magical powers.":this.tip="Your quest toward immortality will require battling mighty foes. Reliable armor will be critical to surviving.":this.tip="Your quest toward immortality will require battling mighty foes. Powerful weapons will be critical to defeating them."}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showLifeSummary=e.target.checked)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Wl),y(Oe),y(ct),y(ie),y(Tt),y(Er))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-life-summary"]],decls:22,vars:5,consts:[[1,"darkMode","lifeSummary"],[1,"textDiv"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"A New Life Begins"),h(),G(3,"hr")(4,"br"),u(5,"div",1)(6,"span"),f(7),h()(),G(8,"br"),H(9,_W,3,0,"div",1),G(10,"br"),u(11,"div",1)(12,"span"),f(13),h()(),G(14,"br"),H(15,SW,3,1,"div",1),G(16,"br"),u(17,"div",1)(18,"span")(19,"input",2),D("change",function(a){return r.showLifeSummaryChange(a)}),h(),u(20,"label",3),f(21,"Show this summary at the start of each life"),h()()()()),2&n&&(g(7),V(" ",r.causeOfDeath," "),g(2),I(r.characterService.characterState.immortal?-1:9),g(4),ke(r.attributeGains),g(2),I(r.characterService.characterState.showTips?15:-1),g(4),P("checked",r.characterService.characterState.showLifeSummary))},styles:[".textDiv[_ngcontent-%COMP%]{white-space:pre-wrap}.lifeSummary[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();class CW{constructor(i,e,n,r,o){this.logService=i,this.camelToTitlePipe=e,this.bigNumberPipe=n,this.mainLoopService=r,this.dialog=o,this.maxMoney=99999e19,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=5*Math.pow(1.5,9),this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=1e3,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=1,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.healthBonusSoul=0,this.empowermentFactor=1,this.empowermentMult=1,this.imperial=!1,this.immortal=!1,this.god=!1,this.easyMode=!1,this.ascensionUnlocked=!1,this.yinYangUnlocked=!1,this.yin=1,this.yang=1,this.yinYangBalance=0,this.righteousWrathUnlocked=!1,this.bonusMuscles=!1,this.bonusBrains=!1,this.bonusHealth=!1,this.showLifeSummary=!0,this.showTips=!1,this.showUpdateAnimations=!0,this.dialogRef=null,this.moneyUpdates=0,this.statusToFlash=[],this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"pets"},combatMastery:{description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"},magicMastery:{description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.stashedMoney=0,this.hellMoney=0,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.stashedEquipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.highestMoney=0,this.highestAge=0,this.highestHealth=0,this.highestStamina=0,this.highestMana=0,this.highestAttributes={},r.frameSubject.subscribe(()=>{this.empowermentMult=this.getEmpowermentMult();const a=Object.keys(this.attributes);for(const s in a)this.attributes[a[s]].aptitudeMult=this.getAptitudeMultipier(this.attributes[a[s]].aptitude),("strength"===a[s]||"speed"===a[s]||"toughness"===a[s])&&this.bonusMuscles&&(this.attributes[a[s]].aptitudeMult*=1e3),("intelligence"===a[s]||"charisma"===a[s])&&this.bonusBrains&&(this.attributes[a[s]].aptitudeMult*=1e3)}),this.attributeUpdates={strength:0,toughness:0,speed:0,intelligence:0,charisma:0,spirituality:0,earthLore:0,metalLore:0,woodLore:0,waterLore:0,fireLore:0,animalHandling:0,combatMastery:0,magicMastery:0}}reincarnate(i){this.totalLives++;let e="";const n=Object.keys(this.attributes);for(const o in n)if(this.attributes[n[o]].value>0){const a=(this.attributes[n[o]].value-(this.attributes[n[o]].lifeStartValue||0))/this.aptitudeGainDivider;if(a>0){this.attributes[n[o]].aptitude+=a;const s="Your aptitude for "+this.camelToTitlePipe.transform(n[o])+" increased by "+this.bigNumberPipe.transform(a)+"\n    New aptitude: "+this.bigNumberPipe.transform(this.attributes[n[o]].aptitude);this.logService.log(C.EVENT,s),e+=s+"\n    New starting value: "+this.bigNumberPipe.transform(this.getAttributeStartingValue(this.attributes[n[o]].value,this.attributes[n[o]].aptitude))+"\n"}this.attributes[n[o]].value=this.getAttributeStartingValue(this.attributes[n[o]].value,this.attributes[n[o]].aptitude),this.attributes[n[o]].lifeStartValue=this.attributes[n[o]].value}this.showLifeSummary&&(this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialog.open(wW,{width:"600px",data:{causeOfDeath:i,attributeGains:e},autoFocus:!1})),this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.manaUnlocked?(this.status.mana.max=1,this.status.mana.value=1):(this.status.mana.max=0,this.status.mana.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let r=0;r+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(r/5),this.statLifespan*=this.bloodlineRank<5?.1:5,this.money<0&&(this.money=0),this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney=0,this.recalculateDerivedStats(),0===this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(i,e){return i<=0?0:(e<0&&(e=0),i<1?i/10:e<this.attributeSoftCap?1+e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1)))}recalculateDerivedStats(){let i=1;this.bonusHealth&&(i=5),this.status.health.max=(100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+this.healthBonusSoul+Math.floor(5*Math.log2(this.attributes.toughness.value+2)))*i,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney);const e=Object.keys(this.attributes);for(const m in e)this.attributes[e[m]].aptitudeMult=this.getAptitudeMultipier(this.attributes[e[m]].aptitude);this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value,!0),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan;let n=1,r=1,o=1,a=1,s=1,c=1;this.equipment.leftHand&&(n=this.equipment.leftHand.weaponStats?.baseDamage||1),this.equipment.rightHand&&(r=this.equipment.rightHand.weaponStats?.baseDamage||1),this.equipment.head&&(o=this.equipment.head.armorStats?.defense||1),this.equipment.body&&(a=this.equipment.body.armorStats?.defense||1),this.equipment.legs&&(s=this.equipment.legs.armorStats?.defense||1),this.equipment.feet&&(c=this.equipment.feet.armorStats?.defense||1);const l=Math.sqrt(this.attributes.strength.value)||1;this.attackPower=Math.floor(l*Math.sqrt(r*n))||1,this.attributes.combatMastery.value>1&&(this.attackPower*=Math.log(this.attributes.combatMastery.value+100)/4.605170185988092),this.righteousWrathUnlocked&&(this.attackPower*=2);const d=Math.sqrt(this.attributes.toughness.value)||1;this.defense=Math.floor(d*(o+a+s+c))||1,this.righteousWrathUnlocked&&(this.defense*=2),this.yinYangUnlocked&&(this.yinYangBalance=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0))}getEmpowermentMult(){let n=1+198/(1+Math.pow(1.02,-(this.empowermentFactor-1)/3))-99;return this.easyMode&&(n*=100),n}getAptitudeMultipier(i,e=!1){i<0&&(i=0);const n=e?1:this.empowermentMult;let r=1;if(i<this.attributeScalingLimit)r=i*n;else if(i<10*this.attributeScalingLimit)r=(this.attributeScalingLimit+(i-this.attributeScalingLimit)/4)*n;else if(i<100*this.attributeScalingLimit)r=(this.attributeScalingLimit+9*this.attributeScalingLimit/4+(i-10*this.attributeScalingLimit)/20)*n;else if(i<=this.attributeSoftCap)r=(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(i-100*this.attributeScalingLimit)/100)*n;else{const a=this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(this.attributeSoftCap-100*this.attributeScalingLimit)/100;r=(Math.pow((i-this.attributeSoftCap)*Math.pow(this.attributeScalingLimit/1e13,.15),.5)+a)*n}if(this.bloodlineRank>=8)return r;let o=365e3;return this.yinYangUnlocked&&(o+=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0)*o),o/(-1-Math.log((r+o)/o))+o}updateMoney(i){this.money+=i,this.showUpdateAnimations&&(this.moneyUpdates+=i)}flashStatus(i){this.statusToFlash.includes(i)||this.statusToFlash.push(i)}increaseAttribute(i,e){let n=e*this.attributes[i].aptitudeMult;return n<e&&(n=e),this.attributes[i].value+=n,(!this.highestAttributes[i]||this.highestAttributes[i]<this.attributes[i].value)&&(this.highestAttributes[i]=this.attributes[i].value),this.showUpdateAnimations&&(this.attributeUpdates[i]+=n),n}increaseAptitudeDaily(i){const e=Object.keys(this.attributes),n=["combatMastery","magicMastery"];for(const r in e)n.includes(r)?this.attributes[e[r]].aptitude+=this.attributes[e[r]].value/1e14*i:this.attributes[e[r]].aptitude+=this.attributes[e[r]].value/1e7*i}increaseBaseLifespan(i,e){return this.baseLifespan+i<365*e?(this.baseLifespan+=i,!0):(this.baseLifespan<365*e&&(this.baseLifespan=365*e),!1)}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3);let i=1e4,e=2e4;this.yinYangUnlocked&&(i+=2*this.yinYangBalance*i,e+=2*this.yinYangBalance*e),this.healthBonusMagic>i&&(this.healthBonusMagic=i),this.healthBonusSoul>e&&(this.healthBonusSoul=e),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.mana.max>1e6&&(this.status.mana.max=1e6),this.status.nourishment.max>1e3&&(this.status.nourishment.max=1e3),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,stashedMoney:this.stashedMoney,hellMoney:this.hellMoney,equipment:this.equipment,stashedEquipment:this.stashedEquipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,healthBonusSoul:this.healthBonusSoul,empowermentFactor:this.empowermentFactor,immortal:this.immortal,god:this.god,easyMode:this.easyMode,highestMoney:this.highestMoney,highestAge:this.highestAge,highestHealth:this.highestHealth,highestStamina:this.highestStamina,highestMana:this.highestMana,highestAttributes:this.highestAttributes,yinYangUnlocked:this.yinYangUnlocked,yin:this.yin,yang:this.yang,righteousWrathUnlocked:this.righteousWrathUnlocked,bonusMuscles:this.bonusMuscles,bonusBrains:this.bonusBrains,bonusHealth:this.bonusHealth,showLifeSummary:this.showLifeSummary,showTips:this.showTips,showUpdateAnimations:this.showUpdateAnimations}}setProperties(i){this.attributes=i.attributes,this.money=i.money,this.stashedMoney=i.stashedMoney||0,this.hellMoney=i.hellMoney||0,this.money>this.maxMoney&&(this.money=this.maxMoney),this.hellMoney>this.maxMoney&&(this.hellMoney=this.maxMoney),this.equipment=i.equipment,this.stashedEquipment=i.stashedEquipment||{head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.age=i.age||6570,this.status=i.status,this.baseLifespan=i.baseLifespan,this.foodLifespan=i.foodLifespan||0,this.alchemyLifespan=i.alchemyLifespan||0,this.statLifespan=i.statLifespan||0,this.spiritualityLifespan=i.spiritualityLifespan||0,this.magicLifespan=i.magicLifespan||0,this.condenseSoulCoreCost=i.condenseSoulCoreCost,this.aptitudeGainDivider=5*Math.pow(1.5,9-Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)),this.reinforceMeridiansCost=i.reinforceMeridiansCost,this.attributeScalingLimit=10*Math.pow(2,Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)),this.attributeSoftCap=i.attributeSoftCap,this.bloodlineRank=i.bloodlineRank,this.bloodlineCost=1e3*Math.pow(100,this.bloodlineRank),this.manaUnlocked=i.manaUnlocked||!1,this.totalLives=i.totalLives||1,this.healthBonusFood=i.healthBonusFood||0,this.healthBonusBath=i.healthBonusBath||0,this.healthBonusMagic=i.healthBonusMagic||0,this.healthBonusSoul=i.healthBonusSoul||0,this.empowermentFactor=i.empowermentFactor||1,this.immortal=i.immortal||!1,this.god=i.god||!1,this.easyMode=i.easyMode||!1,this.highestMoney=i.highestMoney||0,this.highestAge=i.highestAge||0,this.highestHealth=i.highestHealth||0,this.highestStamina=i.highestStamina||0,this.highestMana=i.highestMana||0,this.highestAttributes=i.highestAttributes||{},this.yinYangUnlocked=i.yinYangUnlocked||!1,this.yin=i.yin||1,this.yang=i.yang||1,this.righteousWrathUnlocked=i.righteousWrathUnlocked||!1,this.bonusMuscles=i.bonusMuscles||!1,this.bonusBrains=i.bonusBrains||!1,this.bonusHealth=i.bonusHealth||!1,this.showLifeSummary=i.showLifeSummary??!0,this.showTips=i.showTips||!1,this.showUpdateAnimations=i.showUpdateAnimations??!0,this.attributes.combatMastery||(this.attributes.combatMastery={description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"}),this.attributes.magicMastery||(this.attributes.magicMastery={description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}),this.recalculateDerivedStats()}}const kW=["mat-button",""],DW=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],xW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],MW=new F("MAT_BUTTON_CONFIG"),TW=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let EW=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,n,r,o){this._elementRef=e,this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=O($l),this._rippleLoader=O(YY),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const a=O(MW,{optional:!0}),s=e.nativeElement,c=s.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(s,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:d}of TW)s.hasAttribute(l)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){tg()};static#t=this.\u0275dir=K({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ze],disabled:[2,"disabled","disabled",ze],ariaDisabled:[2,"aria-disabled","ariaDisabled",ze],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ze]},features:[vi]})}return t})(),IW=(()=>{class t extends EW{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(Ht),y(Q),y(cn,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(Ge("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),$u(r.color?"mat-"+r.color:""),gt("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ye,Ki],attrs:kW,ngContentSelectors:xW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(gs(DW),G(0,"span",0),Gr(1),u(2,"span",1),Gr(3,1),h(),Gr(4,2),G(5,"span",2)(6,"span",3)),2&n&&gt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})();function PW(t,i){if(1&t){const e=q();u(0,"div",1)(1,"button",2),D("click",function(){return T(e),E(S().action())}),f(2),h()()}if(2&t){const e=S();g(2),V(" ",e.data.action," ")}}const OW=["label"];function RW(t,i){}const FW=Math.pow(2,31)-1;class xy{constructor(i,e){this._overlayRef=e,this._afterDismissed=new W,this._afterOpened=new W,this._onAction=new W,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,FW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const FI=new F("MatSnackBarData");class xm{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let NI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=K({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return t})(),LI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=K({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return t})(),BI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=K({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return t})(),NW=(()=>{class t{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(n){return new(n||t)(y(xy),y(FI))};static#t=this.\u0275cmp=ve({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ki],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(u(0,"div",0),f(1),h(),H(2,PW,3,1,"div",1)),2&n&&(g(),V(" ",r.data.message,"\n"),g(),I(r.hasAction?2:-1))},dependencies:[IW,NI,LI,BI],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})();const LW={snackBarState:js("state",[Hn("void, hidden",St({transform:"scale(0.8)",opacity:0})),Hn("visible",St({transform:"scale(1)",opacity:1})),Vn("* => visible",Bn("150ms cubic-bezier(0, 0, 0.2, 1)")),Vn("* => void, * => hidden",Bn("75ms cubic-bezier(0.4, 0.0, 1, 1)",St({opacity:0})))])};let BW=0,HI=(()=>{class t extends um{constructor(e,n,r,o,a){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._document=O(be),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new W,this._onExit=new W,this._onEnter=new W,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+BW++,this.attachDomPortal=s=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(s);return this._afterPortalAttached(),c},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){const{fromState:n,toState:r}=e;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>e.classList.add(a)):e.classList.add(n)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const n=e.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(n){return new(n||t)(y(Q),y(Ce),y(Hi),y(Ht),y(xm))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&(Bi(Qr,7),Bi(OW,7)),2&n){let o;Yt(o=Wt())&&(r._portalOutlet=o.first),Yt(o=Wt())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&uv("@state.done",function(a){return r.onAnimationEnd(a)}),2&n&&cv("@state",r._animationState)},standalone:!0,features:[ye,Ki],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(u(0,"div",1)(1,"div",2,0)(3,"div",3),H(4,RW,0,0,"ng-template",4),h(),G(5,"div"),h()()),2&n&&(g(5),Ge("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Qr],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[LW.snackBarState]}})}return t})();const VW=new F("mat-snack-bar-default-options",{providedIn:"root",factory:function HW(){return new xm}});let VI=(()=>{class t{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,r,o,a,s){this._overlay=e,this._live=n,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=NW,this.snackBarContainerComponent=HI,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){const o=we.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:xm,useValue:n}]}),a=new Vs(this.snackBarContainerComponent,n.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){const r={...new xm,...this._defaultConfig,...n},o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new xy(a,o);if(e instanceof Jt){const c=new zl(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(c)}else{const c=this._createInjector(r,s),l=new Vs(e,void 0,c),d=a.attachComponentPortal(l);s.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(vt(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){const n=new ny;n.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,s=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){return we.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:xy,useValue:n},{provide:FI,useValue:e.data}]})}static#e=this.\u0275fac=function(n){return new(n||t)(w(en),w(xY),w(we),w(zE),w(t,12),w(VW))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oe=(()=>{class t{constructor(e,n,r,o,a){this.injector=e,this.mainLoopService=n,this.logService=r,this.reincarnationService=o,this.dialog=a,this.camelToTitlePipe=new ao,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",setTimeout(()=>this.hellService=this.injector.get(Pe)),this.snackBar=this.injector.get(VI),this.bigNumberPipe=this.injector.get(Vt),this.characterState=new CW(r,this.camelToTitlePipe,this.bigNumberPipe,n,a);let s=this.mainLoopService.totalTicks;n.longTickSubject.subscribe(c=>{const l=this.mainLoopService.totalTicks,d=3650;let m=Math.floor(c/d);s%d>l%d&&m++,m>0&&this.characterState.increaseBaseLifespan(m,70),s=l}),n.tickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let c="";if(this.forceRebirth)c="You release your soul from your body at the age of "+this.formatAge()+".";else if(this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal)c="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".";else if(this.characterState.status.nourishment.value<=0)if(this.characterState.status.nourishment.value=0,this.characterState.attributes.spirituality.value>0){const l=Math.max(.2*this.characterState.status.health.value,20);this.logService.injury(C.COMBAT,"You take "+this.bigNumberPipe.transform(l)+" damage from starvation."),this.characterState.status.health.value-=l,this.characterState.status.health.value<0&&(this.characterState.status.health.value=0),this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(this.characterState.immortal?this.hellService?.inHell&&(this.hellService.beaten=!0):c="You starve to death at the age of "+this.formatAge()+".")}else this.characterState.immortal||(c="You starve to death at the age of "+this.formatAge()+".");else this.characterState.status.health.value<=0&&!this.characterState.immortal?(this.activityService||(this.activityService=this.injector.get(ct)),c=this.activityService.activityDeath?"You die from overwork at the age of "+this.formatAge()+".":"You succumb to your wounds and die at the age of "+this.formatAge()+"."):this.characterState.immortal&&this.characterState.status.health.value<0&&(this.characterState.status.health.value=0);""!==c&&(this.characterState.immortal||(this.logService.injury(C.EVENT,c),this.forceRebirth||this.logService.log(C.EVENT,"You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.")),this.characterState.dead=!0,this.characterState.showLifeSummary||this.toast("A new life begins."),this.characterState.reincarnate(c),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{this.characterState.dead=!1,this.deathSubscriber?.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.log(C.EVENT,"You are born anew, still an immortal but with the fresh vigor of youth."):(this.logService.log(C.EVENT,"Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one."),this.logService.log(C.EVENT,"It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!")))}),n.longTickSubject.subscribe(()=>{this.characterState.highestMoney<this.characterState.money&&(this.characterState.highestMoney=this.characterState.money),this.characterState.highestAge<this.characterState.age&&(this.characterState.highestAge=this.characterState.age),this.characterState.highestHealth<this.characterState.status.health.value&&(this.characterState.highestHealth=this.characterState.status.health.value),this.characterState.highestStamina<this.characterState.status.stamina.value&&(this.characterState.highestStamina=this.characterState.status.stamina.value),this.characterState.highestMana<this.characterState.status.mana.value&&(this.characterState.highestMana=this.characterState.status.mana.value),!this.characterState.dead&&(this.characterState.recalculateDerivedStats(),this.hellService?.inHell&&this.hellService.currentHell===Y.CrushingBoulder&&!this.hellService.completedHellTasks.includes(Y.CrushingBoulder)&&(this.characterState.attackPower=1),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&this.characterState.bloodlineRank<6&&(this.logService.log(C.EVENT,"Your father puts some coins in your purse before sending you on your way."),this.characterState.updateMoney(200))})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.immortal&&(e="You are immortal. If you had remained mortal, your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" would be extended by"),this.characterState.foodLifespan>0&&(e+="\nHealthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="\nAlchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="\nBasic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="\nSpirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.magicLifespan>0&&(e+="\nMagic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":this.bigNumberPipe.transform(Math.floor(e/365))+" years"}resetAptitudes(){const e=Object.keys(this.characterState.attributes);for(const n in e){const r=this.characterState.attributes[e[n]];r.lifeStartValue=0,r.aptitude=1+r.aptitude/this.characterState.aptitudeGainDivider,r.value=parseInt(n)<5?1:0}this.activityService||(this.activityService=this.injector.get(ct)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=5||(this.logService.log(C.STORY,"Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger."),this.logService.log(C.STORY,"You now gain additional aptitude each time you reincarnate."),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider/=1.5,this.resetAptitudes())}soulCoreRank(){return Math.log10(this.characterState.condenseSoulCoreCost/this.characterState.condenseSoulCoreOriginalCost)}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.log(C.STORY,"The pathways that carry your chi through your body have been strengthened and reinforced."),this.logService.log(C.STORY,"Your aptitudes can now give you a greater increase when gaining attributes."),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){return Math.log10(this.characterState.reinforceMeridiansCost/this.characterState.reinforceMeridiansOriginalCost)}upgradeBloodline(){this.characterState.bloodlineRank>=9||(this.logService.log(C.STORY,"You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants."),this.logService.log(C.STORY,"You will be reborn into your own family line and reap greater benefits from your previous lives."),this.characterState.bloodlineCost*=100,this.characterState.bloodlineRank++,this.resetAptitudes())}stashWeapons(){this.characterState.stashedEquipment.rightHand=this.characterState.equipment.rightHand,this.characterState.stashedEquipment.leftHand=this.characterState.equipment.leftHand,this.characterState.equipment.rightHand=null,this.characterState.equipment.leftHand=null}restoreWeapons(){this.characterState.equipment.rightHand=this.characterState.stashedEquipment.rightHand,this.characterState.equipment.leftHand=this.characterState.stashedEquipment.leftHand,this.characterState.stashedEquipment.rightHand=null,this.characterState.stashedEquipment.leftHand=null}stashArmor(){this.characterState.stashedEquipment.head=this.characterState.equipment.head,this.characterState.stashedEquipment.body=this.characterState.equipment.body,this.characterState.stashedEquipment.legs=this.characterState.equipment.legs,this.characterState.stashedEquipment.feet=this.characterState.equipment.feet,this.characterState.equipment.head=null,this.characterState.equipment.body=null,this.characterState.equipment.legs=null,this.characterState.equipment.feet=null}restoreArmor(){this.characterState.equipment.head=this.characterState.stashedEquipment.head,this.characterState.equipment.body=this.characterState.stashedEquipment.body,this.characterState.equipment.legs=this.characterState.stashedEquipment.legs,this.characterState.equipment.feet=this.characterState.stashedEquipment.feet,this.characterState.stashedEquipment.head=null,this.characterState.stashedEquipment.body=null,this.characterState.stashedEquipment.legs=null,this.characterState.stashedEquipment.feet=null}stashMoney(){this.characterState.stashedMoney=this.characterState.money,this.characterState.money=0}restoreMoney(){this.characterState.money=this.characterState.stashedMoney,this.characterState.stashedMoney=0}toast(e,n=5e3){const r=this.snackBar.open(e,"Close",{duration:n,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["snackBar","darkMode"]});this.snackBarObservable=r.onAction().subscribe(()=>{this.snackBarObservable?.unsubscribe()})}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(ft),w(Ei),w(Tr),w(ri))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),My=(()=>{class t{constructor(e){this.data=e}static#e=this.\u0275fac=function(n){return new(n||t)(y(Wl))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-offline-modal"]],decls:3,vars:3,consts:[[1,"body"]],template:function(n,r){1&n&&(u(0,"div",0),f(1),N(2,"bigNumber"),h()),2&n&&(g(),V("While you were away you earned ",U(2,1,r.data.earnedTicks)," banked ticks."))},styles:[".body[_ngcontent-%COMP%]{color:#cacaca}"]})}return t})(),ft=(()=>{class t{constructor(e,n){this.injector=e,this.dialog=n,this.tickSubject=new W,this.frameSubject=new W,this.longTickSubject=new W,this.yearOrLongTickSubject=new W,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.topDivider=10,this.unlockAgeSpeed=!1,this.unlockPlaytimeSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useBankedTicks=!0,this.scientificNotation=!1,this.earnedTicks=0,this.playMusic=!1,this.timeUnlocked=!1,this.importing=!1,this.audio=new Audio("./assets/music/Shaolin-Dub-Rising-Sun-Beat.mp3"),this.audio.volume=.2,this.audio.loop=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,unlockAgeSpeed:this.unlockAgeSpeed,unlockPlaytimeSpeed:this.unlockPlaytimeSpeed,offlineDivider:this.offlineDivider,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks,scientificNotation:this.scientificNotation,playMusic:this.playMusic,timeUnlocked:this.timeUnlocked}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.topDivider=10,this.unlockFastestSpeed?this.topDivider=1:this.unlockFasterSpeed?this.topDivider=2:this.unlockFastSpeed&&(this.topDivider=5),this.unlockAgeSpeed=e.unlockAgeSpeed,this.unlockPlaytimeSpeed=e.unlockPlaytimeSpeed,this.tickDivider=e.tickDivider,this.offlineDivider=e.offlineDivider||10,this.pause=e.pause,this.lastTime=e.lastTime;const n=(new Date).getTime();this.earnedTicks=n-this.lastTime>6048e5?(18144e5+n-this.lastTime)/(25*this.offlineDivider*4):(n-this.lastTime)/(25*this.offlineDivider),this.bankedTicks=e.bankedTicks+this.earnedTicks,this.lastTime=n,this.totalTicks=e.totalTicks||0,this.useBankedTicks=e.useBankedTicks??!0,this.scientificNotation=e.scientificNotation||!1,this.playMusic=e.playMusic,this.timeUnlocked=e.timeUnlocked||!1}playAudio(){this.playMusic?this.audio.play():this.audio.pause()}start(){this.characterService||(this.characterService=this.injector.get(Oe)),this.playAudio();const e=(s,c)=>{let l=!1,d=()=>{};const p=b=>()=>clearTimeout(b),v=()=>{if(l)return;const b=new Date;s();const k=(new Date).getTime()-b.getTime(),x=c-k;l||(d=p(x<=0?setTimeout(v,0):setTimeout(v,x)))};return d=p(setTimeout(v,c)),()=>{l=!0,null!==d&&d()}},n=(s,c)=>{c>=1e3&&e(s,c);const l=Math.floor(1e3/c);let d=()=>{};const m=()=>{d(),d=document.hidden?e(()=>{for(let p=0;p<l;p++)s()},1e3):e(s,c)};m(),document.addEventListener("visibilitychange",m)};this.frameSubject.pipe(function B$(t,i=Zo,e=CE){const n=om(t,i);return function N$(t,i=CE){return lt((e,n)=>{const{leading:r,trailing:o}=i;let a=!1,s=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(v(),l&&n.complete())},m=()=>{c=null,l&&n.complete()},p=b=>c=Vi(t(b)).subscribe(Ye(n,d,m)),v=()=>{if(a){a=!1;const b=s;s=null,n.next(b),!l&&p(b)}};e.subscribe(Ye(n,b=>{a=!0,s=b,(!c||c.closed)&&(r?v():p(b))},()=>{l=!0,(!(o&&a&&c)||c.closed)&&n.complete()}))})}(()=>n,e)}(500),s=>s.pipe(he(()=>this.totalTicks),function O$(t,i=null){return i=i??t,lt((e,n)=>{let r=[],o=0;e.subscribe(Ye(n,a=>{let s=null;o++%i==0&&r.push([]);for(const c of r)c.push(a),t<=c.length&&(s=s??[],s.push(c));if(s)for(const c of s)pa(r,c),n.next(c)},()=>{for(const a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}(2,1),he(c=>c[1]-c[0]))).subscribe(this.longTickSubject);let o=Date.now(),a=this.totalTicks;this.tickSubject.subscribe(()=>{const s=Date.now();(s-o>500||this.totalTicks-a<=365)&&(this.yearOrLongTickSubject.next(this.totalTicks-a),o=s,a=this.totalTicks)}),n(()=>{this.frameSubject.next(!0)},25),n(()=>{if(this.importing)return;const s=document.hidden?1e3:25,c=(new Date).getTime(),l=c-this.lastTime;this.lastTime=c;let d=l/25;if(this.pause)this.bankedTicks+=d/this.offlineDivider;else if(l>9e5){const m=d/this.offlineDivider;this.bankedTicks+=m,this.dialog.open(My,{data:{earnedTicks:m},autoFocus:!1})}else{const m=this.getTPS(this.tickDivider)/1e3*25,p=this.getTPS(this.topDivider)/1e3*25;let v=!1;if(this.bankedTicks>0&&this.useBankedTicks&&this.tickDivider<40){let _=10*d*(m/p);_>this.bankedTicks&&(_=this.bankedTicks),this.bankedTicks-=_,d*=11,v=!0}d*=m,this.tickCount+=d;let b=(new Date).getTime();for(;!this.pause&&this.tickCount>=1&&b<s+c;)this.tick(),this.tickCount--,b=(new Date).getTime();this.tickCount>=1&&(v&&(this.bankedTicks+=this.tickCount/(11*m)*(m/p*10)),this.tickCount=0)}},25)}getTPS(e){let n=40;return this.characterService&&this.unlockAgeSpeed&&this.tickDivider<40&&(n*=Math.min(8,Math.sqrt(1+this.characterService.characterState.age/73e3))),this.unlockPlaytimeSpeed&&this.tickDivider<40&&(n*=Math.pow(1+this.totalTicks/73e4,.3)),n/=e,e>1&&n>40&&(n=e>=10?40:40+(n-40)/e),n}tick(){this.totalTicks++,this.tickSubject.next(!0)}static#e=this.\u0275fac=function(n){return new(n||t)(w(we),w(ri))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ty=function(t){return t.Standard="STANDARD",t.Injury="INJURY",t}(Ty||{}),C=function(t){return t.STORY="Story",t.EVENT="Event",t.COMBAT="Combat",t.CRAFTING="Crafting",t.FOLLOWER="Follower",t}(C||{});let Ei=(()=>{class t{constructor(e){this.topicProperties=Object.values(C).reduce((n,r)=>({...n,[r]:{enabled:[C.STORY,C.EVENT].includes(r),hasNewMessages:!1}}),{}),this.logs=Object.values(C).reduce((n,r)=>({...n,[r]:[]}),{}),this.currentLog=[],e.frameSubject.subscribe(()=>{this.updateLogTopics()}),this.log(C.STORY,"Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul."),this.log(C.STORY,"Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal."),this.log(C.STORY,"It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster."),this.log(C.STORY,"Be careful, the world can be a dangerous place.")}log(e,n){this.fullLog(e,Ty.Standard,n)}injury(e,n){this.fullLog(e,Ty.Injury,n)}fullLog(e,n,r){const o=this.logs[e],a=Date.now();this.isRepeat(r,a,o)?o[o.length-1].repeat=(o[o.length-1].repeat||1)+1:o.push({message:r,type:n,topic:e,timestamp:a}),this.topicProperties[e].enabled||(this.topicProperties[e].hasNewMessages=!0)}isRepeat(e,n,r){return r.length>0&&n-r[r.length-1].timestamp<=5e3&&e===r[r.length-1].message}getProperties(){return{logTopics:Object.entries(this.topicProperties).filter(e=>e[1].enabled).map(e=>e[0]).map(e=>e.toUpperCase()),storyLog:this.logs[C.STORY]}}setProperties(e){this.logs[C.STORY]=e.storyLog||[],e.logTopics?e.logTopics.forEach(n=>{this.topicProperties[C[n]].enabled=!0}):(this.topicProperties[C.STORY].enabled=!0,this.topicProperties[C.EVENT].enabled=!0),this.updateLogTopics()}enableLogTopic(e,n){this.topicProperties[e].enabled=n,this.updateLogTopics()}updateLogTopics(){Object.values(C).forEach(e=>{e!==C.STORY&&(this.logs[e]=this.logs[e].slice(-300)),this.topicProperties[e].enabled&&(this.topicProperties[e].hasNewMessages=!1)}),this.currentLog=Object.keys(this.logs).map(e=>e).filter(e=>this.topicProperties[e].enabled).flatMap(e=>this.logs[e]).sort((e,n)=>n.timestamp-e.timestamp).slice(0,299)}static#e=this.\u0275fac=function(n){return new(n||t)(w(ft))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),na=(()=>{class t{constructor(e,n,r,o,a,s){this.logService=e,this.characterService=n,this.inventoryService=r,this.itemRepoService=o,this.homeService=a,this.dialog=s,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(const e in this.itemRepoService.furniture){const n=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(n.slot)&&(this.furniture.push(n),this.furniturePrices[n.name]=this.homeService.ownedFurniture.includes(n.name)?0:n.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.updateMoney(0-this.selectedItem.value),"manual"===this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}isManualAvailable(){for(const e of this.manuals)if(e.owned&&!e.owned())return!0;return!1}getFurnitureForSlot(e=null){return null===e?this.furniture:this.furniture.filter(n=>n.slot===e)}buyFurniture(e=null){if(null===e&&(e=this.selectedItem),e){if(!function yW(t){return"slot"in t}(e))return;const n=e.slot;(e.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(e.name))&&(this.homeService.ownedFurniture.includes(e.name)||(this.characterService.characterState.updateMoney(0-e.value),this.homeService.ownedFurniture.push(e.name),this.furniturePrices[e.name]=0),this.homeService.furniture[n]=e,this.homeService.autoBuyFurniture[n]=e)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0===this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Mansion]):1===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Palace]):2===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Castle]):3===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Fortress]):4===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Mountain]):5===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. You will keep your ancestral Home. You will keep your weapons, armor, and money with interest. ",this.bloodLineHomeRequirement=this.homeService.homesList[Be.ForbiddenCity]):6===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Your followers will have enhanced bloodlines and will follow you between incarnations. You will keep your weapons, armor, money with interest, your home and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Capital]):7===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline. Break through the limits of humanity. You will keep your weapons, armor, money with interest, your home, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.ImperialSeat]):8===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and enhance your bloodline one last time. Finally, you will gain aptitudes every day from your current Attributes, improving constantly. You will keep your weapons, armor, money with interest, your home, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Be.Godthrone]):9===this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. Your followers also have enhanced bloodlines and will follow you between incarnations. You will keep your Home and your Empire, and can break through the limits of humanity. Finally, you will gain aptitudes every day from your current Attributes.")}condenseSoulCore(){this.soulCoreRank>=9?this.logService.injury(C.EVENT,"You can't condense your soul core any further."):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.injury(C.EVENT,"You don't have the spirituality required to ascend."):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.injury(C.EVENT,"You don't have the gem required to ascend."):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.injury(C.EVENT,"You can't reinforce your meridians any further."):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.injury(C.EVENT,"You don't have the spirituality required to ascend."):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.injury(C.EVENT,"You don't have the gem required to ascend."):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.injury(C.EVENT,"You don't have the spirituality required to ascend."):this.characterService.characterState.bloodlineRank>=9?this.logService.injury(C.EVENT,"You can't enhance your bloodline any further."):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.injury(C.EVENT,"You don't have a powerful enough home to ascend."):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}static#e=this.\u0275fac=function(n){return new(n||t)(w(Ei),w(Oe),w(ie),w(tn),w(pt),w(ri))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ey=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m,p,v,b){this.mainLoopService=e,this.injector=n,this.logService=r,this.characterService=o,this.inventoryService=a,this.itemRepoService=s,this.storeService=c,this.battleService=l,this.homeService=d,this.activityService=m,this.followerService=p,this.impossibleTaskService=v,this.hellService=b,this.unlockedAchievements=[],this.achievements=[{name:"One Week",description:"You survived your first week of this game!",hint:"Try some activities.",check:()=>this.mainLoopService.totalTicks>7,effect:()=>{this.mainLoopService.timeUnlocked=!0},unlocked:!1},{name:"Big Earner",description:"You earned your first few taels by working hard. Maybe you should invest in some land and a better home.",hint:"Make some money.",check:()=>this.characterService.characterState.money>=350||this.homeService.homeValue!==Be.SquatterTent,effect:()=>{this.homeService.homeUnlocked=!0},unlocked:!1},{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Gear Up!",description:"You created some equipment and now you can wear it.",hint:"Some jobs let you make stuff you can use.",check:()=>this.inventoryService.equipmentCreated>0||null!==this.characterService.characterState.equipment.head||null!==this.characterService.characterState.equipment.body||null!==this.characterService.characterState.equipment.leftHand||null!==this.characterService.characterState.equipment.rightHand||null!==this.characterService.characterState.equipment.legs||null!==this.characterService.characterState.equipment.feet,effect:()=>{this.inventoryService.equipmentUnlocked=!0},unlocked:!1},{name:"Persistent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Veteran Cultivator",description:"You lived ten thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.totalPlaytimeManual.name,hint:"A long life. Myriad years.",check:()=>this.mainLoopService.totalTicks>365e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.totalPlaytimeManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(z.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(z.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(z.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(z.Woodworking),effect:()=>{},unlocked:!1},{name:"Addict",description:"You got a taste of those sweet, sweet empowerment pills and want more.",hint:"Master of all.",check:()=>this.characterService.characterState.empowermentFactor>1,effect:()=>{},unlocked:!1},{name:"Habitual User",displayName:"Dope",description:"You got every last drop you could out of those pills and now you feel nothing from them. At least they didn't kill you or do lasting harm, right?",hint:"D.A.R.E.",check:()=>this.characterService.characterState.empowermentFactor>=1953.65,effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0===this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4&&this.inventoryService.thrownAwayItems>=1e6,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Be.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!==this.homeService.furniture.bathtub&&null!==this.homeService.furniture.bed&&null!==this.homeService.furniture.kitchen&&null!==this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.homeService.autoFieldUnlocked&&this.homeService.autoBuyFurnitureUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>!!(this.characterService.characterState.equipment?.rightHand?.weaponStats&&this.characterService.characterState.equipment?.rightHand?.weaponStats.baseDamage>=60&&this.characterService.characterState.equipment?.leftHand?.weaponStats&&this.characterService.characterState.equipment?.leftHand?.weaponStats.baseDamage>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>!!(this.characterService.characterState.equipment?.head?.armorStats&&this.characterService.characterState.equipment?.head?.armorStats.defense>=60&&this.characterService.characterState.equipment?.body?.armorStats&&this.characterService.characterState.equipment?.body?.armorStats.defense>=60&&this.characterService.characterState.equipment?.legs?.armorStats&&this.characterService.characterState.equipment?.legs?.armorStats.defense>=60&&this.characterService.characterState.equipment?.feet?.armorStats&&this.characterService.characterState.equipment?.feet?.armorStats.defense>=60),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",displayName:"Smelting Snob",description:"You achieved a deep understanding of digging and smelting metal and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Hide Snob",displayName:"Hunting Snob",description:"You achieved a deep understanding of hunting and gathering hides and unlocked the "+this.itemRepoService.items.bestHidesManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.animalHandling.value>1024&&this.characterService.characterState.attributes.speed.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHidesManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Unlimited Taels",description:"Your family has unlocked the secrets of compound interest. You probably never have to worry about money again.",hint:"Family first. Especially in matters of money.",check:()=>this.characterService.characterState.bloodlineRank>=4,effect:()=>{},unlocked:!1},{name:"Not Unlimited Taels",description:"You filled up your purse, your wall safe, the box under your bed, and a giant money pit in the backyard. You just can't hold any more money.",hint:"How rich can you get?",check:()=>this.characterService.characterState.money>=this.characterService.characterState.maxMoney-1e21,effect:()=>{},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>!!(this.characterService.characterState.equipment?.rightHand?.weaponStats&&this.characterService.characterState.equipment?.rightHand?.weaponStats.baseDamage>=8888&&this.characterService.characterState.equipment?.leftHand?.weaponStats&&this.characterService.characterState.equipment?.leftHand?.weaponStats.baseDamage>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>!!(this.characterService.characterState.equipment?.head?.armorStats&&this.characterService.characterState.equipment?.head?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.body?.armorStats&&this.characterService.characterState.equipment?.body?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.legs?.armorStats&&this.characterService.characterState.equipment?.legs?.armorStats.defense>=8888&&this.characterService.characterState.equipment?.feet?.armorStats&&this.characterService.characterState.equipment?.feet?.armorStats.defense>=8888),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{const _=this.characterService.characterState.attributes.fireLore.value,k=this.characterService.characterState.attributes.earthLore.value,x=this.characterService.characterState.attributes.woodLore.value,M=this.characterService.characterState.attributes.waterLore.value,L=this.characterService.characterState.attributes.metalLore.value,j=Math.min(L,M,x,k,_),J=Math.max(L,M,x,k,_);return j>=1e3&&J<=1.21*j},effect:()=>{this.characterService.characterState.manaUnlocked=!0,0===this.characterService.characterState.status.mana.max&&(this.characterService.characterState.status.mana.max=1,this.characterService.characterState.status.mana.value=1),this.activityService.reloadActivities()},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can exceed the limits of humanity. It can't be done.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Eternal Nation",description:"You have established an empire that will never fall, and a bloodline that will always inherit it.",hint:"Bloodline Empire.",check:()=>this.homeService.home.type>=Be.Capital&&this.characterService.characterState.bloodlineRank>=7,effect:()=>{this.characterService.characterState.imperial=!0},unlocked:!1},{name:"Limit Breaker",description:"You have broken past human limits and improve constantly! What new fate awaits you?",hint:"999",check:()=>this.characterService.characterState.bloodlineRank>=9,effect:()=>{},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const _=this.characterService.characterState.attributes.speed.value,k=this.characterService.characterState.attributes.toughness.value,x=this.characterService.characterState.attributes.charisma.value,M=this.characterService.characterState.attributes.intelligence.value,L=this.characterService.characterState.attributes.strength.value,j=Math.min(_,k,x,M,L),J=Math.max(_,k,x,M,L);return j>=1e6&&J<=1.21*j},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const _=this.characterService.characterState.attributes.spirituality.value,k=this.characterService.characterState.attributes.speed.value,x=this.characterService.characterState.attributes.toughness.value,M=this.characterService.characterState.attributes.charisma.value,L=this.characterService.characterState.attributes.intelligence.value,j=this.characterService.characterState.attributes.strength.value,J=Math.min(k,x,M,L,j,_),pe=Math.max(k,x,M,L,j,_);return J>=1e6&&pe<=1.21*J},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Loyal Followers",description:"One of your followers has trained under you so long they have nothing else to learn. In an epiphany you realized how to double your new followers' lifespan.",hint:"Endless training.",check:()=>this.followerService.highestLevel>=100,effect:()=>{this.followerService.followerLifespanDoubled=!0},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1},{name:"Breaks are Good",description:"You have collected two hour's worth of offline ticks and unlocked the "+this.itemRepoService.items.bankedTicksEfficiencyManual.name,hint:"Take a day off from cultivating.",check:()=>this.mainLoopService.bankedTicks>288e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bankedTicksEfficiencyManual)},unlocked:!1},{name:"Breaks are Bad",description:"You died from overwork performing an activity without necessary rest and unlocked the "+this.itemRepoService.items.autoRestManual.name,hint:"There's no time to rest, cultivating is life.",check:()=>this.activityService.activityDeath||this.characterService.characterState.immortal,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoRestManual)},unlocked:!1},{name:"Still Spry",description:"You have lived to be 300 years old and unlocked the "+this.itemRepoService.items.ageSpeedManual.name,hint:"One step to becoming immortal is to live longer.",check:()=>this.characterService.characterState.age>109500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.ageSpeedManual)},unlocked:!1},{name:"Immortality",description:"Congratulations! You are now immortal.",hint:"Name of the game.",check:()=>this.characterService.characterState.immortal,effect:()=>{this.activityService.reloadActivities()},unlocked:!1},{name:"Headhunter",description:"You've sorted through so many applicants that you can now always find followers you want.",hint:"You didn't really want one thousand scouts, did you?",check:()=>this.followerService.totalDismissed>888,effect:()=>{this.followerService.onlyWantedFollowers=!0},unlocked:!1},{name:"Yes We Can!",description:"You found him.",hint:"Can we fix it?",check:()=>{for(const _ of this.followerService.followers)if(("Robert"===_.name||"Bob"===_.name)&&"builder"===_.job)return!0;return!1},effect:()=>{},unlocked:!1},{name:"Don't mess with Grandma",description:"You have crafted the mightiest stick. Grandmother would be so proud.",hint:"The best stick.",check:()=>"Grandmother's Walking Stick"===this.characterService.characterState.equipment.leftHand?.name&&(this.characterService.characterState.equipment.leftHand.weaponStats?.baseDamage||0)>1e9,effect:()=>{},unlocked:!1},{name:"Smooth Farming",description:"You have harvested crops every day for months and can now count on more regular and reliable harvests.",hint:"When starting your garden, it's best to work a little every day.",check:()=>this.homeService.consecutiveHarvests>=60,effect:()=>{this.homeService.smoothFarming=!0},unlocked:!1},{name:"They're Great",description:"You have made a friend who can provide you with a tasty breakfast.",hint:"You'll need to find a very special pet.",check:()=>{for(const _ of this.followerService.followers)if(("Tony"===_.name||"Antonio"===_.name)&&"tiger"===_.job)return!0;return!1},effect:()=>{},unlocked:!1},{name:"Let It Burn",description:"You have burned an insane amount of money.",hint:"You didn't want that money anyway.",check:()=>this.hellService.burnedMoney>1e9,effect:()=>{this.hellService.fasterHellMoney=!0},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(const _ of this.achievements)this.unlockedAchievements.includes(_.name)||_.check()&&this.unlockAchievement(_,!0)})}unlockAchievement(e,n){n&&(this.unlockedAchievements.push(e.name),this.logService.log(C.STORY,e.description),this.gameStateService||(this.gameStateService=this.injector.get(bt)),this.gameStateService.savetoLocalStorage(),this.characterService.toast("Achievement Unlocked: "+(e.displayName?e.displayName:e.name))),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(const n of this.achievements)this.unlockedAchievements.includes(n.name)&&this.unlockAchievement(n,!1)}static#e=this.\u0275fac=function(n){return new(n||t)(w(ft),w(we),w(Ei),w(Oe),w(ie),w(tn),w(na),w(hi),w(pt),w(ct),w(Tt),w(Er),w(Pe))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ar="immortalityIdleGameState";var Qe=function(t){return t[t.Attributes=0]="Attributes",t[t.Health=1]="Health",t[t.Log=2]="Log",t[t.Activity=3]="Activity",t[t.Home=4]="Home",t[t.Time=5]="Time",t[t.Battle=6]="Battle",t[t.Inventory=7]="Inventory",t[t.Equipment=8]="Equipment",t[t.Followers=9]="Followers",t[t.Portal=10]="Portal",t[t.Pets=11]="Pets",t}(Qe||{});let bt=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m,p,v,b,_,k){this.characterService=e,this.homeService=n,this.inventoryService=r,this.logService=o,this.reincarnationService=a,this.activityService=s,this.itemRepoService=c,this.battleService=l,this.followersService=d,this.autoBuyerService=m,this.mainLoopService=p,this.dialog=v,this.achievementService=b,this.impossibleTaskService=_,this.hellService=k,this.lastSaved=(new Date).getTime(),this.isDarkMode=!1,this.isImport=!1,this.isExperimental=window.location.href.includes("experimental"),this.gameStartTimestamp=(new Date).getTime(),this.easyModeEver=!1,this.saveInterval=300,this.saveSlot="",this.lockPanels=!1,this.dragging=!1,window.GameStateService=this,p.longTickSubject.subscribe(()=>{(new Date).getTime()-this.lastSaved>=1e3*this.saveInterval&&this.savetoLocalStorage()}),this.defaultPanelPositions=[],this.defaultPanelPositions[Qe.Attributes]={x:0,y:260},this.defaultPanelPositions[Qe.Health]={x:0,y:40},this.defaultPanelPositions[Qe.Log]={x:0,y:900},this.defaultPanelPositions[Qe.Activity]={x:450,y:40},this.defaultPanelPositions[Qe.Home]={x:1050,y:360},this.defaultPanelPositions[Qe.Time]={x:1050,y:40},this.defaultPanelPositions[Qe.Battle]={x:0,y:680},this.defaultPanelPositions[Qe.Inventory]={x:830,y:40},this.defaultPanelPositions[Qe.Equipment]={x:1050,y:580},this.defaultPanelPositions[Qe.Followers]={x:1470,y:40},this.defaultPanelPositions[Qe.Portal]={x:1470,y:460},this.defaultPanelPositions[Qe.Pets]={x:1890,y:40},this.defaultPanelSizes=[],this.defaultPanelSizes[Qe.Attributes]={x:430,y:400},this.defaultPanelSizes[Qe.Health]={x:430,y:200},this.defaultPanelSizes[Qe.Log]={x:1230,y:400},this.defaultPanelSizes[Qe.Activity]={x:360,y:620},this.defaultPanelSizes[Qe.Home]={x:400,y:200},this.defaultPanelSizes[Qe.Time]={x:400,y:300},this.defaultPanelSizes[Qe.Battle]={x:810,y:200},this.defaultPanelSizes[Qe.Inventory]={x:200,y:840},this.defaultPanelSizes[Qe.Equipment]={x:400,y:300},this.defaultPanelSizes[Qe.Followers]={x:400,y:400},this.defaultPanelSizes[Qe.Portal]={x:400,y:800},this.defaultPanelSizes[Qe.Pets]={x:400,y:400},this.panelPositions=structuredClone(this.defaultPanelPositions),this.panelSizes=structuredClone(this.defaultPanelSizes),this.defaultPanelZIndex=[];for(const x in Qe)isNaN(Number(x))||(this.defaultPanelZIndex[x]=Number(x));this.panelZIndex=this.defaultPanelZIndex}populateMissingPanelInfo(){for(const e in Qe)isNaN(Number(e))||(void 0===this.panelSizes[e]&&(this.panelSizes[e]=this.defaultPanelSizes[e]),void 0===this.panelPositions[e]&&(this.panelPositions[e]=this.defaultPanelPositions[e]),void 0===this.panelZIndex[e]&&(this.panelZIndex[e]=this.defaultPanelZIndex[e]))}resetPanels(){this.panelPositions=structuredClone(this.defaultPanelPositions),this.panelSizes=structuredClone(this.defaultPanelSizes)}changeAutoSaveInterval(e){!e||e<1?e=1:e>900&&(e=900),this.saveInterval=e,this.savetoLocalStorage()}updateImportFlagKey(e){if(void 0!==e){this.isImport=e;const n=JSON.stringify(this.isImport);window.localStorage.setItem(Ar+this.getDeploymentFlavor()+"isImport",n)}else{const n=window.localStorage.getItem(Ar+this.getDeploymentFlavor()+"isImport");n&&(this.isImport=JSON.parse(n))}}savetoLocalStorage(){const e=window.localStorage.getItem(Ar+this.getDeploymentFlavor()+this.saveSlot);e&&window.localStorage.setItem("BACKUP"+Ar+this.getDeploymentFlavor()+this.saveSlot,e),window.localStorage.setItem(Ar+this.getDeploymentFlavor()+this.saveSlot,this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(e=!1){this.getSaveFile();const r=window.localStorage.getItem((e?"BACKUP":"")+Ar+this.getDeploymentFlavor()+this.saveSlot);return!!r&&(this.importGame(r),this.isImport?(this.characterService.toast("Load Successful"),this.updateImportFlagKey(!1)):this.dialog.open(My,{data:{earnedTicks:this.mainLoopService.earnedTicks},autoFocus:!1}),!0)}importLayout(e){const n=JSON.parse(e);!n||!n.panelPositions||!n.panelZIndex||!n.panelSizes||(this.panelPositions=n.panelPositions||structuredClone(this.defaultPanelPositions),this.panelZIndex=n.panelZIndex||structuredClone(this.defaultPanelZIndex),this.panelSizes=n.panelSizes||structuredClone(this.defaultPanelSizes),this.lockPanels=n.lockPanels||!1,this.populateMissingPanelInfo())}importGame(e){let n;n="iig"===e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(n);this.impossibleTaskService.setProperties(r.impossibleTasks),this.hellService.setProperties(r.hell||{}),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(!o)continue;const a=this.itemRepoService.getItemById(o.item.id);a&&(o.item=a)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.achievementService.setProperties(r.achievements),this.isDarkMode=r.darkMode||!1,this.gameStartTimestamp=r.gameStartTimestamp||(new Date).getTime(),this.easyModeEver=r.easyModeEver||!1,this.saveInterval=r.saveInterval||10,this.followersService.updateFollowerCap(),this.panelPositions=r.panelPositions||structuredClone(this.defaultPanelPositions),this.panelZIndex=r.panelZIndex||structuredClone(this.defaultPanelZIndex),this.panelSizes=r.panelSizes||structuredClone(this.defaultPanelSizes),this.lockPanels=r.lockPanels||!1,this.updateImportFlagKey(),this.populateMissingPanelInfo()}getLayoutExport(){return JSON.stringify({panelPositions:this.panelPositions,panelZIndex:this.panelZIndex,panelSizes:this.panelSizes,lockPanels:this.lockPanels})}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),hell:this.hellService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode,gameStartTimestamp:this.gameStartTimestamp,saveInterval:this.saveInterval||300,easyModeEver:this.easyModeEver,panelPositions:this.panelPositions,panelZIndex:this.panelZIndex,panelSizes:this.panelSizes,lockPanels:this.lockPanels};let n=JSON.stringify(e);return n="iig"+btoa(encodeURIComponent(n)),n}hardReset(){window.localStorage.removeItem(Ar+this.getDeploymentFlavor()+this.saveSlot),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.log(C.EVENT,"You dirty cheater! You pressed the cheat button!"),this.characterService.characterState.updateMoney(1e10);for(const n in this.itemRepoService.items){const r=this.itemRepoService.items[n];"manual"===r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const n in e){const r=this.characterService.characterState.attributes[e[n]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}setSaveFile(){window.localStorage.setItem("saveSlotFor"+Ar+this.getDeploymentFlavor(),this.saveSlot)}getSaveFile(){const e=window.localStorage.getItem("saveSlotFor"+Ar+this.getDeploymentFlavor());e&&(this.saveSlot=e)}getDeploymentFlavor(){let e=window.location.href;if("http://localhost:4200/"===e)return"";if("https://immortalityidle.github.io/"===e||"https://immortalityidle.github.io/old/"===e)return"";if(e.includes("https://immortalityidle.github.io/"))return e=e.substring(0,e.length-1),e.substring(e.lastIndexOf("/")+1);throw new Error("Hey, someone stole this game!")}static#e=this.\u0275fac=function(n){return new(n||t)(w(Oe),w(pt),w(ie),w(Ei),w(Tr),w(ct),w(tn),w(hi),w(Tt),w(Dm),w(ft),w(ri),w(Ey),w(Er),w(Pe))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const jW=(t,i)=>i.id,zW=(t,i)=>({selectedItem:t,ownedItem:i});function qW(t,i){if(1&t&&(u(0,"div"),f(1),N(2,"bigNumber"),h()),2&t){const e=S().$implicit;g(),V("$ ",U(2,1,e.value),"")}}function $W(t,i){1&t&&(u(0,"div"),f(1,"OWNED"),h())}function GW(t,i){if(1&t){const e=q();u(0,"div")(1,"div",3),D("click",function(){const r=T(e).$implicit;return E(S().slotClicked(r))}),u(2,"div")(3,"mat-icon"),f(4,"menu_book"),h()(),u(5,"div"),f(6),N(7,"titlecase"),h(),H(8,qW,3,3,"div")(9,$W,2,0,"div"),h()()}if(2&t){const e=i.$implicit,n=S();g(),X("matTooltip",e.description),P("ngClass",er(7,zW,e===n.storeService.selectedItem,e.owned&&e.owned())),g(5),ke(U(7,5,e.name)),g(2),I(e.owned&&!e.owned()?8:-1),g(),I(e.owned&&e.owned()?9:-1)}}let jI=(()=>{class t{constructor(e,n,r,o,a,s){this.storeService=e,this.characterService=n,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0,this.character=n.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}static#e=this.\u0275fac=function(n){return new(n||t)(y(na),y(Oe),y(pt),y(ie),y(tn),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-store-modal"]],decls:9,vars:1,consts:[[1,"darkMode"],[1,"inventoryGrid"],[3,"click","disabled"],["tabindex","0",1,"itemSlot",3,"click","ngClass","matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Manuals Shop"),h(),G(3,"hr"),u(4,"div",1),We(5,GW,10,10,"div",null,jW),h(),u(7,"button",2),D("click",function(){return r.storeService.buyManual()}),f(8," Buy "),h()()),2&n&&(g(5),Ke(r.storeService.manuals),g(2),P("disabled",r.buyDisabled))},styles:[".inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const Iy=t=>({highlighted:t});let YW=(()=>{class t{constructor(e){this.gameStateService=e,this.error=""}fileClicked(e){this.gameStateService.saveSlot=e,this.gameStateService.setSaveFile();const n=this.gameStateService.loadFromLocalStorage();this.error=n?"":"Empty Save Selected",n&&(this.gameStateService.updateImportFlagKey(!0),window.location.href=window.location.href)}autoSaveInterval(e){e.target instanceof HTMLInputElement&&this.gameStateService.changeAutoSaveInterval(parseInt(e.target.value))}static#e=this.\u0275fac=function(n){return new(n||t)(y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-save-modal"]],decls:24,vars:11,consts:[[1,"darkMode"],[1,"spaced",3,"click","ngClass"],[1,"green"],[1,"spaced"],["for","autoSaveInterval"],["type","number","min","1","max","900","step","1","id","autoSaveInterval",3,"change","value"],[1,"spaced","warning"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Save Menu"),h(),G(3,"hr"),u(4,"div")(5,"span"),f(6,"Select Save File "),h()(),u(7,"div")(8,"button",1),D("click",function(){return r.fileClicked("")}),f(9," Slot 0 "),h(),u(10,"button",1),D("click",function(){return r.fileClicked("1")}),f(11," Slot 1 "),h(),u(12,"button",1),D("click",function(){return r.fileClicked("2")}),f(13," Slot 2 "),h(),u(14,"span",2),f(15),h()(),u(16,"div",3)(17,"span")(18,"label",4),f(19,"Change how often the game autosaves (in seconds) "),h(),u(20,"input",5),D("change",function(a){return r.autoSaveInterval(a)}),h(),f(21,"\xa0 "),u(22,"span",6),f(23,"Changing this will save immediately."),h()()()()),2&n&&(g(8),P("ngClass",De(5,Iy,""===r.gameStateService.saveSlot)),g(2),P("ngClass",De(7,Iy,"1"===r.gameStateService.saveSlot)),g(2),P("ngClass",De(9,Iy,"2"===r.gameStateService.saveSlot)),g(3),ke(r.error),g(5),X("value",r.gameStateService.saveInterval))},dependencies:[Zt],styles:[".rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.spaced[_ngcontent-%COMP%]{margin-top:3px;margin-right:6px}.warning[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const Tm={appVersion:Z_(330).rE,production:!0};let qI=(()=>{class t{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||t)(y(_r),y(Ce))};static#t=this.\u0275dir=K({type:t})}return t})(),ra=(()=>{class t extends qI{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=At(t)))(r||t)}})();static#t=this.\u0275dir=K({type:t,features:[ye]})}return t})();const lr=new F(""),Ws=new F("CallSetDisabledState",{providedIn:"root",factory:()=>Fm}),Fm="always";Promise.resolve(),Promise.resolve();const O9={provide:lr,useExisting:tt(()=>Xy),multi:!0};function NA(t,i){return null==t?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let Xy=(()=>{class t extends ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=NA(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){const n=function R9(t){return t.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=At(t)))(r||t)}})();static#t=this.\u0275dir=K({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&D("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ie([O9]),ye]})}return t})(),Qy=(()=>{class t{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(NA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(_r),y(Xy,9))};static#t=this.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const F9={provide:lr,useExisting:tt(()=>Jy),multi:!0};function LA(t,i){return null==t?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let Jy=(()=>{class t extends ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let n;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));n=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{const r=[],o=n.selectedOptions;if(void 0!==o){const a=o;for(let s=0;s<a.length;s++){const l=this._getOptionValue(a[s].value);r.push(l)}}else{const a=n.options;for(let s=0;s<a.length;s++){const c=a[s];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,e(r)}}_registerOption(e){const n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){const n=function N9(t){return t.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=At(t)))(r||t)}})();static#t=this.\u0275dir=K({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&D("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ie([F9]),ye]})}return t})(),e_=(()=>{class t{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(LA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(LA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(_r),y(Jy,9))};static#t=this.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),$9=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({})}return t})(),Y9=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ws,useValue:e.callSetDisabledState??Fm}]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[$9]})}return t})();const i_=["*"];function W9(t,i){1&t&&Gr(0)}const K9=["tabListContainer"],Z9=["tabList"],X9=["tabListInner"],Q9=["nextPaginator"],J9=["previousPaginator"],e7=t=>({animationDuration:t}),t7=(t,i)=>({value:t,params:i});function i7(t,i){}const n7=["tabBodyWrapper"],r7=["tabHeader"];function o7(t,i){}function a7(t,i){1&t&&H(0,o7,0,0,"ng-template",12),2&t&&P("cdkPortalOutlet",S().$implicit.templateLabel)}function s7(t,i){1&t&&f(0),2&t&&ke(S().$implicit.textLabel)}function c7(t,i){if(1&t){const e=q();u(0,"div",7,2),D("click",function(){const r=T(e),o=r.$implicit,a=r.$index,s=S(),c=cl(1);return E(s._handleClick(o,c,a))})("cdkFocusChange",function(r){const o=T(e).$index;return E(S()._tabFocusChanged(r,o))}),G(2,"span",8)(3,"div",9),u(4,"span",10)(5,"span",11),H(6,a7,1,1,null,12)(7,s7,1,1),h()()()}if(2&t){const e=i.$implicit,n=i.$index,r=cl(1),o=S();gt("mdc-tab--active",o.selectedIndex===n),P("id",o._getTabLabelId(n))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),Ge("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),g(3),P("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),g(3),I(e.templateLabel?6:7)}}function l7(t,i){1&t&&Gr(0)}function d7(t,i){if(1&t){const e=q();u(0,"mat-tab-body",13),D("_onCentered",function(){return T(e),E(S()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return T(e),E(S()._setTabBodyWrapperHeight(r))}),h()}if(2&t){const e=i.$implicit,n=i.$index,r=S();gt("mat-mdc-tab-body-active",r.selectedIndex===n),P("id",r._getTabContentId(n))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ge("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}const u7=new F("MatTabContent");let h7=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||t)(y(Jt))};static#t=this.\u0275dir=K({type:t,selectors:[["","matTabContent",""]],standalone:!0,features:[Ie([{provide:u7,useExisting:t}])]})}return t})();const m7=new F("MatTabLabel"),YA=new F("MAT_TAB");let WA=(()=>{class t extends mG{constructor(e,n,r){super(e,n),this._closestTab=r}static#e=this.\u0275fac=function(n){return new(n||t)(y(Jt),y(ei),y(YA,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Ie([{provide:m7,useExisting:t}]),ye]})}return t})();const KA=new F("MAT_TAB_GROUP");let ZA=(()=>{class t{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,n){this._viewContainerRef=e,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new W,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zl(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#e=this.\u0275fac=function(n){return new(n||t)(y(ei),y(KA,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-tab"]],contentQueries:function(n,r,o){if(1&n&&(vs(o,WA,5),vs(o,h7,7,Jt)),2&n){let a;Yt(a=Wt())&&(r.templateLabel=a.first),Yt(a=Wt())&&(r._explicitContent=a.first)}},viewQuery:function(n,r){if(1&n&&Bi(Jt,7),2&n){let o;Yt(o=Wt())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ze],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Ie([{provide:YA,useExisting:t}]),vi,wi,Ki],ngContentSelectors:i_,decls:1,vars:0,template:function(n,r){1&n&&(gs(),H(0,W9,1,0,"ng-template"))},encapsulation:2})}return t})();const n_="mdc-tab-indicator--active",XA="mdc-tab-indicator--no-transition";class p7{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const e=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}let f7=(()=>{class t{constructor(){this._elementRef=O(Ce),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement)return void n.classList.add(n_);const r=n.getBoundingClientRect(),o=e.width/r.width,a=e.left-r.left;n.classList.add(XA),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${o})`),n.getBoundingClientRect(),n.classList.remove(XA),n.classList.add(n_),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(n_)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=K({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ze]},features:[vi]})}return t})(),QA=(()=>{class t extends f7{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce))};static#t=this.\u0275dir=K({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){2&n&&(Ge("aria-disabled",!!r.disabled),gt("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",ze]},standalone:!0,features:[vi,ye]})}return t})();const JA=xr({passive:!0});let y7=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(e,n,r,o,a,s,c){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=o,this._ngZone=a,this._platform=s,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new W,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new W,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new me,this.indexFocused=new me,a.runOutsideAngular(()=>{Qo(e.nativeElement,"mouseleave").pipe(vt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Qo(this._previousPaginator.nativeElement,"touchstart",JA).pipe(vt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Qo(this._nextPaginator.nativeElement,"touchstart",JA).pipe(vt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:ee("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new cY(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(ii(1)).subscribe(r),Jr(e,n,this._items.changes,this._itemsResized()).pipe(vt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?vn:this._items.changes.pipe(kr(this._items),bn(e=>new Je(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>n.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),sy(1),ni(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ql(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const n=this._items?this._items.toArray()[e]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=n.elementRef.nativeElement;let s,c;"ltr"==this._getLayoutDirection()?(s=o,c=s+a):(c=this._tabListInner.nativeElement.offsetWidth-o,s=c-a);const l=this.scrollDistance,d=this.scrollDistance+r;s<l?this.scrollDistance-=l-s:c>d&&(this.scrollDistance+=Math.min(c-d,s-l))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),om(650,100).pipe(vt(Jr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(Hi),y(jl),y(sr,8),y(Q),y(Ht),y(cn,8))};static#t=this.\u0275dir=K({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",ze],selectedIndex:[2,"selectedIndex","selectedIndex",Vv]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[vi]})}return t})(),_7=(()=>{class t extends y7{constructor(e,n,r,o,a,s,c){super(e,n,r,o,a,s,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new p7(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(Hi),y(jl),y(sr,8),y(Q),y(Ht),y(cn,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-tab-header"]],contentQueries:function(n,r,o){if(1&n&&vs(o,QA,4),2&n){let a;Yt(a=Wt())&&(r._items=a)}},viewQuery:function(n,r){if(1&n&&(Bi(K9,7),Bi(Z9,7),Bi(X9,7),Bi(Q9,5),Bi(J9,5)),2&n){let o;Yt(o=Wt())&&(r._tabListContainer=o.first),Yt(o=Wt())&&(r._tabList=o.first),Yt(o=Wt())&&(r._tabListInner=o.first),Yt(o=Wt())&&(r._nextPaginator=o.first),Yt(o=Wt())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){2&n&&gt("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[2,"disableRipple","disableRipple",ze]},standalone:!0,features:[vi,ye,Ki],ngContentSelectors:i_,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(n,r){if(1&n){const o=q();gs(),u(0,"button",5,0),D("click",function(){return T(o),E(r._handlePaginatorClick("before"))})("mousedown",function(s){return T(o),E(r._handlePaginatorPress("before",s))})("touchend",function(){return T(o),E(r._stopInterval())}),G(2,"div",6),h(),u(3,"div",7,1),D("keydown",function(s){return T(o),E(r._handleKeydown(s))}),u(5,"div",8,2),D("cdkObserveContent",function(){return T(o),E(r._onContentChanges())}),u(7,"div",9,3),Gr(9),h()()(),u(10,"button",10,4),D("mousedown",function(s){return T(o),E(r._handlePaginatorPress("after",s))})("click",function(){return T(o),E(r._handlePaginatorClick("after"))})("touchend",function(){return T(o),E(r._stopInterval())}),G(12,"div",6),h()}2&n&&(gt("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),P("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),g(3),gt("_mat-animation-noopable","NoopAnimations"===r._animationMode),g(7),gt("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),P("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[gy,QG],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return t})();const S7=new F("MAT_TABS_CONFIG"),w7={translateTab:js("translateTab",[Hn("center, void, left-origin-center, right-origin-center",St({transform:"none"})),Hn("left",St({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Hn("right",St({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Vn("* => left, * => right, left => center, right => center",Bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Vn("void => left-origin-center",[St({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Vn("void => right-origin-center",[St({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let C7=(()=>{class t extends Qr{constructor(e,n,r,o){super(e,n,o),this._host=r,this._centeringSub=Le.EMPTY,this._leavingSub=Le.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(kr(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(y(Io),y(ei),y(tt(()=>eP)),y(be))};static#t=this.\u0275dir=K({type:t,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[ye]})}return t})(),eP=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,n,r){this._elementRef=e,this._dir=n,this._dirChangeSubscription=Le.EMPTY,this._translateTabComplete=new W,this._onCentering=new me,this._beforeCentering=new me,this._afterLeavingCenter=new me,this._onCentered=new me(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(VE((o,a)=>o.fromState===a.fromState&&o.toState===a.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const n=this._getLayoutDirection();return"ltr"==n&&e<=0||"rtl"==n&&e>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(sr,8),y(Hi))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(1&n&&Bi(Qr,5),2&n){let o;Yt(o=Wt())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Ki],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(1&n){const o=q();u(0,"div",1,0),D("@translateTab.start",function(s){return T(o),E(r._onTranslateTabStarted(s))})("@translateTab.done",function(s){return T(o),E(r._translateTabComplete.next(s))}),H(2,i7,0,0,"ng-template",2),h()}2&n&&P("@translateTab",er(3,t7,r._position,De(1,e7,r.animationDuration)))},dependencies:[C7,lG],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[w7.translateTab]}})}return t})(),k7=0,x7=(()=>{class t{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){const n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,n,r,o){this._elementRef=e,this._changeDetectorRef=n,this._animationMode=o,this._tabs=new Ba,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Le.EMPTY,this._tabLabelSubscription=Le.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new me,this.focusChange=new me,this.animationDone=new me,this.selectedTabChange=new me(!0),this._isServer=!O(Ht).isBrowser,this._groupId=k7++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const n=this._tabs.toArray();let r;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=n[o];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(kr(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const n=new M7;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Jr(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,n){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=n)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(Hi),y(S7,8),y(cn,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-tab-group"]],contentQueries:function(n,r,o){if(1&n&&vs(o,ZA,5),2&n){let a;Yt(a=Wt())&&(r._allTabs=a)}},viewQuery:function(n,r){if(1&n&&(Bi(n7,5),Bi(r7,5)),2&n){let o;Yt(o=Wt())&&(r._tabBodyWrapper=o.first),Yt(o=Wt())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){2&n&&($u("mat-"+(r.color||"primary")),ti("--mat-tab-animation-duration",r.animationDuration),gt("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ze],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ze],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ze],selectedIndex:[2,"selectedIndex","selectedIndex",Vv],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Vv],disablePagination:[2,"disablePagination","disablePagination",ze],disableRipple:[2,"disableRipple","disableRipple",ze],preserveContent:[2,"preserveContent","preserveContent",ze],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Ie([{provide:KA,useExisting:t}]),vi,Ki],ngContentSelectors:i_,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(1&n){const o=q();gs(),u(0,"mat-tab-header",3,0),D("indexFocused",function(s){return T(o),E(r._focusChanged(s))})("selectFocusedIndex",function(s){return T(o),E(r.selectedIndex=s)}),We(2,c7,8,16,"div",4,_t),h(),H(4,l7,1,0),u(5,"div",5,1),We(7,d7,1,12,"mat-tab-body",6,_t),h()}2&n&&(P("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),g(2),Ke(r._tabs),g(2),I(r._isServer?4:-1),g(),gt("_mat-animation-noopable","NoopAnimations"===r._animationMode),g(2),Ke(r._tabs))},dependencies:[_7,QA,TY,Zt,gy,Qr,eP],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})();class M7{}let tP=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[eo,eo]})}return t})();const T7=["tooltip"],nP=new F("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const t=O(en);return()=>t.scrollStrategies.reposition({scrollThrottle:20})}}),I7={provide:nP,deps:[en],useFactory:function E7(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},rP=new F("mat-tooltip-default-options",{providedIn:"root",factory:function A7(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),oP="tooltip-panel",aP=xr({passive:!0});let wt=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=kE(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=kE(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Xo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Xo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,a,s,c,l,d,m,p,v){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=s,this._ariaDescriber=c,this._focusMonitor=l,this._dir=m,this._defaultOptions=p,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=N7,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new W,this._scrollStrategy=d,this._document=v,p&&(this._showDelay=p.showDelay,this._hideDelay=p.hideDelay,p.position&&(this.position=p.position),p.positionAtOrigin&&(this.positionAtOrigin=p.positionAtOrigin),p.touchGestures&&(this.touchGestures=p.touchGestures)),m.change.pipe(vt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(vt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,aP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Vs(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(vt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Ce)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(vt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${oP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(vt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(vt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(vt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ql(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ii(1),vt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:o}=e;let a;if(a="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===o?"above":"below",a!==this._currentPosition){const s=this._overlayRef;if(s){const c=`${this._cssClassPrefix}-${oP}-`;s.removePanelClass(c+this._currentPosition),s.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,aP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(n){return new(n||t)(y(en),y(Ce),y(lm),y(ei),y(Q),y(Ht),y(aY),y($l),y(nP),y(sr),y(rP,8),y(be))};static#t=this.\u0275dir=K({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&gt("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return t})(),N7=(()=>{class t{constructor(e,n,r){this._changeDetectorRef=e,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new W,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(n);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(n){return new(n||t)(y(Hi),y(Ce),y(cn,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Bi(T7,7),2&n){let o;Yt(o=Wt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&D("mouseleave",function(a){return r._handleMouseLeave(a)}),2&n&&ti("zoom",r.isVisible()?1:null)},standalone:!0,features:[Ki],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){if(1&n){const o=q();u(0,"div",1,0),D("animationend",function(s){return T(o),E(r._handleAnimationEnd(s))}),u(2,"div",2),f(3),h()()}2&n&&(gt("mdc-tooltip--multiline",r._isMultiline),P("ngClass",r.tooltipClass),g(3),ke(r.message))},dependencies:[Zt],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})(),sP=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[I7],imports:[iI,nb,ry,eo,eo,dm]})}return t})();const L7=(t,i)=>i.name;function B7(t,i){1&t&&(u(0,"span",32),f(1,"Game"),h())}function H7(t,i){1&t&&(u(0,"span"),f(1," \xa0\xa0Only starting your journey to immortality from the beginning again (Hard Reset) will prove you never took the easy path. "),h())}function V7(t,i){1&t&&(u(0,"span",32),f(1,"Home"),h())}function U7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span"),f(2," Automatically buy up to "),u(3,"input",33),D("change",function(r){return T(e),E(S(2).autoBuyLandLimitChanged(r))}),h(),f(4," land (including fields) "),h()()}if(2&t){const e=S(2);g(3),X("value",e.homeService.autoBuyLandLimit)}}function j7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span"),f(2," Automatically plow up to "),u(3,"input",33),D("change",function(r){return T(e),E(S(2).autoFieldLimitChanged(r))}),h(),f(4," fields "),h()()}if(2&t){const e=S(2);g(3),X("value",e.homeService.autoFieldLimit)}}function z7(t,i){if(1&t&&(u(0,"option",35),f(1),h()),2&t){const e=i.$implicit,n=S(3);X("value",e.type),P("selected",n.homeService.autoBuyHomeLimit===e.type),g(),V(" ",e.name," ")}}function q7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span"),f(2," Automatically upgrade your home up to a "),u(3,"select",34),D("change",function(r){return T(e),E(S(2).autoBuyHomeLimitChanged(r))}),We(4,z7,2,3,"option",35,L7),h()()()}if(2&t){const e=S(2);g(4),Ke(e.homeService.homesList)}}function $7(t,i){if(1&t){const e=q();u(0,"mat-tab"),H(1,V7,2,0,"ng-template",3)(2,U7,5,1,"div",4)(3,j7,5,1,"div",4)(4,q7,6,0,"div",4),u(5,"div")(6,"span")(7,"input",8),D("change",function(r){return T(e),E(S().autoPauseThugs(r))}),h(),u(8,"label",9),f(9,"Automatically pause if thugs rough you up."),h()()()()}if(2&t){const e=S();g(2),I(e.homeService.autoBuyLandUnlocked?2:-1),g(),I(e.homeService.autoFieldUnlocked?3:-1),g(),I(e.homeService.autoBuyHomeUnlocked?4:-1),g(3),P("checked",e.homeService.thugPause)}}function G7(t,i){1&t&&(u(0,"span",32),f(1,"Crafting"),h())}function Y7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",36),D("change",function(r){return T(e),E(S(2).autoPotionChange(r))}),h(),u(3,"label",37),f(4,"Automatically consume potions when you make them"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoPotionEnabled)}}function W7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",38),D("change",function(r){return T(e),E(S(2).autoPillChange(r))}),h(),u(3,"label",39),f(4,"Automatically consume pills when you make them"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoPillEnabled)}}function K7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",40),D("change",function(r){return T(e),E(S(2).autoequipEnableChange(r))}),h(),u(3,"label",41),f(4,"Automatically equip best equipment"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoequipBestEnabled)}}function Z7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",42),D("change",function(r){return T(e),E(S(2).automergeEquippedChange(r))}),h(),u(3,"label",43),f(4,"Automatically merge onto equipped equipment"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.automergeEquipped)}}function X7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",44),D("change",function(r){return T(e),E(S(2).useSpiritGemWeaponsChange(r))}),h(),u(3,"label",45),f(4,"Use spirit gem when crafting weapons"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.useSpiritGemWeapons)}}function Q7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",46),D("change",function(r){return T(e),E(S(2).useSpiritGemPotionsChange(r))}),h(),u(3,"label",47),f(4,"Use spirit gem when crafting potions"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.useSpiritGemPotions)}}function J7(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",48),D("change",function(r){return T(e),E(S(2).useCheapestSpiritGemChange(r))}),h(),u(3,"label",49),f(4,"Use your lowest grade spirit gem instead of your highest"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.useCheapestSpiritGem)}}function eK(t,i){if(1&t&&(u(0,"mat-tab"),H(1,G7,2,0,"ng-template",3)(2,Y7,5,1,"div",4)(3,W7,5,1,"div",4)(4,K7,5,1,"div",4)(5,Z7,5,1,"div",4)(6,X7,5,1,"div",4)(7,Q7,5,1,"div",4)(8,J7,5,1,"div",4),h()),2&t){const e=S();g(2),I(e.inventoryService.autoPotionUnlocked?2:-1),g(),I(e.inventoryService.autoPillUnlocked?3:-1),g(),I(e.inventoryService.autoequipBestArmor||e.inventoryService.autoequipBestWeapon?4:-1),g(),I(e.inventoryService.autoequipBestArmor&&e.inventoryService.autoArmorMergeUnlocked||e.inventoryService.autoequipBestWeapon&&e.inventoryService.autoWeaponMergeUnlocked?5:-1),g(),I(e.inventoryService.useSpiritGemUnlocked?6:-1),g(),I(e.inventoryService.useSpiritGemUnlocked?7:-1),g(),I(e.inventoryService.useSpiritGemUnlocked?8:-1)}}function tK(t,i){1&t&&(u(0,"span",32),f(1,"Sales"),h())}function iK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",50),D("change",function(r){return T(e),E(S(2).autoSellOldHerbs(r))}),h(),u(3,"label",51),f(4,"Automatically sell lower grade herbs than what current activities produce"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldHerbsEnabled)}}function nK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",52),D("change",function(r){return T(e),E(S(2).autoSellOldWood(r))}),h(),u(3,"label",53),f(4,"Automatically sell lower grade wood than what current activities produce"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldWoodEnabled)}}function rK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",54),D("change",function(r){return T(e),E(S(2).autoSellOldOre(r))}),h(),u(3,"label",55),f(4,"Automatically sell lower grade ore than what current activities produce"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldOreEnabled)}}function oK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",56),D("change",function(r){return T(e),E(S(2).autoSellOldBars(r))}),h(),u(3,"label",57),f(4,"Automatically sell lower grade bars than what current activities produce"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldBarsEnabled)}}function aK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",58),D("change",function(r){return T(e),E(S(2).autoSellOldHides(r))}),h(),u(3,"label",59),f(4,"Automatically sell lower grade hides than what current activities produce"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldHidesEnabled)}}function sK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",60),D("change",function(r){return T(e),E(S(2).autoSellOldGems(r))}),h(),u(3,"label",61),f(4,"Automatically sell lower grade gems than what current monsters drop"),h()()()}if(2&t){const e=S(2);g(2),P("checked",e.inventoryService.autoSellOldGemsEnabled)}}function cK(t,i){if(1&t){const e=q();u(0,"div")(1,"span"),f(2),N(3,"titlecase"),h(),u(4,"span"),f(5," - Reserve \xa0"),u(6,"input",33),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoSellReserveChange(r,o))}),h(),f(7,"\xa0 "),u(8,"button",29),D("click",function(){const r=T(e).$implicit;return E(S(3).inventoryService.unAutoSell(r.name))}),f(9,"Stop Selling"),h()()()}if(2&t){const e=i.$implicit;g(2),V(" - ",U(3,2,e.name)," "),g(4),X("value",e.reserve)}}function lK(t,i){if(1&t&&(u(0,"div",4)(1,"span"),f(2," Automatically Sold Items: "),h(),u(3,"div",62),We(4,cK,10,4,"div",null,_t),h()()),2&t){const e=S(2);g(4),Ke(e.inventoryService.autoSellEntries)}}function dK(t,i){if(1&t){const e=q();u(0,"div")(1,"span"),f(2),N(3,"titlecase"),h(),u(4,"span"),f(5," - Reserve \xa0"),u(6,"input",33),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoUseReserveChange(r,o))}),h(),f(7,"\xa0 "),u(8,"button",29),D("click",function(){const r=T(e).$implicit;return E(S(3).inventoryService.unAutoUse(r.name))}),f(9,"Stop Using"),h()()()}if(2&t){const e=i.$implicit;g(2),V(" - ",U(3,2,e.name)," "),g(4),X("value",e.reserve)}}function uK(t,i){if(1&t&&(u(0,"div",4)(1,"span"),f(2,"Automatically Used Items:"),h(),u(3,"div",62),We(4,dK,10,4,"div",null,_t),h()()),2&t){const e=S(2);g(4),Ke(e.inventoryService.autoUseEntries)}}function hK(t,i){if(1&t){const e=q();u(0,"div")(1,"span"),f(2),N(3,"titlecase"),u(4,"input",33),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoBalanceUseChanged(r,o))}),h(),f(5," then Sell "),u(6,"input",33),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoBalanceSellChanged(r,o))}),h(),u(7,"button",29),D("click",function(){const r=T(e).$implicit;return E(S(3).inventoryService.unAutoBalance(r.name))}),f(8,"Stop Balancing"),h()()()}if(2&t){const e=i.$implicit;g(2),V(" -",U(3,3,e.name)," Use "),g(2),X("value",e.useNumber),g(2),X("value",e.sellNumber)}}function mK(t,i){if(1&t&&(u(0,"div",4)(1,"span"),f(2,"Automatically Balanced Items:"),h(),u(3,"div",62),We(4,hK,9,5,"div",null,_t),h()()),2&t){const e=S(2);g(4),Ke(e.inventoryService.autoBalanceItems)}}function pK(t,i){if(1&t&&(u(0,"mat-tab"),H(1,tK,2,0,"ng-template",3)(2,iK,5,1,"div",4)(3,nK,5,1,"div",4)(4,rK,5,1,"div",4)(5,oK,5,1,"div",4)(6,aK,5,1,"div",4)(7,sK,5,1,"div",4)(8,lK,6,0,"div",4)(9,uK,6,0,"div",4)(10,mK,6,0,"div",4),h()),2&t){const e=S();g(2),I(e.inventoryService.autoSellOldHerbs?2:-1),g(),I(e.inventoryService.autoSellOldWood?3:-1),g(),I(e.inventoryService.autoSellOldOre?4:-1),g(),I(e.inventoryService.autoSellOldOre?5:-1),g(),I(e.inventoryService.autoSellOldHides?6:-1),g(),I(e.inventoryService.autoSellOldGemsUnlocked?7:-1),g(),I(e.inventoryService.autoSellUnlocked?8:-1),g(),I(e.inventoryService.autoUseUnlocked?9:-1),g(),I(e.inventoryService.autoBalanceUnlocked?10:-1)}}function fK(t,i){1&t&&(u(0,"span",32),f(1,"Auto-buy"),h())}function gK(t,i){if(1&t){const e=q();u(0,"div",4)(1,"span")(2,"input",63),D("change",function(r){return T(e),E(S(2).useAutoBuyReserveChanged(r))}),h(),u(3,"label",64),f(4,"Auto-buying should reserve "),h(),u(5,"input",33),D("change",function(r){return T(e),E(S(2).autoBuyReserveAmountChanged(r))}),h(),f(6," taels instead of 10 days worth of expenses "),h()()}if(2&t){const e=S(2);g(2),P("checked",e.homeService.useAutoBuyReserve),g(3),X("value",e.homeService.autoBuyReserveAmount)}}function vK(t,i){if(1&t){const e=q();u(0,"tr")(1,"td")(2,"button",67),D("click",function(){const r=T(e).$index;return E(S(3).autoBuySettingsPriorityChanged(r,!0))}),f(3,"\u25b2"),h()(),u(4,"td")(5,"button",67),D("click",function(){const r=T(e).$index;return E(S(3).autoBuySettingsPriorityChanged(r,!1))}),f(6,"\u25bc"),h()(),u(7,"td",68),f(8),h(),u(9,"td",69)(10,"input",70),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoBuySettingsEnabledChange(r,o))}),h()(),u(11,"td",69)(12,"input",70),D("change",function(r){const o=T(e).$implicit;return E(S(3).autoBuySettingsWaitForFinishChange(r,o))}),h()()()}if(2&t){const e=i.$implicit,n=i.$index,r=i.$count;g(2),P("disabled",0===n),g(3),P("disabled",n===r-1),g(3),ke(e.label),g(2),P("checked",e.enabled),g(2),P("checked",e.waitForFinish)}}function bK(t,i){if(1&t&&(u(0,"div",4)(1,"span"),f(2," Auto-Buyer Options: "),u(3,"table",65)(4,"tr")(5,"th",66),f(6,"Priority Order"),h(),u(7,"th"),f(8,"Enabled"),h(),u(9,"th"),f(10,"Wait For Finish"),h()(),We(11,vK,13,5,"tr",null,_t),h()()()),2&t){const e=S(2);g(11),Ke(e.autoBuyerService.autoBuyerSettings)}}function yK(t,i){if(1&t&&(u(0,"mat-tab"),H(1,fK,2,0,"ng-template",3)(2,gK,7,2,"div",4)(3,bK,13,0,"div",4),h()),2&t){const e=S();g(2),I(e.homeService.autoBuyLandUnlocked||e.homeService.autoBuyHomeUnlocked||e.homeService.autoBuyFurnitureUnlocked?2:-1),g(),I(e.autoBuyerService.autoBuyerSettingsUnlocked?3:-1)}}let _K=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d){this.homeService=e,this.characterService=n,this.inventoryService=r,this.gameStateService=o,this.followerService=a,this.autoBuyerService=s,this.mainLoopService=c,this.activityService=l,this.dialog=d}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&(e.shiftKey||e.altKey)?this.gameStateService.loadFromLocalStorage(!0):e.shiftKey||e.altKey?this.dialog.open(YW,{width:"400px",data:{someField:"foo"},autoFocus:!1}):(this.gameStateService.savetoLocalStorage(),this.characterService.toast("Manual Save Complete"))}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}autoSellReserveChange(e,n){e.target instanceof HTMLInputElement&&(n.reserve=Math.floor(parseFloat(e.target.value)),n.reserve||(n.reserve=0))}autoUseReserveChange(e,n){e.target instanceof HTMLInputElement&&(n.reserve=Math.floor(parseFloat(e.target.value)),n.reserve||(n.reserve=0))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=Math.floor(parseFloat(e.target.value)),this.homeService.autoBuyLandLimit||(this.homeService.autoBuyLandLimit=0))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=Math.floor(parseFloat(e.target.value)),this.homeService.autoFieldLimit||(this.homeService.autoFieldLimit=0))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoPauseThugs(e){e.target instanceof HTMLInputElement&&(this.homeService.thugPause=!this.homeService.thugPause)}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseFloat(e.target.value),this.homeService.autoBuyReserveAmount||(this.homeService.autoBuyReserveAmount=0))}autoBalanceUseChanged(e,n){e.target instanceof HTMLInputElement&&(n.useNumber=Math.floor(parseFloat(e.target.value)),n.useNumber||(n.useNumber=0))}autoBalanceSellChanged(e,n){e.target instanceof HTMLInputElement&&(n.sellNumber=Math.floor(parseFloat(e.target.value)),n.sellNumber||(n.sellNumber=0))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}useCheapestSpiritGemChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useCheapestSpiritGem=e.target.checked)}autoPotionChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoPotionEnabled=e.target.checked)}autoPillChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoPillEnabled=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}automergeEquippedChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.automergeEquipped=e.target.checked)}autoSellOldHerbs(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHerbsEnabled=e.target.checked)}autoSellOldWood(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldWoodEnabled=e.target.checked)}autoSellOldOre(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldOreEnabled=e.target.checked)}autoSellOldBars(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldBarsEnabled=e.target.checked)}autoSellOldHides(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHidesEnabled=e.target.checked)}autoSellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,n){this.autoBuyerService.autoBuyerSettings.splice(e+(n?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,n){e.target instanceof HTMLInputElement&&(n.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,n){e.target instanceof HTMLInputElement&&(n.waitForFinish=e.target.checked)}easyModeChange(e){if(e.target instanceof HTMLInputElement)if(e.preventDefault(),e.stopPropagation(),this.characterService.characterState.easyMode)this.characterService.characterState.easyMode=!1;else{if(!this.gameStateService.easyModeEver){if(!confirm("This will enable easy mode and mark your save permanently. Are you sure?"))return void(e.target.checked=!1);this.gameStateService.easyModeEver=!0}this.characterService.characterState.easyMode=!0,this.activityService.reloadActivities()}}autoBuyFoodChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoBuyFood=e.target.checked)}playMusicChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.playMusic=e.target.checked,this.mainLoopService.playAudio())}showLifeSummaryChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showLifeSummary=e.target.checked)}showTipsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showTips=e.target.checked)}showUpdateAnimationsChange(e){e.target instanceof HTMLInputElement&&(this.characterService.characterState.showUpdateAnimations=e.target.checked)}scientificNotationChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.scientificNotation=e.target.checked,this.gameStateService.savetoLocalStorage(),window.location.href=window.location.href)}importGameFileClick(e){const r=e.target?.files?.[0];if(r){const o=new FileReader,a=this.gameStateService,s=this.mainLoopService;o.readAsText(r,"UTF-8"),o.onload=function(){"string"==typeof o.result&&(s.importing=!0,a.importGame(o.result),a.savetoLocalStorage(),a.updateImportFlagKey(!0),setTimeout(()=>{window.location.reload()},10))}}}exportGameFileClick(){const e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getGameExport())}`),e.setAttribute("download",`Immortality_Idle_${this.gameStateService.isExperimental?"Experimental":"v"+Tm.appVersion}_${(new Date).toISOString()}.txt`);const n=new MouseEvent("click");e.dispatchEvent(n)}importLayoutFileClick(e){const r=e.target?.files?.[0];if(r){const o=new FileReader,a=this.gameStateService;o.readAsText(r,"UTF-8"),o.onload=function(){"string"==typeof o.result&&(a.importLayout(o.result),a.savetoLocalStorage())}}}exportLayoutFileClick(){const e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getLayoutExport())}`),e.setAttribute("download",`Immortality_Idle_Layout_${this.gameStateService.isExperimental?"Experimental":"v"+Tm.appVersion}_${(new Date).toISOString()}.txt`);const n=new MouseEvent("click");e.dispatchEvent(n)}static#e=this.\u0275fac=function(n){return new(n||t)(y(pt),y(Oe),y(ie),y(bt),y(Tt),y(Dm),y(ft),y(ct),y(ri))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-options-modal"]],decls:84,vars:13,consts:[["importLayoutFile",""],["importGameFile",""],[1,"darkMode","optionsDiv"],["mat-tab-label",""],[1,"optionField"],["matTooltip","This game is much too hard and takes much too long to play to the end. Click this to make it easier and allow you to rush through the game.\n          Be warned: you will forever be known as a cultivator who took the easy path to immortality."],["type","checkbox","id","easyMode",3,"change","checked"],["for","easyMode"],["type","checkbox","id","autoBuyFood",3,"change","checked"],["for","autoBuyFood"],["type","checkbox","id","showLifeSummary",3,"change","checked"],["for","showLifeSummary"],["type","checkbox","id","showTips",3,"change","checked"],["for","showTips"],["type","checkbox","id","showUpdateAnimations",3,"change","checked"],["for","showUpdateAnimations"],["type","checkbox","id","scientificNotation",3,"change","checked"],["for","scientificNotation"],[1,"spaced","warning"],["matTooltip","Enable background music (this allows the game to run in the background more efficiently)."],["type","checkbox","id","backgroundMusic",3,"change","checked"],["for","backgroundMusic"],["href","/assets/music/Shaolin-Dub-Rising-Sun-Beat.mp3","download",""],["href","https://creativecommons.org/licenses/by-nc-nd/4.0/","target","_blank"],["matTooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["matTooltip","Click to save your game now.\n          Shift-click for save options.\n          Ctrl-shift-click to load backup save.",3,"click"],["type","checkbox","id","darkMode",3,"change","checked"],["for","darkMode"],["type","file","id","importLayoutFile",3,"change"],[3,"click"],["type","file","id","importGameFile",3,"change"],["matTooltip","Completely restart your journey toward immortality.",1,"warning",3,"click"],[1,"tab-label"],["min","0","type","number",1,"inputBox",3,"change","value"],["name","homeList","id","homeList",3,"change"],[3,"value","selected"],["type","checkbox","id","autoPotionEnable",3,"change","checked"],["for","autoPotionEnable"],["type","checkbox","id","autoPillEnable",3,"change","checked"],["for","autoPillEnable"],["type","checkbox","id","autoequipEnable",3,"change","checked"],["for","autoequipEnable"],["type","checkbox","id","automergeEquipped",3,"change","checked"],["for","automergeEquipped"],["type","checkbox","id","useSpiritGemWeapons",3,"change","checked"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"change","checked"],["for","useSpiritGemPotions"],["type","checkbox","id","useCheapestSpiritGem",3,"change","checked"],["for","useCheapestSpiritGem"],["type","checkbox","id","autosellOldHerbs",3,"change","checked"],["for","autosellOldHerbs"],["type","checkbox","id","autosellOldWood",3,"change","checked"],["for","autosellOldWood"],["type","checkbox","id","autosellOldOre",3,"change","checked"],["for","autosellOldOre"],["type","checkbox","id","autoSellOldBars",3,"change","checked"],["for","autoSellOldBars"],["type","checkbox","id","autosellOldHides",3,"change","checked"],["for","autosellOldHides"],["type","checkbox","id","autosellOldGems",3,"change","checked"],["for","autosellOldGems"],[1,"scrollingDiv"],["type","checkbox","id","useAutoBuyReserve",3,"change","checked"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[1,"reorderListButton",3,"click","disabled"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"change","checked"]],template:function(n,r){if(1&n){const o=q();u(0,"div",2)(1,"span"),f(2,"Options"),h(),u(3,"mat-tab-group")(4,"mat-tab"),H(5,B7,2,0,"ng-template",3),u(6,"div",4)(7,"span",5)(8,"input",6),D("change",function(s){return T(o),E(r.easyModeChange(s))}),h(),u(9,"label",7),f(10,"Easy Mode"),h()(),H(11,H7,2,0,"span"),h(),u(12,"div",4)(13,"span")(14,"input",8),D("change",function(s){return T(o),E(r.autoBuyFoodChange(s))}),h(),u(15,"label",9),f(16,"Automatically buy rice each day if you have no food to avoid starvation."),h()()(),u(17,"div",4)(18,"span")(19,"input",10),D("change",function(s){return T(o),E(r.showLifeSummaryChange(s))}),h(),u(20,"label",11),f(21,"Show a previous life summary at the start of each life"),h()()(),u(22,"div",4)(23,"span")(24,"input",12),D("change",function(s){return T(o),E(r.showTipsChange(s))}),h(),u(25,"label",13),f(26,"Include tips in the life summary. Warning, this can spoil the fun of discovering things for yourself."),h()()(),u(27,"div",4)(28,"span")(29,"input",14),D("change",function(s){return T(o),E(r.showUpdateAnimationsChange(s))}),h(),u(30,"label",15),f(31,"Show animated updates when attributes or money values change."),h()()(),u(32,"div",4)(33,"span")(34,"input",16),D("change",function(s){return T(o),E(r.scientificNotationChange(s))}),h(),u(35,"label",17),f(36,"Turn on numbers with scientific notation."),h(),f(37,"\xa0 "),u(38,"span",18),f(39,"Changing this will save and reload immediately."),h()()(),u(40,"div",4)(41,"span",19)(42,"input",20),D("change",function(s){return T(o),E(r.playMusicChange(s))}),h(),u(43,"label",21),f(44,"Background Music (also improves background play) - "),u(45,"a",22),f(46,"Rising Sun Beat by Shaolin Dub"),h(),f(47," ("),u(48,"a",23),f(49,"Creative Commons License"),h(),f(50,")"),h()()(),u(51,"div",4)(52,"button",24),D("click",function(s){return T(o),E(r.rebirthClicked(s))}),f(53," Reincarnate "),h()(),u(54,"div",4)(55,"button",25),D("click",function(s){return T(o),E(r.saveClicked(s))}),f(56," Manual Save "),h()(),u(57,"div",4)(58,"span")(59,"input",26),D("change",function(){return T(o),E(r.darkModeToggle())}),h(),u(60,"label",27),f(61,"Dark Mode"),h()()(),u(62,"div",4)(63,"div")(64,"input",28,0),D("change",function(s){return T(o),E(r.importLayoutFileClick(s))}),h(),u(66,"button",29),D("click",function(){return T(o),E(cl(65).click())}),f(67,"Import Layout File"),h(),u(68,"button",29),D("click",function(){return T(o),E(r.exportLayoutFileClick())}),f(69,"Export Layout File"),h()(),u(70,"div")(71,"input",30,1),D("change",function(s){return T(o),E(r.importGameFileClick(s))}),h(),u(73,"button",29),D("click",function(){return T(o),E(cl(72).click())}),f(74,"Import Game File"),h(),u(75,"button",29),D("click",function(){return T(o),E(r.exportGameFileClick())}),f(76,"Export Game File"),h()()(),u(77,"div",4)(78,"button",31),D("click",function(s){return T(o),E(r.hardResetClicked(s))}),f(79,"Hard Reset"),h()()(),H(80,$7,10,4,"mat-tab")(81,eK,9,7,"mat-tab")(82,pK,11,9,"mat-tab")(83,yK,4,2,"mat-tab"),h()()}2&n&&(g(8),P("checked",r.characterService.characterState.easyMode),g(3),I(r.gameStateService.easyModeEver?11:-1),g(3),P("checked",r.inventoryService.autoBuyFood),g(5),P("checked",r.characterService.characterState.showLifeSummary),g(5),P("checked",r.characterService.characterState.showTips),g(5),P("checked",r.characterService.characterState.showUpdateAnimations),g(5),P("checked",r.mainLoopService.scientificNotation),g(8),P("checked",r.mainLoopService.playMusic),g(17),P("checked",r.gameStateService.isDarkMode),g(21),I(r.homeService.autoBuyLandUnlocked||r.homeService.autoFieldUnlocked||r.homeService.autoBuyHomeUnlocked?80:-1),g(),I(r.inventoryService.autoequipBestArmor||r.inventoryService.autoequipBestWeapon||r.inventoryService.useSpiritGemUnlocked||r.inventoryService.autoPillUnlocked||r.inventoryService.autoPotionUnlocked?81:-1),g(),I(r.inventoryService.autoSellOldHerbs||r.inventoryService.autoSellOldWood||r.inventoryService.autoSellOldOre||r.inventoryService.autoSellOldHides||r.inventoryService.autoSellOldGemsUnlocked||r.inventoryService.autoSellUnlocked||r.inventoryService.autoUseUnlocked||r.inventoryService.autoBalanceUnlocked?82:-1),g(),I(r.homeService.autoBuyLandUnlocked||r.homeService.autoBuyHomeUnlocked||r.homeService.autoBuyFurnitureUnlocked||r.autoBuyerService.autoBuyerSettingsUnlocked?83:-1))},dependencies:[Qy,e_,WA,ZA,x7,wt,Qi],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}#importLayoutFile[_ngcontent-%COMP%], #importGameFile[_ngcontent-%COMP%]{display:none}"]})}return t})();function SK(t,i){if(1&t&&(u(0,"span"),f(1),N(2,"bigNumber"),h()),2&t){const e=S();g(),mn(" Next rank requires ",U(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," spirit gem. ")}}function wK(t,i){1&t&&(u(0,"span"),f(1," Max Rank "),h())}function CK(t,i){if(1&t&&(u(0,"span"),f(1),N(2,"bigNumber"),h()),2&t){const e=S();g(),mn(" Next rank requires ",U(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," spirit gem. ")}}function kK(t,i){1&t&&(u(0,"span"),f(1," Max Rank "),h())}function DK(t,i){if(1&t&&(u(0,"span"),f(1),N(2,"bigNumber"),h()),2&t){const e=S();g(),mn(" Next rank requires ",U(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function xK(t,i){1&t&&(u(0,"span"),f(1," Max Rank "),h())}function MK(t,i){if(1&t&&(u(0,"span"),f(1),N(2,"number"),N(3,"number"),h()),2&t){const e=S();g(),mn(" You have consumed ",Pt(2,2,100*(e.characterService.characterState.empowermentFactor-1),"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",Pt(3,5,e.characterService.characterState.getEmpowermentMult(),"1.0-3"),". You will always keep this bonus, even after ascending. ")}}let cP=(()=>{class t{constructor(e,n,r,o,a,s){this.storeService=e,this.characterService=n,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s}static#e=this.\u0275fac=function(n){return new(n||t)(y(na),y(Oe),y(pt),y(ie),y(tn),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-ascension-store-modal"]],decls:39,vars:12,consts:[[1,"darkMode"],[3,"click","disabled"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Ascension Techniques"),h(),G(3,"hr"),u(4,"table")(5,"tr")(6,"td")(7,"button",1),D("click",function(){return r.storeService.condenseSoulCore()}),f(8,"Condense Soul Core"),h()(),u(9,"td"),f(10," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),G(11,"br"),f(12),G(13,"br"),H(14,SK,3,4,"span")(15,wK,2,0,"span"),h()(),u(16,"tr")(17,"td")(18,"button",1),D("click",function(){return r.storeService.reinforceMeridians()}),f(19,"Reinforce Meridians"),h()(),u(20,"td"),f(21," End your current life, sacrifice all attributes and aptitudes that are not protected by the power of your previous soul core ascensions, and permanently increase the power of your aptitudes to improve your attribute gains. "),G(22,"br"),f(23),G(24,"br"),H(25,CK,3,4,"span")(26,kK,2,0,"span"),h()(),u(27,"tr")(28,"td")(29,"button",1),D("click",function(){return r.storeService.upgradeBloodline()}),f(30),h()(),u(31,"td"),f(32),G(33,"br"),f(34),G(35,"br"),H(36,DK,3,4,"span")(37,xK,2,0,"span"),h()()(),H(38,MK,4,8,"span"),h()),2&n&&(g(7),P("disabled",r.storeService.soulCoreRank>8),g(5),V(" Current Rank: ",r.storeService.soulCoreRank," "),g(2),I(r.storeService.soulCoreRank<9?14:15),g(4),P("disabled",r.storeService.meridianRank>8),g(5),V(" Current Rank: ",r.storeService.meridianRank," "),g(2),I(r.storeService.meridianRank<9?25:26),g(4),P("disabled",r.characterService.characterState.bloodlineRank>=9),g(),ke(r.storeService.bloodlineLabel),g(2),V(" ",r.storeService.bloodlineDescription," "),g(2),V(" Current Rank: ",r.characterService.characterState.bloodlineRank," "),g(2),I(r.characterService.characterState.bloodlineRank<9?36:37),g(2),I(r.characterService.characterState.empowermentFactor>1?38:-1))},styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]})}return t})();const TK=(t,i)=>t+""+i.unlocked;function EK(t,i){if(1&t&&(u(0,"div"),f(1),h()),2&t){const e=S(2).$implicit;g(),ke(e.displayName)}}function IK(t,i){if(1&t&&(u(0,"div"),f(1),h()),2&t){const e=S(2).$implicit;g(),ke(e.name)}}function AK(t,i){if(1&t&&(u(0,"div",2),H(1,EK,2,1,"div")(2,IK,2,1,"div"),h()),2&t){const e=S().$implicit;X("matTooltip",e.description),g(),I(e.displayName?1:-1),g(),I(e.displayName?-1:2)}}function PK(t,i){1&t&&(u(0,"div",3),f(1," ? "),h()),2&t&&X("matTooltip",S().$implicit.hint)}function OK(t,i){if(1&t&&(u(0,"div"),H(1,AK,3,3,"div",2)(2,PK,2,1,"div",3),h()),2&t){const e=i.$implicit;g(),I(e.unlocked?1:2)}}let RK=(()=>{class t{constructor(e){this.achievementService=e}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ey))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-achievement-panel"]],decls:7,vars:2,consts:[[1,"darkMode"],[1,"achievementGrid"],["tabindex","0",1,"itemSlot",3,"matTooltip"],[1,"itemSlot",3,"matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2),h(),G(3,"hr"),u(4,"div",1),We(5,OK,3,1,"div",null,TK),h()()),2&n&&(g(2),mn("Achievements (",r.achievementService.unlockedAchievements.length," / ",r.achievementService.achievements.length,")"),g(3),Ke(r.achievementService.achievements))},dependencies:[wt],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]})}return t})();function r_(t,i,...e){return!0===i?(t(),null):!1===i?null:i(...e).pipe(ii(1)).subscribe(()=>t())}class o_{}class Pr{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof Pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new Pr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const r=("a"===i.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=i.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(i,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class NK{encodeKey(i){return lP(i)}encodeValue(i){return lP(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const BK=/%(\d[a-f0-9])/gi,HK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lP(t){return encodeURIComponent(t).replace(BK,(i,e)=>HK[e]??i)}function Vm(t){return`${t}`}class ro{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new NK,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LK(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,s]=-1==o?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],c=e.get(a)||[];c.push(s),e.set(a,c)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],r=Array.isArray(n)?n.map(Vm):[Vm(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new ro({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(Vm(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(Vm(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class VK{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function dP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uP(t){return typeof Blob<"u"&&t instanceof Blob}function hP(t){return typeof FormData<"u"&&t instanceof FormData}class ed{constructor(i,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function UK(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Pr,this.context??=new VK,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+a}}else this.params=new ro,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||dP(this.body)||uP(this.body)||hP(this.body)||function jK(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ro?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hP(this.body)?null:uP(this.body)?this.body.type||null:dP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,o=i.transferCache??this.transferCache,a=void 0!==i.body?i.body:this.body,s=i.withCredentials??this.withCredentials,c=i.reportProgress??this.reportProgress;let l=i.headers||this.headers,d=i.params||this.params;const m=i.context??this.context;return void 0!==i.setHeaders&&(l=Object.keys(i.setHeaders).reduce((p,v)=>p.set(v,i.setHeaders[v]),l)),i.setParams&&(d=Object.keys(i.setParams).reduce((p,v)=>p.set(v,i.setParams[v]),d)),new ed(e,n,a,{params:d,headers:l,context:m,reportProgress:c,responseType:r,withCredentials:s,transferCache:o})}}var s_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(s_||{});class c_{constructor(i,e=200,n="OK"){this.headers=i.headers||new Pr,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class td extends c_{constructor(i={}){super(i),this.type=s_.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new td({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function l_(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let d_=(()=>{class t{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof ed)o=e;else{let c,l;c=r.headers instanceof Pr?r.headers:new Pr(r.headers),r.params&&(l=r.params instanceof ro?r.params:new ro({fromObject:r.params})),o=new ed(e,n,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const a=ee(o).pipe(Ms(c=>this.handler.handle(c)));if(e instanceof ed||"events"===r.observe)return a;const s=a.pipe(ni(c=>c instanceof td));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(he(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return s.pipe(he(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return s.pipe(he(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return s.pipe(he(c=>c.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new ro).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,l_(r,n))}post(e,n,r={}){return this.request("POST",e,l_(r,n))}put(e,n,r={}){return this.request("PUT",e,l_(r,n))}static#e=this.\u0275fac=function(n){return new(n||t)(w(o_))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();const pZ=["*"];let zm;function id(t){return function fZ(){if(void 0===zm&&(zm=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(zm=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return zm}()?.createHTML(t)||t}function TP(t){return Error(`Unable to find icon with the name "${t}"`)}function EP(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function IP(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class sa{constructor(i,e,n){this.url=i,this.svgText=e,this.options=n}}let qm=(()=>{class t{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new sa(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const a=this._sanitizer.sanitize(di.HTML,r);if(!a)throw IP(r);const s=id(a);return this._addSvgIconConfig(e,n,new sa("",s,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new sa(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(di.HTML,n);if(!o)throw IP(n);const a=id(o);return this._addSvgIconSetConfig(e,new sa("",a,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(di.RESOURCE_URL,e);if(!n)throw EP(e);const r=this._cachedIconsByUrl.get(n);return r?ee($m(r)):this._loadSvgIconFromConfig(new sa(e,null)).pipe(Nt(o=>this._cachedIconsByUrl.set(n,o)),he(o=>$m(o)))}getNamedSvgIcon(e,n=""){const r=AP(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):Sl(TP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ee($m(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(he(n=>$m(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?ee(r):function zI(...t){const i=mT(t),{args:e,keys:n}=pT(t),r=new Je(o=>{const{length:a}=e;if(!a)return void o.complete();const s=new Array(a);let c=a,l=a;for(let d=0;d<a;d++){let m=!1;Vi(e[d]).subscribe(Ye(o,p=>{m||(m=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!m)&&(l||o.next(n?fT(n,s):s),o.complete())}))}});return i?r.pipe(_b(i)):r}(n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Yo(s=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(di.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(l)),ee(null)})))).pipe(he(()=>{const a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw TP(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Nt(n=>e.svgText=n),he(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ee(null):this._fetchIcon(e).pipe(Nt(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const s=this._svgElementFromString(id("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(id("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:s}=r[o];"id"!==a&&n.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function gZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const a=this._sanitizer.sanitize(di.RESOURCE_URL,n);if(!a)throw EP(n);const s=this._inProgressUrlFetches.get(a);if(s)return s;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(he(l=>id(l)),Bh(()=>this._inProgressUrlFetches.delete(a)),function FK(t={}){const{connector:i=(()=>new W),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let a=null,s=null,c=null,l=0,d=!1,m=!1;const p=()=>{s?.unsubscribe(),s=null},v=()=>{p(),a=c=null,d=m=!1},b=()=>{const _=a;v(),_?.unsubscribe()};return lt((_,k)=>{l++,!m&&!d&&p();const x=c=c??i();k.add(()=>{l--,0===l&&!m&&!d&&(s=r_(b,r))}),x.subscribe(k),a||(a=new vd({next:M=>x.next(M),error:M=>{m=!0,p(),s=r_(v,e,M),x.error(M)},complete:()=>{d=!0,p(),s=r_(v,n),x.complete()}}),Ft(_).subscribe(a))})(o)}}());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(AP(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return bZ(o)?new sa(o.url,null,o.options):new sa(o,null)}}static#e=this.\u0275fac=function(n){return new(n||t)(w(d_,8),w(mb),w(be,8),w(Di))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $m(t){return t.cloneNode(!0)}function AP(t,i){return t+":"+i}function bZ(t){return!(!t.url||!t.options)}const yZ=new F("MAT_ICON_DEFAULT_OPTIONS"),_Z=new F("mat-icon-location",{providedIn:"root",factory:function SZ(){const t=O(be),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),PP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wZ=PP.map(t=>`[${t}]`).join(", "),CZ=/^url\(['"]?#(.*?)['"]?\)$/;let oi=(()=>{class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,a,s){this._elementRef=e,this._iconRegistry=n,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Le.EMPTY,s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(wZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)PP.forEach(a=>{const s=n[o],c=s.getAttribute(a),l=c?c.match(CZ):null;if(l){let d=r.get(s);d||(d=[],r.set(s,d)),d.push({name:a,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(ii(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(qm),function Fa(t){return function QF(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const e=t.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(FS(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===i)return e[r+1];r+=2}}}return null}($e(),t)}("aria-hidden"),y(_Z),y(Di),y(yZ,8))};static#t=this.\u0275cmp=ve({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){2&n&&(Ge("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),$u(r.color?"mat-"+r.color:""),gt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",ze],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[vi,Ki],ngContentSelectors:pZ,decls:1,vars:0,template:function(n,r){1&n&&(gs(),Gr(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),OP=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({imports:[eo,eo]})}return t})();function kZ(t,i){if(1&t&&(u(0,"span")(1,"mat-icon",4),f(2," help "),h(),f(3),h()),2&t){const e=S().$implicit;g(),X("matTooltip",e.description),g(2),V(" ",e.name," ")}}function DZ(t,i){1&t&&(u(0,"span"),f(1," ???????????? "),h())}function xZ(t,i){if(1&t&&(u(0,"div",3),G(1,"span"),h()),2&t){const e=S().$implicit,n=S();Ge("value",n.Math.floor(n.impossibleTaskService.taskProgress[e.taskType].progress))("max",n.Math.floor(e.progressRequired)),g(),ti("width",100*n.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%")}}function MZ(t,i){1&t&&(u(0,"span")(1,"mat-icon"),f(2," done "),h()())}function TZ(t,i){if(1&t){const e=q();u(0,"span")(1,"button",5),D("click",function(){return T(e),E(S(2).impossibleTaskService.stopTask())}),f(2,"Stop"),h()()}}function EZ(t,i){if(1&t){const e=q();u(0,"span")(1,"button",5),D("click",function(){return T(e),E(S(2).impossibleTaskService.startTask())}),f(2,"Start"),h()()}}function IZ(t,i){if(1&t&&(u(0,"tr")(1,"td"),H(2,kZ,4,2,"span")(3,DZ,2,0,"span"),h(),u(4,"td"),H(5,xZ,2,4,"div",3),h(),u(6,"td"),H(7,MZ,3,0,"span")(8,TZ,3,0,"span")(9,EZ,3,0,"span"),h()()),2&t){const e=i.$implicit,n=S();g(2),I(n.impossibleTaskService.nextTask>=e.taskType?2:-1),g(),I(n.impossibleTaskService.nextTask<e.taskType?3:-1),g(2),I(n.impossibleTaskService.nextTask>=e.taskType?5:-1),g(2),I(n.impossibleTaskService.taskProgress[e.taskType].complete?7:-1),g(),I(n.impossibleTaskService.activeTaskIndex===e.taskType?8:-1),g(),I(-1===n.impossibleTaskService.activeTaskIndex&&n.impossibleTaskService.nextTask===e.taskType?9:-1)}}let AZ=(()=>{class t{constructor(e,n,r){this.impossibleTaskService=e,this.gameStateService=n,this.activityService=r,this.Math=Math}pauseOnImpossibleFailChange(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnImpossibleFail=e.target.checked)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Er),y(bt),y(ct))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-impossible-task-panel"]],decls:12,vars:1,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnImpossibleFail",3,"change","checked"],["for","pauseOnImpossibleFail"],[1,"progress-bar",2,"height","20px"],[3,"matTooltip"],[3,"click"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Impossible Tasks"),h(),u(3,"span")(4,"input",1),D("change",function(a){return r.pauseOnImpossibleFailChange(a)}),h(),u(5,"label",2),f(6,"Automatically pause if task related activity fails"),h()(),G(7,"hr"),u(8,"div")(9,"table"),We(10,IZ,10,6,"tr",null,_t),h()()()),2&n&&(g(4),P("checked",r.activityService.pauseOnImpossibleFail),g(6),Ke(r.impossibleTaskService.tasks))},dependencies:[oi,wt],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})(),PZ=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-tutorial-panel"]],decls:25,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Tutorial"),h(),G(3,"hr"),u(4,"div",1)(5,"span"),f(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),h(),G(7,"hr"),u(8,"span"),f(9," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),h(),G(10,"hr"),u(11,"span"),f(12," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),h(),G(13,"hr"),u(14,"span"),f(15," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),h(),G(16,"hr"),u(17,"span"),f(18," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),h(),G(19,"hr"),u(20,"span"),f(21," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),h(),G(22,"hr"),u(23,"span"),f(24," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. If you find the game too difficult, an easy mode is available in the options panel. Now, it's time to develop your potential for immortality. Get to it! "),h()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:600px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})(),OZ=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-changelog-panel"]],decls:306,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Change Log"),h(),G(3,"hr"),u(4,"div",1)(5,"table")(6,"tr")(7,"td"),f(8,"v1.2.5"),h(),u(9,"td"),f(10,"Bug fixes for pet options. Some performance optimizations and a new version of the code framework (Angular v18)."),h()(),u(11,"tr")(12,"td"),f(13,"v1.2.4"),h(),u(14,"td"),f(15,"Bug fix for pet training not leveling up pets."),h()(),u(16,"tr")(17,"td"),f(18,"v1.2.3"),h(),u(19,"td"),f(20,"Icons for items and equipment (some old items and equipment from before the update won't show the icons). New selected item view in the Inventory Panel. Pets got their own panel separate from followers. Autopill and autopotion can now be turned off in the options. Some internal code cleanup/changes to comply with modern code framework standards. Bug fixes."),h()(),u(21,"tr")(22,"td"),f(23,"v1.2.2"),h(),u(24,"td"),f(25,"Panel layouts can now be imported and exported from the options panel. Bugfixes for scrollbars on some panels. Clicking info or schedule on an activity no longer also clicks the activity. Attribute panel layout update."),h()(),u(26,"tr")(27,"td"),f(28,"v1.2.1"),h(),u(29,"td"),f(30,"Equipment panel will now show up if you have any equipment. Bug fixes for locked panels checkbox."),h()(),u(31,"tr")(32,"td"),f(33,"v1.2.0"),h(),u(34,"td"),f(35,'New user interface with movable and resizable game panels that should work on tablets and phones. Pictures of monsters and activities. Changes to activity panel (just click the activity to do it once). Some panels now only unlock once they are needed. Some new achievements for unlocking panels. Portals panel for moving between hell dimensions. Bug fixes. Added classic version for people who liked the game better the old way (just add "classic" to the game URL).'),h()(),u(36,"tr")(37,"td"),f(38,"v1.1.4"),h(),u(39,"td"),f(40,"Added animated text for attributes and money changes and an option to turn them off. Fixed some performance issues and typos. Fixed infinite hell money bug. The mountain of knives in hell should no longer be unsolvable for some cultivators."),h()(),u(41,"tr")(42,"td"),f(43,"v1.1.3"),h(),u(44,"td"),f(45,"Fixed items being sold in hell when autobalanced. Activities Panel now shows activities in a grid, allowing more activities to show on the screen at a time (descriptions are now in a popup panel). New buttons on activities to let you do them right now without scheduling them."),h()(),u(46,"tr")(47,"td"),f(48,"v1.1.2"),h(),u(49,"td"),f(50,"Background music is now available in the options panel, this can also improve performance when the game's tab is not active on some browsers (even if the tab is muted). A new achievement makes it easier to get regular daily yields from your farm fields. Some logging and preformance improvements for cultivators experiencing time at very high rates."),h()(),u(51,"tr")(52,"td"),f(53,"v1.1.1"),h(),u(54,"td"),f(55,"Your spiritual projection can no longer do activities you can't do yourself. Reduced the grind required on some hells. Added a Dismiss All Followers button. Bug fixes."),h()(),u(56,"tr")(57,"td"),f(58,"v1.1.0"),h(),u(59,"td"),f(60,"Hell Expansion for advanced cultivators who are ready to move beyond simple immortality. Bug fixes."),h()(),u(61,"tr")(62,"td"),f(63,"v1.0.63"),h(),u(64,"td"),f(65,"Grandmother still loves you even when you are very powerful. Additional accessibility support. Bug fixes"),h()(),u(66,"tr")(67,"td"),f(68,"v1.0.62"),h(),u(69,"td"),f(70,"Screen readers can now read the game's icon buttons. Core Cultivation will not show up until mana is unlocked. Balancing Chi is now available earlier but will not work at full strength until mana is unlocked. New achievements. Bug fixes."),h()(),u(71,"tr")(72,"td"),f(73,"v1.0.61"),h(),u(74,"td"),f(75,"A new achievement for managing your followers. Immortality races Season 1 (see the Discord). Bug fixes."),h()(),u(76,"tr")(77,"td"),f(78,"v1.0.60"),h(),u(79,"td"),f(80,"Equipment and Home panels can now be collapsed. Bug fixes."),h()(),u(81,"tr")(82,"td"),f(83,"v1.0.59"),h(),u(84,"td"),f(85,"Life summary panel. Tips are available for cultivators who don't want to figure things out on their own. Automated merging is easier to achieve. Low level crafting produces better items. Balance changes to equipment and boss fights. Game speed hotkeys changed. Bug fixes."),h()(),u(86,"tr")(87,"td"),f(88,"v1.0.58"),h(),u(89,"td"),f(90,"Tuned equipment degradation down. Equipment should now reach equilibrium between damage and improvement at higher points."),h()(),u(91,"tr")(92,"td"),f(93,"v1.0.57"),h(),u(94,"td"),f(95,"Fix for wooden weapons not getting proper benefit from weaponsmiths."),h()(),u(96,"tr")(97,"td"),f(98,"v1.0.56"),h(),u(99,"td"),f(100,"New tooltip system. Notification for offline tick gains. Minor changes to import/export functions. Equipment damage system changed. Hotkeys 0-5 for game speeds. Activities you can't do now show as disabled instead of disappearing. Notification popups. Bug fixes."),h()(),u(101,"tr")(102,"td"),f(103,"v1.0.55"),h(),u(104,"td"),f(105,"Monsters have started dropping better hides. Inventory sorting. A new activity. More options panel options. You can import and export save files instead of text blocks. Bug fixes."),h()(),u(106,"tr")(107,"td"),f(108,"v1.0.54"),h(),u(109,"td"),f(110,"Preformance improvements to allow experienced cultivators fly through the centuries. A new activity. Bug fixes."),h()(),u(111,"tr")(112,"td"),f(113,"v1.0.53"),h(),u(114,"td"),f(115,"You might be more powerful now. Certain enemies might also be. More powerful herbs have been spotted in the wilds. New crafting options. UI improvements and bug fixes."),h()(),u(116,"tr")(117,"td"),f(118,"v1.0.52"),h(),u(119,"td"),f(120,"Even more Bloodline ascensions are now available. New activities. Bug fixes."),h()(),u(121,"tr")(122,"td"),f(123,"v1.0.51"),h(),u(124,"td"),f(125,"A Statistics Panel is now available to show cultivators some information about what they have done. Additional Bloodline ascensions are now available. A late game boss is stronger but now has less health to make that fight less of a grind. Cultivators with the right knowledge can automatically rest instead of becoming exhausted. Some additional game options are available. Balance changes and bug fixes."),h()(),u(126,"tr")(127,"td"),f(128,"v1.0.50"),h(),u(129,"td"),f(130,"An easy mode is available to cultivators who think the game is too hard. New achievements and manuals. New activities for magically empowered seekers of immortality. UI improvements. Bug fixes and balance improvements."),h()(),u(131,"tr")(132,"td"),f(133,"v1.0.49"),h(),u(134,"td"),f(135,"Pause before death is available if you know the right secrets. Improvements to followers. Better game performance. "),h()(),u(136,"tr")(137,"td"),f(138,"v1.0.48"),h(),u(139,"td"),f(140,"Better follower management. Item names stay more consistent when merged and upgraded. Balance and bug fixes."),h()(),u(141,"tr")(142,"td"),f(143,"v1.0.47"),h(),u(144,"td"),f(145,"Better inventory slots that don't jiggle around. Auto-sell and auto-use can now reserve some of the items (set value in the options panel). Bug and balance fixes."),h()(),u(146,"tr")(147,"td"),f(148,"v1.0.46"),h(),u(149,"td"),f(150,"Condensing your Soul Core now provides greater benefits."),h()(),u(151,"tr")(152,"td"),f(153,"v1.0.45"),h(),u(154,"td"),f(155,"A powerful new pill can now be created by aspiring immortals who have mastered many jobs."),h()(),u(156,"tr")(157,"td"),f(158,"v1.0.44"),h(),u(159,"td"),f(160,"Autobuy options are now configurable if you have found the secret knowledge needed."),h()(),u(161,"tr")(162,"td"),f(163,"v1.0.43"),h(),u(164,"td"),f(165,"When the game is paused you can advance a day with the Enter key. Time now moves faster the older you are starting at 5,000 years old. Base lifespan now increases based on total days lived, not number of lives lived. Balance changes to attributes and aptitudes."),h()(),u(166,"tr")(167,"td"),f(168,"v1.0.42"),h(),u(169,"td"),f(170,"Gaining large numbers of items at once is now much more efficient, so having obscenely huge farms no longer breaks the game."),h()(),u(171,"tr")(172,"td"),f(173,"v1.0.41"),h(),u(174,"td"),f(175,"Panel size fixes. Bloodline ascension rank 5. Fixed log line duplication bug. Pause on death should no longer allow extra days to pass before pausing."),h()(),u(176,"tr")(177,"td"),f(178,"v1.0.40"),h(),u(179,"td"),f(180,"Changed the way damage and armor work. Late-game fights should now be more epic and interesting."),h()(),u(181,"tr")(182,"td"),f(183,"v1.0.39"),h(),u(184,"td"),f(185,"Better descriptions for resting activities. Shift-click activities to load them onto the schedule 10 at a time. Canopy beds give more health."),h()(),u(186,"tr")(187,"td"),f(188,"v1.0.38"),h(),u(189,"td"),f(190,"Better performance for aspiring immortals who want to buy vast tracts of land."),h()(),u(191,"tr")(192,"td"),f(193,"v1.0.37"),h(),u(194,"td"),f(195,"New status bars that show values on non-chrome browsers."),h()(),u(196,"tr")(197,"td"),f(198,"v1.0.36"),h(),u(199,"td"),f(200,"You can now choose how much money to reserve when doing automatic purchases."),h()(),u(201,"tr")(202,"td"),f(203,"v1.0.35"),h(),u(204,"td"),f(205,"The log panel can now be resized by sliding the slider up and down. The Ascension Techniques panel stays unlocked once unlocked. Old junky gems can now be easily removed if you know how."),h()(),u(206,"tr")(207,"td"),f(208,"v1.0.34"),h(),u(209,"td"),f(210,"Style fix, clear schedule button, and auto-equip can now be turned off in the options."),h()(),u(211,"tr")(212,"td"),f(213,"v1.0.33"),h(),u(214,"td"),f(215,"Some styling improvements and a fix to very late game reward loot."),h()(),u(216,"tr")(217,"td"),f(218,"v1.0.32"),h(),u(219,"td"),f(220,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),h()(),u(221,"tr")(222,"td"),f(223,"v1.0.31"),h(),u(224,"td"),f(225,"Some balance changes."),h()(),u(226,"tr")(227,"td"),f(228,"v1.0.30"),h(),u(229,"td"),f(230,"A certain impossible task is now slightly less impossible."),h()(),u(231,"tr")(232,"td"),f(233,"v1.0.29"),h(),u(234,"td"),f(235,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),h()(),u(236,"tr")(237,"td"),f(238,"v1.0.28"),h(),u(239,"td"),f(240,"Improvements to automatic home purchasing."),h()(),u(241,"tr")(242,"td"),f(243,"v1.0.27"),h(),u(244,"td"),f(245,"You can now save and load an activity schedule."),h()(),u(246,"tr")(247,"td"),f(248,"v1.0.26"),h(),u(249,"td"),f(250,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),h()(),u(251,"tr")(252,"td"),f(253,"v1.0.25"),h(),u(254,"td"),f(255,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),h()(),u(256,"tr")(257,"td"),f(258,"v1.0.24"),h(),u(259,"td"),f(260,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),h()(),u(261,"tr")(262,"td"),f(263,"v1.0.23"),h(),u(264,"td"),f(265,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),h()(),u(266,"tr")(267,"td"),f(268,"v1.0.22"),h(),u(269,"td"),f(270,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),h()(),u(271,"tr")(272,"td"),f(273,"v1.0.21"),h(),u(274,"td"),f(275,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),h()(),u(276,"tr")(277,"td"),f(278,"v1.0.20"),h(),u(279,"td"),f(280,"Added Discord link."),h()(),u(281,"tr")(282,"td"),f(283,"v1.0.19"),h(),u(284,"td"),f(285,"Added changelog."),h()(),u(286,"tr")(287,"td"),f(288,"v1.0.18"),h(),u(289,"td"),f(290,"New follower types are now available."),h()(),u(291,"tr")(292,"td"),f(293,"v1.0.17"),h(),u(294,"td"),f(295,"Crafting log entries can now be filtered out."),h()(),u(296,"tr")(297,"td"),f(298,"v1.0.16"),h(),u(299,"td"),f(300,"Added tutorial help button."),h()(),u(301,"tr")(302,"td"),f(303,"v0.0.0 - v1.0.15"),h(),u(304,"td"),f(305,"Created and launched the game."),h()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}td[_ngcontent-%COMP%]{vertical-align:top}"]})}return t})();class FZ{constructor(i,e){this.value=i,this.interval=e}}let RP=(()=>{class t{constructor(e){this.daysPerSecond=0,e.longTickSubject.pipe(function RZ(t=Zo){return lt((i,e)=>{let n=t.now();i.subscribe(Ye(e,r=>{const o=t.now(),a=o-n;n=o,e.next(new FZ(r,a))}))})}(),he(r=>r.value/(r.interval/1e3)),function NZ(t,...i){var e,n;const r=null!==(e=Ds(i))&&void 0!==e?e:Zo,o=null!==(n=i[0])&&void 0!==n?n:null,a=i[1]||1/0;return lt((s,c)=>{let l=[],d=!1;const m=b=>{const{buffer:_,subs:k}=b;k.unsubscribe(),pa(l,b),c.next(_),d&&p()},p=()=>{if(l){const b=new Le;c.add(b);const k={buffer:[],subs:b};l.push(k),Fn(b,r,()=>m(k),t)}};null!==o&&o>=0?Fn(c,r,p,o,!0):d=!0,p();const v=Ye(c,b=>{const _=l.slice();for(const k of _){const{buffer:x}=k;x.push(b),a<=x.length&&m(k)}},()=>{for(;l?.length;)c.next(l.shift().buffer);v?.unsubscribe(),c.complete(),c.unsubscribe()},void 0,()=>l=null);s.subscribe(v)})}(5e3),he(r=>r.reduce((o,a)=>o+a,0)/r.length)).subscribe(r=>{this.daysPerSecond=r})}static#e=this.\u0275fac=function(n){return new(n||t)(w(ft))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LZ(t,i){if(1&t&&(u(0,"tr")(1,"td"),f(2),N(3,"camelToTitle"),h(),u(4,"td"),f(5),N(6,"bigNumber"),h()()),2&t){const e=i.$implicit;g(2),V(" Highest ",U(3,2,e.key)," "),g(3),V(" ",U(6,4,e.value)," ")}}let FP=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m){this.mainLoopService=e,this.storeService=n,this.inventoryService=r,this.homeService=o,this.followerService=a,this.characterService=s,this.battleService=c,this.activityService=l,this.achievementService=d,this.statisticsService=m}static#e=this.\u0275fac=function(n){return new(n||t)(y(ft),y(na),y(ie),y(pt),y(Tt),y(Oe),y(hi),y(ct),y(Ey),y(RP))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-statistics-panel"]],decls:241,vars:74,consts:[[1,"darkMode"],[1,"statisticsDiv"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Statistics"),h(),G(3,"hr"),u(4,"div",1)(5,"table")(6,"tr")(7,"td"),f(8," Game days per real second: "),h(),u(9,"td"),f(10),N(11,"number"),h()(),u(12,"tr")(13,"td"),f(14," Game years per real minute: "),h(),u(15,"td"),f(16),N(17,"number"),h()(),u(18,"tr")(19,"td"),f(20," Game years per real hour: "),h(),u(21,"td"),f(22),N(23,"number"),h()(),u(24,"tr")(25,"td"),f(26," Total days lived: "),h(),u(27,"td"),f(28),N(29,"bigNumber"),h()(),u(30,"tr")(31,"td"),f(32," Total lives lived: "),h(),u(33,"td"),f(34),h()(),u(35,"tr")(36,"td"),f(37," Total enemies killed: "),h(),u(38,"td"),f(39),h()(),u(40,"tr")(41,"td"),f(42," Enemies killed this life: "),h(),u(43,"td"),f(44),h()(),u(45,"tr")(46,"td"),f(47," Troubling monsters encountered: "),h(),u(48,"td"),f(49),h()(),u(50,"tr")(51,"td"),f(52," Manuals discovered: "),h(),u(53,"td"),f(54),h()(),u(55,"tr")(56,"td"),f(57," Inventory Capacity: "),h(),u(58,"td"),f(59),h()(),u(60,"tr")(61,"td"),f(62," Automatically sold items: "),h(),u(63,"td"),f(64),h()(),u(65,"tr")(66,"td"),f(67," Automatically used items: "),h(),u(68,"td"),f(69),h()(),u(70,"tr")(71,"td"),f(72," Automatically balanced items: "),h(),u(73,"td"),f(74),h()(),u(75,"tr")(76,"td"),f(77," Items used: "),h(),u(78,"td"),f(79),h()(),u(80,"tr")(81,"td"),f(82," Items sold: "),h(),u(83,"td"),f(84),h()(),u(85,"tr")(86,"td"),f(87," Potions used: "),h(),u(88,"td"),f(89),h()(),u(90,"tr")(91,"td"),f(92," Pills used: "),h(),u(93,"td"),f(94),h()(),u(95,"tr")(96,"td"),f(97," Gems sold: "),h(),u(98,"td"),f(99),h()(),u(100,"tr")(101,"td"),f(102," Items overflowed: "),h(),u(103,"td"),f(104),h()(),u(105,"tr")(106,"td"),f(107," Unlocked Achievements: "),h(),u(108,"td"),f(109),h()(),u(110,"tr")(111,"td"),f(112," Most land owned: "),h(),u(113,"td"),f(114),N(115,"bigNumber"),h()(),u(116,"tr")(117,"td"),f(118," Highest land price: "),h(),u(119,"td"),f(120),N(121,"bigNumber"),h()(),u(122,"tr")(123,"td"),f(124," Most fields owned: "),h(),u(125,"td"),f(126),N(127,"bigNumber"),h()(),u(128,"tr")(129,"td"),f(130," Highest average farm yield: "),h(),u(131,"td"),f(132),N(133,"number"),h()(),u(134,"tr")(135,"td"),f(136," Best home owned: "),h(),u(137,"td"),f(138),h()(),u(139,"tr")(140,"td"),f(141," Follower recruited: "),h(),u(142,"td"),f(143),h()(),u(144,"tr")(145,"td"),f(146," Followers recruited lately: "),h(),u(147,"td"),f(148),h()(),u(149,"tr")(150,"td"),f(151," Followers died: "),h(),u(152,"td"),f(153),h()(),u(154,"tr")(155,"td"),f(156," Followers dismissed: "),h(),u(157,"td"),f(158),h()(),u(159,"tr")(160,"td"),f(161," Highest follower level: "),h(),u(162,"td"),f(163),h()(),u(164,"tr")(165,"td"),f(166," Most money: "),h(),u(167,"td"),f(168),N(169,"bigNumber"),h()(),u(170,"tr")(171,"td"),f(172," Oldest age: "),h(),u(173,"td"),f(174),h()(),We(175,LZ,7,6,"tr",null,_t),N(177,"keyvalue"),u(178,"tr")(179,"td"),f(180," Highest health: "),h(),u(181,"td"),f(182),h()(),u(183,"tr")(184,"td"),f(185," Highest stamina: "),h(),u(186,"td"),f(187),h()(),u(188,"tr")(189,"td"),f(190," Highest mana: "),h(),u(191,"td"),f(192),h()(),u(193,"tr")(194,"td"),f(195," Highest damage dealt: "),h(),u(196,"td"),f(197),N(198,"bigNumber"),h()(),u(199,"tr")(200,"td"),f(201," Highest damage taken: "),h(),u(202,"td"),f(203),N(204,"bigNumber"),h()(),u(205,"tr")(206,"td"),f(207," Days spent exhausted "),h(),u(208,"td"),f(209),N(210,"bigNumber"),h()(),u(211,"tr")(212,"td"),f(213," Completed Apprenticeships "),h(),u(214,"td"),f(215),h()(),u(216,"tr")(217,"td"),f(218," Open apprenticeships: "),h(),u(219,"td"),f(220),h()(),u(221,"tr")(222,"td"),f(223," Days spend doing odd jobs: "),h(),u(224,"td"),f(225),h()(),u(226,"tr")(227,"td"),f(228," Days spent begging: "),h(),u(229,"td"),f(230),h()(),u(231,"tr")(232,"td"),f(233," Consecutive harvest days: "),h(),u(234,"td"),f(235),h()(),u(236,"tr")(237,"td"),f(238," Pieces of equipment created: "),h(),u(239,"td"),f(240),h()()()()()),2&n&&(g(10),V(" ",Pt(11,44,r.statisticsService.daysPerSecond,"1.0-2")," "),g(6),V(" ",Pt(17,47,60*r.statisticsService.daysPerSecond/365,"1.0-2")," "),g(6),V(" ",Pt(23,50,60*r.statisticsService.daysPerSecond*60/365,"1.0-2")," "),g(6),V(" ",U(29,53,r.mainLoopService.totalTicks)," "),g(6),V(" ",r.characterService.characterState.totalLives," "),g(5),V(" ",r.battleService.totalKills," "),g(5),V(" ",r.battleService.kills," "),g(5),V(" ",r.battleService.troubleKills," "),g(5),V(" ",r.storeService.manuals.length," "),g(5),V(" ",r.inventoryService.maxItems," "),g(5),V(" ",r.inventoryService.autoSellEntries.length," "),g(5),V(" ",r.inventoryService.autoUseEntries.length," "),g(5),V(" ",r.inventoryService.autoBalanceItems.length," "),g(5),V(" ",r.inventoryService.lifetimeUsedItems," "),g(5),V(" ",r.inventoryService.lifetimeSoldItems," "),g(5),V(" ",r.inventoryService.lifetimePotionsUsed," "),g(5),V(" ",r.inventoryService.lifetimePillsUsed," "),g(5),V(" ",r.inventoryService.lifetimeGemsSold," "),g(5),V(" ",r.inventoryService.thrownAwayItems," "),g(5),V(" ",r.achievementService.unlockedAchievements.length," "),g(5),V(" ",U(115,55,r.homeService.highestLand)," "),g(6),V(" ",U(121,57,r.homeService.highestLandPrice)," "),g(6),V(" ",U(127,59,r.homeService.mostFields)," "),g(6),V(" ",Pt(133,61,r.homeService.highestAverageYield,"1.0-2")," "),g(6),V(" ",r.homeService.homesList[r.homeService.bestHome].name," "),g(5),V(" ",r.followerService.totalRecruited," "),g(5),V(" ",r.followerService.followersRecruited," "),g(5),V(" ",r.followerService.totalDied," "),g(5),V(" ",r.followerService.totalDismissed," "),g(5),V(" ",r.followerService.highestLevel," "),g(5),V(" ",U(169,64,r.characterService.characterState.highestMoney)," "),g(6),V(" ",r.characterService.yearify(r.characterService.characterState.highestAge)," "),g(),Ke(U(177,66,r.characterService.characterState.highestAttributes)),g(7),V(" ",r.characterService.characterState.highestHealth," "),g(5),V(" ",r.characterService.characterState.highestStamina," "),g(5),V(" ",r.characterService.characterState.highestMana," "),g(5),V(" ",U(198,68,r.battleService.highestDamageDealt)," "),g(6),V(" ",U(204,70,r.battleService.highestDamageTaken)," "),g(6),V(" ",U(210,72,r.activityService.totalExhaustedDays)," "),g(6),V(" ",r.activityService.completedApprenticeships.length," "),g(5),V(" ",r.activityService.openApprenticeships," "),g(5),V(" ",r.activityService.oddJobDays," "),g(5),V(" ",r.activityService.beggingDays," "),g(5),V(" ",r.homeService.consecutiveHarvests," "),g(5),V(" ",r.inventoryService.equipmentCreated," "))},styles:["table[_ngcontent-%COMP%]{width:100%}.statisticsDiv[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto}td[_ngcontent-%COMP%]{width:45%}"]})}return t})();const BZ=t=>({darkMode:t}),HZ=t=>({highlighted:t}),Sn=(t,i,e,n,r,o,a)=>({"z-index":t,minWidth:i,width:e,maxWidth:n,minHeight:r,height:o,maxHeight:a});function VZ(t,i){if(1&t){const e=q();u(0,"mat-icon",30),D("click",function(){return T(e),E(S().impossibleTasksClicked())}),f(1," priority_high "),h()}}function UZ(t,i){if(1&t){const e=q();u(0,"span")(1,"mat-icon",31),D("click",function(){return T(e),E(S().ascensionStoreClicked())}),f(2," keyboard_double_arrow_up "),h()()}}function jZ(t,i){if(1&t){const e=q();u(0,"app-time-panel",32),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Time))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Time))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Time),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Time],e.gameStateService.panelSizes[e.panelIndex.Time].x+"px",e.gameStateService.panelSizes[e.panelIndex.Time].x+"px",e.gameStateService.panelSizes[e.panelIndex.Time].x+"px",e.gameStateService.panelSizes[e.panelIndex.Time].y+"px",e.gameStateService.panelSizes[e.panelIndex.Time].y+"px",e.gameStateService.panelSizes[e.panelIndex.Time].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Time])}}function zZ(t,i){if(1&t){const e=q();u(0,"app-followers-panel",33),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Followers))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Followers))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Followers),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Followers],e.gameStateService.panelSizes[e.panelIndex.Followers].x+"px",e.gameStateService.panelSizes[e.panelIndex.Followers].x+"px",e.gameStateService.panelSizes[e.panelIndex.Followers].x+"px",e.gameStateService.panelSizes[e.panelIndex.Followers].y+"px",e.gameStateService.panelSizes[e.panelIndex.Followers].y+"px",e.gameStateService.panelSizes[e.panelIndex.Followers].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Followers])}}function qZ(t,i){if(1&t){const e=q();u(0,"app-equipment-panel",34),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Equipment))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Equipment))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Equipment),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Equipment],e.gameStateService.panelSizes[e.panelIndex.Equipment].x+"px",e.gameStateService.panelSizes[e.panelIndex.Equipment].x+"px",e.gameStateService.panelSizes[e.panelIndex.Equipment].x+"px",e.gameStateService.panelSizes[e.panelIndex.Equipment].y+"px",e.gameStateService.panelSizes[e.panelIndex.Equipment].y+"px",e.gameStateService.panelSizes[e.panelIndex.Equipment].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Equipment])}}function $Z(t,i){if(1&t){const e=q();u(0,"app-home-panel",35),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Home))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Home))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Home),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Home],e.gameStateService.panelSizes[e.panelIndex.Home].x+"px",e.gameStateService.panelSizes[e.panelIndex.Home].x+"px",e.gameStateService.panelSizes[e.panelIndex.Home].x+"px",e.gameStateService.panelSizes[e.panelIndex.Home].y+"px",e.gameStateService.panelSizes[e.panelIndex.Home].y+"px",e.gameStateService.panelSizes[e.panelIndex.Home].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Home])}}function GZ(t,i){if(1&t){const e=q();u(0,"app-portal-panel",36),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Portal))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Portal))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Portal),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Portal],e.gameStateService.panelSizes[e.panelIndex.Portal].x+"px",e.gameStateService.panelSizes[e.panelIndex.Portal].x+"px",e.gameStateService.panelSizes[e.panelIndex.Portal].x+"px",e.gameStateService.panelSizes[e.panelIndex.Portal].y+"px",e.gameStateService.panelSizes[e.panelIndex.Portal].y+"px",e.gameStateService.panelSizes[e.panelIndex.Portal].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Portal])}}function YZ(t,i){if(1&t){const e=q();u(0,"app-pets-panel",37),D("cdkDragEnded",function(r){T(e);const o=S();return E(o.dragEnd(r,o.panelIndex.Pets))})("cdkDragStarted",function(r){T(e);const o=S();return E(o.dragStart(r,o.panelIndex.Pets))}),h()}if(2&t){const e=S();X("id",e.panelIndex.Pets),P("cdkDragDisabled",e.gameStateService.lockPanels)("ngStyle",Zi(4,Sn,e.gameStateService.panelZIndex[e.panelIndex.Pets],e.gameStateService.panelSizes[e.panelIndex.Pets].x+"px",e.gameStateService.panelSizes[e.panelIndex.Pets].x+"px",e.gameStateService.panelSizes[e.panelIndex.Pets].x+"px",e.gameStateService.panelSizes[e.panelIndex.Pets].y+"px",e.gameStateService.panelSizes[e.panelIndex.Pets].y+"px",e.gameStateService.panelSizes[e.panelIndex.Pets].y+"px"))("cdkDragFreeDragPosition",e.gameStateService.panelPositions[e.panelIndex.Pets])}}let WZ=(()=>{class t{transform(e){return Math.floor(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=si({name:"floor",type:t,pure:!0})}return t})(),ao=(()=>{class t{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=si({name:"camelToTitle",type:t,pure:!0})}return t})(),Vt=(()=>{class t{constructor(e){this.mainLoopService=e}transform(e){if(this.mainLoopService.scientificNotation)return e.toPrecision(3);{let n=e,r="";e<0&&(n=0-e);const o=["","k","M","B","T","q","Q","s"];if(n<100&&!Number.isInteger(n))r=n.toFixed(2)+"";else if(n<1e4)r=Math.round(n)+"";else if(n>=Math.pow(10,3*o.length))r=n.toPrecision(3);else{const a=Math.floor(Math.log10(n));r=Math.floor(n/Math.pow(10,a-a%3-2))/100+o[Math.floor(a/3)]}return e<0?"-"+r:r}}static#e=this.\u0275fac=function(n){return new(n||t)(y(ft,16))};static#t=this.\u0275pipe=si({name:"bigNumber",type:t,pure:!0})}return t})(),NP=(()=>{class t{handleKeyboardEvent(e){"Space"===e.code?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):"Enter"!==e.code&&"NumpadEnter"!==e.code||!this.mainLoopService.pause?!e.altKey&&!e.metaKey||"Digit0"!==e.code&&"Numpad0"!==e.code?!e.altKey&&!e.metaKey||"Digit1"!==e.code&&"Numpad1"!==e.code?!e.altKey&&!e.metaKey||"Digit2"!==e.code&&"Numpad2"!==e.code?!e.altKey&&!e.metaKey||"Digit3"!==e.code&&"Numpad3"!==e.code||!this.mainLoopService.unlockFastSpeed?!e.altKey&&!e.metaKey||"Digit4"!==e.code&&"Numpad4"!==e.code||!this.mainLoopService.unlockFasterSpeed?(e.altKey||e.metaKey)&&("Digit5"===e.code||"Numpad5"===e.code)&&this.mainLoopService.unlockFastestSpeed&&(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1):(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2):(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5):(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10):(this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=40):this.mainLoopService.pause=!0:(this.mainLoopService.tick(),e.preventDefault())}constructor(e,n,r,o,a,s,c,l,d,m,p,v){this.scroller=e,this.mainLoopService=n,this.gameStateService=r,this.followersService=o,this.statisticsService=a,this.storeService=s,this.characterService=c,this.impossibleTaskService=l,this.hellService=d,this.inventoryService=m,this.homeService=p,this.dialog=v,this.doingPanelDrag=!1,this.doingBodyDrag=!1,this.panelIndex=Qe,this.resizingPanel=-1,this.previousPoint={x:0,y:0},this.title="immortalityidle",this.applicationVersion=Tm.appVersion,this.activateSliders=!1}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start(),this.setPanelPositions()}dragStart(e,n){this.doingPanelDrag=!0;const r=this.gameStateService.panelZIndex[n];for(const o in this.panelIndex)isNaN(Number(o))||this.gameStateService.panelZIndex[o]>r&&(this.gameStateService.panelZIndex[o]--,this.gameStateService.panelZIndex[n]++);e.source.element.nativeElement.style.zIndex=this.gameStateService.panelZIndex[n]+""}dragEnd(e,n){this.gameStateService.panelPositions[n].x=e.source.getFreeDragPosition().x,this.gameStateService.panelPositions[n].y=e.source.getFreeDragPosition().y,this.gameStateService.savetoLocalStorage(),this.doingPanelDrag=!1}setPanelPositions(){for(const e in this.panelIndex)isNaN(Number(e))||(this.gameStateService.panelPositions[e]={x:this.gameStateService.panelPositions[e].x,y:this.gameStateService.panelPositions[e].y})}onBodyMouseMove(e){if(!this.doingPanelDrag&&!this.gameStateService.dragging){if(1!==e.buttons)return this.doingPanelDrag=!1,this.doingBodyDrag=!1,void(-1!==this.resizingPanel&&(this.resizingPanel=-1,this.gameStateService.savetoLocalStorage()));if(-1!==this.resizingPanel)return this.gameStateService.panelSizes[this.resizingPanel].x=this.gameStateService.panelSizes[this.resizingPanel].x+e.movementX,void(this.gameStateService.panelSizes[this.resizingPanel].y=this.gameStateService.panelSizes[this.resizingPanel].y+e.movementY);if(e.target instanceof Element&&e.target.classList.contains("panelResizeHandle")){if(this.gameStateService.lockPanels)return;-1===this.resizingPanel&&e.target.parentElement&&(this.resizingPanel=parseInt(e.target.parentElement.id))}if(this.doingBodyDrag||e.target instanceof Element&&e.target.classList.contains("bodyContainer")){const n=this.scroller.getScrollPosition()[0]-e.movementX,r=this.scroller.getScrollPosition()[1]-e.movementY;this.scroller.scrollToPosition([n,r]),this.doingBodyDrag=!0}}}onBodyTouchStart(e){this.previousPoint.x=e.touches[0].pageX,this.previousPoint.y=e.touches[0].pageY}onBodyTouchEnd(){-1!==this.resizingPanel&&(this.resizingPanel=-1,this.gameStateService.savetoLocalStorage())}onBodyTouchMove(e){if(!this.gameStateService.lockPanels){if(this.doingPanelDrag)return void e.preventDefault();if(-1!==this.resizingPanel){const r=e.touches[0].pageY-this.previousPoint.y;return this.gameStateService.panelSizes[this.resizingPanel].x=this.gameStateService.panelSizes[this.resizingPanel].x+(e.touches[0].pageX-this.previousPoint.x),this.gameStateService.panelSizes[this.resizingPanel].y=this.gameStateService.panelSizes[this.resizingPanel].y+r,this.previousPoint.x=e.touches[0].pageX,this.previousPoint.y=e.touches[0].pageY,void e.preventDefault()}e.target instanceof Element&&e.target.classList.contains("panelResizeHandle")&&-1===this.resizingPanel&&e.target.parentElement&&(this.resizingPanel=parseInt(e.target.parentElement.id),e.preventDefault())}}storeClicked(){this.dialog.open(jI,{width:"700px",data:{someField:"foo"},autoFocus:!1})}storeOptionsClicked(){this.dialog.open(_K,{width:"700px",data:{someField:"foo"},autoFocus:!1})}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(cP,{width:"700px",data:{someField:"foo"},autoFocus:!1})}tutorialClicked(){this.dialog.open(PZ,{width:"700px",data:{someField:"foo"},autoFocus:!1})}statisticsClicked(){this.dialog.open(FP,{width:"700px",data:{someField:"foo"},autoFocus:!1})}changelogClicked(){this.dialog.open(OZ,{width:"700px",data:{someField:"foo"},autoFocus:!1})}achievementsClicked(){this.dialog.open(RK,{width:"750px",data:{someField:"foo"},autoFocus:!1})}impossibleTasksClicked(){this.dialog.open(AZ,{width:"500px",data:{someField:"foo"},autoFocus:!1})}lockPanelsToggle(){this.gameStateService.lockPanels=!this.gameStateService.lockPanels}static#e=this.\u0275fac=function(n){return new(n||t)(y(DM),y(ft),y(bt),y(Tt),y(RP),y(na),y(Oe),y(Er),y(Pe),y(ie),y(pt),y(ri))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-root"]],hostBindings:function(n,r){1&n&&D("keydown",function(a){return r.handleKeyboardEvent(a)},0,jw)},decls:44,vars:90,consts:[["bodyContainer",""],[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["matTooltip","Confused? Click here.","aria-label","Tutorial","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Statistics!",1,"iconButton",3,"click"],["matTooltip","A store that sells special manuals for aspiring immortals.","aria-label","Store","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["matTooltip","Options. Lots of them.","aria-label","Options","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Achievements!","aria-label","Achievements","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Impossible Tasks","aria-label","Impossible Tasks","aria-hidden","false",1,"iconButton"],[1,"discordLink"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","matTooltip","Have questions? Try the Immortality Idle Discord."],["type","checkbox","id","lockPanels",3,"change","checked"],["for","lockPanels"],[3,"click","disabled"],[1,"bodyContainer",3,"mousemove","touchmove","touchstart","touchend"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"timePanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"attributesPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"followersPanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"healthPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"activityPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"battlePanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"equipmentPanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"homePanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"inventoryPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"logPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"portalPanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"petsPanel","panel",3,"cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["matTooltip","Impossible Tasks","aria-label","Impossible Tasks","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Ascension Techniques.","aria-label","Ascension","aria-hidden","false",1,"iconButton",3,"click"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"timePanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"followersPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"equipmentPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"homePanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"portalPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"],["cdkDrag","","cdkDragBoundary",".bodyContainer",1,"petsPanel","panel",3,"cdkDragEnded","cdkDragStarted","cdkDragDisabled","id","ngStyle","cdkDragFreeDragPosition"]],template:function(n,r){if(1&n){const o=q();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),f(4),u(5,"span",5),D("click",function(){return T(o),E(r.changelogClicked())}),f(6),h()(),u(7,"mat-icon",6),D("click",function(){return T(o),E(r.tutorialClicked())}),f(8," help "),h(),u(9,"mat-icon",7),D("click",function(){return T(o),E(r.statisticsClicked())}),f(10," format_list_numbered_rtl "),h(),u(11,"span")(12,"mat-icon",8),D("click",function(){return T(o),E(r.storeClicked())}),f(13," local_library "),h(),u(14,"mat-icon",9),D("click",function(){return T(o),E(r.storeOptionsClicked())}),f(15," settings "),h()(),u(16,"mat-icon",10),D("click",function(){return T(o),E(r.achievementsClicked())}),f(17," military_tech "),h(),H(18,VZ,2,0,"mat-icon",11)(19,UZ,3,0,"span"),u(20,"span",12)(21,"a",13),f(22,"Discord"),h()(),u(23,"span")(24,"input",14),D("change",function(){return T(o),E(r.lockPanelsToggle())}),h(),u(25,"label",15),f(26,"Lock panels in place"),h()(),u(27,"span")(28,"button",16),D("click",function(){return T(o),E(r.gameStateService.resetPanels())}),f(29,"Reset Panels to Default Locations"),h()()(),u(30,"div",17,0),D("mousemove",function(s){return T(o),E(r.onBodyMouseMove(s))})("touchmove",function(s){return T(o),E(r.onBodyTouchMove(s))})("touchstart",function(s){return T(o),E(r.onBodyTouchStart(s))})("touchend",function(){return T(o),E(r.onBodyTouchEnd())}),H(32,jZ,1,12,"app-time-panel",18),u(33,"app-attributes-panel",19),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Attributes))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Attributes))}),h(),H(34,zZ,1,12,"app-followers-panel",20),u(35,"app-health-panel",21),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Health))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Health))}),h(),u(36,"app-activity-panel",22),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Activity))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Activity))}),h(),u(37,"app-battle-panel",23),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Battle))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Battle))}),h(),H(38,qZ,1,12,"app-equipment-panel",24)(39,$Z,1,12,"app-home-panel",25),u(40,"app-inventory-panel",26),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Inventory))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Inventory))}),h(),u(41,"app-log-panel",27),D("cdkDragEnded",function(s){return T(o),E(r.dragEnd(s,r.panelIndex.Log))})("cdkDragStarted",function(s){return T(o),E(r.dragStart(s,r.panelIndex.Log))}),h(),H(42,GZ,1,12,"app-portal-panel",28)(43,YZ,1,12,"app-pets-panel",29),h()()()}2&n&&(P("ngClass",De(38,BZ,r.gameStateService.isDarkMode)),g(4),V(" Immortality Idle - ",r.characterService.characterState.god?"The Divine Cultivator":r.hellService.inHell?"Escape from The Eighteen Hells":r.characterService.characterState.immortal?"You are Immortal!":"Can you become an immortal?"," "),g(2),ke(r.gameStateService.isExperimental?"Experimental":"v"+r.applicationVersion),g(6),P("ngClass",De(40,HZ,r.storeService.isManualAvailable())),g(6),I(r.impossibleTaskService.impossibleTasksUnlocked?18:-1),g(),I(r.characterService.characterState.ascensionUnlocked?19:-1),g(5),P("checked",r.gameStateService.lockPanels),g(4),P("disabled",r.gameStateService.lockPanels),g(4),I(r.mainLoopService.timeUnlocked?32:-1),g(),X("id",r.panelIndex.Attributes),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(42,Sn,r.gameStateService.panelZIndex[r.panelIndex.Attributes],r.gameStateService.panelSizes[r.panelIndex.Attributes].x+"px",r.gameStateService.panelSizes[r.panelIndex.Attributes].x+"px",r.gameStateService.panelSizes[r.panelIndex.Attributes].x+"px",r.gameStateService.panelSizes[r.panelIndex.Attributes].y+"px",r.gameStateService.panelSizes[r.panelIndex.Attributes].y+"px",r.gameStateService.panelSizes[r.panelIndex.Attributes].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Attributes]),g(),I(r.followersService.followersUnlocked?34:-1),g(),X("id",r.panelIndex.Health),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(50,Sn,r.gameStateService.panelZIndex[r.panelIndex.Health],r.gameStateService.panelSizes[r.panelIndex.Health].x+"px",r.gameStateService.panelSizes[r.panelIndex.Health].x+"px",r.gameStateService.panelSizes[r.panelIndex.Health].x+"px",r.gameStateService.panelSizes[r.panelIndex.Health].y+"px",r.gameStateService.panelSizes[r.panelIndex.Health].y+"px",r.gameStateService.panelSizes[r.panelIndex.Health].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Health]),g(),X("id",r.panelIndex.Activity),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(58,Sn,r.gameStateService.panelZIndex[r.panelIndex.Activity],r.gameStateService.panelSizes[r.panelIndex.Activity].x+"px",r.gameStateService.panelSizes[r.panelIndex.Activity].x+"px",r.gameStateService.panelSizes[r.panelIndex.Activity].x+"px",r.gameStateService.panelSizes[r.panelIndex.Activity].y+"px",r.gameStateService.panelSizes[r.panelIndex.Activity].y+"px",r.gameStateService.panelSizes[r.panelIndex.Activity].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Activity]),g(),X("id",r.panelIndex.Battle),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(66,Sn,r.gameStateService.panelZIndex[r.panelIndex.Battle],r.gameStateService.panelSizes[r.panelIndex.Battle].x+"px",r.gameStateService.panelSizes[r.panelIndex.Battle].x+"px",r.gameStateService.panelSizes[r.panelIndex.Battle].x+"px",r.gameStateService.panelSizes[r.panelIndex.Battle].y+"px",r.gameStateService.panelSizes[r.panelIndex.Battle].y+"px",r.gameStateService.panelSizes[r.panelIndex.Battle].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Battle]),g(),I(r.inventoryService.equipmentUnlocked?38:-1),g(),I(r.homeService.homeUnlocked?39:-1),g(),X("id",r.panelIndex.Inventory),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(74,Sn,r.gameStateService.panelZIndex[r.panelIndex.Inventory],r.gameStateService.panelSizes[r.panelIndex.Inventory].x+"px",r.gameStateService.panelSizes[r.panelIndex.Inventory].x+"px",r.gameStateService.panelSizes[r.panelIndex.Inventory].x+"px",r.gameStateService.panelSizes[r.panelIndex.Inventory].y+"px",r.gameStateService.panelSizes[r.panelIndex.Inventory].y+"px",r.gameStateService.panelSizes[r.panelIndex.Inventory].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Inventory]),g(),X("id",r.panelIndex.Log),P("cdkDragDisabled",r.gameStateService.lockPanels)("ngStyle",Zi(82,Sn,r.gameStateService.panelZIndex[r.panelIndex.Log],r.gameStateService.panelSizes[r.panelIndex.Log].x+"px",r.gameStateService.panelSizes[r.panelIndex.Log].x+"px",r.gameStateService.panelSizes[r.panelIndex.Log].x+"px",r.gameStateService.panelSizes[r.panelIndex.Log].y+"px",r.gameStateService.panelSizes[r.panelIndex.Log].y+"px",r.gameStateService.panelSizes[r.panelIndex.Log].y+"px"))("cdkDragFreeDragPosition",r.gameStateService.panelPositions[r.panelIndex.Log]),g(),I(r.hellService.inHell?42:-1),g(),I(r.followersService.petsEnabled?43:-1))},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();function LP(t){return new A(3e3,!1)}function so(t){switch(t.length){case 0:return new Yl;case 1:return t[0];default:return new SI(t)}}function BP(t,i,e=new Map,n=new Map){const r=[],o=[];let a=-1,s=null;if(i.forEach(c=>{const l=c.get("offset"),d=l==a,m=d&&s||new Map;c.forEach((p,v)=>{let b=v,_=p;if("offset"!==v)switch(b=t.normalizePropertyName(b,r),_){case"!":_=e.get(v);break;case Mr:_=n.get(v);break;default:_=t.normalizeStyleValue(v,b,_,r)}m.set(b,_)}),d||o.push(m),s=m,a=l}),r.length)throw function vX(t){return new A(3502,!1)}();return o}function m_(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&p_(e,"start",t)));break;case"done":t.onDone(()=>n(e&&p_(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&p_(e,"destroy",t)))}}function p_(t,i,e){const o=f_(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),a=t._data;return null!=a&&(o._data=a),o}function f_(t,i,e,n,r="",o=0,a){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!a}}function nn(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function HP(t){const i=t.indexOf(":");return[t.substring(1,i),t.slice(i+1)]}const EX=typeof document>"u"?null:document.documentElement;function g_(t){const i=t.parentNode||t.host||null;return i===EX?null:i}let ca=null,VP=!1;function UP(t,i){for(;i;){if(i===t)return!0;i=g_(i)}return!1}function jP(t,i,e){if(e)return Array.from(t.querySelectorAll(i));const n=t.querySelector(i);return n?[n]:[]}let v_=(()=>{class t{validateStyleProperty(e){return function AX(t){ca||(ca=function PX(){return typeof document<"u"?document.body:null}()||{},VP=!!ca.style&&"WebkitAppearance"in ca.style);let i=!0;return ca.style&&!function IX(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in ca.style,!i&&VP&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ca.style)),i}(e)}containsElement(e,n){return UP(e,n)}getParentElement(e){return g_(e)}query(e,n,r){return jP(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,a,s=[],c){return new Yl(r,o)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})();class b_{static#e=this.NOOP=new v_}class y_{}const RX=1e3,__="ng-enter",Gm="ng-leave",Ym="ng-trigger",Wm=".ng-trigger",qP="ng-animating",S_=".ng-animating";function Or(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:w_(parseFloat(i[1]),i[2])}function w_(t,i){return"s"===i?t*RX:t}function Km(t,i,e){return t.hasOwnProperty("duration")?t:function NX(t,i,e){let r,o=0,a="";if("string"==typeof t){const s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return i.push(LP()),{duration:0,delay:0,easing:""};r=w_(parseFloat(s[1]),s[2]);const c=s[3];null!=c&&(o=w_(parseFloat(c),s[4]));const l=s[5];l&&(a=l)}else r=t;if(!e){let s=!1,c=i.length;r<0&&(i.push(function KZ(){return new A(3100,!1)}()),s=!0),o<0&&(i.push(function ZZ(){return new A(3101,!1)}()),s=!0),s&&i.splice(c,0,LP())}return{duration:r,delay:o,easing:a}}(t,i,e)}function dr(t,i,e){i.forEach((n,r)=>{const o=k_(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n})}function la(t,i){i.forEach((e,n)=>{const r=k_(n);t.style[r]=""})}function nd(t){return Array.isArray(t)?1==t.length?t[0]:function WY(t,i=null){return{type:ue.Sequence,steps:t,options:i}}(t):t}const C_=new RegExp("{{\\s*(.+?)\\s*}}","g");function GP(t){let i=[];if("string"==typeof t){let e;for(;e=C_.exec(t);)i.push(e[1]);C_.lastIndex=0}return i}function rd(t,i,e){const n=`${t}`,r=n.replace(C_,(o,a)=>{let s=i[a];return null==s&&(e.push(function QZ(t){return new A(3003,!1)}()),s=""),s.toString()});return r==n?t:r}const HX=/-+([a-z0-9])/g;function k_(t){return t.replace(HX,(...i)=>i[1].toUpperCase())}function rn(t,i,e){switch(i.type){case ue.Trigger:return t.visitTrigger(i,e);case ue.State:return t.visitState(i,e);case ue.Transition:return t.visitTransition(i,e);case ue.Sequence:return t.visitSequence(i,e);case ue.Group:return t.visitGroup(i,e);case ue.Animate:return t.visitAnimate(i,e);case ue.Keyframes:return t.visitKeyframes(i,e);case ue.Style:return t.visitStyle(i,e);case ue.Reference:return t.visitReference(i,e);case ue.AnimateChild:return t.visitAnimateChild(i,e);case ue.AnimateRef:return t.visitAnimateRef(i,e);case ue.Query:return t.visitQuery(i,e);case ue.Stagger:return t.visitStagger(i,e);default:throw function JZ(t){return new A(3004,!1)}()}}function D_(t,i){return window.getComputedStyle(t)[i]}const jX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YP extends y_{normalizePropertyName(i,e){return k_(i)}normalizeStyleValue(i,e,n,r){let o="";const a=n.toString().trim();if(jX.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function eX(t,i){return new A(3005,!1)}())}return a+o}}const Zm="*";const Xm=new Set(["true","1"]),Qm=new Set(["false","0"]);function WP(t,i){const e=Xm.has(t)||Qm.has(t),n=Xm.has(i)||Qm.has(i);return(r,o)=>{let a=t==Zm||t==r,s=i==Zm||i==o;return!a&&e&&"boolean"==typeof r&&(a=r?Xm.has(t):Qm.has(t)),!s&&n&&"boolean"==typeof o&&(s=o?Xm.has(i):Qm.has(i)),a&&s}}const GX=new RegExp("s*:selfs*,?","g");function x_(t,i,e,n){return new YX(t).build(i,e,n)}class YX{constructor(i){this._driver=i}build(i,e,n){const r=new ZX(e);return this._resetContextStyleTimingState(r),rn(this,nd(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==i.name.charAt(0)&&e.errors.push(function tX(){return new A(3006,!1)}()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==ue.State){const c=s,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(s.type==ue.Transition){const c=this.visitTransition(s,e);n+=c.queryCount,r+=c.depCount,a.push(c)}else e.errors.push(function iX(){return new A(3007,!1)}())}),{type:ue.Trigger,name:i.name,states:o,transitions:a,queryCount:n,depCount:r,options:null}}visitState(i,e){const n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const o=new Set,a=r||{};n.styles.forEach(s=>{s instanceof Map&&s.forEach(c=>{GP(c).forEach(l=>{a.hasOwnProperty(l)||o.add(l)})})}),o.size&&e.errors.push(function nX(t,i){return new A(3008,!1)}(0,o.values()))}return{type:ue.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const n=rn(this,nd(i.animation),e),r=function zX(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function qX(t,i,e){if(":"==t[0]){const c=function $X(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(function mX(t){return new A(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof c)return void i.push(c);t=c}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function hX(t){return new A(3015,!1)}()),i;const r=n[1],o=n[2],a=n[3];i.push(WP(r,a)),"<"==o[0]&&(r!=Zm||a!=Zm)&&i.push(WP(a,r))}(n,e,i)):e.push(t),e}(i.expr,e.errors);return{type:ue.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:da(i.options)}}visitSequence(i,e){return{type:ue.Sequence,steps:i.steps.map(n=>rn(this,n,e)),options:da(i.options)}}visitGroup(i,e){const n=e.currentTime;let r=0;const o=i.steps.map(a=>{e.currentTime=n;const s=rn(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:ue.Group,steps:o,options:da(i.options)}}visitAnimate(i,e){const n=function QX(t,i){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return M_(Km(t,i).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=M_(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Km(e,i);return M_(r.duration,r.delay,r.easing)}(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:St({});if(o.type==ue.Keyframes)r=this.visitKeyframes(o,e);else{let a=i.styles,s=!1;if(!a){s=!0;const l={};n.easing&&(l.easing=n.easing),a=St(l)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(a,e);c.isEmptyStep=s,r=c}return e.currentAnimateTimings=null,{type:ue.Animate,timings:n,style:r,options:null}}visitStyle(i,e){const n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of r)"string"==typeof s?s===Mr?n.push(s):e.errors.push(new A(3002,!1)):n.push(new Map(Object.entries(s)));let o=!1,a=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let c of s.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:ue.Style,styles:n,easing:a,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let m=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function oX(t,i,e,n,r){return new A(3010,!1)}()),m=!1),o=d.startTime),m&&l.set(c,{startTime:o,endTime:r}),e.options&&function BX(t,i,e){const n=i.params||{},r=GP(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function XZ(t){return new A(3001,!1)}())})}(s,e.options,e.errors)})})}visitKeyframes(i,e){const n={type:ue.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function aX(){return new A(3011,!1)}()),n;let o=0;const a=[];let s=!1,c=!1,l=0;const d=i.steps.map(x=>{const M=this._makeStyleAst(x,e);let L=null!=M.offset?M.offset:function XX(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}(M.styles),j=0;return null!=L&&(o++,j=M.offset=L),c=c||j<0||j>1,s=s||j<l,l=j,a.push(j),M});c&&e.errors.push(function sX(){return new A(3012,!1)}()),s&&e.errors.push(function cX(){return new A(3200,!1)}());const m=i.steps.length;let p=0;o>0&&o<m?e.errors.push(function lX(){return new A(3202,!1)}()):0==o&&(p=1/(m-1));const v=m-1,b=e.currentTime,_=e.currentAnimateTimings,k=_.duration;return d.forEach((x,M)=>{const L=p>0?M==v?1:p*M:a[M],j=L*k;e.currentTime=b+_.delay+j,_.duration=j,this._validateStyleAst(x,e),x.offset=L,n.styles.push(x)}),n}visitReference(i,e){return{type:ue.Reference,animation:rn(this,nd(i.animation),e),options:da(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:ue.AnimateChild,options:da(i.options)}}visitAnimateRef(i,e){return{type:ue.AnimateRef,animation:this.visitReference(i.animation,e),options:da(i.options)}}visitQuery(i,e){const n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;const[o,a]=function WX(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(GX,"")),t=t.replace(/@\*/g,Wm).replace(/@\w+/g,e=>Wm+"-"+e.slice(1)).replace(/:animating/g,S_),[t,i]}(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,nn(e.collectedStyles,e.currentQuerySelector,new Map);const s=rn(this,nd(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:ue.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:da(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(function dX(){return new A(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:Km(i.timings,e.errors,!0);return{type:ue.Stagger,animation:rn(this,nd(i.animation),e),timings:n,options:null}}}class ZX{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function da(t){return t?(t={...t}).params&&(t.params=function KX(t){return t?{...t}:null}(t.params)):t={},t}function M_(t,i,e){return{duration:t,delay:i,easing:e}}function T_(t,i,e,n,r,o,a=null,s=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}class Jm{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const tQ=new RegExp(":enter","g"),nQ=new RegExp(":leave","g");function E_(t,i,e,n,r,o=new Map,a=new Map,s,c,l=[]){return(new rQ).buildKeyframes(t,i,e,n,r,o,a,s,c,l)}class rQ{buildKeyframes(i,e,n,r,o,a,s,c,l,d=[]){l=l||new Jm;const m=new I_(i,e,l,r,o,d,[]);m.options=c;const p=c.delay?Or(c.delay):0;m.currentTimeline.delayNextStep(p),m.currentTimeline.setStyles([a],null,m.errors,c),rn(this,n,m);const v=m.timelines.filter(b=>b.containsAnimation());if(v.length&&s.size){let b;for(let _=v.length-1;_>=0;_--){const k=v[_];if(k.element===e){b=k;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([s],null,m.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[T_(e,[],[],[],0,p,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){const n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(const r of i){const o=r?.delay;if(o){const a="number"==typeof o?o:Or(rd(o,r?.params??{},e.errors));n.delayNextStep(a)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime;const a=null!=n.duration?Or(n.duration):null,s=null!=n.delay?Or(n.delay):null;return 0!==a&&i.forEach(c=>{const l=e.appendInstructionToTimeline(c,a,s);o=Math.max(o,l.duration+l.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),rn(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const n=e.subContextCount;let r=e;const o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==ue.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ep);const a=Or(o.delay);r.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>rn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const n=[];let r=e.currentTimeline.currentTime;const o=i.options&&i.options.delay?Or(i.options.delay):0;i.steps.forEach(a=>{const s=e.createSubContext(i.options);o&&s.delayNextStep(o),rn(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const n=i.strValue;return Km(e.params?rd(n,e.params,e.errors):n,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=i.style;o.type==ue.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,i.styles.forEach(c=>{s.forwardTime((c.offset||0)*o),s.setStyles(c.styles,c.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){const n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?Or(r.delay):0;o&&(e.previousNode.type===ue.Style||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ep);let a=n;const s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let c=null;s.forEach((l,d)=>{e.currentQueryIndex=d;const m=e.createSubContext(i.options,l);o&&m.delayNextStep(o),l===e.element&&(c=m.currentTimeline),rn(this,i.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const n=e.parentContext,r=e.currentTimeline,o=i.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1);let c=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=s-c;break;case"full":c=n.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const m=d.currentTime;rn(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-m+(r.startTime-n.currentTimeline.startTime)}}const ep={};class I_{constructor(i,e,n,r,o,a,s,c){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ep,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new tp(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=Or(n.duration)),null!=n.delay&&(r.delay=Or(n.delay));const o=n.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=rd(o[s],a,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){const r=e||this.element,o=new I_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=ep,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){const r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new oQ(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,a){let s=[];if(r&&s.push(this.element),i.length>0){i=(i=i.replace(tQ,"."+this._enterClassName)).replace(nQ,"."+this._leaveClassName);let l=this._driver.query(this.element,i,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),s.push(...l)}return!o&&0==s.length&&a.push(function uX(t){return new A(3014,!1)}()),s}}class tp{constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new tp(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Mr),this._currentKeyframe.set(e,Mr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function aQ(t,i){const e=new Map;let n;return t.forEach(r=>{if("*"===r){n??=i.keys();for(let o of n)e.set(o,Mr)}else for(let[o,a]of r)e.set(o,a)}),e}(i,this._globalTimelineStyles);for(let[s,c]of a){const l=rd(c,o,n);this._pendingStyles.set(s,l),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Mr),this._updateStyle(s,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,c)=>{const l=new Map([...this._backFill,...s]);l.forEach((d,m)=>{"!"===d?i.add(m):d===Mr&&e.add(m)}),n||l.set("offset",c/this.duration),r.push(l)});const o=[...i.values()],a=[...e.values()];if(n){const s=r[0],c=new Map(s);s.set("offset",0),c.set("offset",1),r=[s,c]}return T_(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class oQ extends tp{constructor(i,e,n,r,o,a,s=!1){super(i,e,a.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=n+e,s=e/a,c=new Map(i[0]);c.set("offset",0),o.push(c);const l=new Map(i[0]);l.set("offset",XP(s)),o.push(l);const d=i.length-1;for(let m=1;m<=d;m++){let p=new Map(i[m]);const v=p.get("offset");p.set("offset",XP((e+v*n)/a)),o.push(p)}n=a,e=0,r="",i=o}return T_(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function XP(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}function QP(t,i,e,n,r,o,a,s,c,l,d,m,p){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:m,errors:p}}const A_={};class JP{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return function sQ(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,a,s,c,l,d){const m=[],p=this.ast.options&&this.ast.options.params||A_,b=this.buildStyles(n,s&&s.params||A_,m),_=c&&c.params||A_,k=this.buildStyles(r,_,m),x=new Set,M=new Map,L=new Map,j="void"===r,J={params:eO(_,p),delay:this.ast.options?.delay},pe=d?[]:E_(i,e,this.ast.animation,o,a,b,k,J,l,m);let Re=0;return pe.forEach(Ct=>{Re=Math.max(Ct.duration+Ct.delay,Re)}),m.length?QP(e,this._triggerName,n,r,j,b,k,[],[],M,L,Re,m):(pe.forEach(Ct=>{const ur=Ct.element,co=nn(M,ur,new Set);Ct.preStyleProps.forEach(ua=>co.add(ua));const NO=nn(L,ur,new Set);Ct.postStyleProps.forEach(ua=>NO.add(ua)),ur!==e&&x.add(ur)}),QP(e,this._triggerName,n,r,j,b,k,pe,[...x.values()],M,L,Re))}}function eO(t,i){const e={...i};return Object.entries(t).forEach(([n,r])=>{null!=r&&(e[n]=r)}),e}class cQ{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){const n=new Map,r=eO(i,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=rd(a,r,e));const c=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,c,a,e),n.set(s,a)})}),n}}class dQ{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new cQ(r.style,r.options&&r.options.params||{},n))}),tO(this.states,"true","1"),tO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new JP(i,r,this.states))}),this.fallbackTransition=function uQ(t,i,e){return new JP(t,{type:ue.Transition,animation:{type:ue.Sequence,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(a=>a.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}}function tO(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}const hQ=new Jm;class mQ{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){const n=[],o=x_(this._driver,e,n,[]);if(n.length)throw function bX(t){return new A(3503,!1)}();this._animations.set(i,o)}_buildPlayer(i,e,n){const r=i.element,o=BP(this._normalizer,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){const r=[],o=this._animations.get(i);let a;const s=new Map;if(o?(a=E_(this._driver,e,o,__,Gm,new Map,new Map,n,hQ,r),a.forEach(d=>{const m=nn(s,d.element,new Map);d.postStyleProps.forEach(p=>m.set(p,null))})):(r.push(function yX(){return new A(3300,!1)}()),a=[]),r.length)throw function _X(t){return new A(3504,!1)}();s.forEach((d,m)=>{d.forEach((p,v)=>{d.set(v,this._driver.computeStyle(m,v,Mr))})});const l=so(a.map(d=>{const m=s.get(d.element);return this._buildPlayer(d,new Map,m)}));return this._playersById.set(i,l),l.onDestroy(()=>this.destroy(i)),this.players.push(l),l}destroy(i){const e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){const e=this._playersById.get(i);if(!e)throw function SX(t){return new A(3301,!1)}();return e}listen(i,e,n,r){const o=f_(e,"","","");return m_(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,e,r[0]||{});const o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const iO="ng-animate-queued",P_="ng-animate-disabled",bQ=[],nO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Un="__ng_removed";class O_{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;const n=i&&i.hasOwnProperty("value");if(this.value=function CQ(t){return t??null}(n?i.value:i),n){const{value:o,...a}=i;this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const e=i.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const od="void",R_=new O_(od);class _Q{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,wn(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw function wX(t,i){return new A(3302,!1)}();if(null==n||0==n.length)throw function CX(t){return new A(3303,!1)}();if(!function kQ(t){return"start"==t||"done"==t}(n))throw function kX(t,i){return new A(3400,!1)}();const o=nn(this._elementListeners,i,[]),a={name:e,phase:n,callback:r};o.push(a);const s=nn(this._engine.statesByElement,i,new Map);return s.has(e)||(wn(i,Ym),wn(i,Ym+"-"+e),s.set(e,R_)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(a);c>=0&&o.splice(c,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return!this._triggers.has(i)&&(this._triggers.set(i,e),!0)}_getTrigger(i){const e=this._triggers.get(i);if(!e)throw function DX(t){return new A(3401,!1)}();return e}trigger(i,e,n,r=!0){const o=this._getTrigger(e),a=new F_(this.id,e,i);let s=this._engine.statesByElement.get(i);s||(wn(i,Ym),wn(i,Ym+"-"+e),this._engine.statesByElement.set(i,s=new Map));let c=s.get(e);const l=new O_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s.set(e,l),c||(c=R_),l.value!==od&&c.value===l.value){if(!function MQ(t,i){const e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}(c.params,l.params)){const _=[],k=o.matchStyles(c.value,c.params,_),x=o.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{la(i,k),dr(i,x)})}return}const p=nn(this._engine.playersByElement,i,[]);p.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let v=o.matchTransition(c.value,l.value,i,l.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:v,fromState:c,toState:l,player:a,isFallbackTransition:b}),b||(wn(i,iO),a.onStart(()=>{Ks(i,iO)})),a.onDone(()=>{let _=this.players.indexOf(a);_>=0&&this.players.splice(_,1);const k=this._engine.playersByElement.get(i);if(k){let x=k.indexOf(a);x>=0&&k.splice(x,1)}}),this.players.push(a),p.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const n=this._engine.driver.query(i,Wm,!0);n.forEach(r=>{if(r[Un])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){const o=this._engine.statesByElement.get(i),a=new Map;if(o){const s=[];if(o.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){const d=this.trigger(i,l,od,r);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),n&&so(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const c=this._triggers.get(a).fallbackTransition,l=n.get(a)||R_,d=new O_(od),m=new F_(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:c,fromState:l,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(i,e){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let a=i;for(;a=a.parentNode;)if(n.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{const o=i[Un];(!o||o===nO)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){wn(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==n.triggerName){const c=f_(o,n.triggerName,n.fromState.value,n.toState.value);c._data=i,m_(n.player,s.phase,c,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class SQ{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){const n=new _Q(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){const c=r.get(s);if(c){const l=n.indexOf(c);n.splice(l+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(i,e,n,r){if(ip(e)){const o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!ip(e))return;const o=e[Un];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){const a=this._fetchNamespace(i);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),wn(i,P_)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ks(i,P_))}removeNode(i,e,n){if(ip(e)){const r=i?this._fetchNamespace(i):null;r?r.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[Un]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return ip(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,Wm,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,S_,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return so(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[Un];if(e&&e.setForRemoval){if(i[Un]=nO,e.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(P_)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?so(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function xX(t){return new A(3402,!1)}()}_flushAnimations(i,e){const n=new Jm,r=[],o=new Map,a=[],s=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Z=>{d.add(Z);const re=this.driver.query(Z,".ng-animate-queued",!0);for(let ce=0;ce<re.length;ce++)d.add(re[ce])});const m=this.bodyNode,p=Array.from(this.statesByElement.keys()),v=aO(p,this.collectedEnterElements),b=new Map;let _=0;v.forEach((Z,re)=>{const ce=__+_++;b.set(re,ce),Z.forEach(Fe=>wn(Fe,ce))});const k=[],x=new Set,M=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){const re=this.collectedLeaveElements[Z],ce=re[Un];ce&&ce.setForRemoval&&(k.push(re),x.add(re),ce.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Fe=>x.add(Fe)):M.add(re))}const L=new Map,j=aO(p,Array.from(x));j.forEach((Z,re)=>{const ce=Gm+_++;L.set(re,ce),Z.forEach(Fe=>wn(Fe,ce))}),i.push(()=>{v.forEach((Z,re)=>{const ce=b.get(re);Z.forEach(Fe=>Ks(Fe,ce))}),j.forEach((Z,re)=>{const ce=L.get(re);Z.forEach(Fe=>Ks(Fe,ce))}),k.forEach(Z=>{this.processLeaveNode(Z)})});const J=[],pe=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(e).forEach(ce=>{const Fe=ce.player,ai=ce.element;if(J.push(Fe),this.collectedEnterElements.length){const yi=ai[Un];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(ce.triggerName)){const ha=yi.previousTriggersValues.get(ce.triggerName),kn=this.statesByElement.get(ce.element);if(kn&&kn.has(ce.triggerName)){const lp=kn.get(ce.triggerName);lp.value=ha,kn.set(ce.triggerName,lp)}}return void Fe.destroy()}}const hr=!m||!this.driver.containsElement(m,ai),an=L.get(ai),lo=b.get(ai),yt=this._buildInstruction(ce,n,lo,an,hr);if(yt.errors&&yt.errors.length)return void pe.push(yt);if(hr)return Fe.onStart(()=>la(ai,yt.fromStyles)),Fe.onDestroy(()=>dr(ai,yt.toStyles)),void r.push(Fe);if(ce.isFallbackTransition)return Fe.onStart(()=>la(ai,yt.fromStyles)),Fe.onDestroy(()=>dr(ai,yt.toStyles)),void r.push(Fe);const HO=[];yt.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||HO.push(yi)}),yt.timelines=HO,n.append(ai,yt.timelines),a.push({instruction:yt,player:Fe,element:ai}),yt.queriedElements.forEach(yi=>nn(s,yi,[]).push(Fe)),yt.preStyleProps.forEach((yi,ha)=>{if(yi.size){let kn=c.get(ha);kn||c.set(ha,kn=new Set),yi.forEach((lp,W_)=>kn.add(W_))}}),yt.postStyleProps.forEach((yi,ha)=>{let kn=l.get(ha);kn||l.set(ha,kn=new Set),yi.forEach((lp,W_)=>kn.add(W_))})});if(pe.length){const Z=[];pe.forEach(re=>{Z.push(function MX(t,i){return new A(3505,!1)}())}),J.forEach(re=>re.destroy()),this.reportError(Z)}const Re=new Map,Ct=new Map;a.forEach(Z=>{const re=Z.element;n.has(re)&&(Ct.set(re,re),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,Re))}),r.forEach(Z=>{const re=Z.element;this._getPreviousPlayers(re,!1,Z.namespaceId,Z.triggerName,null).forEach(Fe=>{nn(Re,re,[]).push(Fe),Fe.destroy()})});const ur=k.filter(Z=>cO(Z,c,l)),co=new Map;oO(co,this.driver,M,l,Mr).forEach(Z=>{cO(Z,c,l)&&ur.push(Z)});const ua=new Map;v.forEach((Z,re)=>{oO(ua,this.driver,new Set(Z),c,"!")}),ur.forEach(Z=>{const re=co.get(Z),ce=ua.get(Z);co.set(Z,new Map([...re?.entries()??[],...ce?.entries()??[]]))});const Y_=[],LO=[],BO={};a.forEach(Z=>{const{element:re,player:ce,instruction:Fe}=Z;if(n.has(re)){if(d.has(re))return ce.onDestroy(()=>dr(re,Fe.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Fe.totalTime),void r.push(ce);let ai=BO;if(Ct.size>1){let an=re;const lo=[];for(;an=an.parentNode;){const yt=Ct.get(an);if(yt){ai=yt;break}lo.push(an)}lo.forEach(yt=>Ct.set(yt,ai))}const hr=this._buildAnimation(ce.namespaceId,Fe,Re,o,ua,co);if(ce.setRealPlayer(hr),ai===BO)Y_.push(ce);else{const an=this.playersByElement.get(ai);an&&an.length&&(ce.parentPlayer=so(an)),r.push(ce)}}else la(re,Fe.fromStyles),ce.onDestroy(()=>dr(re,Fe.toStyles)),LO.push(ce),d.has(re)&&r.push(ce)}),LO.forEach(Z=>{const re=o.get(Z.element);if(re&&re.length){const ce=so(re);Z.setRealPlayer(ce)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<k.length;Z++){const re=k[Z],ce=re[Un];if(Ks(re,Gm),ce&&ce.hasAnimation)continue;let Fe=[];if(s.size){let hr=s.get(re);hr&&hr.length&&Fe.push(...hr);let an=this.driver.query(re,S_,!0);for(let lo=0;lo<an.length;lo++){let yt=s.get(an[lo]);yt&&yt.length&&Fe.push(...yt)}}const ai=Fe.filter(hr=>!hr.destroyed);ai.length?DQ(this,re,ai):this.processLeaveNode(re)}return k.length=0,Y_.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();const re=this.players.indexOf(Z);this.players.splice(re,1)}),Z.play()}),Y_}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let a=[];if(e){const s=this.playersByQueriedElement.get(i);s&&(a=s)}else{const s=this.playersByElement.get(i);if(s){const c=!o||o==od;s.forEach(l=>{l.queued||!c&&l.triggerName!=r||a.push(l)})}}return(n||r)&&(a=a.filter(s=>!(n&&n!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(i,e,n){const o=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,m=nn(n,l,[]);this._getPreviousPlayers(l,d,a,s,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),m.push(v)})}la(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,a){const s=e.triggerName,c=e.element,l=[],d=new Set,m=new Set,p=e.timelines.map(b=>{const _=b.element;d.add(_);const k=_[Un];if(k&&k.removedBeforeQueried)return new Yl(b.duration,b.delay);const x=_!==c,M=function xQ(t){const i=[];return sO(t,i),i}((n.get(_)||bQ).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===_),L=o.get(_),j=a.get(_),J=BP(this._normalizer,b.keyframes,L,j),pe=this._buildPlayer(b,J,M);if(b.subTimeline&&r&&m.add(_),x){const Re=new F_(i,s,_);Re.setRealPlayer(pe),l.push(Re)}return pe});l.forEach(b=>{nn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function wQ(t,i,e){let n=t.get(i);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&t.delete(i)}return n}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>wn(b,qP));const v=so(p);return v.onDestroy(()=>{d.forEach(b=>Ks(b,qP)),dr(c,e.toStyles)}),m.forEach(b=>{nn(r,b,[]).push(v)}),v}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Yl(i.duration,i.delay)}}class F_{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new Yl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>m_(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){nn(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function ip(t){return t&&1===t.nodeType}function rO(t,i){const e=t.style.display;return t.style.display=i??"none",e}function oO(t,i,e,n,r){const o=[];e.forEach(c=>o.push(rO(c)));const a=[];n.forEach((c,l)=>{const d=new Map;c.forEach(m=>{const p=i.computeStyle(l,m,r);d.set(m,p),(!p||0==p.length)&&(l[Un]=yQ,a.push(l))}),t.set(l,d)});let s=0;return e.forEach(c=>rO(c,o[s++])),a}function aO(t,i){const e=new Map;if(t.forEach(s=>e.set(s,[])),0==i.length)return e;const r=new Set(i),o=new Map;function a(s){if(!s)return 1;let c=o.get(s);if(c)return c;const l=s.parentNode;return c=e.has(l)?l:r.has(l)?1:a(l),o.set(s,c),c}return i.forEach(s=>{const c=a(s);1!==c&&e.get(c).push(s)}),e}function wn(t,i){t.classList?.add(i)}function Ks(t,i){t.classList?.remove(i)}function DQ(t,i,e){so(e).onDone(()=>t.processLeaveNode(i))}function sO(t,i){for(let e=0;e<t.length;e++){const n=t[e];n instanceof SI?sO(n.players,i):i.push(n)}}function cO(t,i,e){const n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}class ad{constructor(i,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new SQ(i.body,e,n),this._timelineEngine=new mQ(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){const a=i+"-"+r;let s=this._triggerCache[a];if(!s){const c=[],d=x_(this._driver,o,c,[]);if(c.length)throw function gX(t,i){return new A(3404,!1)}();s=function lQ(t,i,e){return new dQ(t,i,e)}(r,d,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if("@"==n.charAt(0)){const[o,a]=HP(n);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if("@"==n.charAt(0)){const[a,s]=HP(n);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class sd{static#e=this.initialStylesByElement=new WeakMap;constructor(i,e,n){this._element=i,this._startStyles=e,this._endStyles=n,this._state=0;let r=sd.initialStylesByElement.get(i);r||sd.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dr(this._element,this._initialStyles),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(sd.initialStylesByElement.delete(this._element),this._startStyles&&(la(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(la(this._element,this._endStyles),this._endStyles=null),dr(this._element,this._initialStyles),this._state=3)}}function N_(t){let i=null;return t.forEach((e,n)=>{(function EQ(t){return"display"===t||"position"===t})(n)&&(i=i||new Map,i.set(n,e))}),i}class lO{constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:D_(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const e="start"===i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class dO{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return UP(i,e)}getParentElement(i){return g_(i)}query(i,e,n){return jP(i,e,n)}computeStyle(i,e,n){return D_(i,e)}animate(i,e,n,r,o,a=[]){const c={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=a.filter(v=>v instanceof lO);(function VX(t,i){return 0===t||0===i})(n,r)&&d.forEach(v=>{v.currentSnapshot.forEach((b,_)=>l.set(_,b))});let m=function LX(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}(e).map(v=>new Map(v));m=function UX(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,a)=>{n.has(a)||r.push(a),n.set(a,o)}),r.length)for(let o=1;o<i.length;o++){let a=i[o];r.forEach(s=>a.set(s,D_(t,s)))}}return i}(i,m,l);const p=function TQ(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=N_(i[0]),i.length>1&&(n=N_(i[i.length-1]))):i instanceof Map&&(e=N_(i)),e||n?new sd(t,e,n):null}(i,m);return new lO(i,m,c,p)}}const uO="@.disabled";class hO{constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){"@"==e.charAt(0)&&e==uO?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class IQ extends hO{constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==uO?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if("@"==e.charAt(0)){const r=function AQ(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function PQ(t){const i=t.indexOf(".");return[t.substring(0,i),t.slice(i+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,n,s)})}return this.delegate.listen(i,e,n)}}class OQ{constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(i,e){const r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new hO("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);const s=l=>{Array.isArray(l)?l.forEach(s):this.engine.registerTrigger(o,a,i,l.name,l)};return e.data.animation.forEach(s),new IQ(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>e(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const mO=[{provide:y_,useFactory:function FQ(){return new YP}},{provide:ad,useClass:(()=>{class t extends ad{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(b_),w(y_))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac})}return t})()},{provide:Eu,useFactory:function NQ(t,i,e){return new OQ(t,i,e)},deps:[db,ad,Q]}],L_=[{provide:b_,useFactory:()=>new dO},{provide:cn,useValue:"BrowserAnimations"},...mO],pO=[{provide:b_,useClass:v_},{provide:cn,useValue:"NoopAnimations"},...mO];let LQ=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?pO:L_}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:L_,imports:[GM]})}return t})();function BQ(t,i){if(1&t){const e=q();u(0,"input",19),D("change",function(r){return T(e),E(S().pauseOnDeath(r))}),h()}2&t&&P("checked",S().activityService.pauseOnDeath)}function HQ(t,i){1&t&&(u(0,"label",2),f(1,"Pause on Death"),h())}function VQ(t,i){if(1&t){const e=q();u(0,"input",20),D("change",function(r){return T(e),E(S(2).pauseBeforeDeath(r))}),h(),u(1,"label",21),f(2,"Pause Before Death - This will pause one day before the end of your expected lifespan."),h()}2&t&&P("checked",S(2).activityService.pauseBeforeDeath)}function UQ(t,i){if(1&t&&(u(0,"div")(1,"span"),H(2,VQ,3,1),h()()),2&t){const e=S();g(2),I(e.activityService.autoRestart?2:-1)}}let jQ=(()=>{class t{constructor(e){this.activityService=e}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}static#e=this.\u0275fac=function(n){return new(n||t)(y(ct))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-time-options-panel"]],decls:44,vars:3,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnDeath",3,"checked"],["for","pauseOnDeath"],[1,"saveButtonBar"],[1,"saveButtonGroup"],["matTooltip","Save your current schedule of actviities (Schedule #1).",1,"saveButton",3,"click"],["aria-label","Save Schedule 1","aria-hidden","false",1,"iconButton","saveIcon"],[1,"saveSlot"],["matTooltip","Save your current schedule of actviities (Schedule #2).",1,"saveButton",3,"click"],["aria-label","Save Schedule 2","aria-hidden","false",1,"iconButton","saveIcon"],["matTooltip","Save your current schedule of actviities (Schedule #3).",1,"saveButton",3,"click"],["aria-label","Save Schedule 3","aria-hidden","false",1,"iconButton","saveIcon"],["matTooltip","Load your saved schedule of actviities (Schedule #1). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 1","aria-hidden","false",1,"iconButton","saveIcon"],["matTooltip","Load your saved schedule of actviities (Schedule #2). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 2","aria-hidden","false",1,"iconButton","saveIcon"],["matTooltip","Load your saved schedule of actviities (Schedule #3). Note that activities that you cannot do right now will not be loaded.",1,"saveButton",3,"click"],["aria-label","Load Schedule 3","aria-hidden","false",1,"iconButton","saveIcon"],["matTooltip","Clear your current schedule.","aria-label","Clear Schedule","aria-hidden","false",1,"iconButton","saveIcon",3,"click"],["type","checkbox","id","pauseOnDeath",3,"change","checked"],["type","checkbox","id","pauseBeforeDeath",3,"change","checked"],["for","pauseBeforeDeath"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Schedule Options"),h(),G(3,"hr"),u(4,"div")(5,"span"),H(6,BQ,1,1,"input",1)(7,HQ,2,0,"label",2),h()(),H(8,UQ,3,1,"div"),u(9,"div",3)(10,"div",4)(11,"div",5),D("click",function(){return r.activityService.saveActivityLoop()}),u(12,"mat-icon",6),f(13," content_paste "),h(),u(14,"div",7),f(15,"1"),h()(),u(16,"div",8),D("click",function(){return r.activityService.saveActivityLoop(2)}),u(17,"mat-icon",9),f(18," content_paste "),h(),u(19,"div",7),f(20,"2"),h()(),u(21,"div",10),D("click",function(){return r.activityService.saveActivityLoop(3)}),u(22,"mat-icon",11),f(23," content_paste "),h(),u(24,"div",7),f(25,"3"),h()()(),u(26,"div",4)(27,"div",12),D("click",function(){return r.activityService.loadActivityLoop()}),u(28,"mat-icon",13),f(29," content_paste_go "),h(),u(30,"div",7),f(31,"1"),h()(),u(32,"div",14),D("click",function(){return r.activityService.loadActivityLoop(2)}),u(33,"mat-icon",15),f(34," content_paste_go "),h(),u(35,"div",7),f(36,"2"),h()(),u(37,"div",16),D("click",function(){return r.activityService.loadActivityLoop(3)}),u(38,"mat-icon",17),f(39," content_paste_go "),h(),u(40,"div",7),f(41,"3"),h()()(),u(42,"mat-icon",18),D("click",function(){return r.activityService.activityLoop=[]}),f(43," delete_sweep "),h()()()),2&n&&(g(6),I(r.activityService.autoRestart?6:-1),g(),I(r.activityService.autoRestart?7:-1),g(),I(r.activityService.autoPauseUnlocked?8:-1))},dependencies:[oi,wt],styles:[".saveSlot[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:9px;line-height:15px;padding:0 4px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:inherit;filter:brightness(80%);font-size:10px;border-radius:3px;z-index:1;color:var(--bodyText)}.saveButton[_ngcontent-%COMP%]{width:30px;height:30px;overflow:hidden;position:relative}.saveIcon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.saveButtonBar[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:90%}.saveButtonGroup[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();function B_(t,i,e){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?t.setProperty(n,r,e?.has(n)?"important":""):t.removeProperty(n)}return t}function Zs(t,i){const e=i?"":"none";B_(t.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function fO(t,i,e){B_(t.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function rp(t,i){return i&&"none"!=i?t+" "+i:t}function gO(t){const i=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*i}function H_(t,i){return t.getPropertyValue(i).split(",").map(n=>n.trim())}function V_(t){const i=t.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function U_(t,i,e){const{top:n,bottom:r,left:o,right:a}=t;return e>=n&&e<=r&&i>=o&&i<=a}function cd(t,i,e){t.top+=i,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function vO(t,i,e,n){const{top:r,right:o,bottom:a,left:s,width:c,height:l}=t,d=c*i,m=l*i;return n>r-m&&n<a+m&&e>s-d&&e<o+d}class bO{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:V_(e)})})}handleScroll(i){const e=yn(i),n=this.positions.get(e);if(!n)return null;const r=n.scrollPosition;let o,a;if(e===this._document){const l=this.getViewportScrollPosition();o=l.top,a=l.left}else o=e.scrollTop,a=e.scrollLeft;const s=r.top-o,c=r.left-a;return this.positions.forEach((l,d)=>{l.clientRect&&e!==d&&e.contains(d)&&cd(l.clientRect,s,c)}),r.top=o,r.left=a,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function yO(t){const i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===n?wO(t,i):("input"===n||"select"===n||"textarea"===n)&&SO(t,i),_O("canvas",t,i,wO),_O("input, textarea, select",t,i,SO),i}function _O(t,i,e,n){const r=i.querySelectorAll(t);if(r.length){const o=e.querySelectorAll(t);for(let a=0;a<r.length;a++)n(r[a],o[a])}}let $Q=0;function SO(t,i){"file"!==i.type&&(i.value=t.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${$Q++}`)}function wO(t,i){const e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}const CO=xr({passive:!0}),op=xr({passive:!1}),j_=new Set(["position"]);class YQ{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Zs(e,i)))}constructor(i,e,n,r,o,a){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new W,this._pointerMoveSubscription=Le.EMPTY,this._pointerUpSubscription=Le.EMPTY,this._scrollSubscription=Le.EMPTY,this._resizeSubscription=Le.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new W,this.started=new W,this.released=new W,this.ended=new W,this.entered=new W,this.exited=new W,this.dropped=new W,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{const c=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),b=this._dropContainer;if(!v)return void this._endDragSequence(s);(!b||!b.isDragging()&&!b.isReceiving())&&(s.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(s)))}return}s.preventDefault();const l=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,c);else{const d=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,m=this._activeTransform;m.x=l.x-d.x+this._passiveTransform.x,m.y=l.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(m.x,m.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:s,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){const c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new bO(n),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>Bt(n)),this._handles.forEach(n=>Zs(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=Bt(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,op),e.addEventListener("touchstart",this._pointerDown,CO),e.addEventListener("dragstart",this._nativeDragStart,op)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?Bt(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Zs(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Zs(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){ld(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,r=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();r.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),fO(n,!1,j_),this._document.body.appendChild(r.replaceChild(o,n)),this._getPreviewInsertionPoint(r,s).appendChild(this._preview),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=ld(e),o=!r&&0!==e.button,a=this._rootElement,s=yn(e),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=r?hy(e):uy(e);if(s&&s.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||c||l)return;if(this._handles.length){const p=a.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=V_(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){fO(this._rootElement,!0,j_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(i),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:i}),e.drop(this,n,this._initialIndex,this._initialContainer,a,o,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,i,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,n=i?i.template:null;let r;if(n&&i){const o=i.matchSize?this._initialDomRect:null,a=i.viewContainer.createEmbeddedView(n,i.context);a.detectChanges(),r=DO(a,this._document),this._previewRef=a,i.matchSize?xO(r,o):r.style.transform=ap(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=yO(this._rootElement),xO(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return B_(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},j_),Zs(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function qQ(t){const i=getComputedStyle(t),e=H_(i,"transition-property"),n=e.find(s=>"transform"===s||"all"===s);if(!n)return 0;const r=e.indexOf(n),o=H_(i,"transition-duration"),a=H_(i,"transition-delay");return gO(o[r])+gO(a[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=a=>{(!a||yn(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let n;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),n=DO(this._placeholderRef,this._document)):n=yO(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,e,n){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():i,a=ld(n)?n.targetTouches[0]:n,s=this._getViewportScrollPosition();return{x:o.left-i.left+(a.pageX-o.left-s.left),y:o.top-i.top+(a.pageY-o.top-s.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),n=ld(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),d=s.top+a,m=s.bottom-(l-a);n=kO(n,s.left+o,s.right-(c-o)),r=kO(r,d,m)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:e,y:n}=i,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(n-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Zs(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,op),i.removeEventListener("touchstart",this._pointerDown,CO),i.removeEventListener("dragstart",this._nativeDragStart,op)}_applyRootElementTransform(i,e){const n=ap(i,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=rp(n,this._initialTransform)}_applyPreviewTransform(i,e){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=ap(i,e);this._preview.style.transform=rp(r,n)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const o=r.left-n.left,a=n.right-r.right,s=r.top-n.top,c=n.bottom-r.bottom;r.width>n.width?(o>0&&(i+=o),a>0&&(i-=a)):i=0,r.height>n.height?(s>0&&(e+=s),c>0&&(e-=c)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:ld(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const n=yn(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&cd(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Qb(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Bt(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function ap(t,i){return`translate3d(${Math.round(t)}px, ${Math.round(i)}px, 0)`}function kO(t,i,e){return Math.max(i,Math.min(e,t))}function ld(t){return"t"===t.type[0]}function DO(t,i){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const n=i.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function xO(t,i){t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.transform=ap(i.left,i.top)}function dd(t,i){return Math.max(0,Math.min(i,t))}class KQ{constructor(i,e){this._element=i,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,e,n,r){const o=this._itemPositions,a=this._getItemIndexFromPointerPosition(i,e,n,r);if(-1===a&&o.length>0)return null;const s="horizontal"===this.orientation,c=o.findIndex(k=>k.drag===i),l=o[a],m=l.clientRect,p=c>a?1:-1,v=this._getItemOffsetPx(o[c].clientRect,m,p),b=this._getSiblingOffsetPx(c,o,p),_=o.slice();return function WQ(t,i,e){const n=dd(i,t.length-1),r=dd(e,t.length-1);if(n===r)return;const o=t[n],a=r<n?-1:1;for(let s=n;s!==r;s+=a)t[s]=t[s+a];t[r]=o}(o,c,a),o.forEach((k,x)=>{if(_[x]===k)return;const M=k.drag===i,L=M?v:b,j=M?i.getPlaceholderElement():k.drag.getRootElement();k.offset+=L,s?(j.style.transform=rp(`translate3d(${Math.round(k.offset)}px, 0, 0)`,k.initialTransform),cd(k.clientRect,0,L)):(j.style.transform=rp(`translate3d(0, ${Math.round(k.offset)}px, 0)`,k.initialTransform),cd(k.clientRect,L,0))}),this._previousSwap.overlaps=U_(m,e,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:c,currentIndex:a}}enter(i,e,n,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(i,e,n):r,a=this._activeDraggables,s=a.indexOf(i),c=i.getPlaceholderElement();let l=a[o];if(l===i&&(l=a[o+1]),!l&&(null==o||-1===o||o<a.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(l=a[0]),s>-1&&a.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){const d=l.getRootElement();d.parentElement.insertBefore(c,d),a.splice(o,0,i)}else Bt(this._element).appendChild(c),a.push(i);c.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const e=i.getRootElement();if(e){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:n})=>{cd(n,i,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:V_(n)}}).sort((e,n)=>i?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,e,n){const r="horizontal"===this.orientation;let o=r?e.left-i.left:e.top-i.top;return-1===n&&(o+=r?e.width-i.width:e.height-i.height),o}_getSiblingOffsetPx(i,e,n){const r="horizontal"===this.orientation,o=e[i].clientRect,a=e[i+-1*n];let s=o[r?"width":"height"]*n;if(a){const c=r?"left":"top",l=r?"right":"bottom";-1===n?s-=a.clientRect[c]-o[l]:s+=o[c]-a.clientRect[l]}return s}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const a=n[n.length-1].clientRect;return r?i>=a.right:e>=a.bottom}{const a=n[0].clientRect;return r?i<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(i,e,n,r){const o="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:s,clientRect:c})=>s!==i&&((!r||s!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(c.left)&&e<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,i)?a:-1}}var Cn=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(Cn||{}),Ai=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Ai||{});class ZQ{constructor(i,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new W,this.entered=new W,this.exited=new W,this.dropped=new W,this.sorted=new W,this.receivingStarted=new W,this.receivingStopped=new W,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Le.EMPTY,this._verticalScrollDirection=Cn.NONE,this._horizontalScrollDirection=Ai.NONE,this._stopScrollTimers=new W,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function zQ(t=0,i=Zo){return t<0&&(t=0),om(t,t,i)}(0,xE).pipe(vt(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,s=this.autoScrollStep;this._verticalScrollDirection===Cn.UP?a.scrollBy(0,-s):this._verticalScrollDirection===Cn.DOWN&&a.scrollBy(0,s),this._horizontalScrollDirection===Ai.LEFT?a.scrollBy(-s,0):this._horizontalScrollDirection===Ai.RIGHT&&a.scrollBy(s,0)})},this.element=Bt(i),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new bO(n),this._sortStrategy=new KQ(this.element,e),this._sortStrategy.withSortPredicate((a,s)=>this.sortPredicate(a,s,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,n,r,o,a,s,c={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:c})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const e=Bt(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,n,r){if(this.sortingDisabled||!this._domRect||!vO(this._domRect,.05,e,n))return;const o=this._sortStrategy.sort(i,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let n,r=Cn.NONE,o=Ai.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||n||vO(a.clientRect,.05,i,e)&&([r,o]=function XQ(t,i,e,n,r){const o=EO(i,r),a=IO(i,n);let s=Cn.NONE,c=Ai.NONE;if(o){const l=t.scrollTop;o===Cn.UP?l>0&&(s=Cn.UP):t.scrollHeight-l>t.clientHeight&&(s=Cn.DOWN)}if(a){const l=t.scrollLeft;"rtl"===e?a===Ai.RIGHT?l<0&&(c=Ai.RIGHT):t.scrollWidth+l>t.clientWidth&&(c=Ai.LEFT):a===Ai.LEFT?l>0&&(c=Ai.LEFT):t.scrollWidth-l>t.clientWidth&&(c=Ai.RIGHT)}return[s,c]}(s,a.clientRect,this._sortStrategy.direction,i,e),(r||o)&&(n=s))}),!r&&!o){const{width:a,height:s}=this._viewportRuler.getViewportSize(),c={width:a,height:s,top:0,right:a,bottom:s,left:0};r=EO(c,e),o=IO(c,i),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=Bt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=Bt(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=Bt(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,e){return null!=this._domRect&&U_(this._domRect,i,e)}_getSiblingContainerFromPosition(i,e,n){return this._siblings.find(r=>r._canReceive(i,e,n))}_canReceive(i,e,n){if(!this._domRect||!U_(this._domRect,e,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const o=Bt(this.element);return r===o||o.contains(r)}_startReceiving(i,e){const n=this._activeSiblings;!n.has(i)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Qb(Bt(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function EO(t,i){const{top:e,bottom:n,height:r}=t,o=.05*r;return i>=e-o&&i<=e+o?Cn.UP:i>=n-o&&i<=n+o?Cn.DOWN:Cn.NONE}function IO(t,i){const{left:e,right:n,width:r}=t,o=.05*r;return i>=e-o&&i<=e+o?Ai.LEFT:i>=n-o&&i<=n+o?Ai.RIGHT:Ai.NONE}const sp=xr({passive:!1,capture:!0});let QQ=(()=>{class t{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new W,this.pointerUp=new W,this.scroll=new W,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,sp)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,sp)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:sp}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:sp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new Je(r=>this._ngZone.runOutsideAngular(()=>{const a=s=>{this._activeDragInstances.length&&r.next(s)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Jr(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(n){return new(n||t)(w(Q),w(be))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const JQ={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let z_=(()=>{class t{constructor(e,n,r,o){this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,n=JQ){return new YQ(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new ZQ(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(n){return new(n||t)(w(be),w(Q),w(jl),w(QQ))};static#t=this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ud=new F("CDK_DRAG_PARENT"),AO=new F("CdkDragHandle");let on=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}constructor(e,n){this.element=e,this._parentDrag=n,this._stateChanges=new W,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(ud,12))};static#t=this.\u0275dir=K({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",ze]},standalone:!0,features:[Ie([{provide:AO,useExisting:t}]),vi]})}return t})();const PO=new F("CDK_DRAG_CONFIG"),OO=new F("CdkDropList");let Xs=(()=>{class t{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,n,r,o,a,s,c,l,d,m,p){this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=d,this._selfHandle=m,this._parentDrag=p,this._destroyed=new W,this._handles=new Pi([]),this.started=new me,this.released=new me,this.ended=new me,this.entered=new me,this.exited=new me,this.dropped=new me,this.moved=new Je(v=>{const b=this._dragRef.moved.pipe(he(_=>({source:this,pointerPosition:_.pointerPosition,event:_.event,delta:_.delta,distance:_.distance}))).subscribe(v);return()=>{b.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:s?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ii(1),vt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){const n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){const n=this._handles.getValue(),r=n.indexOf(e);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const e=this.element.nativeElement;let n=e;this.rootElementSelector&&(n=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Bt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Xo(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(ii(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){e.withParent(t._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){const{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:c,rootElementSelector:l,previewContainer:d}=e;this.disabled=c??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),l&&(this.rootElementSelector=l),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Nt(e=>{const n=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),bn(e=>Jr(...e.map(n=>n._stateChanges.pipe(kr(n))))),vt(this._destroyed)).subscribe(e=>{const n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}static#t=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(OO,12),y(be),y(Q),y(ei),y(PO,8),y(sr,8),y(z_),y(Hi),y(AO,10),y(ud,12))};static#i=this.\u0275dir=K({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&gt("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ze],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Ie([{provide:ud,useExisting:t}]),vi,wi]})}return t})();const q_=new F("CdkDropListGroup");let iJ=0,hd=(()=>{class t{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,n,r,o,a,s,c){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=a,this._group=s,this._destroyed=new W,this.connectedTo=[],this.id="cdk-drop-list-"+iJ++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new me,this.entered=new me,this.exited=new me,this.sorted=new me,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(l,d)=>this.enterPredicate(l.data,d.data),this._dropListRef.sortPredicate=(l,d,m)=>this.sortPredicate(l,d.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),s&&s._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(kr(this._dir.value),vt(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{const n=Ll(this.connectedTo).map(r=>"string"==typeof r?t._dropLists.find(a=>a.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Xo(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Jr(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(n){return new(n||t)(y(Ce),y(z_),y(Hi),y(lm),y(sr,8),y(q_,12),y(PO,8))};static#i=this.\u0275dir=K({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(Ge("id",r.id),gt("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",ze],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",ze],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",ze],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Ie([{provide:q_,useValue:void 0},{provide:OO,useExisting:t}]),vi]})}return t})(),aJ=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t});static#i=this.\u0275inj=dt({providers:[z_],imports:[dm]})}return t})();const sJ=t=>({draggableCursor:t}),Qs=t=>({iconActive:t}),cJ=t=>({indeterminate:t}),$_=(t,i)=>({currentRow:t,disabled:i});function lJ(t,i){if(1&t){const e=q();u(0,"mat-icon",16),N(1,"number"),D("click",function(){return T(e),E(S().fastClick())}),f(2," fast_forward "),h()}if(2&t){const e=S();Ze("matTooltip","Fast Game Speed (",Pt(1,3,e.mainLoopService.getTPS(5),"1.0-2")," days/sec).\n      Hotkey: Alt-3"),P("ngClass",De(6,Qs,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function dJ(t,i){if(1&t){const e=q();u(0,"mat-icon",17),N(1,"number"),D("click",function(){return T(e),E(S().fasterClick())}),f(2," skip_next "),h()}if(2&t){const e=S();Ze("matTooltip","Faster Game Speed (",Pt(1,3,e.mainLoopService.getTPS(2),"1.0-2")," days/sec).\n      Hotkey: Alt-4"),P("ngClass",De(6,Qs,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function uJ(t,i){if(1&t){const e=q();u(0,"mat-icon",18),N(1,"number"),D("click",function(){return T(e),E(S().fastestClick())}),f(2," bolt "),h()}if(2&t){const e=S();Ze("matTooltip","Fastest Game Speed (",Pt(1,3,e.mainLoopService.getTPS(1),"1.0-2")," days/sec).\n      Hotkey: Alt-5"),P("ngClass",De(6,Qs,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function hJ(t,i){if(1&t){const e=q();u(0,"mat-icon",19),D("click",function(){return T(e),E(S().timeOptions())}),f(1," settings "),h()}}function mJ(t,i){if(1&t){const e=q();u(0,"tr")(1,"td"),f(2),h(),u(3,"td")(4,"div",22),G(5,"span"),h()(),u(6,"td")(7,"mat-icon",23),D("click",function(){return T(e),E(S(2).removeSpiritActivity())}),f(8,"clear"),h()()()}if(2&t){const e=S(2);g(2),ke(e.getActivityName(e.activityService.spiritActivity)),g(2),P("ngClass",De(2,cJ,e.activityService.spiritActivityProgress&&!e.mainLoopService.pause))}}function pJ(t,i){if(1&t){const e=q();u(0,"table",20),D("drop",function(r){return T(e),E(S().spiritActivityDrop(r))}),u(1,"tr")(2,"td",21),f(3," Spiritual Projection "),h()(),H(4,mJ,9,4,"tr"),h()}if(2&t){const e=S();g(4),I(null!==e.activityService.spiritActivity?4:-1)}}function fJ(t,i){if(1&t){const e=q();u(0,"tr",25),D("cdkDragStarted",function(){return T(e),E(S(2).dragStart())})("cdkDragEnded",function(){return T(e),E(S(2).dragEnd())})("cdkDragMoved",function(r){return T(e),E(S(2).dragMoved(r))})("cdkDragReleased",function(r){return T(e),E(S(2).dragReleased(r))}),u(1,"td",26),f(2),h(),u(3,"td",26)(4,"div",27),G(5,"span"),h()(),u(6,"td",26)(7,"mat-icon",28),D("click",function(r){T(e);const o=S().$implicit;return E(S().onMinusClick(o,r))}),f(8,"remove"),h(),u(9,"mat-icon",29),D("click",function(r){T(e);const o=S().$implicit;return E(S().onPlusClick(o,r))}),f(10,"add"),h(),u(11,"mat-icon",30),D("click",function(){T(e);const r=S().$implicit;return E(S().onDisableClick(r))}),f(12,"cancel"),h(),u(13,"mat-icon",23),D("click",function(){T(e);const r=S().$implicit;return E(S().onRemoveClick(r))}),f(14,"clear"),h()()()}if(2&t){const e=S(),n=e.$implicit,r=e.index,o=S();Ze("id","activityLoopIndex",r,""),P("cdkDragData",r),g(),Ze("id","activityLoopIndex0",r,""),P("ngClass",er(17,$_,r===o.activityService.currentIndex,n.disabled)),g(),Vo(" ",o.getActivityName(n.activity)," (",n.repeatTimes," ",1===n.repeatTimes?"day":"days",") "),g(),Ze("id","activityLoopIndex1",r,""),P("ngClass",er(20,$_,r===o.activityService.currentIndex,n.disabled)),g(2),ti("width",100*(r!==o.activityService.currentIndex||n.disabled?n.repeatTimes:o.activityService.currentTickCount)/n.repeatTimes,"%"),g(),Ze("id","activityLoopIndex2",r,""),P("ngClass",er(23,$_,r===o.activityService.currentIndex,n.disabled))}}function gJ(t,i){if(1&t&&(Lo(0),H(1,fJ,15,26,"tr",24),Bo()),2&t){const e=i.$implicit,n=S();g(),I(""!==n.getActivityName(e.activity)?1:-1)}}let vJ=(()=>{class t{constructor(e,n,r,o,a){this.mainLoopService=e,this.activityService=n,this.characterService=r,this.gameStateService=o,this.dialog=a,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.dragPositionX=0,this.dragPositionY=0}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}slowClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=40}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}timeOptions(){this.dialog.open(jQ,{width:"700px",data:{someField:"foo"},autoFocus:!1})}onPlusClick(e,n){n.preventDefault(),n.stopPropagation();let r=1;r*=n.shiftKey||n.altKey?10:1,r*=n.ctrlKey||n.metaKey?10:1,e.repeatTimes+=r}onMinusClick(e,n){n.preventDefault(),n.stopPropagation();let r=1;r*=n.shiftKey||n.altKey?10:1,r*=n.ctrlKey||n.metaKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){const n=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(n,1)}onDisableClick(e){e.disabled=!e.disabled,e.disabled||this.activityService.checkRequirements(!0)}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let n,r;if(e.event instanceof MouseEvent)n=e.event.clientX,r=e.event.clientY;else{if(!(e.event instanceof TouchEvent))return;n=this.dragPositionX,r=this.dragPositionY}const o=e.source.data,a=document.elementsFromPoint(n,r);let s=this.activityService.activityLoop.length,c=!1,l=!1;for(const d of a)"activityDropDiv"===d.id?c=!0:d.id.startsWith("activityLoopIndex")?s=parseInt(d.id.substring(18)):"spiritActivity"===d.id&&(l=!0);if(c&&o>=0&&o<this.activityService.activityLoop.length)if(l)this.activityService.spiritActivity=this.activityService.activityLoop[o].activity;else{const d=this.activityService.activityLoop.splice(o,1);s>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(d[0]):this.activityService.activityLoop.splice(s,0,d[0])}}spiritActivityDrop(e){e.preventDefault(),e.stopPropagation();let n=e.dataTransfer?.getData("activityloop")+"";if(""===n){if(n=e.dataTransfer?.getData("activity")+"",""===n)return;const r=parseInt(n);this.activityService.spiritActivity=r}else{const r=parseInt(n);r>=0&&r<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[r].activity)}}getActivityName(e){const n=this.activityService.getActivityByType(e);return n?n.name[n.level]:""}static#e=this.\u0275fac=function(n){return new(n||t)(y(ft),y(ct),y(Oe),y(bt),y(ri))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-time-panel"]],decls:31,vars:28,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Click the schedule button on activities or drag them here to put them on your schedule. When you allow time to move forward, you will perform each activity in your schedule in the order it is listed. You can move scheduled activities around or repeat activities over multiple days. Don't forget to schedule some rest too! You'll need to take a break now and then in your journey toward immortality.",1,"panelHelp"],["id","activityDropDiv",1,"dropAccepter"],["matTooltip","Pause the game. \n      Hotkey: Alt-0 to pause or spacebar to toggle. \n      Clicking this again while paused will step time forward a single day. \n      When paused, you can also advance one day by pressing the Enter key.","aria-label","Pause","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["matTooltip","Slow Game Speed (1 day/sec).\n      Hotkey: Alt-1","aria-label","Slow Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass"],["aria-label","Standard Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","matTooltip"],["aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"ngClass","matTooltip"],["aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"ngClass","matTooltip"],["aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"ngClass","matTooltip"],["matTooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton"],["type","checkbox","id","useSavedTicks",3,"change","checked"],["for","useSavedTicks"],["cdkDropList","","cdkDropListSortingDisabled","",1,"overflow"],["id","spiritActivity",1,"spiritActivityPanel"],[4,"ngFor","ngForOf"],[1,"panelResizeHandle"],["aria-label","Fast Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","matTooltip"],["aria-label","Faster Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","matTooltip"],["aria-label","Fastest Speed","aria-hidden","false",1,"iconButton",3,"click","ngClass","matTooltip"],["matTooltip","Options","aria-label","Time Options","aria-hidden","false",1,"iconButton",3,"click"],["id","spiritActivity",1,"spiritActivityPanel",3,"drop"],["matTooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana in addition to the regular requirements of the activity.",1,"spiritProjectionLabel"],[1,"progress-bar",3,"ngClass"],["matTooltip","Remove this activity from the schedule.","aria-label","Remove Activity","aria-hidden","false",1,"iconButton",3,"click"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"id","cdkDragData"],["cdkDrag","","cdkDragPreviewClass","currentRow",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","id","cdkDragData"],[3,"ngClass","id"],[1,"progress-bar"],["matTooltip","Spend fewer days on this.\n\n            Shift- or Ctrl-click to remove 10x\n            Shift-Ctrl-click to remove 100x","aria-label","Remove Days","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Spend more days on this.\n\n            Shift- or Ctrl-click to add 10x\n            Shift-Ctrl-click to add 100x","aria-label","Add Days","aria-hidden","false",1,"iconButton",3,"click"],["matTooltip","Disable this activity on the schedule.","aria-label","Disable Activity","aria-hidden","false",1,"iconButton",3,"click"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," calendar_month "),h(),f(3," Time "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"h3")(8,"span"),f(9," How will you spend your days? "),h(),u(10,"mat-icon",3),D("click",function(){return r.pauseClick()}),f(11," pause "),h(),u(12,"mat-icon",4),D("click",function(){return r.slowClick()}),f(13," slow_motion_video "),h(),u(14,"mat-icon",5),N(15,"number"),D("click",function(){return r.standardClick()}),f(16," play_arrow "),h(),H(17,lJ,3,8,"mat-icon",6)(18,dJ,3,8,"mat-icon",7)(19,uJ,3,8,"mat-icon",8)(20,hJ,2,0,"mat-icon",9),u(21,"h6")(22,"input",10),D("change",function(a){return r.useSavedTicks(a)}),h(),u(23,"label",11),f(24),N(25,"number"),h()()(),u(26,"div",12),H(27,pJ,5,1,"table",13),u(28,"table"),H(29,gJ,2,1,"ng-container",14),h()()(),G(30,"div",15)),2&n&&(P("ngClass",De(20,sJ,!r.gameStateService.lockPanels)),g(10),P("ngClass",De(22,Qs,r.mainLoopService.pause)),g(2),P("ngClass",De(24,Qs,40===r.mainLoopService.tickDivider&&!r.mainLoopService.pause)),g(2),Ze("matTooltip","Standard Game Speed (",Pt(15,14,r.mainLoopService.getTPS(10),"1.0-2")," days/sec).\n      Hotkey: Alt-2"),P("ngClass",De(26,Qs,10===r.mainLoopService.tickDivider&&!r.mainLoopService.pause)),g(3),I(r.mainLoopService.unlockFastSpeed?17:-1),g(),I(r.mainLoopService.unlockFasterSpeed?18:-1),g(),I(r.mainLoopService.unlockFastestSpeed?19:-1),g(),I(r.activityService.autoRestart?20:-1),g(2),P("checked",r.mainLoopService.useBankedTicks),g(2),V("Use banked time to accelerate reality (10x). ",Pt(25,17,r.mainLoopService.bankedTicks,"1.0-0")," time ticks left."),g(3),I(r.characterService.characterState.manaUnlocked?27:-1),g(2),P("ngForOf",r.activityService.activityLoop))},dependencies:[Zt,vl,hd,Xs,on,oi,wt,ks],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const bJ=t=>({draggableCursor:t});function yJ(t,i){if(1&t&&(u(0,"div",7),N(1,"bigNumber"),N(2,"bigNumber"),u(3,"mat-icon"),f(4),h(),u(5,"span"),f(6),N(7,"camelToTitle"),h()()),2&t){const e=S().$implicit;Qu("matTooltip","",e.value.description," Your aptitude of ",U(1,6,e.value.aptitude)," multiplies your gains by ",U(2,8,e.value.aptitudeMult),"."),g(4),ke(e.value.icon),g(2),V(" ",U(7,10,e.key),": ")}}function _J(t,i){if(1&t&&H(0,yJ,8,12,"div",7),2&t){const e=i.$implicit,n=S();I(0!==e.value.value||n.character.highestAttributes[e.key]?0:-1)}}function SJ(t,i){if(1&t){const e=q();u(0,"span",9),D("@popupText.done",function(r){T(e);const o=S(2).$implicit;return E(S().animationDoneEvent(r,o.key))}),f(1),N(2,"bigNumber"),h()}if(2&t){const e=i.$implicit;P("@popupText",e),g(),V("+",U(2,2,e),"")}}function wJ(t,i){if(1&t&&(u(0,"div",8)(1,"span"),f(2),N(3,"bigNumber"),h(),We(4,SJ,3,4,"span",9,_t),h()),2&t){const e=S().$implicit,n=S();g(2),V(" ",U(3,1,e.value.value)," "),g(2),Ke(n.getAttributeUpdates(e.key))}}function CJ(t,i){if(1&t&&H(0,wJ,6,3,"div",8),2&t){const e=i.$implicit,n=S();I(0!==e.value.value||n.character.highestAttributes[e.key]?0:-1)}}let kJ=(()=>{class t{constructor(e,n,r,o){this.characterService=e,this.dialog=n,this.gameStateService=r,this.mainLoopService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState,this.attributeUpdates={strength:[],toughness:[],speed:[],intelligence:[],charisma:[],spirituality:[],earthLore:[],metalLore:[],woodLore:[],waterLore:[],fireLore:[],animalHandling:[],combatMastery:[],magicMastery:[]},this.mainLoopService.longTickSubject.subscribe(()=>{if(this.popupCounter<1)this.popupCounter++;else{this.popupCounter=0;for(const a in this.character.attributeUpdates){const s=a;0!==this.character.attributeUpdates[s]&&(this.attributeUpdates[s].push(this.character.attributeUpdates[s]),this.character.attributeUpdates[s]=0)}}})}animationDoneEvent(e,n){const r=n;for(;this.attributeUpdates[r].length>0;)this.attributeUpdates[r].pop()}getAttributeUpdates(e){return this.attributeUpdates[e]}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(ri),y(bt),y(ft))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-attributes-panel"]],decls:17,vars:9,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life.",1,"panelHelp"],[1,"attributesContainer"],[1,"attributesTable"],[1,"attributeColumn"],[1,"attributeColumn","growColumn"],[1,"panelResizeHandle"],[1,"attributeLine",3,"matTooltip"],[1,"attributeLine"],[1,"popupText"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," bar_chart "),h(),f(3," Attributes "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"div",3)(8,"div",4),We(9,_J,1,1,null,null,_t),N(11,"keyvalue"),h(),u(12,"div",5),We(13,CJ,1,1,null,null,_t),N(15,"keyvalue"),h()()(),G(16,"div",6)),2&n&&(P("ngClass",De(7,bJ,!r.gameStateService.lockPanels)),g(9),Ke(Pt(11,1,r.character.attributes,r.originalOrder)),g(4),Ke(Pt(15,4,r.character.attributes,r.originalOrder)))},dependencies:[Zt,on,oi,wt,Mh,ao,Vt],styles:["h3[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.attributesContainer[_ngcontent-%COMP%]{display:flex;overflow-y:auto;overflow-x:visible}.attributesTable[_ngcontent-%COMP%]{flex:1;border-collapse:collapse;margin-left:4px;margin-right:4px;display:flex}.attributeColumn[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.growColumn[_ngcontent-%COMP%]{flex-grow:1}.attributeLine[_ngcontent-%COMP%]{height:20px;margin-top:2px;padding-bottom:2px;border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"],data:{animation:[js("popupText",[Hn("in",St({position:"fixed"})),Vn(":leave",[Bn(1e3,bI([St({transform:"translate(0%, 0%)"}),St({transform:"translate(100%, -150%)"})]))])])]}})}return t})();function DJ(t,i){if(1&t){const e=q();u(0,"tr")(1,"td"),f(2),N(3,"camelToTitle"),h(),u(4,"td"),f(5),h(),u(6,"td",10),f(7,"Keep up to "),u(8,"input",11),D("change",function(r){T(e);const o=S().$implicit;return E(S().keepValueChanged(r,o.key))}),h()()()}if(2&t){const e=S().$implicit,n=S();g(2),ke(U(3,6,e.key)),g(3),ke(e.value.description),g(),Yr("matTooltip","This value will only apply to new ",n.followerType,"s. You'll have to dismiss current ",n.followerType,"s yourself."),g(2),X("value",void 0===n.maxFollowerByType[e.key]?1e3:n.maxFollowerByType[e.key])}}function xJ(t,i){if(1&t&&H(0,DJ,9,8,"tr"),2&t){const e=i.$implicit,n=S();I(e.value.hidden||e.value.pet!==n.pets&&(e.value.pet||n.pets)?-1:0)}}let RO=(()=>{class t{constructor(e,n){this.data=e,this.followerService=n,this.changeAll=0,this.pets=!1,this.followerType="Follower",this.pets=e.pets,this.followers=n.followers,this.followerCap=n.followerCap,this.maxFollowerByType=n.maxFollowerByType,this.pets&&(this.followerType="Pet",this.followers=n.pets,this.followerCap=n.petsCap,this.maxFollowerByType=n.maxPetsByType)}getTotalAssingments(){let e=0;for(const n in this.followerService.jobs)!this.followerService.jobs[n].hidden&&(this.followerService.jobs[n].pet===this.pets||!this.followerService.jobs[n].pet&&!this.pets)&&(this.maxFollowerByType[n]?e+=this.maxFollowerByType[n]:0!==this.maxFollowerByType[n]&&(e+=1e3));return e}changeAllChanged(e){e.target instanceof HTMLInputElement&&(this.changeAll=parseInt(e.target.value))}changeAllClicked(){for(const e in this.followerService.jobs)this.pets&&this.followerService.jobs[e].pet?this.followerService.setMaxPets(e,this.changeAll):!this.pets&&!this.followerService.jobs[e].pet&&this.followerService.setMaxFollowers(e,this.changeAll)}keepValueChanged(e,n){e.target instanceof HTMLInputElement&&(this.pets?this.followerService.setMaxPets(n,parseInt(e.target.value)):this.followerService.setMaxFollowers(n,parseInt(e.target.value)))}sortAscSwitch(){this.followerService.sortAscending=!this.followerService.sortAscending}sortOrderChanged(e){e.target instanceof HTMLSelectElement&&(this.followerService.sortField=e.target.value,this.followerService.sortFollowers(this.followerService.sortAscending,this.pets))}dismissAllClicked(){this.followerService.dismissAllFollowers(void 0,this.pets)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Wl),y(Tt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-follower-management-panel"]],decls:43,vars:15,consts:[[1,"darkMode"],[1,"topInfo"],[3,"click"],["matTooltip","Set a number to change all of the limits to."],["min","0","max","1000","value","0","type","number",1,"inputBox",3,"change"],["name","sortOrder","id","sortOrder",3,"change"],[3,"selected"],["type","checkbox","id","followerSort",3,"change","checked"],["for","followerSort"],[1,"scrollingDiv"],[3,"matTooltip"],["min","0","max","1000","type","number",1,"inputBox",3,"change","value"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2),h(),G(3,"hr"),u(4,"div",1)(5,"span"),f(6),h(),u(7,"span")(8,"button",2),D("click",function(){return r.dismissAllClicked()}),f(9),h()()(),u(10,"div",1)(11,"span",3),f(12,"Set limit on all to "),u(13,"input",4),D("change",function(a){return r.changeAllChanged(a)}),h(),f(14),u(15,"button",2),D("click",function(){return r.changeAllClicked()}),f(16,"Change All"),h()()(),u(17,"div",1)(18,"span"),f(19," Sort followers by "),u(20,"select",5),D("change",function(a){return r.sortOrderChanged(a)}),u(21,"option",6),f(22,"Name"),h(),u(23,"option",6),f(24,"Type"),h(),u(25,"option",6),f(26,"Age"),h(),u(27,"option",6),f(28,"Power"),h(),u(29,"option",6),f(30,"Remaining Life"),h()(),u(31,"span")(32,"input",7),D("change",function(){return r.sortAscSwitch()}),h(),u(33,"label",8),f(34,"Sort Ascending"),h()()()(),u(35,"div",9)(36,"table"),We(37,xJ,1,1,null,null,_t),N(39,"keyvalue"),h()(),G(40,"br"),u(41,"span"),f(42),h()()),2&n&&(g(2),V("Manage ",r.followerType,"s"),g(4),Vo(" You are currently supporting ",r.followers.length," ",r.followerType,"(s). You can support up to ",r.followerCap,". "),g(3),V("Dismiss All ",r.followerType,"s"),g(5),V(" ",r.followerType,"(s). "),g(7),P("selected","Name"===r.followerService.sortField),g(2),P("selected","Job"===r.followerService.sortField),g(2),P("selected","Age"===r.followerService.sortField),g(2),P("selected","Power"===r.followerService.sortField),g(2),P("selected","Remaining Life"===r.followerService.sortField),g(3),P("checked",r.followerService.sortAscending),g(5),Ke(U(39,13,r.followerService.jobs)),g(5),V("Total assignments: ",r.getTotalAssingments(),""))},dependencies:[Qy,e_,wt,Mh,ao],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[type=number][_ngcontent-%COMP%]{width:80px}.topInfo[_ngcontent-%COMP%]{margin-top:4px;padding-bottom:4px;border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const MJ=t=>({draggableCursor:t});function TJ(t,i){if(1&t){const e=q();u(0,"mat-icon",8),D("click",function(){return T(e),E(S().followerOptionsClicked())}),f(1," settings "),h()}}function EJ(t,i){if(1&t){const e=q();Lo(0),u(1,"div",9)(2,"span",10),N(3,"titlecase"),N(4,"bigNumber"),N(5,"bigNumber"),N(6,"bigNumber"),f(7),N(8,"titlecase"),N(9,"camelToTitle"),h(),u(10,"mat-icon",11),D("click",function(r){const o=T(e).$implicit;return E(S().dismissFollower(r,o))}),f(11," cancel "),h()(),Bo()}if(2&t){const e=i.$implicit,n=S();g(2),Ju("matTooltip","",e.name," is a level ",e.power," ",U(3,13,e.job),". ",n.followerService.jobs[e.job].description,"\n                ",e.name," has followed you for ",U(4,15,e.age/365)," years and will serve for another ",U(5,17,(e.lifespan-e.age)/365)," more years. Daily cost: ",U(6,19,e.cost),""),g(5),Vo(" ",U(8,21,e.name)," (lv.",e.power," ",U(9,23,e.job),") "),g(3),P("matTooltip",n.followerService.autoDismissUnlocked?"Dismiss this follower.\n                Shift-click to automatically dismiss everyone of this job type.\n                Ctrl-click to set the current number as the limit without dismissing.":"Dismiss this follower.")}}let IJ=(()=>{class t{constructor(e,n,r,o){this.characterService=e,this.dialog=n,this.gameStateService=r,this.followerService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(RO,{width:"700px",data:{pets:!1},autoFocus:!1})}dismissFollower(e,n){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(n):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(n):this.followerService.dismissFollower(n)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(ri),y(bt),y(Tt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-followers-panel"]],decls:14,vars:8,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of.",1,"panelHelp"],[3,"ngClass"],["aria-label","Manage Followers","aria-hidden","false","matTooltip","Manage your followers.",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[4,"ngFor","ngForOf"],[1,"panelResizeHandle"],["aria-label","Manage Followers","aria-hidden","false","matTooltip","Manage your followers.",1,"iconButton","optionsIcon",3,"click"],[1,"attributeLine"],[1,"followerName",3,"matTooltip"],["aria-label","Dismiss Follower","aria-hidden","false",1,"smallerIcon",3,"click","matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," groups "),h(),f(3," Followers "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3")(7,"span",2),f(8),h(),H(9,TJ,2,0,"mat-icon",3),h(),u(10,"div",4)(11,"div",5),H(12,EJ,12,25,"ng-container",6),h()(),G(13,"div",7)),2&n&&(P("ngClass",De(6,MJ,!r.gameStateService.lockPanels)),g(7),P("ngClass",r.followerService.followersMaxed),g(),mn(" \xa0(",r.followerService.followers.length," / ",r.followerService.followerCap,") "),g(),I(r.followerService.autoDismissUnlocked?9:-1),g(3),P("ngForOf",r.followerService.followers))},dependencies:[Zt,vl,on,oi,wt,Qi,ao,Vt],styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.followersContainer[_ngcontent-%COMP%]{overflow-y:scroll}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const AJ=t=>({draggableCursor:t});function PJ(t,i){if(1&t){const e=q();u(0,"mat-icon",8),D("click",function(){return T(e),E(S().followerOptionsClicked())}),f(1," settings "),h()}}function OJ(t,i){if(1&t){const e=q();Lo(0),u(1,"div",9)(2,"span",10),N(3,"titlecase"),N(4,"bigNumber"),N(5,"bigNumber"),N(6,"bigNumber"),f(7),N(8,"titlecase"),N(9,"camelToTitle"),h(),u(10,"mat-icon",11),D("click",function(r){const o=T(e).$implicit;return E(S().dismissFollower(r,o))}),f(11," cancel "),h()(),Bo()}if(2&t){const e=i.$implicit,n=S();g(2),Ju("matTooltip","",e.name," is a level ",e.power," ",U(3,13,e.job),". ",n.followerService.jobs[e.job].description,"\n                ",e.name," has followed you for ",U(4,15,e.age/365)," years and will serve for another ",U(5,17,(e.lifespan-e.age)/365)," more years. Daily cost: ",U(6,19,e.cost),""),g(5),Vo(" ",U(8,21,e.name)," (lv.",e.power," ",U(9,23,e.job),") "),g(3),P("matTooltip",n.followerService.autoDismissUnlocked?"Dismiss this pet.\n                Shift-click to automatically dismiss every pet of this type.\n                Ctrl-click to set the current number as the limit without dismissing.":"Dismiss this pet.")}}let RJ=(()=>{class t{constructor(e,n,r,o){this.characterService=e,this.dialog=n,this.gameStateService=r,this.followerService=o,this.popupCounter=0,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(RO,{width:"700px",data:{pets:!0},autoFocus:!1})}dismissFollower(e,n){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(n):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissAllFollowers(n,!0):this.followerService.dismissFollower(n)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(ri),y(bt),y(Tt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-pets-panel"]],decls:14,vars:8,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Your pets can aid you in many ways. Each has a specific skill that they will use to your benefit.",1,"panelHelp"],[3,"ngClass"],["aria-label","Manage Pets","aria-hidden","false","matTooltip","Manage your pets.",1,"iconButton","optionsIcon"],[1,"followersContainer"],[1,"followerPanel"],[4,"ngFor","ngForOf"],[1,"panelResizeHandle"],["aria-label","Manage Pets","aria-hidden","false","matTooltip","Manage your pets.",1,"iconButton","optionsIcon",3,"click"],[1,"attributeLine"],[1,"followerName",3,"matTooltip"],["aria-label","Dismiss Pet","aria-hidden","false",1,"smallerIcon",3,"click","matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," pets "),h(),f(3," Pets "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3")(7,"span",2),f(8),h(),H(9,PJ,2,0,"mat-icon",3),h(),u(10,"div",4)(11,"div",5),H(12,OJ,12,25,"ng-container",6),h()(),G(13,"div",7)),2&n&&(P("ngClass",De(6,AJ,!r.gameStateService.lockPanels)),g(7),P("ngClass",r.followerService.followersMaxed),g(),mn(" \xa0(",r.followerService.pets.length," / ",r.followerService.petsCap,") "),g(),I(r.followerService.autoDismissUnlocked?9:-1),g(3),P("ngForOf",r.followerService.pets))},dependencies:[Zt,vl,on,oi,wt,Qi,ao,Vt],styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}span[_ngcontent-%COMP%]{font-size:14px}.followersContainer[_ngcontent-%COMP%]{overflow-y:scroll}.followerPanel[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top;font-size:12px}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}.attributeValueCell[_ngcontent-%COMP%]{position:relative}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);color:var(--popupTextColor);z-index:10000;font-size:x-small}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const FJ=t=>({draggableCursor:t});function NJ(t,i){if(1&t&&(u(0,"span"),f(1),N(2,"number"),h()),2&t){const e=S();g(),V(", ",Pt(2,1,e.characterService.characterState.age%365,"1.0-0")," days")}}function LJ(t,i){1&t&&(u(0,"td",2),f(1," You expect to live forever. "),h())}function BJ(t,i){if(1&t&&(u(0,"td",2),f(1),N(2,"number"),h()),2&t){const e=S();g(),V(" You expect to live ",Pt(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}function HJ(t,i){if(1&t&&(u(0,"div",10),N(1,"bigNumber"),N(2,"bigNumber"),function C0(){de.lFrame.currentNamespace=a0}(),u(3,"svg",12)(4,"defs")(5,"filter",13),G(6,"feGaussianBlur",14),h()(),G(7,"circle",15)(8,"circle",16)(9,"path",17)(10,"circle",18)(11,"circle",19),h()()),2&t){const e=S();Qu("matTooltip","Yang: ",U(1,12,e.characterService.characterState.yang),"\n    Yin: ",U(2,14,e.characterService.characterState.yin),"\n    Your balance is ",e.balanceString,"."),g(3),ti("fill",e.yinColor),g(5),ti("fill",e.yangColor),g(2),ti("fill",e.yinColor),g(),ti("fill",e.yangColor)}}let VJ=(()=>{class t{constructor(e,n,r){this.characterService=e,this.gameStateService=n,this.mainLoopService=r,this.yinColor="#000000",this.yangColor="#ffffff",this.balanceString="perfect",this.flashHealth=!1,this.flashStamina=!1,this.flashMana=!1,this.flashNutrition=!1,this.Math=Math,r.longTickSubject.subscribe(()=>{this.updateYinYang(),this.flashHealth=this.characterService.characterState.statusToFlash.includes("health"),this.flashStamina=this.characterService.characterState.statusToFlash.includes("stamina"),this.flashMana=this.characterService.characterState.statusToFlash.includes("mana"),this.flashNutrition=this.characterService.characterState.statusToFlash.includes("nourishment"),this.characterService.characterState.statusToFlash=[]})}updateYinYang(){if(!this.characterService.characterState.yinYangUnlocked)return;let e=this.characterService.characterState.yang,n=this.characterService.characterState.yin;if(n<1&&(n=1),e<1&&(e=1),e>=n){this.yangColor="#ffffff";const c=(255-Math.round(n/e*255)).toString(16);this.yinColor="#"+c+c+c}else{this.yinColor="#000000";const c=Math.round(e/n*255).toString(16);this.yangColor="#"+c+c+c}const r=["perfect","exceptional","excellent","good","fair","poor","terrible","abysmal","non-existent"],o=Math.max(Math.abs(e-n)/((e+n)/2)*1e4,1),a=Math.min(Math.floor(Math.log(o)/Math.log(5)),r.length-1);this.balanceString=r[a]}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(bt),y(ft))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-health-panel"]],decls:53,vars:50,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Maintaining your health is an important part of becoming immortal. If your health reaches 0, you will die and need to try for immortality once you are reincarnated in your next life.",1,"panelHelp"],[1,"headerCell"],[3,"matTooltip"],[1,"healthPanelContents"],[1,"health"],[1,"progress-bar",3,"ngClass"],[1,"stamina"],[1,"nourishment"],[1,"mana"],[1,"yinYang",3,"matTooltip"],[1,"panelResizeHandle"],["xmlns","http://www.w3.org/2000/svg","width","250","height","250","viewBox","0 0 1250 1250"],["id","f"],["stdDeviation","3.5"],["cx","125","cy","125","r","116.6","fill","#7f7f7f","opacity","0.5","filter","url(#f)"],["cx","125","cy","125","r","113.2"],["d","m125,11.8 a56.6,56.6 0 0 1 0,113.2 56.6,56.6 0 0 0 0,113.2 113.2,113.2 0 0 0 0,-226.4"],["cx","125","cy","68.4","r","17.6"],["cx","125","cy","181.6","r","17.6"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," favorite "),h(),f(3," Health "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3")(7,"table")(8,"tr")(9,"td",2),f(10),N(11,"floor"),H(12,NJ,3,4,"span"),f(13," old. "),h(),H(14,LJ,2,0,"td",2)(15,BJ,3,4,"td",2),u(16,"td")(17,"mat-icon",3),f(18,"timer"),h()()()()(),u(19,"div",4)(20,"table")(21,"tr")(22,"td",3),f(23,"Health"),h(),u(24,"td",5)(25,"div",6),N(26,"bigNumber"),N(27,"bigNumber"),G(28,"span"),h()(),u(29,"td",3),f(30,"Stamina"),h(),u(31,"td",7)(32,"div",6),N(33,"bigNumber"),N(34,"bigNumber"),G(35,"span"),h()()(),u(36,"tr")(37,"td",3),f(38,"Nutrition"),h(),u(39,"td",8)(40,"div",6),N(41,"bigNumber"),N(42,"bigNumber"),G(43,"span"),h()(),u(44,"td",3),f(45,"Mana"),h(),u(46,"td",9)(47,"div",6),N(48,"bigNumber"),N(49,"bigNumber"),G(50,"span"),h()()()(),H(51,HJ,12,16,"div",10),h(),G(52,"div",11)),2&n&&(P("ngClass",De(48,FJ,!r.gameStateService.lockPanels)),g(10),V(" You are ",U(11,30,r.characterService.characterState.age/365)," years"),g(2),I(r.characterService.characterState.age<365e4?12:-1),g(2),I(r.characterService.characterState.immortal?14:15),g(3),X("matTooltip",r.characterService.lifespanTooltip),g(5),X("matTooltip",r.characterService.characterState.status.health.description),g(3),P("ngClass",r.flashHealth?"flash":""),Ge("value",U(26,32,r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.health.value<0?0:r.characterService.characterState.status.health.value)))("max",U(27,34,r.Math.floor(r.characterService.characterState.status.health.max))),g(3),ti("width",100*r.Math.floor(r.characterService.characterState.immortal&&r.characterService.characterState.status.health.value<0?0:r.characterService.characterState.status.health.value)/r.Math.floor(r.characterService.characterState.status.health.max),"%"),g(),X("matTooltip",r.characterService.characterState.status.stamina.description),g(3),P("ngClass",r.flashStamina?"flash":""),Ge("value",U(33,36,r.Math.floor(r.characterService.characterState.status.stamina.value)))("max",U(34,38,r.Math.floor(r.characterService.characterState.status.stamina.max))),g(3),ti("width",100*r.Math.floor(r.characterService.characterState.status.stamina.value)/r.Math.floor(r.characterService.characterState.status.stamina.max),"%"),g(2),X("matTooltip",r.characterService.characterState.status.nourishment.description),g(3),P("ngClass",r.flashNutrition?"flash":""),Ge("value",U(41,40,r.Math.floor(r.characterService.characterState.status.nourishment.value)))("max",U(42,42,r.Math.floor(r.characterService.characterState.status.nourishment.max))),g(3),ti("width",100*r.Math.floor(r.characterService.characterState.status.nourishment.value)/r.Math.floor(r.characterService.characterState.status.nourishment.max),"%"),g(),X("matTooltip",r.characterService.characterState.status.mana.description),g(3),P("ngClass",r.flashMana?"flash":""),Ge("value",U(48,44,r.Math.floor(r.characterService.characterState.status.mana.value)))("max",U(49,46,r.Math.floor(r.characterService.characterState.status.mana.max))),g(3),ti("width",100*r.Math.floor(r.characterService.characterState.status.mana.value)/r.Math.floor(r.characterService.characterState.status.mana.max),"%"),g(),I(r.characterService.characterState.yinYangUnlocked?51:-1))},dependencies:[Zt,on,oi,wt,ks,WZ,Vt],styles:[".progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--manaColor)}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}.yinYang[_ngcontent-%COMP%]{width:50px;max-width:50px;height:50px;max-height:50px;overflow:hidden}.healthPanelContents[_ngcontent-%COMP%]{display:flex;flex-direction:row}.flash[_ngcontent-%COMP%]{box-shadow:0 0 5px 5px #48abe0;transition:box-shadow ease-out .5s}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const cp=t=>({ownedItem:t});function UJ(t,i){if(1&t&&(u(0,"div"),f(1),N(2,"number"),h()),2&t){const e=S().$implicit,n=S(2);g(),V("$ ",Pt(2,1,n.storeService.furniturePrices[e.name],"1.0-0"),"")}}function jJ(t,i){if(1&t){const e=q();u(0,"div")(1,"div",2)(2,"div")(3,"mat-icon"),f(4),h()(),u(5,"div"),f(6),N(7,"titlecase"),h(),H(8,UJ,3,4,"div"),h(),u(9,"button",3),D("click",function(){const r=T(e).$implicit;return E(S(2).storeService.buyFurniture(r))}),f(10),h()()}if(2&t){const e=i.$implicit,n=S(2);g(),X("matTooltip",e.description),P("ngClass",De(8,cp,n.homeService.furniture[e.slot]===e)),g(3),ke(e.slot),g(2),ke(U(7,6,e.name)),g(2),I(n.storeService.furniturePrices[e.name]?8:-1),g(2),V(" ",n.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function zJ(t,i){if(1&t&&(u(0,"div")(1,"span"),f(2,"Bed"),h(),G(3,"hr"),u(4,"div",1),We(5,jJ,11,10,"div",null,_t),h()()),2&t){const e=S();g(5),Ke(e.storeService.getFurnitureForSlot("bed"))}}function qJ(t,i){if(1&t&&(u(0,"div"),f(1),N(2,"number"),h()),2&t){const e=S().$implicit,n=S(2);g(),V("$ ",Pt(2,1,n.storeService.furniturePrices[e.name],"1.0-0"),"")}}function $J(t,i){if(1&t){const e=q();u(0,"div")(1,"div",2)(2,"div")(3,"mat-icon"),f(4),h()(),u(5,"div"),f(6),N(7,"titlecase"),h(),H(8,qJ,3,4,"div"),h(),u(9,"button",3),D("click",function(){const r=T(e).$implicit;return E(S(2).storeService.buyFurniture(r))}),f(10),h()()}if(2&t){const e=i.$implicit,n=S(2);g(),X("matTooltip",e.description),P("ngClass",De(8,cp,n.homeService.furniture[e.slot]===e)),g(3),ke(e.slot),g(2),ke(U(7,6,e.name)),g(2),I(n.storeService.furniturePrices[e.name]?8:-1),g(2),V(" ",n.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function GJ(t,i){if(1&t&&(u(0,"div")(1,"span"),f(2,"Bathtub"),h(),G(3,"hr"),u(4,"div",1),We(5,$J,11,10,"div",null,_t),h()()),2&t){const e=S();g(5),Ke(e.storeService.getFurnitureForSlot("bathtub"))}}function YJ(t,i){if(1&t&&(u(0,"div"),f(1),N(2,"number"),h()),2&t){const e=S().$implicit,n=S(2);g(),V("$ ",Pt(2,1,n.storeService.furniturePrices[e.name],"1.0-0"),"")}}function WJ(t,i){if(1&t){const e=q();u(0,"div")(1,"div",2)(2,"div")(3,"mat-icon"),f(4),h()(),u(5,"div"),f(6),N(7,"titlecase"),h(),H(8,YJ,3,4,"div"),h(),u(9,"button",3),D("click",function(){const r=T(e).$implicit;return E(S(2).storeService.buyFurniture(r))}),f(10),h()()}if(2&t){const e=i.$implicit,n=S(2);g(),X("matTooltip",e.description),P("ngClass",De(8,cp,n.homeService.furniture[e.slot]===e)),g(3),ke(e.slot),g(2),ke(U(7,6,e.name)),g(2),I(n.storeService.furniturePrices[e.name]?8:-1),g(2),V(" ",n.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function KJ(t,i){if(1&t&&(u(0,"div")(1,"span"),f(2,"Kitchen"),h(),G(3,"hr"),u(4,"div",1),We(5,WJ,11,10,"div",null,_t),h()()),2&t){const e=S();g(5),Ke(e.storeService.getFurnitureForSlot("kitchen"))}}function ZJ(t,i){if(1&t&&(u(0,"div"),f(1),N(2,"number"),h()),2&t){const e=S().$implicit,n=S(2);g(),V("$ ",Pt(2,1,n.storeService.furniturePrices[e.name],"1.0-0"),"")}}function XJ(t,i){if(1&t){const e=q();u(0,"div")(1,"div",2)(2,"div")(3,"mat-icon"),f(4),h()(),u(5,"div"),f(6),N(7,"titlecase"),h(),H(8,ZJ,3,4,"div"),h(),u(9,"button",3),D("click",function(){const r=T(e).$implicit;return E(S(2).storeService.buyFurniture(r))}),f(10),h()()}if(2&t){const e=i.$implicit,n=S(2);g(),X("matTooltip",e.description),P("ngClass",De(8,cp,n.homeService.furniture[e.slot]===e)),g(3),ke(e.slot),g(2),ke(U(7,6,e.name)),g(2),I(n.storeService.furniturePrices[e.name]?8:-1),g(2),V(" ",n.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function QJ(t,i){if(1&t&&(u(0,"div")(1,"span"),f(2,"Workbench"),h(),G(3,"hr"),u(4,"div",1),We(5,XJ,11,10,"div",null,_t),h()()),2&t){const e=S();g(5),Ke(e.storeService.getFurnitureForSlot("workbench"))}}let JJ=(()=>{class t{constructor(e,n,r,o,a,s){this.storeService=e,this.characterService=n,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}static#e=this.\u0275fac=function(n){return new(n||t)(y(na),y(Oe),y(pt),y(ie),y(tn),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-furniture-store-modal"]],decls:9,vars:4,consts:[[1,"darkMode","furnitureModal"],[1,"inventoryGrid"],["tabindex","0",1,"itemSlot",3,"ngClass","matTooltip"],[3,"click"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Furniture Shop"),h(),G(3,"hr")(4,"br"),H(5,zJ,7,0,"div")(6,GJ,7,0,"div")(7,KJ,7,0,"div")(8,QJ,7,0,"div"),h()),2&n&&(g(5),I(r.storeService.getFurnitureForSlot("bed").length>0?5:-1),g(),I(r.storeService.getFurnitureForSlot("bathtub").length>0?6:-1),g(),I(r.storeService.getFurnitureForSlot("kitchen").length>0?7:-1),g(),I(r.storeService.getFurnitureForSlot("workbench").length>0?8:-1))},dependencies:[Zt,oi,wt,ks,Qi],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;max-height:600px}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]})}return t})();function eee(t,i){if(1&t&&(u(0,"div")(1,"div",6)(2,"div"),f(3),N(4,"titlecase"),h(),u(5,"div"),f(6),h(),u(7,"div"),f(8),N(9,"percent"),h()()()),2&t){const e=i.$implicit;g(),Yr("matTooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),g(2),ke(U(4,6,e.cropName)),g(3),ke(e.yield),g(2),ke(U(9,8,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let tee=(()=>{class t{constructor(e,n,r){this.homeService=e,this.characterService=n,this.gameStateService=r}clearClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey||e.altKey?this.homeService.clearField(10):e.ctrlKey||e.metaKey?this.homeService.clearField(-1):this.homeService.clearField()}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey||e.altKey?10:e.ctrlKey||e.metaKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey||e.altKey?this.homeService.addField(10):e.ctrlKey||e.metaKey?this.homeService.addField(-1):this.homeService.addField()}static#e=this.\u0275fac=function(n){return new(n||t)(y(pt),y(Oe),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-farm-panel"]],decls:19,vars:10,consts:[[1,"darkMode"],[1,"yieldText"],["aria-label","Buy Land","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Plow Field","aria-hidden","false","matTooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["aria-label","Clear Field","aria-hidden","false","matTooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],["tabindex","0",1,"itemSlot",3,"matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Your Farm"),h(),G(3,"hr"),u(4,"div",1)(5,"span"),f(6),N(7,"bigNumber"),N(8,"bigNumber"),h(),u(9,"mat-icon",2),N(10,"bigNumber"),D("click",function(a){return r.buyClicked(a)}),f(11," add "),h(),u(12,"mat-icon",3),D("click",function(a){return r.plowClicked(a)}),f(13," waves "),h(),u(14,"mat-icon",4),D("click",function(a){return r.clearClicked(a)}),f(15," delete_sweep "),h()(),u(16,"div",5),We(17,eee,10,10,"div",null,_t),h()()),2&n&&(g(6),mn("Your ",U(7,4,r.homeService.fields.length+r.homeService.extraFields)," fields produced an average of ",U(8,6,r.homeService.averageYield)," food per day over the last year."),g(3),Ze("matTooltip","Buy a plot of land for ",U(10,8,r.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),g(8),Ke(r.homeService.fields))},dependencies:[oi,wt,Th,Qi,Vt],styles:[".itemSlot[_ngcontent-%COMP%]{width:42px;height:42px;padding:2px;line-height:12px}.farmGrid[_ngcontent-%COMP%]{width:670px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;gap:2px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const iee=t=>({draggableCursor:t}),nee=t=>({hellDisabled:t});function ree(t,i){if(1&t&&(u(0,"div",6)(1,"span"),f(2),N(3,"bigNumber"),h()()),2&t){const e=S(2);g(2),mn("It costs ",U(3,2,e.homeService.home.costPerDay)," ",1===e.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home")}}function oee(t,i){1&t&&G(0,"div",10),2&t&&Ze("matTooltip","You don't own a ",S().$implicit,", but your home could hold one.")}function aee(t,i){if(1&t&&(u(0,"div",11),f(1),N(2,"titlecase"),h()),2&t){const e=S().$implicit,n=S(3);X("matTooltip",null==n.homeService.furniture[e]?null:n.homeService.furniture[e].description),g(),ke(U(2,2,null==n.homeService.furniture[e]?null:n.homeService.furniture[e].name))}}function see(t,i){if(1&t&&(u(0,"div"),H(1,oee,1,2,"div",10)(2,aee,3,4,"div",11),h()),2&t){const e=i.$implicit,n=S(3);g(),I(n.homeService.furniture[e]?-1:1),g(),I(n.homeService.furniture[e]?2:-1)}}function cee(t,i){if(1&t&&(u(0,"div",7),We(1,see,3,2,"div",null,_t),h()),2&t){const e=S(2);g(),Ke(e.homeService.home.furnitureSlots)}}function lee(t,i){1&t&&(u(0,"div",7)(1,"span",12),f(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),h()())}function dee(t,i){if(1&t){const e=q();u(0,"mat-icon",16),D("click",function(){return T(e),E(S(3).homeService.upgradeToNextHome())}),f(1," add_business "),h()}2&t&&X("matTooltip",S(3).homeService.nextHome.upgradeToTooltip)}function uee(t,i){if(1&t){const e=q();u(0,"mat-icon",17),D("click",function(){return T(e),E(S(3).storeClicked())}),f(1," shopping_cart "),h()}}function hee(t,i){if(1&t&&(u(0,"div",18),G(1,"span"),h(),G(2,"span",19)),2&t){const e=S(3);Ge("value",e.buildTimeYears()),g(),ti("width",100*e.homeService.houseBuildingProgress,"%")}}function mee(t,i){if(1&t){const e=q();u(0,"div",9)(1,"mat-icon",13),N(2,"bigNumber"),D("click",function(r){return T(e),E(S(2).buyClicked(r))}),f(3," add "),h(),H(4,dee,2,1,"mat-icon",14)(5,uee,2,0,"mat-icon",15)(6,hee,3,3),h()}if(2&t){const e=S(2);g(),Ze("matTooltip","Buy a plot of land for ",U(2,5,e.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),g(3),I(e.homeService.home.name!==e.homeService.nextHome.name?4:-1),g(),I(e.homeService.home.furnitureSlots.length?5:-1),g(),I(e.homeService.upgrading?6:-1)}}function pee(t,i){if(1&t){const e=q();u(0,"div",9)(1,"mat-icon",20),D("click",function(){return T(e),E(S(2).farmClicked())}),f(2,"grass"),h(),u(3,"mat-icon",21),D("click",function(r){return T(e),E(S(2).plowClicked(r))}),f(4," waves "),h()()}}function fee(t,i){if(1&t&&(u(0,"div",2)(1,"div",5),H(2,ree,4,4,"div",6),u(3,"div",6)(4,"span"),f(5),N(6,"bigNumber"),N(7,"bigNumber"),h()(),H(8,cee,3,0,"div",7)(9,lee,3,0,"div",7),h(),u(10,"div",8),H(11,mee,7,7,"div",9)(12,pee,5,0,"div",9),h()()),2&t){const e=S();g(2),I(e.hellService.inHell||e.characterService.characterState.god?-1:2),g(3),Vo("You own ",U(6,8,e.homeService.land)," open ",1===e.homeService.land?"plot":"plots"," of land and ",U(7,10,e.homeService.fields.length+e.homeService.extraFields)," fields"),g(3),I(e.homeService.home.furnitureSlots.length>0&&(!e.hellService.inHell||e.homeService.hellHome)?8:-1),g(),I(0===e.homeService.home.furnitureSlots.length?9:-1),g(2),I(!e.hellService.inHell||e.homeService.hellHome?11:-1),g(),I(!e.hellService.inHell||e.homeService.hellFood?12:-1)}}let gee=(()=>{class t{constructor(e,n,r,o,a,s,c,l){this.characterService=e,this.homeService=n,this.followerService=r,this.hellService=o,this.dialog=a,this.storeService=s,this.gameStateService=c,this.bignumber=l,this.character=e.characterState,this.Math=Math}buildTimeYears(){return this.bignumber.transform((1-this.homeService.houseBuildingProgress)*this.homeService.nextHome.daysToBuild/(1+this.followerService.jobs.builder.totalPower)/365)+" years"}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(JJ,{width:"600px",data:{someField:"foo"},autoFocus:!1})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(tee,{width:"800px",data:{someField:"foo"},autoFocus:!1})}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey||e.altKey?10:e.ctrlKey||e.metaKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey||e.altKey?this.homeService.addField(10):e.ctrlKey||e.metaKey?this.homeService.addField(-1):this.homeService.addField()}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(pt),y(Tt),y(Pe),y(ri),y(na),y(bt),y(Vt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-home-panel"]],decls:12,vars:9,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development.",1,"panelHelp"],[1,"homeContainer"],[3,"matTooltip","ngClass"],[1,"panelResizeHandle"],[1,"overflow"],[1,"homeInfo"],[1,"furnitureSlots"],[1,"buttons"],[1,"button-group"],[1,"itemSlot",3,"matTooltip"],[1,"itemSlot","textOverflow",3,"matTooltip"],[1,"mouseWarning"],["aria-label","Buy Land","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Upgrade Home","aria-hidden","false",1,"iconButton",3,"matTooltip"],["aria-label","Buy Furniture","aria-hidden","false","matTooltip","Buy Furniture",1,"iconButton"],["aria-label","Upgrade Home","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Buy Furniture","aria-hidden","false","matTooltip","Buy Furniture",1,"iconButton",3,"click"],["matTooltip","Upgrading your home.",1,"progress-bar",2,"height","20px"],[2,"margin-left","4px"],["matTooltip","View your farm.","aria-label","View Farm","aria-hidden","false",1,"iconButton",3,"click"],["aria-label","Plow Field","aria-hidden","false","matTooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton",3,"click"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," home "),h(),f(3," Home "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"h3")(8,"div",3),f(9),h()(),H(10,fee,13,12,"div",2),h(),G(11,"div",4)),2&n&&(P("ngClass",De(5,iee,!r.gameStateService.lockPanels)),g(8),X("matTooltip",r.homeService.home.description),P("ngClass",De(7,nee,r.hellService.inHell)),g(),V(" You live in a ",r.homeService.home.name," "),g(),I(!r.hellService.inHell||r.homeService.hellHome||r.homeService.hellFood?10:-1))},dependencies:[Zt,on,oi,wt,Qi,Vt],styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding-left:2px;padding-right:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin-top:6px;margin-right:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between;white-space:nowrap}.button-group[_ngcontent-%COMP%]{white-space:nowrap}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{width:50px;height:50px}.progress-bar[_ngcontent-%COMP%]{width:180px;margin-left:4px;vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.hellDisabled[_ngcontent-%COMP%]{opacity:.3}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();function vee(t,i){1&t&&(u(0,"span",4),f(1," (new)"),h())}function bee(t,i){if(1&t){const e=q();u(0,"input",2),D("change",function(r){const o=T(e).$implicit;return E(S().topicFilter(r,o))}),h(),u(1,"label",3),f(2),H(3,vee,2,0,"span",4),h(),G(4,"br")}if(2&t){const e=i.$implicit,n=S();P("id","filter"+e)("checked",n.logService.topicProperties[e].enabled),g(),P("for","filter"+e),g(),V(" Show ",e," Log Entries "),g(),I(n.logService.topicProperties[e].hasNewMessages?3:-1)}}let yee=(()=>{class t{constructor(e){this.logService=e,this.logTopics=Object.values(C),this.LogTopic=C}topicFilter(e,n){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(n,e.target.checked)}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ei))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-log-filter-panel"]],decls:6,vars:0,consts:[[1,"darkMode"],[1,"filters"],["type","checkbox",3,"change","id","checked"],[3,"for"],[1,"highlightText"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2,"Log Filters"),h(),u(3,"span",1),We(4,bee,5,5,null,null,_t),h()()),2&n&&(g(4),Ke(r.logTopics))}})}return t})();const _ee=t=>({draggableCursor:t});function See(t,i){if(1&t&&(u(0,"span"),f(1),h()),2&t){const e=S().$implicit;g(),V(" (",e.repeat," times)")}}function wee(t,i){if(1&t&&(u(0,"div",7),f(1),H(2,See,2,1,"span"),h()),2&t){const e=i.$implicit;P("ngClass",e.type),g(),V(" ",e.message,""),g(),I(e.repeat?2:-1)}}let Cee=(()=>{class t{constructor(e,n,r){this.logService=e,this.gameStateService=n,this.dialog=r}topicFilter(e,n){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(n,e.target.checked)}logFilterClicked(){this.dialog.open(yee,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static#e=this.\u0275fac=function(n){return new(n||t)(y(Ei),y(bt),y(ri))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-log-panel"]],decls:17,vars:3,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","A record of the events that lead you to immortality will surely be of interest to those who sing your legend in the ages to come. You can filter out the events that are less interesting to you in the present.",1,"panelHelp"],[1,"log"],["aria-label","Filter Log","aria-hidden","false","matTooltip","Manage Log Filters",1,"iconButton","optionsIcon",3,"click"],[1,"headerNote"],[1,"logBoxContainer"],[1,"logBox"],[1,"logEntryDiv",3,"ngClass"],[1,"panelResizeHandle"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," feed "),h(),f(3," Log "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"h3")(8,"mat-icon",3),D("click",function(){return r.logFilterClicked()}),f(9," filter_alt "),h(),u(10,"span",4),f(11,"Newest messages appear at the top."),h()(),u(12,"div",5)(13,"div",6),We(14,wee,3,3,"div",7,_t),h()()(),G(16,"div",8)),2&n&&(P("ngClass",De(1,_ee,!r.gameStateService.lockPanels)),g(14),Ke(r.logService.currentLog))},dependencies:[Zt,on,oi,wt],styles:[".log[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBoxContainer[_ngcontent-%COMP%]{overflow:auto}.logBox[_ngcontent-%COMP%]{overflow-anchor:none;display:flex;flex-direction:column;flex-wrap:nowrap}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const kee=(t,i)=>t+""+(null==i||null==i.item?null:i.item.name)+(null==i?null:i.quantity),Dee=t=>({draggableCursor:t}),xee=(t,i)=>({highlighted:t,sortHighlight:i}),Mee=(t,i)=>({popupTextColor:t,popupTextNegativeColor:i}),Tee=(t,i)=>({selectedItem:t,brokenItem:i});function Eee(t,i){1&t&&(u(0,"span"),f(1,"+"),h())}function Iee(t,i){if(1&t){const e=q();u(0,"span",8),D("@popupText.done",function(){return T(e),E(S().animationDoneEvent())}),H(1,Eee,2,0,"span"),f(2),N(3,"bigNumber"),h()}if(2&t){const e=i.$implicit;P("ngClass",er(6,Mee,e>0,e<0))("@popupText",e),g(),I(e>0?1:-1),g(),ke(U(3,4,e))}}function Aee(t,i){if(1&t&&(u(0,"div",9),f(1),N(2,"bigNumber"),h()),2&t){const e=S();g(),V("",U(2,1,e.characterService.characterState.hellMoney)," Hell Money")}}function Pee(t,i){if(1&t&&(u(0,"mat-icon",10),f(1," soup_kitchen "),h()),2&t){const e=S();X("matTooltip",e.hellService.inHell?"You have no food, and no one in hell sells rice.":e.inventoryService.autoBuyFood?"You have no food in your inventory. You will spend money on food each day to avoid starvation.":"You have no food in your inventory and have chosen not to buy food to prevent starvation.")}}function Oee(t,i){if(1&t){const e=q();u(0,"mat-icon",27),D("click",function(){return T(e),E(S(2).sell(1))}),f(1," attach_money "),h()}if(2&t){const e=S(2);Yr("matTooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell.")}}function Ree(t,i){if(1&t){const e=q();u(0,"mat-icon",28),D("click",function(){return T(e),E(S(2).sellStack())}),f(1," paid "),h()}if(2&t){const e=S(2);Yr("matTooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack.")}}function Fee(t,i){if(1&t){const e=q();u(0,"mat-icon",29),D("click",function(){return T(e),E(S(2).sellAll())}),f(1," shopping_basket "),h()}2&t&&Ze("matTooltip","Sell all the ",S(2).inventoryService.selectedItem.item.name," in the whole inventory.")}function Nee(t,i){if(1&t){const e=q();u(0,"mat-icon",30),D("click",function(){return T(e),E(S(2).autoSell())}),f(1," currency_exchange "),h()}}function Lee(t,i){if(1&t){const e=q();u(0,"mat-icon",31),D("click",function(r){return T(e),E(S(2).use(r))}),f(1," auto_awesome "),h()}if(2&t){const e=S(2);Yr("matTooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use them. Shift-click or Ctrl-click this button to use more of them.")}}function Bee(t,i){if(1&t){const e=q();u(0,"mat-icon",32),D("click",function(){return T(e),E(S(2).autoUse())}),f(1," auto_mode "),h()}if(2&t){const e=S(2);Yr("matTooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," You can change this in the options menu later if you change your mind. Ctrl-click items to auto-use.")}}function Hee(t,i){if(1&t){const e=q();u(0,"mat-icon",33),D("click",function(){return T(e),E(S(2).autoBalance())}),f(1," balance "),h()}}function Vee(t,i){if(1&t){const e=q();u(0,"mat-icon",34),D("click",function(){return T(e),E(S(2).equip())}),f(1," shield "),h()}}function Uee(t,i){if(1&t){const e=q();u(0,"mat-icon",35),D("click",function(){return T(e),E(S(2).mergeSpiritGem())}),f(1," diamond "),h()}}function jee(t,i){if(1&t){const e=q();u(0,"mat-icon",36),D("click",function(){return T(e),E(S(2).throwAway())}),f(1," delete "),h()}}function zee(t,i){if(1&t&&(u(0,"span",12),H(1,Oee,2,3,"mat-icon",17)(2,Ree,2,3,"mat-icon",18)(3,Fee,2,2,"mat-icon",19)(4,Nee,2,0,"mat-icon",20)(5,Lee,2,3,"mat-icon",21)(6,Bee,2,3,"mat-icon",22)(7,Hee,2,0,"mat-icon",23)(8,Vee,2,0,"mat-icon",24)(9,Uee,2,0,"mat-icon",25)(10,jee,2,0,"mat-icon",26),h()),2&t){const e=S();g(),I(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?1:-1),g(),I(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?2:-1),g(),I(e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?3:-1),g(),I(e.inventoryService.autoSellUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.instanceOfEquipment(e.inventoryService.selectedItem.item)&&!e.hellService.inHell?4:-1),g(),I(void 0!==e.inventoryService.selectedItem.item.useLabel?5:-1),g(),I(void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked?6:-1),g(),I(void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)&&!e.hellService.inHell?7:-1),g(),I("equipment"===e.inventoryService.selectedItem.item.type?8:-1),g(),I("spiritGem"===e.inventoryService.selectedItem.item.type?9:-1),g(),I(e.isFinite(e.inventoryService.selectedItem.item.value)?10:-1)}}function qee(t,i){if(1&t&&G(0,"img",41),2&t){const e=S(2);hn(e.getStyle(e.inventoryService.selectedItem)),Ze("src","assets/images/items/",null==e.inventoryService.selectedItem||null==e.inventoryService.selectedItem.item?null:e.inventoryService.selectedItem.item.imageFile,".png",ln)}}function $ee(t,i){if(1&t&&(u(0,"div"),H(1,qee,1,4,"img",37),h(),u(2,"div",38)(3,"div",39)(4,"span"),f(5),N(6,"titlecase"),h()(),u(7,"div",40)(8,"span"),f(9),h()()()),2&t){const e=S();g(),I(null!=e.inventoryService.selectedItem&&null!=e.inventoryService.selectedItem.item&&e.inventoryService.selectedItem.item.imageFile?1:-1),g(4),V(" ",U(6,3,null==e.inventoryService.selectedItem||null==e.inventoryService.selectedItem.item?null:e.inventoryService.selectedItem.item.name)," "),g(4),V(" ",null==e.inventoryService.selectedItem||null==e.inventoryService.selectedItem.item?null:e.inventoryService.selectedItem.item.description," ")}}function Gee(t,i){1&t&&(G(0,"div",42),u(1,"div",38)(2,"div",39)(3,"span"),f(4," No item selected "),h()(),u(5,"div",40),G(6,"span"),h()())}function Yee(t,i){if(1&t&&(G(0,"img",48),N(1,"titlecase")),2&t){const e=S().$implicit;hn(S().getStyle(e)),Ze("src","assets/images/items/",null==e||null==e.item?null:e.item.imageFile,".png",ln),X("alt",U(1,5,null==e||null==e.item?null:e.item.name))}}function Wee(t,i){if(1&t&&(f(0),N(1,"titlecase")),2&t){const e=S().$implicit;V(" ",U(1,1,null==e||null==e.item?null:e.item.name)," ")}}function Kee(t,i){if(1&t&&(u(0,"div",47),f(1),h()),2&t){const e=S().$implicit;g(),V("x",null==e?null:e.quantity,"")}}function Zee(t,i){if(1&t){const e=q();u(0,"div")(1,"div",43)(2,"div",44),N(3,"titlecase"),D("mousedown",function(r){const o=T(e).$implicit;return E(S().slotClicked(o,r))})("cdkDragStarted",function(){return T(e),E(S().dragStart())})("cdkDragEnded",function(){return T(e),E(S().dragEnd())})("cdkDragMoved",function(r){return T(e),E(S().dragMoved(r))})("cdkDragReleased",function(r){return T(e),E(S().dragReleased(r))})("dblclick",function(r){const o=T(e).$implicit;return E(S().slotDoubleClicked(o,r))})("contextmenu",function(r){const o=T(e).$implicit;return E(S().slotRightClicked(o,r))}),u(4,"div",45),H(5,Yee,2,7,"img",46)(6,Wee,2,3),h(),H(7,Kee,2,1,"div",47),h()()()}if(2&t){const e=i.$implicit,n=i.$index,r=S();g(),Ze("id","itemIndex",n,""),g(),X("matTooltip",null!=e&&e.item?U(3,9,null==e||null==e.item?null:e.item.name)+". "+(null==e||null==e.item?null:e.item.description):""),P("tabindex",null!=e&&e.item?"0":"-1")("cdkDragData",e)("cdkDragDisabled",!(null!=e&&e.item))("ngClass",er(11,Tee,e&&e===r.inventoryService.selectedItem,e&&void 0!==e&&!r.inventoryService.hasDurability(e))),g(3),I(null!=e&&null!=e.item&&e.item.imageFile?5:6),g(2),I(((null==e?null:e.quantity)||0)>1?7:-1)}}let Xee=(()=>{class t{constructor(e,n,r,o,a){this.inventoryService=e,this.characterService=n,this.hellService=r,this.mainLoopService=o,this.gameStateService=a,this.instanceOfEquipment=Xt,this.popupCounter=0,this.dragPositionX=0,this.dragPositionY=0,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment),this.moneyUpdates=[],this.mainLoopService.longTickSubject.subscribe(()=>{this.popupCounter<1?this.popupCounter++:(this.popupCounter=0,0!==this.characterService.characterState.moneyUpdates&&(this.moneyUpdates.push(this.characterService.characterState.moneyUpdates),this.characterService.characterState.moneyUpdates=0))})}isFinite(e){return Number.isFinite(e)}slotClicked(e,n){if(n.stopPropagation(),n.shiftKey||n.altKey){let r=null;r!==e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else n.ctrlKey||n.metaKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem===e?null:e}slotDoubleClicked(e,n){n.preventDefault(),n.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,n){n.preventDefault(),n.stopPropagation(),this.inventoryService.selectedItem=e,n.ctrlKey||n.metaKey?this.autoSell():n.shiftKey||n.altKey?this.sellStack():this.sell(1)}sortClicked(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey||e.metaKey?this.inventoryService.descendingSort=!this.inventoryService.descendingSort:e.shiftKey||e.altKey?this.inventoryService.autoSort=!this.inventoryService.autoSort:this.inventoryService.sortInventory()}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(e=null){let n=1;e&&(e.shiftKey&&(n*=10),e.ctrlKey&&(n*=100)),this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem,n)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0===this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let n,r;if(e.event instanceof MouseEvent)n=e.event.clientX,r=e.event.clientY;else{if(!(e.event instanceof TouchEvent))return;n=this.dragPositionX,r=this.dragPositionY}let o=-1;for(let c=0;c<this.inventoryService.itemStacks.length;c++)e.source.data===this.inventoryService.itemStacks[c]&&(o=c);if(-1===o)return;const a=this.inventoryService.itemStacks[o];if(!a)return;const s=document.elementsFromPoint(n,r);for(const c of s)if(c.id.startsWith("itemIndex")){const l=parseInt(c.id.substring(9));if(l===o)return;this.mergeOrSwapStacks(o,l),this.inventoryService.selectedItem=null}else if(c.id.startsWith("equipmentSlot")){const d=c.id.substring(13);this.characterService.characterState.equipment[d]?(!Xt(a.item)||a.item.slot===d)&&(this.inventoryService.mergeEquippedSlot(d,a.item,o),this.inventoryService.selectedItem=null):(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}mergeOrSwapStacks(e,n){if(e>=0&&e<this.inventoryService.itemStacks.length){const r=this.inventoryService.itemStacks[e],o=this.inventoryService.itemStacks[n],a=r?.item,s=o?.item;if(a&&s)if(Xt(a)&&Xt(s)){if(a.slot===s.slot)return this.inventoryService.itemStacks[n]=null,this.inventoryService.itemStacks[e]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(s,a,n)}else{if(a.type.includes("Gem")&&Xt(s))return void this.inventoryService.gemifyEquipment(e,s);a.name===s.name?this.inventoryService.mergeItemStacks(r,o,e):(this.inventoryService.itemStacks[n]=r,this.inventoryService.itemStacks[e]=o)}else this.inventoryService.itemStacks[n]=r,this.inventoryService.itemStacks[e]=o}}throwAway(){this.inventoryService.selectedItem&&this.inventoryService.removeItemStack(this.inventoryService.selectedItem)}animationDoneEvent(){for(;this.moneyUpdates.length>0;)this.moneyUpdates.pop()}getMoneyUpdates(){return this.moneyUpdates}getStyle(e){return e&&e.item&&e.item.imageColor?{"border-color":e.item.imageColor,border:"solid 1px"}:{"border-color":"white",border:"solid 1px"}}static#e=this.\u0275fac=function(n){return new(n||t)(y(ie),y(Oe),y(Pe),y(ft),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-inventory-panel"]],decls:33,vars:14,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","The items that you gain during your quest for immortality will appear here. Hover your cursor over an item to learn more about it.",1,"panelHelp"],[1,"inventoryContainer"],[1,"inventoryHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyContainer"],[1,"moneyColumn"],[1,"popupText",3,"ngClass"],["matTooltip","Money accepted as legal tender in hell.",1,"moneyColumn"],[1,"noFood",3,"matTooltip"],["matTooltip","Click to sort your inventory. Shift-click to toggle autosort. Ctrl-click to toggle descending.","aria-label","Sort Inventory","aria-hidden","false",1,"iconButton",3,"click","ngClass"],[1,"inventoryButtons"],[1,"selectedItemBox"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"inventoryGrid"],[1,"panelResizeHandle"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"matTooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"matTooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"matTooltip"],["matTooltip","Automatically sell this kind of item whenever you get one. You can change this in the options menu later if you change your mind. Ctrl-right-click items to autosell.",1,"iconButton"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"matTooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"matTooltip"],["aria-label","Balance","aria-hidden","false","matTooltip","Balance between automatically using and selling this item. You can change this in the options menu later if you change your mind.",1,"iconButton"],["aria-label","Equip","aria-hidden","false","matTooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton"],["aria-label","Merge Gem","aria-hidden","false","matTooltip","Merge 10 of these into a higher grade gem.",1,"iconButton"],["aria-label","Throw Away","aria-hidden","false","matTooltip","Throw this stack of items away.",1,"iconButton"],["aria-label","Sell","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Sell Stack","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Sell All","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["matTooltip","Automatically sell this kind of item whenever you get one. You can change this in the options menu later if you change your mind. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["aria-label","Use","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Auto Use","aria-hidden","false",1,"iconButton",3,"click","matTooltip"],["aria-label","Balance","aria-hidden","false","matTooltip","Balance between automatically using and selling this item. You can change this in the options menu later if you change your mind.",1,"iconButton",3,"click"],["aria-label","Equip","aria-hidden","false","matTooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["aria-label","Merge Gem","aria-hidden","false","matTooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"],["aria-label","Throw Away","aria-hidden","false","matTooltip","Throw this stack of items away.",1,"iconButton",3,"click"],["width","48","height","48",1,"itemImage",3,"src","style"],[1,"selectedItemText"],[1,"selectedItemName"],[1,"selectedItemTextBody"],["width","48","height","48",1,"itemImage",3,"src"],[1,"itemImagePlaceholder"],[3,"id"],["cdkDrag","","matTooltipPosition","left",1,"itemSlot",3,"mousedown","cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","contextmenu","tabindex","cdkDragData","cdkDragDisabled","ngClass","matTooltip"],[1,"itemName","textOverflow"],["width","48","height","48",1,"itemImage",3,"src","style","alt"],[1,"itemQuantity"],["width","48","height","48",1,"itemImage",3,"src","alt"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," shopping_bag "),h(),f(3," Inventory "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"h3",3),G(8,"div",4),u(9,"div",5),f(10,"Money: "),h(),u(11,"div",6)(12,"div",7)(13,"span"),f(14),N(15,"bigNumber"),h(),We(16,Iee,4,9,"span",8,_t),h(),H(18,Aee,3,3,"div",9),h(),u(19,"div"),H(20,Pee,2,1,"mat-icon",10),h(),u(21,"div")(22,"mat-icon",11),D("click",function(a){return r.sortClicked(a)}),f(23," sort "),h(),H(24,zee,11,10,"span",12),h()(),u(25,"div",13),H(26,$ee,10,5)(27,Gee,7,0),h(),u(28,"div",14)(29,"div",15),We(30,Zee,8,14,"div",null,kee),h()(),G(32,"div",16),h()),2&n&&(P("ngClass",De(9,Dee,!r.gameStateService.lockPanels)),g(14),V("",U(15,7,r.characterService.characterState.money)," Taels"),g(2),Ke(r.getMoneyUpdates()),g(2),I(r.characterService.characterState.hellMoney>0?18:-1),g(2),I(r.inventoryService.noFood?20:-1),g(2),P("ngClass",er(11,xee,r.inventoryService.autoSort,r.inventoryService.descendingSort)),g(2),I(r.inventoryService.selectedItem?24:-1),g(2),I(null!=r.inventoryService.selectedItem&&r.inventoryService.selectedItem.item?26:27),g(4),Ke(r.inventoryService.itemStacks))},dependencies:[Zt,hd,Xs,on,oi,wt,Qi,Vt],styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.inventoryHeader[_ngcontent-%COMP%]{margin-bottom:4px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;justify-content:center;gap:3px;overflow-anchor:none}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px;overflow:hidden;position:relative;padding:0}.sortHighlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--textHighlight) 0%,rgba(0,0,0,0) 100%)}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px;white-space:nowrap}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.moneyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.moneyColumn[_ngcontent-%COMP%]{position:relative}.popupTextColor[_ngcontent-%COMP%]{color:var(--popupTextColor)}.popupTextNegativeColor[_ngcontent-%COMP%]{color:red}.popupText[_ngcontent-%COMP%]{position:absolute;transform:translateZ(0);z-index:10000;font-size:x-small}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.selectedItemBox[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:120px;height:120px;max-height:120px;margin-bottom:4px;margin-left:4px;margin-right:4px;border:1px solid var(--panelBorder)}.selectedItemText[_ngcontent-%COMP%]{margin-left:4px;margin-right:2px;font-size:12px;overflow-y:auto}.selectedItemName[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder)}.selectedItemTextBody[_ngcontent-%COMP%]{line-height:14px}.itemImagePlaceholder[_ngcontent-%COMP%]{width:48px;min-width:48px;height:48px;min-height:48px;border:solid 1px white}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"],data:{animation:[js("popupText",[Hn("in",St({position:"fixed"})),Vn(":leave",[Bn(1e3,bI([St({transform:"translate(0%, 0%)"}),St({transform:"translate(0%, -150%)"})]))])])]}})}return t})();function Qee(t,i){if(1&t&&(u(0,"div",2),G(1,"img",3),h()),2&t){const e=S();g(),X("src",e.imageFile,ln)}}let G_=(()=>{class t{constructor(e){this.data=e,this.titleText="",this.bodyText="",this.imageFile="",this.titleText=e.titleText,this.bodyText=e.bodyText,this.imageFile=e.imageFile}static#e=this.\u0275fac=function(n){return new(n||t)(y(Wl))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-text-panel"]],decls:8,vars:3,consts:[[1,"darkMode"],[1,"textDiv"],[1,"imageDiv"],["alt","An activity image goes here","width","160","height","200",3,"src"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"h3"),f(2),h(),G(3,"hr"),u(4,"div",1)(5,"span"),f(6),h()(),H(7,Qee,2,1,"div",2),h()),2&n&&(g(2),ke(r.titleText),g(4),V(" ",r.bodyText," "),g(),I(""!==r.imageFile?7:-1))},styles:[".textDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;white-space:pre-line}.imageDiv[_ngcontent-%COMP%]{text-align:center}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const ete=t=>({draggableCursor:t}),tte=(t,i)=>({projectionOnly:t,lockedActivity:i});function ite(t,i){if(1&t){const e=q();u(0,"span")(1,"button",11),D("click",function(){return T(e),E(S().JoinTheGodsClick())}),f(2,"Join the Gods"),h()()}}function nte(t,i){if(1&t&&(u(0,"span",5),f(1),h()),2&t){const e=S();X("matTooltip",e.activityService.activityHeaderDescription),g(),V("",e.activityService.activityHeader," ")}}function rte(t,i){if(1&t&&(u(0,"span")(1,"div",12),G(2,"span"),h()()),2&t){const e=S();g(),Ge("value",e.Math.floor(e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress))("max",e.Math.floor(e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired)),g(),ti("width",100*e.impossibleTaskService.taskProgress[e.impossibleTaskService.activeTaskIndex].progress/e.impossibleTaskService.tasks[e.impossibleTaskService.activeTaskIndex].progressRequired,"%")}}function ote(t,i){if(1&t&&(u(0,"span")(1,"div",12),G(2,"span"),h()()),2&t){const e=S();g(),Ge("value",e.Math.floor(e.hellService.hells[e.hellService.currentHell].progress()))("max",e.Math.floor(e.hellService.hells[e.hellService.currentHell].progressMax())),g(),ti("width",100*e.hellService.hells[e.hellService.currentHell].progress()/e.hellService.hells[e.hellService.currentHell].progressMax(),"%")}}function ate(t,i){if(1&t){const e=q();u(0,"span")(1,"button",11),D("click",function(){return T(e),E(S().hellBoss())}),f(2),h()()}if(2&t){const e=S();g(2),ke(e.hellService.completedHellBosses.includes(e.hellService.currentHell)?"Beat On The Hell Lord Some More":"Challenge the Hell Lord")}}function ste(t,i){if(1&t){const e=q();u(0,"mat-icon",22),D("click",function(r){T(e);const o=S(2).$implicit;return E(S().scheduleActivity(o,r))})("contextmenu",function(r){T(e);const o=S(2).$implicit;return E(S().rightClick(o,r))}),f(1," event "),h()}if(2&t){const e=S(2).$implicit;X("matTooltip",S().getActivityTooltip(e))}}function cte(t,i){1&t&&(u(0,"mat-icon",19),f(1," model_training "),h())}function lte(t,i){1&t&&(u(0,"mat-icon",20),N(1,"bigNumber"),f(2," attach_money "),h()),2&t&&Ze("matTooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",U(1,2,S(2).$implicit.lastIncome)," taels.")}function dte(t,i){if(1&t){const e=q();u(0,"div",14),D("cdkDragStarted",function(){return T(e),E(S(2).dragStart())})("cdkDragEnded",function(){return T(e),E(S(2).dragEnd())})("cdkDragMoved",function(r){return T(e),E(S(2).dragMoved(r))})("cdkDragReleased",function(r){return T(e),E(S(2).dragReleased(r))})("click",function(){T(e);const r=S().$implicit;return E(S().doActivity(r))}),u(1,"div",15)(2,"span"),f(3),h()(),u(4,"div",16)(5,"span"),H(6,ste,2,1,"mat-icon",17),h(),u(7,"span",18),H(8,cte,2,0,"mat-icon",19)(9,lte,3,4,"mat-icon",20),u(10,"mat-icon",21),D("click",function(r){T(e);const o=S().$implicit;return E(S().showActivity(r,o))}),f(11," help "),h()()()()}if(2&t){const e=S().$implicit,n=S();P("ngClass",er(9,tte,e.projectionOnly,!e.unlocked))("tabindex",0)("cdkDragDisabled",!e.unlocked)("cdkDragData",e.activityType),g(),X("matTooltip",n.getActivityTooltip(e,!0)),g(2),ke(e.name[e.level]),g(3),I(n.mainLoopService.timeUnlocked?6:-1),g(2),I(e.skipApprenticeshipLevel>0&&!n.activityService.completedApprenticeships.includes(e.activityType)?8:-1),g(),I(e.lastIncome&&e.lastIncome>0?9:-1)}}function ute(t,i){if(1&t&&(Lo(0),H(1,dte,12,12,"div",13),Bo()),2&t){const e=i.$implicit;g(),I(e.portal||!e.discovered&&!e.unlocked?-1:1)}}let hte=(()=>{class t{constructor(e,n,r,o,a,s,c,l,d,m,p){this.gameStateService=e,this.activityService=n,this.characterService=r,this.hellService=o,this.inventoryService=a,this.followerService=s,this.impossibleTaskService=c,this.dialog=l,this.bigNumberPipe=d,this.mainLoopService=m,this.logService=p,this.camelToTitle=new ao,this.dragPositionX=0,this.dragPositionY=0,this.Math=Math,this.character=r.characterState}JoinTheGodsClick(){confirm("Are you sure you are ready for this? You will need to leave all your money and most of your followers and possessions behind as you leave this mortal realm.")&&this.dialog.open(G_,{width:"700px",data:{titleText:"Joining the Gods",bodyText:'You take to the skies, soaring far above the human realms. Over the Kunlun mountains, past Mount Tai, and beyond the Jade Mountains, you find the great sea and finally the island where Mount Penglai stands tall, rising up into the clouds. Above the pure white slopes, the mountain is crowned with a golden palace surrounded by an orchard of trees that grow the finest jewels and the most delectable fruits that grant perfect health and eternal youth to whoever eats them. Suddenly you feel a twinge of doubt. Your own peaches never looked so inviting, no matter how hard you worked your land to cultivate them.\n\nYou push down your feelings of inadequacy and press onward toward the gates of the golden palace. You are immortal now, after all. You have earned your place here. As you stride into the large courtyard, you find an assembly of gods there, seated on golden thrones. The eight immortals are there, each holding their artifact of power as they laugh raucously at each other\'s jokes. Nuwa and Fuxi, the great ancestors of humanity, sit idly chatting as the Queen Mother of the West exchanges quiet words with Caishen in his most fine of all silks. In the center of them all, Shangti, the Jade Emperor himself, sits on his elevated throne. As you approach, he claps his hands for silence. You were clearly expected.\n\n"Ah. The young upstart who has caused so much trouble in the mortal realm has finally arrived."\n\nThe other gods greet you with nothing but steely stares. You nod in acknowledgement and take another step toward the thrones. You notice that one of them off to the side is empty. A place for you, perhaps?\n\n"I suppose you feel you deserve a place here with us now, do you?" the Jade Emperor continues. "Fight a few monsters, improve yourself a bit, conquer a few of your fellow mortals, and suddenly you\'ve earned the right to call yourself a god, eh?"\n\nYou nod again, preparing to recount the long journey of cultivation and devotion that led you to this point, when a towering figure to your right cuts you off before you can begin.\n\n"Nonsense!" the ominous voice thunders. "This upstart destroyed one of my best servants and commited uncountable sins for which no price has been paid."\n\n"And what would you suggest be done with this new immortal, Lord Yama?" the Emperor asks. "This one clearly shows the necessary power, and has no shortage of determination. One way or another, sooner or later that empty throne will be filled."\n\n"Let this one come to my domain," Lord Yama declares. "The eighteen hells will show whether they have the character fitting for a throne in the Penglai Palace."\n\nThe other gods look back and forth at each other for a moment. "That seems only fair," One of them says, a short, hairy man with horns growing from his head. "This new immortal still has much to learn, and much to atone for. Why, they don\'t even understand simple concepts like balancing their yin and yang. They may be ready one day for this company, but a few millenia in Yama\'s realm will do them good."\n\nThe other gods murmer and nod agreement. Shangti rises to his feet. "Your words are wise, as always Pan Gu. Let this one be cast down to the eighteen hells. If they can master yin and yang and prove their worth through the trials of Yama\'s realm, we will welcome them as part of our celestial court."\n\nBefore you can say a word of protest, The Jade emperor waves one hand and you find yourself in a vast, bare, circular stone room. The walls are broken by eighteen open gates, each one leading to a different world of pain and suffering.\n\nIt looks like you have a new challenge ahead: Escape this underworld and prove your worth to the gods.'},autoFocus:!1}).afterClosed().subscribe(()=>{this.hellService.inHell=!0,this.characterService.characterState.money=0,this.inventoryService.stashInventory(),this.followerService.hellPurge(),this.activityService.reloadActivities()})}scheduleActivity(e,n){if(n.stopPropagation(),!e.unlocked)return;if(e.projectionOnly)return void(this.activityService.spiritActivity=e.activityType);let r=1;r*=n.shiftKey||n.altKey?10:1,r*=n.ctrlKey||n.metaKey?10:1,n.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}doActivity(e){if(!this.activityService.meetsRequirements(e))return void this.logService.log(C.EVENT,e.name[e.level]+" is unavailable now.");const n=this.activityService.checkResourceUse(e);if(""!==n)return this.characterService.characterState.flashStatus(n),void this.logService.log(C.EVENT,"You don't meet the requirements to do "+e.name[e.level]+" right now.");this.activityService.immediateActivity=e,this.mainLoopService.tick(),this.activityService.immediateActivity=null}rightClick(e,n){n.preventDefault(),n.stopPropagation(),this.activityService.spiritActivity=e.activityType}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let n,r;if(e.event.preventDefault(),e.event.stopPropagation(),e.event instanceof MouseEvent)n=e.event.clientX,r=e.event.clientY;else{if(!(e.event instanceof TouchEvent))return;n=this.dragPositionX,r=this.dragPositionY}const o=document.elementsFromPoint(n,r);let a=this.activityService.activityLoop.length,s=!1,c=!1;for(const l of o)"activityDropDiv"===l.id?s=!0:l.id.startsWith("activityLoopIndex")?a=parseInt(l.id.substring(18)):"spiritActivity"===l.id&&(c=!0);if(s){const l=e.source.data;if(this.activityService.getActivityByType(l)?.projectionOnly&&(c=!0),c)this.activityService.spiritActivity=l;else{const d={activity:l,repeatTimes:1};a>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(d):this.activityService.activityLoop.splice(a,0,d)}}}hellBoss(){this.hellService.fightHellBoss()}getActivityTooltip(e,n=!1){if(e.activityType>=z.Hell||e.activityType===z.EscapeHell)return"";if(e.unlocked){if(n)return"Spend a day doing this activity";{let r="";return this.characterService.characterState.manaUnlocked&&(r="\nRight-click to set this as your spriritual projection activity"),"Add this activity to your schedule\n\nShift- or Ctrl-click to repeat it 10x\nShift-Ctrl-click to repeat it 100x\nAlt-click to add it to the top"+r}}return["This activity is locked until you have the attributes required for it. You will need:\n",...Object.entries(e.requirements[0]).map(r=>r[1]?`${this.camelToTitle.transform(r[0])}: ${this.bigNumberPipe.transform(r[1])}`:void 0)].filter(r=>r).join("\n")}showActivity(e,n){e.stopPropagation();let r=n.description[n.level]+"\n\n"+n.consequenceDescription[n.level];n.projectionOnly&&(r+="\n\nThis activity can only be performed by a spiritual projection of yourself back in the mortal realm.");const o={titleText:n.name[n.level],bodyText:r,imageFile:""};n.imageBaseName&&(o.imageFile="assets/images/activities/"+n.imageBaseName+n.level+".png"),this.dialog.open(G_,{width:"400px",data:o,autoFocus:!1})}static#e=this.\u0275fac=function(n){return new(n||t)(y(bt),y(ct),y(Oe),y(Pe),y(ie),y(Tt),y(Er),y(ri),y(Vt),y(ft),y(Ei))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-activity-panel"]],decls:19,vars:9,consts:[["cdkDragHandle","","draggableCursor","",1,"panelHeader",3,"ngClass"],["matTooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available.",1,"panelHelp"],[1,"activitiesHeader"],[1,"standardHeader"],[1,"customHeader"],[3,"matTooltip"],[1,"activitiesContainer"],[1,"overflow"],["cdkDropList","","cdkDropListSortingDisabled","",1,"activityGrid"],[4,"ngFor","ngForOf"],[1,"panelResizeHandle"],[3,"click"],[1,"progress-bar"],["cdkDrag","",1,"activitySlot",3,"ngClass","tabindex","cdkDragDisabled","cdkDragData"],["cdkDrag","",1,"activitySlot",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","click","ngClass","tabindex","cdkDragDisabled","cdkDragData"],[1,"activityLabel",3,"matTooltip"],[1,"activityButtons"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"matTooltip"],[1,"floatRight"],["matTooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.","aria-label","Requires an apprenticeship","aria-hidden","false"],["aria-label","Earns money","aria-hidden","false",3,"matTooltip"],["matTooltip","What is this activity? Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"],["aria-label","Schedule this activity","aria-hidden","false",1,"iconButton",3,"click","contextmenu","matTooltip"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," self_improvement "),h(),f(3," Activities "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3",2),G(7,"div",3),u(8,"div",4),H(9,ite,3,0,"span")(10,nte,2,2,"span",5)(11,rte,3,4,"span")(12,ote,3,4,"span")(13,ate,3,1,"span"),h()(),u(14,"div",6)(15,"div",7)(16,"div",8),H(17,ute,2,1,"ng-container",9),h()()(),G(18,"div",10)),2&n&&(P("ngClass",De(7,ete,!r.gameStateService.lockPanels)),g(9),I(!r.characterService.characterState.immortal||r.hellService.inHell||r.characterService.characterState.god?-1:9),g(),I(r.hellService.inHell?-1:10),g(),I(r.impossibleTaskService.activeTaskIndex>=0?11:-1),g(),I(r.hellService.inHell&&r.hellService.currentHell>=0&&!r.hellService.completedHellTasks.includes(r.hellService.currentHell)?12:-1),g(),I(r.hellService.inHell&&r.hellService.currentHell>=0&&r.hellService.completedHellTasks.includes(r.hellService.currentHell)?13:-1),g(4),P("ngForOf",r.activityService.activities))},dependencies:[Zt,vl,hd,Xs,on,oi,wt,Vt],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.activitiesHeader[_ngcontent-%COMP%]{display:flex}.activitiesContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:160px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--manaColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const mte=(t,i)=>i.name+""+i.level,pte=t=>({draggableCursor:t}),fte=t=>({lockedActivity:t});function gte(t,i){if(1&t&&(u(0,"span",3),f(1),h()),2&t){const e=S();X("matTooltip",e.activityService.activityHeaderDescription),g(),V("Current Location: ",e.activityService.activityHeader," ")}}function vte(t,i){if(1&t){const e=q();u(0,"div",9),D("click",function(){T(e);const r=S().$implicit;return E(S().doActivity(r))}),u(1,"div",10)(2,"span"),f(3),h()(),u(4,"div",11)(5,"span",12)(6,"mat-icon",13),D("click",function(r){T(e);const o=S().$implicit;return E(S().showActivity(r,o))}),f(7," help "),h()()()()}if(2&t){const e=S().$implicit;P("ngClass",De(3,fte,!e.unlocked))("tabindex",0),g(3),ke(e.name[e.level])}}function bte(t,i){if(1&t&&H(0,vte,8,5,"div",8),2&t){const e=i.$implicit;I(e.portal&&(e.discovered||e.unlocked)?0:-1)}}let yte=(()=>{class t{constructor(e,n,r,o,a,s,c){this.gameStateService=e,this.activityService=n,this.characterService=r,this.hellService=o,this.impossibleTaskService=a,this.dialog=s,this.mainLoopService=c,this.dragPositionX=0,this.dragPositionY=0,this.Math=Math,this.character=r.characterState}doActivity(e){e.consequence[e.level]()}showActivity(e,n){e.stopPropagation();const o={titleText:n.name[n.level],bodyText:n.description[n.level]+"\n\n"+n.consequenceDescription[n.level],imageFile:""};n.imageBaseName&&(o.imageFile="assets/images/activities/"+n.imageBaseName+n.level+".png"),this.dialog.open(G_,{width:"400px",data:o,autoFocus:!1})}static#e=this.\u0275fac=function(n){return new(n||t)(y(bt),y(ct),y(Oe),y(Pe),y(Er),y(ri),y(ft))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-portal-panel"]],decls:14,vars:4,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Take a portal to a different plane of existence.",1,"panelHelp"],[1,"portalsHeader"],[3,"matTooltip"],[1,"portalsContainer"],[1,"overflow"],[1,"activityGrid"],[1,"panelResizeHandle"],[1,"activitySlot",3,"ngClass","tabindex"],[1,"activitySlot",3,"click","ngClass","tabindex"],["matTooltip","Take this portal",1,"activityLabel"],[1,"activityButtons"],[1,"floatRight"],["matTooltip","What is this activity? Click to learn all about it!","aria-label","Help","aria-hidden","false",1,"iconButton",3,"click"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," radio_button_checked "),h(),f(3," Portals "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3",2),H(7,gte,2,2,"span",3),h(),u(8,"div",4)(9,"div",5)(10,"div",6),We(11,bte,1,1,null,null,mte),h()()(),G(13,"div",7)),2&n&&(P("ngClass",De(2,pte,!r.gameStateService.lockPanels)),g(7),I(r.hellService.inHell?7:-1),g(4),Ke(r.activityService.activities))},dependencies:[Zt,on,oi,wt],styles:['td[_ngcontent-%COMP%]{font-size:12px;padding-left:6px;padding-right:2px;position:relative;border-bottom:1px solid var(--tableDividerColor)}td[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;width:1px;background:var(--tableDividerColor);right:0;top:10%;bottom:10%}.portalsHeader[_ngcontent-%COMP%]{display:flex}.portalsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:4px;overflow:auto}.activityGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;gap:3px;overflow-anchor:none}.activitySlot[_ngcontent-%COMP%]{position:relative;border-radius:4px;border:1px solid var(--panelBorder);padding:2px;border-spacing:0px;cursor:pointer;background-color:var(--itemSlotColor);color:var(--bodyText);box-sizing:border-box;width:160px;height:75px;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--manaColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}.progress-bar[_ngcontent-%COMP%]{height:24px;vertical-align:-.7em;font-size:11px;width:100px}.activityLabel[_ngcontent-%COMP%]{font-size:120%;flex-grow:1}.activityButtons[_ngcontent-%COMP%]{flex-grow:0}.floatRight[_ngcontent-%COMP%]{float:right}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const _te=t=>({draggableCursor:t}),Js=t=>({highlightSlot:t}),FO=t=>({highlightSpan:t});function Ste(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.head?null:e.character.equipment.head.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.head?null:e.character.equipment.head.name))}}function wte(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.rightHand?null:e.character.equipment.rightHand.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.rightHand?null:e.character.equipment.rightHand.name))}}function Cte(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.body?null:e.character.equipment.body.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.body?null:e.character.equipment.body.name))}}function kte(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.leftHand?null:e.character.equipment.leftHand.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.leftHand?null:e.character.equipment.leftHand.name))}}function Dte(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.legs?null:e.character.equipment.legs.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.legs?null:e.character.equipment.legs.name))}}function xte(t,i){if(1&t&&(u(0,"div"),G(1,"img",13),N(2,"titlecase"),h()),2&t){const e=S();g(),Ze("src","assets/images/items/",null==e.character.equipment.feet?null:e.character.equipment.feet.imageFile,".png",ln),X("alt",U(2,3,null==e.character.equipment.feet?null:e.character.equipment.feet.name))}}let Mte=(()=>{class t{constructor(e,n,r){this.characterService=e,this.inventoryService=n,this.gameStateService=r,this.dragPositionX=0,this.dragPositionY=0,this.character=e.characterState}slotDoubleClicked(e,n){n.preventDefault(),n.stopPropagation();const r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){const e=this.inventoryService.selectedItem?.item;return e&&Xt(e)?e?.slot:null}dragStart(){this.gameStateService.dragging=!0}dragEnd(){this.gameStateService.dragging=!1}dragMoved(e){this.dragPositionX=e.pointerPosition.x,this.dragPositionY=e.pointerPosition.y}dragReleased(e){let n,r;if(e.event instanceof MouseEvent)n=e.event.clientX,r=e.event.clientY;else{if(!(e.event instanceof TouchEvent))return;n=this.dragPositionX,r=this.dragPositionY}const o=e.source.data;if(!o)return;let a=-1;const s=document.elementsFromPoint(n,r);for(const c of s)c.id.startsWith("itemIndex")&&(a=parseInt(c.id.substring(9)));if(-1!==a)for(const c of s)if(c.id.startsWith("itemIndex")){const l=parseInt(c.id.substring(9));if(l>=0&&l<this.inventoryService.itemStacks.length){const d=this.inventoryService.itemStacks[l];d?Xt(d.item)&&d.item.slot===o.slot&&(this.inventoryService.itemStacks[l]=null,this.inventoryService.mergeEquipment(d.item,o,l),this.characterService.characterState.equipment[d.item.slot]=null):(this.inventoryService.addItem(o,1,l),this.characterService.characterState.equipment[o.slot]=null)}}}getEffectClass(e){let n;return"leftHand"===e||"rightHand"===e?n=this.character.equipment[e]?.weaponStats?.effect:("head"===e||"body"===e||"legs"===e||"feet"===e)&&(n=this.character.equipment[e]?.armorStats?.effect),n?"effect"+n:""}static#e=this.\u0275fac=function(n){return new(n||t)(y(Oe),y(ie),y(bt))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-equipment-panel"]],decls:62,vars:100,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","You will need to arm yourself with weapons and protective gear if you want to fight through the many battles that await you on your journey to immortality. Legends even speak of extraordinary cultivators who can combine items of the same type to produce even stronger equipment. Watch out, each piece of gear will take damage with use and you will need to constantly improve it to keep it strong.",1,"panelHelp"],["cdkDropList","","cdkDropListSortingDisabled","",1,"equipmentContainer"],["cdkDrag","","tabindex","0","id","equipmentSlothead",1,"itemSlot","textOverflow",2,"grid-area","head",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotrightHand",1,"itemSlot","textOverflow",2,"grid-area","right",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotbody",1,"itemSlot","textOverflow",2,"grid-area","body",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotleftHand",1,"itemSlot","textOverflow",2,"grid-area","left",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],[2,"grid-area","stats"],["tabindex","0","matTooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tabindex","0",3,"ngClass","matTooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotlegs",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],["cdkDrag","","tabindex","0","id","equipmentSlotfeet",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved","cdkDragReleased","dblclick","ngClass","cdkDragData","cdkDragDisabled","matTooltip"],[1,"panelResizeHandle"],["width","48","height","48",1,"itemImage",3,"src","alt"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," colorize "),h(),f(3," Equipment "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"div",2)(7,"div",3),N(8,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("head",a)}),H(9,Ste,3,5,"div"),u(10,"div"),f(11),N(12,"titlecase"),h()(),u(13,"div",4),N(14,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("rightHand",a)}),H(15,wte,3,5,"div"),u(16,"div"),f(17),N(18,"titlecase"),h()(),u(19,"div",5),N(20,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("body",a)}),H(21,Cte,3,5,"div"),u(22,"div"),f(23),N(24,"titlecase"),h()(),u(25,"div",6),N(26,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("leftHand",a)}),H(27,kte,3,5,"div"),u(28,"div"),f(29),N(30,"titlecase"),h()(),u(31,"div",7)(32,"span",8)(33,"mat-icon"),f(34,"manage_accounts"),h(),f(35),N(36,"percent"),h(),G(37,"br"),u(38,"span",9)(39,"mat-icon"),f(40,"flare"),h(),f(41),N(42,"bigNumber"),h(),G(43,"br"),u(44,"span",9)(45,"mat-icon"),f(46,"shield"),h(),f(47),N(48,"bigNumber"),h()(),u(49,"div",10),N(50,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("legs",a)}),H(51,Dte,3,5,"div"),u(52,"div"),f(53),N(54,"titlecase"),h()(),u(55,"div",11),N(56,"titlecase"),D("cdkDragStarted",function(){return r.dragStart()})("cdkDragEnded",function(){return r.dragEnd()})("cdkDragMoved",function(a){return r.dragMoved(a)})("cdkDragReleased",function(a){return r.dragReleased(a)})("dblclick",function(a){return r.slotDoubleClicked("feet",a)}),H(57,xte,3,5,"div"),u(58,"div"),f(59),N(60,"titlecase"),h()()(),G(61,"div",12)),2&n&&(P("ngClass",De(82,_te,!r.gameStateService.lockPanels)),g(7),X("matTooltip",null!==r.character.equipment.head?U(8,52,r.character.equipment.head.name)+". "+r.character.equipment.head.description:""),P("ngClass",De(84,Js,"head"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("head"))("cdkDragData",r.character.equipment.head)("cdkDragDisabled",!r.character.equipment.head),g(2),I(null!=r.character.equipment.head&&r.character.equipment.head.imageFile?9:-1),g(2),V(" ",U(12,54,null==r.character.equipment.head?null:r.character.equipment.head.name)," "),g(2),X("matTooltip",null!==r.character.equipment.rightHand?U(14,56,r.character.equipment.rightHand.name)+". "+r.character.equipment.rightHand.description:""),P("ngClass",De(86,Js,"rightHand"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("rightHand"))("cdkDragData",r.character.equipment.rightHand)("cdkDragDisabled",!r.character.equipment.rightHand),g(2),I(null!=r.character.equipment.rightHand&&r.character.equipment.rightHand.imageFile?15:-1),g(2),V(" ",U(18,58,null==r.character.equipment.rightHand?null:r.character.equipment.rightHand.name)," "),g(2),X("matTooltip",null!==r.character.equipment.body?U(20,60,r.character.equipment.body.name)+". "+r.character.equipment.body.description:""),P("ngClass",De(88,Js,"body"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("body"))("cdkDragData",r.character.equipment.body)("cdkDragDisabled",!r.character.equipment.body),g(2),I(null!=r.character.equipment.body&&r.character.equipment.body.imageFile?21:-1),g(2),V(" ",U(24,62,null==r.character.equipment.body?null:r.character.equipment.body.name)," "),g(2),X("matTooltip",null!==r.character.equipment.leftHand?U(26,64,r.character.equipment.leftHand.name)+". "+r.character.equipment.leftHand.description:""),P("ngClass",De(90,Js,"leftHand"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("leftHand"))("cdkDragData",r.character.equipment.leftHand)("cdkDragDisabled",!r.character.equipment.leftHand),g(2),I(null!=r.character.equipment.leftHand&&r.character.equipment.leftHand.imageFile?27:-1),g(2),V(" ",U(30,66,null==r.character.equipment.leftHand?null:r.character.equipment.leftHand.name)," "),g(6),ke(U(36,68,r.character.accuracy)),g(3),Ze("matTooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons.",r.character.righteousWrathUnlocked?" Doubled by the power of your righteous wrath.":"",""),P("ngClass",De(92,FO,r.character.righteousWrathUnlocked)),g(3),ke(U(42,70,r.character.attackPower)),g(3),Ze("matTooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor.",r.character.righteousWrathUnlocked?" Doubled by the power of your righteous wrath.":"",""),P("ngClass",De(94,FO,r.character.righteousWrathUnlocked)),g(3),ke(U(48,72,r.character.defense)),g(2),X("matTooltip",null!==r.character.equipment.legs?U(50,74,r.character.equipment.legs.name)+". "+r.character.equipment.legs.description:""),P("ngClass",De(96,Js,"legs"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("legs"))("cdkDragData",r.character.equipment.legs)("cdkDragDisabled",!r.character.equipment.legs),g(2),I(null!=r.character.equipment.legs&&r.character.equipment.legs.imageFile?51:-1),g(2),V(" ",U(54,76,null==r.character.equipment.legs?null:r.character.equipment.legs.name)," "),g(2),X("matTooltip",null!==r.character.equipment.feet?U(56,78,r.character.equipment.feet.name)+". "+r.character.equipment.feet.description:""),P("ngClass",De(98,Js,"feet"===r.getSelectedItemSlot()))("ngClass",r.getEffectClass("feet"))("cdkDragData",r.character.equipment.feet)("cdkDragDisabled",!r.character.equipment.feet),g(2),I(null!=r.character.equipment.feet&&r.character.equipment.feet.imageFile?57:-1),g(2),V(" ",U(60,80,null==r.character.equipment.feet?null:r.character.equipment.feet.name)," "))},dependencies:[Zt,hd,Xs,on,oi,wt,Th,Qi,Vt],styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs ." "stats feet .";grid-template-columns:1fr 1fr 1fr;gap:2px}.itemSlot[_ngcontent-%COMP%]{width:125px;height:65px;line-height:12px;display:flex;flex-direction:row}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.highlightSpan[_ngcontent-%COMP%]{background-color:var(--manaColor)}.effectlife[_ngcontent-%COMP%]{color:var(--lifeEffectColor)}.effectcorruption[_ngcontent-%COMP%]{color:var(--corruptionEffectColor)}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();function Tte(t,i){if(1&t){const e=q();u(0,"div",3)(1,"input",11),D("change",function(){return T(e),E(S().manaAttackToggle())}),h(),u(2,"label",12)(3,"span"),f(4,"Activate Mana Strike"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enableManaAttack)}}function Ete(t,i){if(1&t){const e=q();u(0,"div",4)(1,"input",13),D("change",function(){return T(e),E(S().pyroclasmToggle())}),h(),u(2,"label",14)(3,"span"),f(4,"Activate Pyroclasm"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enablePyroclasm)}}function Ite(t,i){if(1&t){const e=q();u(0,"div",5)(1,"input",15),D("change",function(){return T(e),E(S().metalFistToggle())}),h(),u(2,"label",16)(3,"span"),f(4,"Activate Metal Fist"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enableMetalFist)}}function Ate(t,i){if(1&t){const e=q();u(0,"div",8)(1,"input",17),D("change",function(){return T(e),E(S().manaShieldToggle())}),h(),u(2,"label",18)(3,"span"),f(4,"Activate Mana Shield"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enableManaShield)}}function Pte(t,i){if(1&t){const e=q();u(0,"div",9)(1,"input",19),D("change",function(){return T(e),E(S().fireShieldToggle())}),h(),u(2,"label",20)(3,"span"),f(4,"Activate Fire Shield"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enableFireShield)}}function Ote(t,i){if(1&t){const e=q();u(0,"div",10)(1,"input",21),D("change",function(){return T(e),E(S().iceShieldToggle())}),h(),u(2,"label",22)(3,"span"),f(4,"Activate Ice Shield"),h()()()}if(2&t){const e=S();g(),P("checked",e.battleService.enableIceShield)}}let Rte=(()=>{class t{constructor(e,n){this.battleService=e,this.characterService=n}noAttackToggle(){this.battleService.enableManaAttack=!1,this.battleService.enablePyroclasm=!1,this.battleService.enableMetalFist=!1}manaAttackToggle(){this.battleService.enablePyroclasm=!1,this.battleService.enableMetalFist=!1,this.battleService.manaAttackUnlocked&&(this.battleService.enableManaAttack=!0)}pyroclasmToggle(){this.battleService.enableManaAttack=!1,this.battleService.enableMetalFist=!1,this.battleService.pyroclasmUnlocked&&(this.battleService.enablePyroclasm=!0)}metalFistToggle(){this.battleService.enableManaAttack=!1,this.battleService.enablePyroclasm=!1,this.battleService.metalFistUnlocked&&(this.battleService.enableMetalFist=!0)}noShieldToggle(){this.battleService.enableManaShield=!1,this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1}manaShieldToggle(){this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1,this.battleService.manaShieldUnlocked&&(this.battleService.enableManaShield=!0)}fireShieldToggle(){this.battleService.enableManaAttack=!1,this.battleService.enableIceShield=!1,this.battleService.fireShieldUnlocked&&(this.battleService.enableFireShield=!0)}iceShieldToggle(){this.battleService.enableManaAttack=!1,this.battleService.enableFireShield=!1,this.battleService.iceShieldUnlocked&&(this.battleService.enableIceShield=!0)}static#e=this.\u0275fac=function(n){return new(n||t)(y(hi),y(Oe))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-battle-options-panel"]],decls:21,vars:8,consts:[[1,"darkMode"],["type","radio","name","attack","id","attackNone",3,"change","checked"],["for","attackNone"],["matTooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana."],["matTooltip","Focus your mana and blast your enemies with heat so intense their children's children will get burned. Each use of this ability requires 10,000 mana."],["matTooltip","Focus your mana and summon a massive metal fist to crush your enemy. Each use of this ability requires 10,000 mana."],["type","radio","name","shield","id","shieldNone",3,"change","checked"],["for","shieldNone"],["matTooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you."],["matTooltip","Bring forth your inner fire to form a blistering barrier around you. Each use of this ability requires 10,000 mana."],["matTooltip","Bring forth the ice inside you to form a freezing barrier around you that will stop your enemy's next attack. Each use of this ability requires 10,000 mana."],["type","radio","name","attack","id","manaStrike",3,"change","checked"],["for","manaStrike"],["type","radio","name","attack","id","pyroclasm",3,"change","checked"],["for","pyroclasm"],["type","radio","name","attack","id","metalFist",3,"change","checked"],["for","metalFist"],["type","radio","name","shield","id","manaShield",3,"change","checked"],["for","manaShield"],["type","radio","name","shield","id","fireShield",3,"change","checked"],["for","fireShield"],["type","radio","name","shield","id","iceShield",3,"change","checked"],["for","iceShield"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"span"),f(2,"Battle Options"),h(),G(3,"hr"),u(4,"div")(5,"input",1),D("change",function(){return r.noAttackToggle()}),h(),u(6,"label",2)(7,"span"),f(8,"No Special Attack"),h()()(),H(9,Tte,5,1,"div",3)(10,Ete,5,1,"div",4)(11,Ite,5,1,"div",5),G(12,"hr"),u(13,"div")(14,"input",6),D("change",function(){return r.noShieldToggle()}),h(),u(15,"label",7)(16,"span"),f(17,"No Shield"),h()()(),H(18,Ate,5,1,"div",8)(19,Pte,5,1,"div",9)(20,Ote,5,1,"div",10),h()),2&n&&(g(5),P("checked",!r.battleService.enableManaAttack&&!r.battleService.enablePyroclasm&&!r.battleService.enableMetalFist),g(4),I(r.battleService.manaAttackUnlocked?9:-1),g(),I(r.battleService.pyroclasmUnlocked?10:-1),g(),I(r.battleService.metalFistUnlocked?11:-1),g(3),P("checked",!r.battleService.enableManaShield&&!r.battleService.enableFireShield&&!r.battleService.enableIceShield),g(4),I(r.battleService.manaShieldUnlocked?18:-1),g(),I(r.battleService.fireShieldUnlocked?19:-1),g(),I(r.battleService.iceShieldUnlocked?20:-1))},dependencies:[wt],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const Fte=(t,i)=>i.enemy.name+i.quantity,Nte=t=>({draggableCursor:t});function Lte(t,i){if(1&t){const e=q();u(0,"span")(1,"mat-icon",8),D("click",function(){return T(e),E(S().battleOptions())}),f(2," settings "),h()()}}function Bte(t,i){if(1&t){const e=q();u(0,"button",9),D("click",function(){return T(e),E(S().battleService.trouble())}),f(1,"Look for Trouble"),h()}}function Hte(t,i){if(1&t){const e=q();u(0,"input",10),D("change",function(r){return T(e),E(S().autoTroubleChange(r))}),h(),u(1,"label",11),f(2,"Look for Trouble"),h()}2&t&&P("checked",S().battleService.autoTroubleEnabled)}function Vte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_forward"),h())}function Ute(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_forward"),h())}function jte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_forward"),h())}function zte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_forward"),h())}function qte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_forward"),h())}function $te(t,i){1&t&&(u(0,"mat-icon",13),f(1,"crisis_alert"),h())}function Gte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_backward"),h())}function Yte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_backward"),h())}function Wte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_backward"),h())}function Kte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_backward"),h())}function Zte(t,i){1&t&&(u(0,"mat-icon",13),f(1,"arrow_backward"),h())}function Xte(t,i){if(1&t&&(u(0,"table",6)(1,"tr")(2,"td",12),G(3,"mat-icon",13),h(),u(4,"td",12),H(5,Vte,2,0,"mat-icon",13),h(),u(6,"td",12),H(7,Ute,2,0,"mat-icon",13),h(),u(8,"td",12),H(9,jte,2,0,"mat-icon",13),h(),u(10,"td",12),H(11,zte,2,0,"mat-icon",13),h(),u(12,"td",12),H(13,qte,2,0,"mat-icon",13),h(),u(14,"td",12),H(15,$te,2,0,"mat-icon",13),h(),u(16,"td",12),H(17,Gte,2,0,"mat-icon",13),h(),u(18,"td",12),H(19,Yte,2,0,"mat-icon",13),h(),u(20,"td",12),H(21,Wte,2,0,"mat-icon",13),h(),u(22,"td",12),H(23,Kte,2,0,"mat-icon",13),h(),u(24,"td",12),H(25,Zte,2,0,"mat-icon",13),h()()()),2&t){const e=S();g(5),I(4===e.battleService.tickCounter||5===e.battleService.tickCounter?5:-1),g(2),I(3===e.battleService.tickCounter||6===e.battleService.tickCounter?7:-1),g(2),I(2===e.battleService.tickCounter||7===e.battleService.tickCounter?9:-1),g(2),I(1===e.battleService.tickCounter||8===e.battleService.tickCounter?11:-1),g(2),I(0===e.battleService.tickCounter||9===e.battleService.tickCounter?13:-1),g(2),I(10===e.battleService.tickCounter?15:-1),g(2),I(0===e.battleService.tickCounter||9===e.battleService.tickCounter?17:-1),g(2),I(1===e.battleService.tickCounter||8===e.battleService.tickCounter?19:-1),g(2),I(2===e.battleService.tickCounter||7===e.battleService.tickCounter?21:-1),g(2),I(3===e.battleService.tickCounter||6===e.battleService.tickCounter?23:-1),g(2),I(4===e.battleService.tickCounter||5===e.battleService.tickCounter?25:-1)}}function Qte(t,i){if(1&t){const e=q();u(0,"button",9),D("click",function(){T(e);const r=S().$implicit;return E(S().battleService.fight(r))}),f(1,"Fight"),h()}}function Jte(t,i){1&t&&(u(0,"span"),f(1,"Fighting"),h())}function eie(t,i){if(1&t&&(u(0,"tr")(1,"td"),H(2,Qte,2,0,"button")(3,Jte,2,0,"span"),h(),u(4,"td",14),f(5),N(6,"titlecase"),h(),u(7,"td",15)(8,"div",16),N(9,"bigNumber"),N(10,"bigNumber"),G(11,"span"),h()(),u(12,"td",17)(13,"mat-icon"),f(14,"manage_accounts"),h(),f(15),N(16,"percent"),h(),u(17,"td",18)(18,"mat-icon"),f(19,"flare"),h(),f(20),N(21,"bigNumber"),h(),u(22,"td",19)(23,"mat-icon"),f(24,"shield"),h(),f(25),N(26,"bigNumber"),h()()),2&t){const e=i.$implicit,n=S();g(2),I(n.battleService.currentEnemy!==e?2:3),g(3),mn("",U(6,10,e.enemy.name)," ",e.quantity>1?"(x"+e.quantity+")":"",""),g(3),Ge("value",U(9,12,n.Math.floor(e.enemy.health)))("max",U(10,14,n.Math.floor(e.enemy.maxHealth))),g(3),ti("width",100*n.Math.floor(e.enemy.health)/n.Math.floor(e.enemy.maxHealth),"%"),g(4),ke(U(16,16,e.enemy.accuracy)),g(5),ke(U(21,18,e.enemy.attack)),g(5),ke(U(26,20,e.enemy.defense))}}function tie(t,i){if(1&t&&(u(0,"div"),G(1,"img",20),h()),2&t){const e=S();g(),Ze("src","assets/images/monsters/",null==e.battleService.currentEnemy||null==e.battleService.currentEnemy.enemy?null:e.battleService.currentEnemy.enemy.baseName,".png",ln)}}let iie=(()=>{class t{constructor(e,n,r,o){this.battleService=e,this.characterService=n,this.gameStateService=r,this.dialog=o,this.Math=Math}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}battleOptions(){this.dialog.open(Rte,{width:"700px",data:{someField:"foo"},autoFocus:!1})}static#e=this.\u0275fac=function(n){return new(n||t)(y(hi),y(Oe),y(bt),y(ri))};static#t=this.\u0275cmp=ve({type:t,selectors:[["app-battle-panel"]],decls:20,vars:7,consts:[["cdkDragHandle","",1,"panelHeader",3,"ngClass"],["matTooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal.",1,"panelHelp"],["matTooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[1,"battleContainer"],[1,"columnDiv"],[1,"actionDiv"],[1,"clashTable"],[1,"panelResizeHandle"],["matTooltip","Options","aria-label","Battle Settings","aria-hidden","false",1,"iconButton",3,"click"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"change","checked"],["for","autoTroubleCheckbox"],[1,"fixedCell"],[1,"clashIcon"],[1,"enemyName"],[1,"health"],[1,"progress-bar"],["matTooltip","Accuracy"],["matTooltip","Attack Power"],["matTooltip","Defense"],["alt","A Monster!","width","80","height","100",1,"monsterImage",3,"src"]],template:function(n,r){1&n&&(u(0,"div",0)(1,"mat-icon"),f(2," fort "),h(),f(3," Battles "),u(4,"mat-icon",1),f(5," help "),h()(),u(6,"h3"),H(7,Lte,3,0,"span"),u(8,"span",2),H(9,Bte,2,0,"button")(10,Hte,3,1),h()(),u(11,"div",3)(12,"div",4)(13,"div",5),H(14,Xte,26,11,"table",6),u(15,"table"),We(16,eie,27,22,"tr",null,Fte),h()(),H(18,tie,2,2,"div"),h()(),G(19,"div",7)),2&n&&(P("ngClass",De(5,Nte,!r.gameStateService.lockPanels)),g(7),I(r.battleService.manaShieldUnlocked||r.battleService.manaAttackUnlocked||r.battleService.pyroclasmUnlocked||r.battleService.fireShieldUnlocked?7:-1),g(2),I(r.battleService.autoTroubleUnlocked?10:9),g(5),I(r.battleService.enemies.length>0?14:-1),g(2),Ke(r.battleService.enemies),g(2),I(null!=r.battleService.currentEnemy&&null!=r.battleService.currentEnemy.enemy&&r.battleService.currentEnemy.enemy.baseName?18:-1))},dependencies:[Zt,on,oi,wt,Th,Qi,Vt],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{min-height:90px;min-width:600px}.columnDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row}.actionDiv[_ngcontent-%COMP%]{flex:1}.monsterImage[_ngcontent-%COMP%]{border:3px solid var(--panelBorder);margin-right:4px}.enemyName[_ngcontent-%COMP%]{min-width:200px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.discordLink[_ngcontent-%COMP%]{font-size:large;margin-top:4px;margin-left:8px}.mainContainer[_ngcontent-%COMP%]{background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:3000px;height:2000px;min-width:3000px;min-height:2000px;max-width:3000px;max-height:2000px;flex:auto;overflow:hidden}.panelContainer[_ngcontent-%COMP%]{min-height:0}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px;display:flex;flex-direction:column;position:absolute;top:0;left:0;overflow:hidden}.panelHeader[_ngcontent-%COMP%]{background-color:var(--panelHeader);border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0}.panelHelp[_ngcontent-%COMP%]{float:right}.panelResizeHandle[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;cursor:se-resize;width:0;height:0;border-left:10px solid transparent;border-bottom:10px solid var(--panelBorder)}.dragHandle[_ngcontent-%COMP%]{position:relative;top:10px;right:10px;color:var(--bodyText);width:16px;height:16px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]})}return t})();const nie=[AI,OP,tP,sP];let rie=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=ut({type:t,bootstrap:[NP]});static#i=this.\u0275inj=dt({providers:[Qi,Vt,VI,{provide:rP,useValue:{disableTooltipInteractivity:!0,showDelay:500}}],imports:[GM,P$,LQ,Y9,nb,aJ,nie,AI,OP,tP,sP]})}return t})();bs(NP,[Zt,_M,Xs,oi,wt,vJ,kJ,IJ,RJ,VJ,gee,Cee,Xee,hte,yte,Mte,iie],[]),bs(jI,[Zt,oi,wt],[Qi,Vt]),bs(cP,[],[ks,Vt]),bs(FP,[],[ks,Mh,ao,Vt]),bs(My,[],[Vt]),sq().bootstrapModule(rie).catch(t=>console.error(t))},330:ec=>{ec.exports={rE:"1.2.5"}}},ec=>{ec(ec.s=322)}]);